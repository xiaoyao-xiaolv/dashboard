!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WynVisualClass=e():t.WynVisualClass=e()}(window,function(){return i={},r.m=n=[function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),n(1);var a,y=n(2),r=(a=WynVisual,r(o,a),o.prototype.configGantt=function(){y.gantt.config.readonly=!0,y.gantt.config.date_format="%Y-%m-%d %H:%i",y.gantt.i18n.setLocale("cn"),y.gantt.config.scale_unit="week",y.gantt.config.date_scale="%Y年",y.gantt.config.scale_unit="month",y.gantt.config.scale_height=50,y.gantt.config.min_column_width=this.properties.dateColumnWidth,y.gantt.config.select_task=!1,y.gantt.config.subscales=[{unit:"day",step:1,date:"%m-%d"}],y.gantt.config.columns=[{name:"text",label:this.properties.label,tree:!0,width:this.properties.projectWidth}],y.gantt.config.open_tree_initially=this.properties.showDetail},o.prototype.update=function(t){var o=this;this.properties=t.properties,this.configGantt(),this.className&&this.container.classList.remove(this.className),this.container.classList.add(this.properties.style),this.className=this.properties.style,y.gantt.init(this.container.id),this.isMock=!0;var n=[],s=[],i=[{id:1,text:"项目1",color:"#FF8C00"},{parent:1,text:"需求调研",start_date:"2019-07-25 00:00",end_date:"2019-07-31 00:00",progress:.6,state:"finished",color:"#FFD700"},{parent:1,text:"产品设计",start_date:"2019-07-28 00:00",end_date:"2019-07-30 00:00",progress:.6,state:"unfinished",color:"#FF8C00"},{parent:1,text:"开发",start_date:"2019-08-01 15:00:00",end_date:"2019-08-05 00: 00",state:"canceled",color:"#FF0000"},{id:2,text:"项目2",color:"#FF8C00"},{parent:2,text:"需求调研",start_date:"2019-07-20 00:00",end_date:"2019-07-25 00:00",state:"finished",color:"#FFD700"},{parent:2,text:"产品设计",start_date:"2019-07-25 00:00",end_date:"2019-07-30 00:00",state:"unfinished",color:"#FF8C00"}];if(t.dataViews[0]){var e,r=t.dataViews[0].plain.profile,l={};for(e in r)r[e].values.length&&(l[e]=r[e].values[0].display);l.taskName||(l.taskName=l.projectName,delete l.projectName);var a=t.dataViews[0].plain.data,c=this.properties.taskColors,s=l.status&&t.dataViews[0].plain.sort[l.status].order,d={},u={};a.forEach(function(t){var e=/\d{4}\-\d{2}\-\d{2}T\d{2}\:\d{2}\:\d{2}/;e.test(t[l.startTime].toString())&&e.test(t[l.endTime].toString())?(o.isMock=!1,e=t[l.projectName],d[e]?d[e].push(t):d[e]=[t]):n=i});var h,_=Object.keys(d),f=function(r){var t,a=_.indexOf(r)+1;u[r]=[],d[r].forEach(function(e){function t(t){return e[l[t]].toString().replace(/T/g," ")}var n,i={text:e[l.taskName],start_date:t("startTime"),end_date:t("endTime"),color:o.properties.projectColor};l.projectName&&(i.parent=a),l.progress&&(i.progress=e[l.progress]),s&&(i.status=e[l.status],i.color=(n=e[l.status],n=s.indexOf(n)%c.length,c[n])),u[r].push(i)}),l.projectName&&(t={id:a,text:r,color:g.properties.projectColor},u[r].unshift(t))},g=this;for(h in d)f(h);for(var p=0,m=Object.values(u);p<m.length;p++)var v=m[p],n=n.concat(v)}else n=i;this.renderData(n)},o.prototype.renderData=function(t){this.container.style.opacity=this.isMock?"0.5":"1",y.gantt.clearAll(),y.gantt.parse({data:t})},o.prototype.onDestroy=function(){},o.prototype.onResize=function(){},o.prototype.getInspectorHiddenState=function(t){if(t.dataViews[0]&&!t.dataViews[0].plain.profile.status.values.length)return["taskColors"]},o.prototype.getActionBarHiddenState=function(t){return null},o.prototype.getColorAssignmentConfigMapping=function(t){return null},o);function o(t,e,n){n=a.call(this,t,e,n)||this;return n.container=t,n}e.default=r},function(t,e,n){},function(t,e,n){
/*
@license

dhtmlxGantt v.7.0.11 Standard

This version of dhtmlxGantt is distributed under GPL 2.0 license and can be legally used in GPL projects.

To use dhtmlxGantt in non-GPL projects (and get Pro version of the product), please obtain Commercial/Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxGantt/#licensing or contact us at sales@dhtmlx.com

(c) XB Software Ltd.

*/
window,t.exports=function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/codebase/",r(r.s=245)}([function(t,e,n){var i,r=n(3);t.exports={copy:function t(e){var n,i;if(e&&"object"==typeof e)switch(!0){case r.isDate(e):i=new Date(e);break;case r.isArray(e):for(i=new Array(e.length),n=0;n<e.length;n++)i[n]=t(e[n]);break;case r.isStringObject(e):i=new String(e);break;case r.isNumberObject(e):i=new Number(e);break;case r.isBooleanObject(e):i=new Boolean(e);break;default:for(n in i=e.constructor.toString()!=={}.constructor.toString()?Object.create(e):{},e)Object.prototype.hasOwnProperty.apply(e,[n])&&(i[n]=t(e[n]))}return i||e},defined:function(t){return void 0!==t},mixin:function(t,e,n){for(var i in e)void 0!==t[i]&&!n||(t[i]=e[i]);return t},uid:function(){return i=i||(new Date).valueOf(),++i},bind:function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},event:function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,void 0!==i&&i):t.attachEvent&&t.attachEvent("on"+e,n)},eventRemove:function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,void 0!==i&&i):t.detachEvent&&t.detachEvent("on"+e,n)}}},function(t,e){function r(t){var e=0,n=0,i=0,r=0;if(t.getBoundingClientRect)var a=t.getBoundingClientRect(),o=document.body,s=document.documentElement||document.body.parentNode||document.body,l=window.pageYOffset||s.scrollTop||o.scrollTop,c=window.pageXOffset||s.scrollLeft||o.scrollLeft,d=s.clientTop||o.clientTop||0,o=s.clientLeft||o.clientLeft||0,e=a.top+l-d,n=a.left+c-o,i=document.body.offsetWidth-a.right,r=document.body.offsetHeight-a.bottom;else{for(;t;)e+=parseInt(t.offsetTop,10),n+=parseInt(t.offsetLeft,10),t=t.offsetParent;i=document.body.offsetWidth-t.offsetWidth-n,r=document.body.offsetHeight-t.offsetHeight-e}return{y:Math.round(e),x:Math.round(n),width:t.offsetWidth,height:t.offsetHeight,right:Math.round(i),bottom:Math.round(r)}}function s(t){if(!t)return"";t=t.className||"";return t.baseVal&&(t=t.baseVal),t.indexOf||(t=""),c(t)}var n;function l(t){return t.tagName?t:(t=t||window.event).target||t.srcElement}function c(t){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(t)}t.exports={getNodePosition:r,getFocusableNodes:function(t){for(var e,n,i,t=t.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),r=Array.prototype.slice.call(t,0),a=0;a<r.length;a++){var o=r[a];i=o,(!isNaN(i.getAttribute("tabindex"))&&0<=+i.getAttribute("tabindex")||(!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[(n=o).nodeName.toLowerCase()]||!n.hasAttribute("disabled"))||(!{a:!0,area:!0}[(e=o).nodeName.loLowerCase()]||e.getAttribute("href")))&&(i=o,o=e=n=void 0,o=e=!1,window.getComputedStyle?(e=(n=window.getComputedStyle(i,null)).display,o=n.visibility):i.currentStyle&&(e=i.currentStyle.display,o=i.currentStyle.visibility),"none"!=e&&"hidden"!=o)||(r.splice(a,1),a--)}return r},getScrollSize:function(){var t=document.createElement("div");t.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},getClassName:s,addClassName:function(t,e){e&&-1===t.className.indexOf(e)&&(t.className+=" "+e)},removeClassName:function(t,e){e=e.split(" ");for(var n=0;n<e.length;n++){var i=new RegExp("\\s?\\b"+e[n]+"\\b(?![-_.])","");t.className=t.className.replace(i,"")}},insertNode:function(t,e){(n=n||document.createElement("div")).innerHTML=e;e=n.firstChild;return t.appendChild(e),e},removeNode:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},getChildNodes:function(t,e){for(var n=t.childNodes,i=n.length,r=[],a=0;a<i;a++){var o=n[a];o.className&&-1!==o.className.indexOf(e)&&r.push(o)}return r},toNode:function(t){return"string"==typeof t?document.getElementById(t)||document.querySelector(t)||document.body:t||document.body},locateClassName:function(t,e,n){var i=l(t),r="";for(void 0===n&&(n=!0);i;){if(r=s(i)){var a=r.indexOf(e);if(0<=a){if(!n)return i;var o=0===a||!c(r.charAt(a-1)),a=a+e.length>=r.length||!c(r.charAt(a+e.length));if(o&&a)return i}}i=i.parentNode}return null},locateAttribute:function(t,e){if(e){for(var n=l(t);n;){if(n.getAttribute&&n.getAttribute(e))return n;n=n.parentNode}return null}},getTargetNode:l,getRelativeEventPosition:function(t,e){var n=document.documentElement,i=r(e);return{x:t.clientX+n.scrollLeft-n.clientLeft-i.x+e.scrollLeft,y:t.clientY+n.scrollTop-n.clientTop-i.y+e.scrollTop}},isChildOf:function(t,e){if(!t||!e)return!1;for(;t&&t!=e;)t=t.parentNode;return t===e},hasClass:function(t,e){return"classList"in t?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},closest:function(t,e){if(t.closest)return t.closest(e);if(t.matches||t.msMatchesSelector||t.webkitMatchesSelector){var n=t;if(!document.documentElement.contains(n))return null;do{if((n.matches||n.msMatchesSelector||n.webkitMatchesSelector).call(n,e))return n}while(null!==(n=n.parentElement||n.parentNode)&&1===n.nodeType);return null}return console.error("Your browser is not supported"),null}}},function(t,e){t.exports=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}},function(t,e){var n={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function i(t){return!(!t||"object"!=typeof t||!(t.getFullYear&&t.getMonth&&t.getDate))}function r(t,e){var n=[];if(t.filter)return t.filter(e);for(var i=0;i<t.length;i++)e(t[i],i)&&(n[n.length]=t[i]);return n}t.exports={getSecondsInUnit:function(t){return n[t]||n.hour},forEach:function(t,e){if(t.forEach)t.forEach(e);else for(var n=t.slice(),i=0;i<n.length;i++)e(n[i],i)},arrayMap:function(t,e){if(t.map)return t.map(e);for(var n=t.slice(),i=[],r=0;r<n.length;r++)i.push(e(n[r],r));return i},arrayFind:function(t,e){if(t.find)return t.find(e);for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]},arrayFilter:r,arrayDifference:function(t,n){return r(t,function(t,e){return!n(t,e)})},arraySome:function(t,e){if(0===t.length)return!1;for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},hashToArray:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(t[e]);return n},sortArrayOfHash:function(t,n,i){t.sort(function(t,e){return t[n]===e[n]?0:i?t[n]<e[n]:e[n]<t[n]})},throttle:function(t,e){var n=!1;return function(){n||(t.apply(null,arguments),n=!0,setTimeout(function(){n=!1},e))}},isArray:function(t){return Array.isArray?Array.isArray(t):t&&void 0!==t.length&&t.pop&&t.push},isDate:i,isValidDate:function(t){return i(t)&&!isNaN(t.getTime())},isStringObject:function(t){return t&&"object"==typeof t&&"function String() { [native code] }"===Function.prototype.toString.call(t.constructor)},isNumberObject:function(t){return t&&"object"==typeof t&&"function Number() { [native code] }"===Function.prototype.toString.call(t.constructor)},isBooleanObject:function(t){return t&&"object"==typeof t&&"function Boolean() { [native code] }"===Function.prototype.toString.call(t.constructor)},delay:function(e,n){var i,r=function(){r.$cancelTimeout(),r.$pending=!0;var t=Array.prototype.slice.call(arguments);i=setTimeout(function(){e.apply(this,t),r.$pending=!1},n)};return r.$pending=!1,r.$cancelTimeout=function(){clearTimeout(i),r.$pending=!1},r.$execute=function(){var t=Array.prototype.slice.call(arguments);e.apply(this,t),r.$cancelTimeout()},r},objectKeys:function(t){if(Object.keys)return Object.keys(t);var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},isEventable:function(t){return t.attachEvent&&t.detachEvent}}},function(t,e){function n(){this._silent_mode=!1,this.listeners={}}n.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};function i(i){function r(){var t,e=!0;for(t in a)var n=a[t].apply(i,arguments),e=e&&n;return e}var a={},o=0;return r.addEvent=function(t,e){return"function"==typeof t&&(e&&e.id?n=e.id:(n=o,o++),e&&e.once&&(i=t,t=function(){i(),r.removeEvent(n)}),a[n]=t,n);var n,i},r.removeEvent=function(t){delete a[t]},r.clear=function(){a={}},r}t.exports=function(t){var a=new n;t.attachEvent=function(t,e,n){t="ev_"+t.toLowerCase(),a.listeners[t]||(a.listeners[t]=i(this)),n&&n.thisObject&&(e=e.bind(n.thisObject));e=t+":"+a.listeners[t].addEvent(e,n);return n&&n.id&&(e=n.id),e},t.attachAll=function(t){this.attachEvent("listen_all",t)},t.callEvent=function(t,e){if(a._silent_mode)return!0;var n="ev_"+t.toLowerCase(),i=a.listeners;return i.ev_listen_all&&i.ev_listen_all.apply(this,[t].concat(e)),!i[n]||i[n].apply(this,e)},t.checkEvent=function(t){return!!a.listeners["ev_"+t.toLowerCase()]},t.detachEvent=function(t){if(t){for(var e in r=a.listeners)r[e].removeEvent(t);var n,i=t.split(":"),r=a.listeners;2===i.length&&(n=i[0],i=i[1],r[n]&&r[n].removeEvent(i))}},t.detachAllEvents=function(){for(var t in a.listeners)a.listeners[t].clear()}}},function(t,e){function n(){console.log("Method is not implemented.")}function i(){}i.prototype.render=n,i.prototype.set_value=n,i.prototype.get_value=n,i.prototype.focus=n,t.exports=function(t){return i}},function(t,e){t.exports=function(t,e,n,i){e=e.$getConfig().row_height;return{start:Math.max(0,Math.floor(i.y/e)-5),end:Math.min(n.count(),Math.ceil(i.y_end/e)+5)}}},function(t,e){t.exports=function(t){function e(){}return e.prototype={show:function(t,e,n,i){},hide:function(){},set_value:function(t,e,n,i){this.get_input(i).value=t},get_value:function(t,e,n){return this.get_input(n).value||""},is_changed:function(t,e,n,i){i=this.get_value(e,n,i);return i&&t&&i.valueOf&&t.valueOf?i.valueOf()!=t.valueOf():i!=t},is_valid:function(t,e,n,i){return!0},save:function(t,e,n){},get_input:function(t){return t.querySelector("input")},focus:function(t){t=this.get_input(t);t&&(t.focus&&t.focus(),t.select&&t.select())}},e}},function(t,e,n){var i=n(9);t.exports=function(t){return i.isNode||!t.$root}},function(t,e){var n="undefined"!=typeof window,n={isIE:n&&(0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident")),isIE6:n&&!XMLHttpRequest&&0<=navigator.userAgent.indexOf("MSIE"),isIE7:n&&0<=navigator.userAgent.indexOf("MSIE 7.0")&&navigator.userAgent.indexOf("Trident")<0,isIE8:n&&0<=navigator.userAgent.indexOf("MSIE 8.0")&&0<=navigator.userAgent.indexOf("Trident"),isOpera:n&&0<=navigator.userAgent.indexOf("Opera"),isChrome:n&&0<=navigator.userAgent.indexOf("Chrome"),isKHTML:n&&(0<=navigator.userAgent.indexOf("Safari")||0<=navigator.userAgent.indexOf("Konqueror")),isFF:n&&0<=navigator.userAgent.indexOf("Firefox"),isIPad:n&&0<=navigator.userAgent.search(/iPad/gi),isEdge:n&&-1!=navigator.userAgent.indexOf("Edge"),isNode:!n||"undefined"==typeof navigator};t.exports=n},function(t,e,n){var r=n(0),a=n(4),o=n(1),n=function(){"use strict";function t(t,e,n,i){t&&(this.$container=o.toNode(t),this.$parent=t),this.$config=r.mixin(e,{headerHeight:33}),this.$gantt=i,this.$domEvents=i._createDomEventScope(),this.$id=e.id||"c"+r.uid(),this.$name="cell",this.$factory=n,a(this)}return t.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},t.prototype.cell=function(t){return null},t.prototype.scrollTo=function(t,e){+t==t&&(this.$view.scrollLeft=t),+e==e&&(this.$view.scrollTop=e)},t.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},t.prototype.resize=function(t){if(this.$parent)return this.$parent.resize(t);!1===t&&(this.$preResize=!0);var e=this.$container,n=e.offsetWidth,i=e.offsetHeight,t=this.getSize();e===document.body&&(n=document.body.offsetWidth,i=document.body.offsetHeight),n<t.minWidth&&(n=t.minWidth),n>t.maxWidth&&(n=t.maxWidth),i<t.minHeight&&(i=t.minHeight),i>t.maxHeight&&(i=t.maxHeight),this.setSize(n,i),this.$preResize,this.$preResize=!1},t.prototype.hide=function(){this._hide(!0),this.resize()},t.prototype.show=function(t){this._hide(!1),t&&this.$parent&&this.$parent.show(),this.resize()},t.prototype._hide=function(t){var e;!0===t&&this.$view.parentNode?this.$view.parentNode.removeChild(this.$view):!1!==t||this.$view.parentNode||(e=this.$parent.cellIndex(this.$id),this.$parent.moveView(this,e)),this.$config.hidden=t},t.prototype.$toHTML=function(t,e){void 0===t&&(t=""),e=[e||"",this.$config.css||""].join(" ");var n=this.$config,i="";return n.raw?t="string"==typeof n.raw?n.raw:"":(t=t||"<div class='gantt_layout_content' "+(e?" class='"+e+"' ":"")+" >"+(n.html||"")+"</div>",n.header&&(i="<div class='gantt_layout_header'>"+(n.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+n.header+"</div></div>")),"<div class='gantt_layout_cell "+e+"' data-cell-id='"+this.$id+"'>"+i+t+"</div>"},t.prototype.$fill=function(t,e){this.$view=t,this.$parent=e,this.init()},t.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},t.prototype.init=function(){var e=this;this._headerClickHandler=function(t){o.locateAttribute(t,"data-cell-id")==e.$id&&e.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},t.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},t.prototype.getSize=function(){var t,e={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};return this.$config.collapsed&&(e[(t="x"===this.$config.mode)?"width":"height"]=e[t?"maxWidth":"maxHeight"]=this.$config.headerHeight),e},t.prototype.getContentSize=function(){var t=this.$lastSize.contentX;t!==+t&&(t=this.$lastSize.width);var e=this.$lastSize.contentY;return e!==+e&&(e=this.$lastSize.height),{width:t,height:e}},t.prototype._getBorderSizes=function(){var t={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(t.left=1,t.horizontal++),this._currentBorders[this._borders.right]&&(t.right=1,t.horizontal++),this._currentBorders[this._borders.top]&&(t.top=1,t.vertical++),this._currentBorders[this._borders.bottom]&&(t.bottom=1,t.vertical++)),t},t.prototype.setSize=function(t,e){this.$view.style.width=t+"px",this.$view.style.height=e+"px";var n=this._getBorderSizes(),i=e-n.vertical,n=t-n.horizontal;this.$lastSize={x:t,y:e,contentX:n,contentY:i},this.$config.header?this._sizeHeader():this._sizeContent()},t.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},t.prototype._setBorders=function(t,e){var n=(e=e||this).$view;for(r in this._borders)o.removeClassName(n,this._borders[r]);"string"==typeof t&&(t=[t]);for(var i={},r=0;r<t.length;r++)o.addClassName(n,t[r]),i[t[r]]=!0;e._currentBorders=i},t.prototype._sizeContent=function(){var t=this.$view.childNodes[0];t&&"gantt_layout_content"==t.className&&(t.style.height=this.$lastSize.contentY+"px")},t.prototype._sizeHeader=function(){var t=this.$lastSize;t.contentY-=this.$config.headerHeight;var e,n=this.$view.childNodes[0],i=this.$view.childNodes[1],r="x"===this.$config.mode;this.$config.collapsed?(i.style.display="none",r?(n.className="gantt_layout_header collapsed_x",n.style.width=t.y+"px",e=Math.floor(t.y/2-t.x/2),n.style.transform="rotate(90deg) translate("+e+"px, "+e+"px)",i.style.display="none"):n.className="gantt_layout_header collapsed_y"):(n.className=r?"gantt_layout_header":"gantt_layout_header vertical",n.style.width="auto",n.style.transform="",i.style.display="",i.style.height=t.contentY+"px"),n.style.height=this.$config.headerHeight+"px"},t}();t.exports=n},function(t,e,i){var r=i(2),a=i(25);t.exports=function(e){var t=i(5)(e);function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.render=function(t){var e="<div class='gantt_cal_ltext' style='height:"+(t.height||"23")+"px;'>";return(e+=a.getHtmlSelect(t.options,[{key:"style",value:"width:100%;"}]))+"</div>"},n.prototype.set_value=function(t,e,n,i){t=t.firstChild;!t._dhx_onchange&&i.onchange&&(t.onchange=i.onchange,t._dhx_onchange=!0),void 0===e&&(e=(t.options[0]||{}).value),t.value=e||""},n.prototype.get_value=function(t){return t.firstChild.value},n.prototype.focus=function(t){t=t.firstChild;e._focus(t,!0)},n}},function(t,e){t.exports=function(t){return t.config.smart_rendering&&t._smart_render}},function(t,e){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(e,t,n){(function(t){t="undefined"!=typeof window?window:t;e.exports=t}).call(this,n(13))},function(t,e,n){var i=n(0);t.exports={createDropTargetObject:function(t){var e={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return t&&i.mixin(e,t,!0),e},nextSiblingTarget:function(t,e,n){var i=this.createDropTargetObject();return i.targetId=e,i.nextSibling=!0,i.targetParent=n.getParent(i.targetId),i.targetIndex=n.getBranchIndex(i.targetId),(n.getParent(t)!=i.targetParent||i.targetIndex<n.getBranchIndex(t))&&(i.targetIndex+=1),i},prevSiblingTarget:function(t,e,n){var i=this.createDropTargetObject();return i.targetId=e,i.prevSibling=!0,i.targetParent=n.getParent(i.targetId),i.targetIndex=n.getBranchIndex(i.targetId),n.getParent(t)==i.targetParent&&i.targetIndex>n.getBranchIndex(t)&&--i.targetIndex,i},firstChildTarget:function(t,e,n){var i=this.createDropTargetObject();return i.targetId=e,i.targetParent=i.targetId,i.targetIndex=0,i.child=!0,i},lastChildTarget:function(t,e,n){var i=n.getChildren(e),n=this.createDropTargetObject();return n.targetId=i[i.length-1],n.targetParent=e,n.targetIndex=i.length,n.nextSibling=!0,n}}},function(t,e,n){var a=n(12);t.exports=function(t,e,n,i){var r=e.width[t];if(r<=0)return!1;if(!i.config.smart_rendering||a(i))return!0;i=e.left[t]-r,r=e.left[t]+r;return i<=n.x_end&&r>=n.x}},function(t,e){t.exports=function(t,e){var n=0,i=t.left.length-1;if(e)for(var r=0;r<t.left.length;r++){var a=t.left[r];if(a<e.x&&(n=r),a>e.x_end){i=r;break}}return{start:n,end:i}}},function(t,e){t.exports=function(t,e){var n=e.$getConfig();return{top:e.getItemTop(t.id),height:n.row_height,left:0,right:1/0}}},function(t,e,n){var r=n(22),a=n(4),o=n(0),s=n(33),i=n(101),n=function(t,e,n,i){this.$config=o.mixin({},e||{}),this.$scaleHelper=new r(i),this.$gantt=i,this._posFromDateCache={},this._timelineDragScroll=null,o.mixin(this,s()),a(this)};function y(t,e){for(var n,i,r,a=0,o=t.length-1;a<=o;)if(i=+t[n=Math.floor((a+o)/2)],r=+t[n-1],i<e)a=n+1;else{if(!(e<i)){for(;+t[n]==+t[n+1];)n++;return n}if(!isNaN(r)&&r<e)return n-1;o=n-1}return t.length-1}n.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var e=this.$getConfig(),t=e[this.$config.bind+"_attribute"],e=e[this.$config.bindLinks+"_attribute"];!t&&this.$config.bind&&(t="data-"+this.$config.bind+"-id"),!e&&this.$config.bindLinks&&(e="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=t||null,this.$config.link_attribute=e||null;e=this._createLayerConfig();this.$config.layers||(this.$config.layers=e.tasks),this.$config.linkLayers||(this.$config.linkLayers=e.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,e){var n,i=this.$getConfig();+t===t&&(this.$config.width=t),+e===e&&(this.$config.height=e,n=Math.max(this.$config.height-i.scale_height),this.$task_data.style.height=n+"px"),this.refresh(),this.$task_bg.style.backgroundImage="",i.smart_rendering&&this.$config.rowStore?(n=this.$config.rowStore,this.$task_bg.style.height=i.row_height*n.countVisible()+"px"):this.$task_bg.style.height="";for(var r=this._tasks,a=this.$task_data.childNodes,o=0,s=a.length;o<s;o++){var l=a[o];l.hasAttribute("data-layer")&&l.style&&(l.style.width=r.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),e=this.$config.rowStore,n=e?t.row_height*e.countVisible():0,e=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?e:0,contentY:this.isVisible()?t.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?e:0}},scrollTo:function(t,e){var n;this.isVisible()&&(n=!1,this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,+e===e&&(this.$config.scrollTop=e,this.$task_data.scrollTop=this.$config.scrollTop,n=!0),+t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),n=!0),n&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop]))},_refreshScales:function(){var t,e;this.isVisible()&&this.$getConfig().smart_scales&&(t=this.getViewPort(),e=this._scales,this.$task_scale.innerHTML=this._getScaleChunkHtml(e,t.x,t.x_end))},getViewPort:function(){var t=this.$config.scrollLeft||0,e=this.$config.scrollTop||0,n=this.$config.height||0,i=this.$config.width||0;return{y:e,y_end:e+n,x:t,x_end:t+i,height:n,width:i}},_createLayerConfig:function(){function t(){return e.isVisible()}var e=this;return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[t]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[t],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[t]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[t]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var e=this,n=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var i=n.getDataRender(this.$config.bind);(i=i||n.createDataRender({name:this.$config.bind,defaultContainer:function(){return e.$task_data}})).container=function(){return e.$task_data};for(var r=this.$config.layers,a=0;r&&a<r.length;a++){"string"==typeof(s=r[a])&&(s=this.$gantt.$ui.layers[s]()),("function"==typeof s||s&&s.render&&s.update)&&(s={renderer:s}),s.view=this;var o=i.addLayer(s);this._taskLayers.push(o),s.expose&&(this._taskRenderer=i.getLayer(o))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){e.$config.linkStore=e.$gantt.getDatastore(e.$config.bindLinks);for(var s,l=(l=n.getDataRender(this.$config.bindLinks))||n.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return e.$task_data}}),c=this.$config.linkLayers,a=0;c&&a<c.length;a++){"string"==typeof s&&(s=this.$gantt.$ui.layers[s]()),(s=c[a]).view=this;var d=l.addLayer(s);this._taskLayers.push(d),c[a].expose&&(this._linkRenderer=l.getLayer(d))}}},_initStaticBackgroundRender:function(){var a=this,o=i.create(),t=a.$config.rowStore;t&&(this._staticBgHandler=t.attachEvent("onStoreUpdated",function(t,e,n){var i,r;null===t&&a.isVisible()&&((i=a.$getConfig()).static_background?(r=a.$gantt.getDatastore(a.$config.bind),(t=a.$task_bg_static)||((t=document.createElement("div")).className="gantt_task_bg",a.$task_bg_static=t,a.$task_bg.nextSibling?a.$task_data.insertBefore(t,a.$task_bg.nextSibling):a.$task_data.appendChild(t)),r&&o.render(t,i,a.getScale(),i.row_height*r.countVisible())):i.static_background&&a.$task_bg_static&&a.$task_bg_static.parentNode&&a.$task_bg_static.parentNode.removeChild(a.$task_bg_static))}),this.attachEvent("onDestroy",function(){o.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var e=this.$gantt.$services.getService("layers"),n=e.getDataRender(this.$config.bind),i=e.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var r=0;r<this._taskLayers.length;r++)n.removeLayer(this._taskLayers[r]);if(this._linkLayers)for(r=0;r<this._linkLayers.length;r++)i.removeLayer(this._linkLayers[r]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t,e,n,i=this.$getConfig(),r="",a=0,o=0,s=this.$gantt.getState();this.isVisible()&&(t=this.$scaleHelper,e=this._getScales(),o=i.scale_height,n=this.$config.width,"x"!=i.autosize&&"xy"!=i.autosize||(n=Math.max(i.autosize_min_width,0)),s=t.prepareConfigs(e,i.min_column_width,n,o-1,s.min_date,s.max_date,i.rtl),i=this._tasks=s[s.length-1],this._scales=s,this._posFromDateCache={},r=this._getScaleChunkHtml(s,0,this.$config.width),a=i.full_width+"px",o+="px"),this.$task_scale.style.height=o,this.$task_data.style.width=this.$task_scale.style.width=a,this.$task_scale.innerHTML=r},_getScaleChunkHtml:function(t,e,n){for(var i=[],r=this.$gantt.templates.scale_row_class,a=0;a<t.length;a++){var o="gantt_scale_line",s=r(t[a]);s&&(o+=" "+s),i.push('<div class="'+o+'" style="height:'+t[a].height+"px;position:relative;line-height:"+t[a].height+'px">'+this._prepareScaleHtml(t[a],e,n)+"</div>")}return i.join("")},_prepareScaleHtml:function(t,e,n){var i,r=this.$getConfig(),a=this.$gantt.templates,o=[],s=null,l=t.format||t.template||t.date;"string"==typeof l&&(l=this.$gantt.date.date_to_str(l));var c=0,d=t.count;!r.smart_scales||isNaN(e)||isNaN(n)||(c=y(t.left,e),d=y(t.left,n)+1),s=t.css||function(){},!t.css&&r.inherit_scale_class&&(s=a.scale_cell_class);for(var u=c;u<d&&t.trace_x[u];u++){i=new Date(t.trace_x[u]);var h,_,f=l.call(this,i),g=t.width[u],p=t.height,m=t.left[u],v="";g&&(h="width:"+g+"px;height:"+p+"px;"+(r.smart_scales?"position:absolute;left:"+m+"px":""),v="gantt_scale_cell"+(u==t.count-1?" gantt_last_cell":""),(_=s.call(this,i))&&(v+=" "+_),f="<div class='"+v+"'"+this.$gantt._waiAria.getTimelineCellAttr(f)+" style='"+h+"'>"+f+"</div>",o.push(f))}return o.join("")},dateFromPos:function(t){var e=this._tasks;if(t<0||t>e.full_width||!e.full_width)return null;var n=y(this._tasks.left,t),i=this._tasks.left[n],r=e.width[n]||e.col_width,a=0;r&&(a=(t-i)/r,e.rtl&&(a=1-a));r=0;return a&&(r=this._getColumnDuration(e,e.trace_x[n])),new Date(e.trace_x[n].valueOf()+Math.round(a*r))},posFromDate:function(t){if(!this.isVisible())return 0;if(!t)return 0;var e=String(t.valueOf());if(void 0!==this._posFromDateCache[e])return this._posFromDateCache[e];var n=this.columnIndexByDate(t);this.$gantt.assert(0<=n,"Invalid day index");var i=Math.floor(n),t=n%1,n=this._tasks.left[Math.min(i,this._tasks.width.length-1)];i==this._tasks.width.length&&(n+=this._tasks.width[this._tasks.width.length-1]),t&&(i<this._tasks.width.length?n+=this._tasks.width[i]*(t%1):n+=1);n=Math.round(n);return this._posFromDateCache[e]=n,Math.round(n)},_getNextVisibleColumn:function(t,e,n){for(var i=+e[t],r=t;n[i];)i=+e[++r];return r},_getPrevVisibleColumn:function(t,e,n){for(var i=+e[t],r=t;n[i];)i=+e[--r];return r},_getClosestVisibleColumn:function(t,e,n){var i=this._getNextVisibleColumn(t,e,n);return e[i]||(i=this._getPrevVisibleColumn(t,e,n)),i},columnIndexByDate:function(t){var e=new Date(t).valueOf(),n=this._tasks.trace_x_ascending,i=this._tasks.ignore_x,r=this.$gantt.getState();if(e<=r.min_date)return this._tasks.rtl?n.length:0;if(e>=r.max_date)return this._tasks.rtl?0:n.length;r=y(n,e),e=this._getClosestVisibleColumn(r,n,i),r=n[e],i=this._tasks.trace_index_transition;if(!r)return i?i[0]:0;n=(t-n[e])/this._getColumnDuration(this._tasks,n[e]);return i?i[e]+(1-n):e+n},getItemPosition:function(t,e,n){var i,r;return this._tasks.rtl?(r=this.posFromDate(e||t.start_date),i=this.posFromDate(n||t.end_date)):(i=this.posFromDate(e||t.start_date),r=this.posFromDate(n||t.end_date)),r=Math.max(r-i,0),{left:i,top:this.getItemTop(t.id),height:this.getItemHeight(),width:r}},getItemHeight:function(){var t,e=this.$getConfig(),n=e.task_height;return"full"==n&&(t=e.task_height_offset||5,n=e.row_height-t),n=Math.min(n,e.row_height),Math.max(n,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),e=this.$scaleHelper,t=[e.primaryScale(t)].concat(e.getSubScales(t));return e.sortScales(t),t},_getColumnDuration:function(t,e){return this.$gantt.date.add(e,t.step,t.unit)-e},_bindStore:function(){var t,e;this.$config.bind&&(t=this.$gantt.getDatastore(this.$config.bind),(this.$config.rowStore=t)&&!t._timelineCacheAttached&&(e=this,t._timelineCacheAttached=t.attachEvent("onBeforeFilter",function(){e._resetTopPositionHeight()})))},_unbindStore:function(){var t;!this.$config.bind||(t=this.$gantt.getDatastore(this.$config.bind))._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var t=this.$gantt;this._clearLayers(t),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},t.exports=n},function(t,e){t.exports=function(r){var a=[];return{delegate:function(t,e,n,i){a.push([t,e,n,i]),r.$services.getService("mouseEvents").delegate(t,e,n,i)},destructor:function(){for(var t=r.$services.getService("mouseEvents"),e=0;e<a.length;e++){var n=a[e];t.detach(n[0],n[1],n[2],n[3])}a=[]}}}},function(t,e,s){function n(t,e,n,i){this.$config=a.mixin({},e||{}),this.$gantt=i,this.$parent=t,o(this),this.$state={},a.mixin(this,c())}var r=s(1),a=s(0),o=s(4),l=s(177),c=s(33),d=s(176).default;n.prototype={init:function(t){var e=this.$gantt,n=e._waiAria.gridAttrString(),i=e._waiAria.gridDataAttrString(),r=this.$getConfig(),a=r.reorder_grid_columns||!1;void 0!==this.$config.reorder_grid_columns&&(a=this.$config.reorder_grid_columns),t.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+n+"></div>",this.$grid=t.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+e._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+i+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];r=r[this.$config.bind+"_attribute"];!r&&this.$config.bind&&(r="data-"+this.$config.bind+"-id"),this.$config.item_attribute=r||null,this.$config.layers||(o=this._createLayerConfig(),this.$config.layers=o);var o=l(e,this);o.init(),this._renderHeaderResizers=o.doOnRender,this._mouseDelegates=s(20)(e),this._addLayers(this.$gantt),this._initEvents(),a&&(this._columnDND=new d(e,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(t,e){var n,i=t[e];i&&"*"!=i&&(n=this.$gantt,i=+i,isNaN(i)?n.assert(!1,"Wrong "+e+" value of column "+t.name):t[e]=i)},setSize:function(t,e){this.$config.width=this.$state.width=t,this.$config.height=this.$state.height=e;for(var n,i=this.getGridColumns(),r=0,e=(s=this.$getConfig()).grid_elastic_columns,a=0,o=i.length;a<o;a++)this._validateColumnWidth(i[a],"min_width"),this._validateColumnWidth(i[a],"max_width"),this._validateColumnWidth(i[a],"width"),r+=+i[a].width;!isNaN(r)&&this.$config.scrollable||(r=l=this._setColumnsWidth(t+1)),this.$config.scrollable&&e&&!isNaN(r)&&(n=0,i.forEach(function(t){n+=t.min_width||s.min_grid_column_width}),e=Math.max(n,t),r=this._setColumnsWidth(e),l=t),this.$config.scrollable?(this.$grid_scale.style.width=r+"px",this.$grid_data.style.width=r+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),--this.$config.width;var s=this.$getConfig();l!==t&&(void 0!==l?(s.grid_width=l,this.$config.width=l-1):isNaN(r)||(this._setColumnsWidth(r),s.grid_width=r,this.$config.width=r-1));var l=Math.max(this.$state.height-s.scale_height,0);this.$grid_data.style.height=l+"px",this.refresh()},getSize:function(){var t=this.$getConfig(),e=this.$config.rowStore,n=e?t.row_height*e.countVisible():0,e=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?e:0,contentY:this.isVisible()?t.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?e:0}},_bindStore:function(){var t,e;this.$config.bind&&(t=this.$gantt.getDatastore(this.$config.bind),(this.$config.rowStore=t)&&!t._gridCacheAttached&&(e=this,t._gridCacheAttached=t.attachEvent("onBeforeFilter",function(){e._resetTopPositionHeight()})))},_unbindStore:function(){var t;!this.$config.bind||(t=this.$gantt.getDatastore(this.$config.bind))._gridCacheAttached&&(t.detachEvent(t._gridCacheAttached),t._gridCacheAttached=!1)},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var t=this.$config.scrollLeft||0,e=this.$config.scrollTop||0,n=this.$config.height||0,i=this.$config.width||0;return{y:e,y_end:e+n,x:t,x_end:t+i,height:n,width:i}},scrollTo:function(t,e){var n;this.isVisible()&&(n=!1,this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,+t==t&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=t,n=!0),+e==e&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=e,n=!0),n&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop]))},getColumnIndex:function(t){for(var e=this.$getConfig().columns,n=0;n<e.length;n++)if(e[n].name==t)return n;return null},getColumn:function(t){t=this.getColumnIndex(t);return null===t?null:this.$getConfig().columns[t]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},getItemHeight:function(){return this.$getConfig().row_height},_createLayerConfig:function(){var t=this;return[{renderer:this.$gantt.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return t.isVisible()}]}]},_addLayers:function(t){if(this.$config.bind){this._taskLayers=[];for(var e=this,n=this.$gantt.$services.getService("layers"),i=(i=n.getDataRender(this.$config.bind))||n.createDataRender({name:this.$config.bind,defaultContainer:function(){return e.$grid_data}}),r=this.$config.layers,a=0;r&&a<r.length;a++){var o=r[a];o.view=this;o=i.addLayer(o);this._taskLayers.push(o)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(t){var e,n=this.$getConfig(),i=this.$config.rowStore;i&&null===t&&this.isVisible()&&n.smart_rendering&&(!this.$config.scrollY||(t=this.$gantt.$ui.getView(this.$config.scrollY))&&(e=t.getScrollState().scrollSize),(e=e||(i?n.row_height*i.countVisible():0))&&(this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder),(i=this.$rowsPlaceholder=document.createElement("div")).style.visibility="hidden",i.style.height=e+"px",i.style.width="1px",this.$grid_data.appendChild(i)))},_initSmartRenderingPlaceholder:function(){var t=this.$config.rowStore;t&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=t.attachEvent("onStoreUpdated",a.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var t=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",t.bind(function(t,e,n){var i=this.$config.rowStore;if(!i)return!0;t=r.locateAttribute(t,this.$config.item_attribute);return t&&i.close(t.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",t.bind(function(t,e,n){var i=this.$config.rowStore;if(!i)return!0;t=r.locateAttribute(t,this.$config.item_attribute);return t&&i.open(t.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(t){var e=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var n=0;n<this._taskLayers.length;n++)e.removeLayer(this._taskLayers[n]);this._taskLayers=[]},_getColumnWidth:function(t,e,n){e=t.min_width||e.min_grid_column_width,e=Math.max(n,e||10);return t.max_width&&(e=Math.min(e,t.max_width)),e},_checkGridColumnMinWidthLimits:function(t,e){for(var n=0,i=t.length;n<i;n++){var r=+t[n].width;!t[n].min_width&&r<e.min_grid_column_width&&(t[n].min_width=r)}},_getGridWidthLimits:function(){for(var t=this.$getConfig(),e=this.getGridColumns(),n=0,i=0,r=0;r<e.length;r++)n+=e[r].min_width||t.min_grid_column_width,void 0!==i&&(i=e[r].max_width?i+e[r].max_width:void 0);return this._checkGridColumnMinWidthLimits(e,t),[n,i]},_setColumnsWidth:function(t,e){var n=this.$getConfig(),i=this.getGridColumns(),r=0,t=t;e=window.isNaN(e)?-1:e;for(var a=0,o=i.length;a<o;a++)r+=+i[a].width;if(window.isNaN(r))for(this._calculateGridWidth(),a=r=0,o=i.length;a<o;a++)r+=+i[a].width;var s=t-r,l=0;for(a=0;a<e+1;a++)l+=i[a].width;for(r-=l,a=e+1;a<i.length;a++){var c=i[a],d=Math.round(s*(c.width/r));s<0?c.min_width&&c.width+d<c.min_width?d=c.min_width-c.width:!c.min_width&&n.min_grid_column_width&&c.width+d<n.min_grid_column_width&&(d=n.min_grid_column_width-c.width):c.max_width&&c.width+d>c.max_width&&(d=c.max_width-c.width),r-=c.width,c.width+=d,s-=d}for(var u=0<s?1:-1;0<s&&1==u||s<0&&-1==u;){for(var h,_=s,a=e+1;a<i.length;a++)if((h=i[a].width+u)==this._getColumnWidth(i[a],n,h)&&(s-=u,i[a].width=h),!s)break;if(_==s)break}return s&&-1<e&&(h=i[e].width+s)==this._getColumnWidth(i[e],n,h)&&(i[e].width=h),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var t=this.getGridColumns(),e=0,n=0;n<t.length;n++){var i=parseFloat(t[n].width);if(window.isNaN(i))return!1;e+=i}return e},_calculateGridWidth:function(){for(var t=this.$getConfig(),e=this.getGridColumns(),n=0,i=[],r=[],a=0;a<e.length;a++){var o=parseFloat(e[a].width);window.isNaN(o)&&(o=t.min_grid_column_width||10,i.push(a)),n+=r[a]=o}var s=this._getGridWidth()+1;if(t.autofit||i.length){var l=s-n;if(t.autofit&&!t.grid_elastic_columns)for(a=0;a<r.length;a++){var c=Math.round(l/(r.length-a));r[a]+=c,(d=this._getColumnWidth(e[a],t,r[a]))!=r[a]&&(c=d-r[a],r[a]=d),l-=c}else if(i.length)for(a=0;a<i.length;a++){c=Math.round(l/(i.length-a));var d,u=i[a];r[u]+=c,(d=this._getColumnWidth(e[u],t,r[u]))!=r[u]&&(c=d-r[u],r[u]=d),l-=c}for(a=0;a<r.length;a++)e[a].width=r[a]}else{s=s!=n;this.$config.width=n-1,t.grid_width=n,s&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var t=this.$gantt,e=this.$getConfig(),n=this.$gantt.locale,i=this.$gantt.templates,r=this.getGridColumns();e.rtl&&(r=r.reverse());for(var a=[],o=0,s=n.labels,n=e.scale_height-1,l=0;l<r.length;l++){var c=l==r.length-1,d=r[l];d.name||(d.name=t.uid()+"");var u=+d.width,h=this._getGridWidth();c&&o+u<h&&(d.width=u=h-o),o+=u;var _=t._sort&&d.name==t._sort.name?"<div class='gantt_sort gantt_"+t._sort.direction+"'></div>":"",h=["gantt_grid_head_cell","gantt_grid_head_"+d.name,c?"gantt_last_cell":"",i.grid_header_class(d.name,d)].join(" "),u="width:"+(u-(c?1:0))+"px;",c=(c=d.label||s["column_"+d.name]||s[d.name])||"",_="<div class='"+h+"' style='"+u+"' "+t._waiAria.gridScaleCellAttrString(d,c)+" data-column-id='"+d.name+"' column_id='"+d.name+"'>"+c+_+"</div>";a.push(_)}this.$grid_scale.style.height=e.scale_height+"px",this.$grid_scale.style.lineHeight=n+"px",this.$grid_scale.innerHTML=a.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},t.exports=n},function(t,e,n){var a=n(0);t.exports=function(l){var d=l.date,r=l.$services;return{getSum:function(t,e,n){void 0===n&&(n=t.length-1),void 0===e&&(e=0);for(var i=0,r=e;r<=n;r++)i+=t[r];return i},setSumWidth:function(t,e,n,i){var r=e.width;void 0===i&&(i=r.length-1),void 0===n&&(n=0);var a=i-n+1;n>r.length-1||a<=0||i>r.length-1||(t=t-this.getSum(r,n,i),this.adjustSize(t,r,n,i),this.adjustSize(-t,r,i+1),e.full_width=this.getSum(r))},splitSize:function(t,e){for(var n=[],i=0;i<e;i++)n[i]=0;return this.adjustSize(t,n),n},adjustSize:function(t,e,n,i){n=n||0,void 0===i&&(i=e.length-1);for(var r=i-n+1,a=this.getSum(e,n,i),o=n;o<=i;o++){var s=Math.floor(t*(a?e[o]/a:1/r));a-=e[o],t-=s,r--,e[o]+=s}e[e.length-1]+=t},sortScales:function(t){function n(t,e){var n=new Date(1970,0,1);return d.add(n,e,t)-n}t.sort(function(t,e){return n(t.unit,t.step)<n(e.unit,e.step)?1:n(t.unit,t.step)>n(e.unit,e.step)?-1:0});for(var e=0;e<t.length;e++)t[e].index=e},_isLegacyMode:function(t){t=t||l.config;return t.scale_unit||t.date_scale||t.subscales},_prepareScaleObject:function(t){var e=t.format;return"string"==typeof(e=e||(t.template||t.date||"%d %M"))&&(e=l.date.date_to_str(e)),{unit:t.unit||"day",step:t.step||1,format:e,css:t.css}},primaryScale:function(t){var e,n=r.getService("templateLoader"),i=this._isLegacyMode(t),t=t||l.config;return e=i?(n.initTemplate("date_scale",void 0,void 0,t,l.config.templates),{unit:l.config.scale_unit,step:l.config.step,template:l.templates.date_scale,date:l.config.date_scale,css:l.templates.scale_cell_class}):{unit:(e=t.scales[0]).unit,step:e.step,template:e.template,format:e.format,date:e.date,css:e.css||l.templates.scale_cell_class},this._prepareScaleObject(e)},getSubScales:function(t){var e=this._isLegacyMode(t),t=t||l.config;return(e?t.subscales||[]:t.scales.slice(1)).map(function(t){return this._prepareScaleObject(t)}.bind(this))},prepareConfigs:function(t,e,n,i,r,a,o){for(var s=this.splitSize(i,t.length),l=n,c=[],d=t.length-1;0<=d;d--){var u=d==t.length-1,h=this.initScaleConfig(t[d],r,a);u&&this.processIgnores(h),this.initColSizes(h,e,l,s[d]),this.limitVisibleRange(h),u&&(l=h.full_width),c.unshift(h)}for(d=0;d<c.length-1;d++)this.alineScaleColumns(c[c.length-1],c[d]);for(d=0;d<c.length;d++)o&&this.reverseScale(c[d]),this.setPosSettings(c[d]);return c},reverseScale:function(t){t.width=t.width.reverse(),t.trace_x=t.trace_x.reverse();var e=t.trace_indexes;t.trace_indexes={},t.trace_index_transition={},t.rtl=!0;for(var n=0;n<t.trace_x.length;n++)t.trace_indexes[t.trace_x[n].valueOf()]=n,t.trace_index_transition[e[t.trace_x[n].valueOf()]]=n;return t},setPosSettings:function(t){for(var e=0,n=t.trace_x.length;e<n;e++)t.left.push((t.width[e-1]||0)+(t.left[e-1]||0))},_ignore_time_config:function(t,e){if(l.config.skip_off_time){for(var n=!0,i=t,r=0;r<e.step;r++)r&&(i=d.add(t,r,e.unit)),n=n&&!this.isWorkTime(i,e.unit);return n}return!1},processIgnores:function(t){t.ignore_x={},t.display_count=t.count},initColSizes:function(t,e,n,i){t.height=i;i=(i=void 0===t.display_count?t.count:t.display_count)||1;t.col_width=Math.floor(n/i),e&&t.col_width<e&&(t.col_width=e,n=t.col_width*i),t.width=[];for(var r,a=t.ignore_x||{},o=0;o<t.trace_x.length;o++)a[t.trace_x[o].valueOf()]||t.display_count==t.count?t.width[o]=0:(r=1,"month"==t.unit&&(r=Math.round((d.add(t.trace_x[o],t.step,t.unit)-t.trace_x[o])/864e5)),t.width[o]=r);this.adjustSize(n-this.getSum(t.width),t.width),t.full_width=this.getSum(t.width)},initScaleConfig:function(t,e,n){var i=a.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(e),max_date:new Date(n)},t);return this.eachColumn(t.unit,t.step,e,n,function(t){i.count++,i.trace_x.push(new Date(t)),i.trace_indexes[t.valueOf()]=i.trace_x.length-1}),i.trace_x_ascending=i.trace_x.slice(),i},iterateScales:function(t,e,n,i,r){for(var a=e.trace_x,e=t.trace_x,o=n||0,s=i||e.length-1,l=0,c=1;c<a.length;c++){var d=t.trace_indexes[+a[c]];void 0!==d&&d<=s&&(r&&r.apply(this,[l,c,o,d]),o=d,l=c)}},alineScaleColumns:function(r,a,t,e){this.iterateScales(r,a,t,e,function(t,e,n,i){i=this.getSum(r.width,n,i-1);this.getSum(a.width,t,e-1)!=i&&this.setSumWidth(i,a,t,e-1)})},eachColumn:function(t,e,n,i,r){var n=new Date(n),a=new Date(i);for(d[t+"_start"]&&(n=d[t+"_start"](n)),+a<=+(s=new Date(n))&&(a=d.add(s,e,t));+s<+a;){r.call(this,new Date(s));var o=s.getTimezoneOffset(),s=d.add(s,e,t);s=l._correct_dst_change(s,o,e,t),d[t+"_start"]&&(s=d[t+"_start"](s))}},limitVisibleRange:function(t){var e,n=t.trace_x,i=t.width.length-1,r=0;+n[0]<+t.min_date&&0!=i&&(e=Math.floor(t.width[0]*((n[1]-t.min_date)/(n[1]-n[0]))),r+=t.width[0]-e,t.width[0]=e,n[0]=new Date(t.min_date));var a=n.length-1,i=n[a],n=d.add(i,t.step,t.unit);if(+n>+t.max_date&&0<a&&(e=t.width[a]-Math.floor(t.width[a]*((n-t.max_date)/(n-i))),r+=t.width[a]-e,t.width[a]=e),r){for(var o=this.getSum(t.width),s=0,l=0;l<t.width.length;l++){var c=Math.floor(r*(t.width[l]/o));t.width[l]+=c,s+=c}this.adjustSize(r-s,t.width)}}}}},,function(t,e,n){},function(t,e,n){var a=n(3),n={getHtmlSelect:function(t,e,n){var i="",r=this;return t=t||[],a.forEach(t,function(t){var e=[{key:"value",value:t.key}];n==t.key&&(e[e.length]={key:"selected",value:"selected"}),t.attributes&&(e=e.concat(t.attributes)),i+=r.getHtmlOption({innerHTML:t.label},e)}),o("select",{innerHTML:i},e)},getHtmlOption:function(t,e){return o("option",t,e)},getHtmlButton:function(t,e){return o("button",t,e)},getHtmlDiv:function(t,e){return o("div",t,e)},getHtmlLabel:function(t,e){return o("label",t,e)},getHtmlInput:function(t){return"<input"+i(t||[])+">"}};function o(t,e,n){return e=e||[],"<"+t+i(n||[])+">"+(e.innerHTML||"")+"</"+t+">"}function i(t){var e="";return a.forEach(t,function(t){e+=" "+t.key+"='"+t.value+"'"}),e}t.exports=n},function(t,e){t.exports=function(p){var i={};return p.$data.tasksStore.attachEvent("onStoreUpdated",function(){i={}}),function(f,g,t,e){var n=f.id+"_"+g+"_"+t.unit+"_"+t.step;return i[n]||(i[n]=function(t,e){u="task"==f.$role?[]:p.getTaskBy(g,f.id);for(var n=t.unit,i=t.step,r={},a=0;a<u.length;a++)for(var o=u[a],s=p.date[n+"_start"](new Date(o.start_date));s<o.end_date;){var l=s,s=p.date.add(s,i,n);p.isWorkTime({date:l,task:o,unit:n})&&(r[l=l.valueOf()]||(r[l]=[]),r[l].push(o))}for(var c,d,u,h=[],_=e.$getConfig(),a=0;a<t.trace_x.length;a++)c=new Date(t.trace_x[a]),d=p.date.add(c,i,n),(u=r[c.valueOf()]||[]).length||_.resource_render_empty_cells?h.push({start_date:c,end_date:d,tasks:u}):h.push(null);return h}(t,e))}}},function(t,e){t.exports=function(f){function r(t,o){if(!f._isAllowedUnscheduledTask(t)&&f._isTaskInTimelineLimits(t)){var e=o.getItemPosition(t),i=o.$getConfig(),n=o.$getTemplates(),r=o.getItemHeight(),a=f.getTaskType(t.type),s=Math.floor((f.config.row_height-r)/2);a==i.types.milestone&&1<i.link_line_width&&(s+=1),a==i.types.milestone&&(e.left-=Math.round(r/2),e.width=r);var l=document.createElement("div"),c=Math.round(e.width);o.$config.item_attribute&&(l.setAttribute(o.$config.item_attribute,t.id),l.setAttribute(o.$config.bind+"_id",t.id)),i.show_progress&&a!=i.types.milestone&&function(t,e,n,i,r){var a=+t.progress||0;n=Math.max(n-2,0);var o=document.createElement("div"),a=Math.round(n*a),a=Math.min(n,a);t.progressColor&&(o.style.backgroundColor=t.progressColor,o.style.opacity=1),o.style.width=a+"px",o.className="gantt_task_progress",o.innerHTML=r.progress_text(t.start_date,t.end_date,t),i.rtl&&(o.style.position="absolute",o.style.right="0px"),(r=document.createElement("div")).className="gantt_task_progress_wrapper",r.appendChild(o),e.appendChild(r),f.config.drag_progress&&!f.isReadonly(t)&&(r=document.createElement("div"),t=a,i.rtl&&(t=n-a),r.style.left=t+"px",r.className="gantt_task_progress_drag",o.appendChild(r),e.appendChild(r))}(t,l,c,i,n);_=(u=t,h=n,_=document.createElement("div"),f.getTaskType(u.type)!=f.config.types.milestone&&(_.innerHTML=h.task_text(u.start_date,u.end_date,u)),_.className="gantt_task_content",_);t.textColor&&(_.style.color=t.textColor),l.appendChild(_);_=function(t,e){var n=o.$getConfig(),i=["gantt_task_line"];t&&i.push(t);var r=f.getState(),a=f.getTask(e);return f.getTaskType(a.type)==n.types.milestone?i.push("gantt_milestone"):f.getTaskType(a.type)==n.types.project&&i.push("gantt_project"),i.push("gantt_bar_"+f.getTaskType(a.type)),f.isSummaryTask(a)&&i.push("gantt_dependent_task"),f.isSplitTask(a)&&(n.open_split_tasks&&!a.$open||!n.open_split_tasks)&&i.push("gantt_split_parent"),n.select_task&&f.isSelectedTask(e)&&i.push("gantt_selected"),e==r.drag_id&&(i.push("gantt_drag_"+r.drag_mode),r.touch_drag&&i.push("gantt_touch_"+r.drag_mode)),r.link_source_id==e&&i.push("gantt_link_source"),r.link_target_id==e&&i.push("gantt_link_target"),n.highlight_critical_path&&f.isCriticalTask&&f.isCriticalTask(a)&&i.push("gantt_critical_task"),r.link_landing_area&&r.link_target_id&&r.link_source_id&&r.link_target_id!=r.link_source_id&&(r.link_target_id==e||r.link_source_id==e)&&(t=r.link_source_id,n=r.link_from_start,a=r.link_to_start,r="",r=f.isLinkAllowed(t,e,n,a)?a?"link_start_allow":"link_finish_allow":a?"link_start_deny":"link_finish_deny",i.push(r)),i.join(" ")}(n.task_class(t.start_date,t.end_date,t),t.id);(t.color||t.progressColor||t.textColor)&&(_+=" gantt_task_inline_color"),l.className=_;s=["left:"+e.left+"px","top:"+(s+e.top)+"px","height:"+r+"px","line-height:"+Math.max(r<30?r-2:r,0)+"px","width:"+c+"px"];t.color&&s.push("background-color:"+t.color),t.textColor&&s.push("color:"+t.textColor),l.style.cssText=s.join(";");e=(e=t,c=n,s="gantt_left "+p(!i.rtl,e),g(e,c.leftside_text,s));e&&l.appendChild(e),c=t,s=n,n="gantt_right "+p(!!i.rtl,c),(e=g(c,s.rightside_text,n))&&l.appendChild(e),f._waiAria.setTaskBarAttr(t,l);var d=f.getState();return f.isReadonly(t)||(i.drag_resize&&!f.isSummaryTask(t)&&a!=i.types.milestone&&m(l,"gantt_task_drag",t,function(t){var e=document.createElement("div");return e.className=t,e},i),i.drag_links&&i.show_links&&m(l,"gantt_link_control",t,function(t){var e=document.createElement("div");e.className=t,e.style.cssText=["height:"+r+"px","line-height:"+r+"px"].join(";");var n=document.createElement("div"),t=!(n.className="gantt_link_point");return d.link_source_id&&i.touch&&(t=!0),n.style.display=t?"block":"",e.appendChild(n),e},i)),l}var u,h,_}function g(t,e,n){if(!e)return null;e=e(t.start_date,t.end_date,t);if(!e)return null;t=document.createElement("div");return t.className="gantt_side_content "+n,t.innerHTML=e,t}function p(t,e){var n,i=t?{$source:[f.config.links.start_to_start],$target:[f.config.links.start_to_start,f.config.links.finish_to_start]}:{$source:[f.config.links.finish_to_start,f.config.links.finish_to_finish],$target:[f.config.links.finish_to_finish]};for(n in i)for(var r=e[n],a=0;a<r.length;a++)for(var o=f.getLink(r[a]),s=0;s<i[n].length;s++)if(o.type==i[n][s])return"gantt_link_crossing";return""}function m(t,e,n,i,r){var a,o=f.getState();+n.start_date>=+o.min_date&&((a=i([e,r.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),t.appendChild(a)),+n.end_date<=+o.max_date&&((a=i([e,r.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),t.appendChild(a))}return function(t,e){var n=e.$getConfig().type_renderers[f.getTaskType(t.type)],i=r;return n?n.call(f,t,function(t){return i.call(f,t,e)},e):i.call(f,t,e)}}},function(t,e){t.exports=function(t,e,n,i){if(!t.start_date||!t.end_date)return null;var r=n.$getConfig(),a=n.getItemTop(t.id),r=r.row_height;if(a>e.y_end||a+r<e.y)return!1;r=n.posFromDate(t.start_date),n=n.posFromDate(t.end_date),t=Math.min(r,n)-200,n=Math.max(r,n)+200;return!(t>e.x_end||n<e.x)}},function(t,e,n){var i=n(2),a=n(1),n=function(_){"use strict";function r(t,e,n){var i=_.apply(this,arguments)||this;return t&&(i.$root=!0),i._parseConfig(e),i.$name="layout",i}return i(r,_),r.prototype.destructor=function(){this.$container&&this.$view&&a.removeNode(this.$view);for(var t=0;t<this.$cells.length;t++)this.$cells[t].destructor();this.$cells=[],_.prototype.destructor.call(this)},r.prototype._resizeScrollbars=function(t,e){var n,i=!1,r=[],a=[];function o(t){t.$parent.show(),i=!0,r.push(t)}function s(t){t.$parent.hide(),i=!0,a.push(t)}for(var l=0;l<e.length;l++)t[(n=e[l]).$config.scroll]||n.shouldHide()?s(n):n.shouldShow()?o(n):(n.isVisible()?r:a).push(n);for(var c={},l=0;l<r.length;l++)r[l].$config.group&&(c[r[l].$config.group]=!0);for(l=0;l<a.length;l++)if((n=a[l]).$config.group&&c[n.$config.group]){o(n);for(var d=0;d<r.length;d++)if(r[d]==n){this.$gantt.$scrollbarRepaint=!0;break}}return i},r.prototype._syncCellSizes=function(t,e){if(t){var n={};return this._eachChild(function(t){t.$config.group&&"scrollbar"!=t.$name&&"resizer"!=t.$name&&(n[t.$config.group]||(n[t.$config.group]=[]),n[t.$config.group].push(t))}),n[t]&&this._syncGroupSize(n[t],e),n[t]}},r.prototype._syncGroupSize=function(t,e){if(t.length)for(var n=t[0].$parent._xLayout?"width":"height",i=t[0].$parent.getNextSibling(t[0].$id)?1:-1,r=0;r<t.length;r++){var a=t[r].getSize(),o=0<i?t[r].$parent.getNextSibling(t[r].$id):t[r].$parent.getPrevSibling(t[r].$id);"resizer"==o.$name&&(o=0<i?o.$parent.getNextSibling(o.$id):o.$parent.getPrevSibling(o.$id));var s,l=o.getSize();o[n]?(c=(s=a.gravity+l.gravity)/(l=a[n]+l[n]),t[r].$config.gravity=c*e,o.$config[n]=l-e,o.$config.gravity=s-c*e):t[r].$config[n]=e;var c=this.$gantt.$ui.getView("grid");c&&t[r].$content===c&&!c.$config.scrollable&&(this.$gantt.config.grid_width=e)}},r.prototype.resize=function(t){var e=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),e=!0,this._resizeInProgress=!0),_.prototype.resize.call(this,!0),_.prototype.resize.call(this,!1),e){for(var n=(n=(n=(n=[]).concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell")),i=this.getCellsByType("scroller"),r=0;r<n.length;r++)n[r].$config.hidden||n[r].setContentSize();var a=this._getAutosizeMode(this.$config.autosize),i=this._resizeScrollbars(a,i);if(this.$config.autosize&&(this.autosize(this.$config.autosize),i=!0),i)for(this.resize(),r=0;r<n.length;r++)n[r].$config.hidden||n[r].setContentSize();this.callEvent("onResize",[])}e&&(this._resizeInProgress=!1)},r.prototype._eachChild=function(t,e){if(t(e=e||this),e.$cells)for(var n=0;n<e.$cells.length;n++)this._eachChild(t,e.$cells[n])},r.prototype.isChild=function(e){var n=!1;return this._eachChild(function(t){t!==e&&t.$content!==e||(n=!0)}),n},r.prototype.getCellsByType=function(t){var e=[];if(t===this.$name&&e.push(this),this.$content&&this.$content.$name==t&&e.push(this.$content),this.$cells)for(var n=0;n<this.$cells.length;n++){var i=r.prototype.getCellsByType.call(this.$cells[n],t);i.length&&e.push.apply(e,i)}return e},r.prototype.getNextSibling=function(t){t=this.cellIndex(t);return 0<=t&&this.$cells[t+1]?this.$cells[t+1]:null},r.prototype.getPrevSibling=function(t){t=this.cellIndex(t);return 0<=t&&this.$cells[t-1]?this.$cells[t-1]:null},r.prototype.cell=function(t){for(var e=0;e<this.$cells.length;e++){var n=this.$cells[e];if(n.$id===t)return n;n=n.cell(t);if(n)return n}},r.prototype.cellIndex=function(t){for(var e=0;e<this.$cells.length;e++)if(this.$cells[e].$id===t)return e;return-1},r.prototype.moveView=function(t,e){if(this.$cells[e]!==t)return window.alert("Not implemented");e+=this.$config.header?1:0;var n=this.$view;e>=n.childNodes.length?n.appendChild(t.$view):n.insertBefore(t.$view,n.childNodes[e])},r.prototype._parseConfig=function(t){this.$cells=[],this._xLayout=!t.rows;for(var e=t.rows||t.cols||t.views,n=0;n<e.length;n++){var i=e[n];i.mode=this._xLayout?"x":"y";i=this.$factory.initUI(i,this);i?(i.$parent=this).$cells.push(i):(e.splice(n,1),n--)}},r.prototype.getCells=function(){return this.$cells},r.prototype.render=function(){var t=a.insertNode(this.$container,this.$toHTML());this.$fill(t,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},r.prototype.$fill=function(t,e){this.$view=t,this.$parent=e;for(var n=a.getChildNodes(t,"gantt_layout_cell"),i=n.length-1;0<=i;i--){var r=this.$cells[i];r.$fill(n[i],this),r.$config.hidden&&r.$view.parentNode.removeChild(r.$view)}},r.prototype.$toHTML=function(){for(var t=this._xLayout?"x":"y",e=[],n=0;n<this.$cells.length;n++)e.push(this.$cells[n].$toHTML());return _.prototype.$toHTML.call(this,e.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+t)},r.prototype.getContentSize=function(t){for(var e,n,i,r=0,a=0,o=0;o<this.$cells.length;o++)(n=this.$cells[o]).$config.hidden||(e=n.getContentSize(t),"scrollbar"===n.$config.view&&t[n.$config.scroll]&&(e.height=0,e.width=0),n.$config.resizer&&(this._xLayout?e.height=0:e.width=0),i=n._getBorderSizes(),this._xLayout?(r+=e.width+i.horizontal,a=Math.max(a,e.height+i.vertical)):(r=Math.max(r,e.width+i.horizontal),a+=e.height+i.vertical));return r+=(i=this._getBorderSizes()).horizontal,a+=i.vertical,this.$root&&(r+=1,a+=1),{width:r,height:a}},r.prototype._cleanElSize=function(t){return+(t||"").toString().replace("px","")||0},r.prototype._getBoxStyles=function(t){var e,n=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i={boxSizing:"border-box"==(e=window.getComputedStyle?window.getComputedStyle(t,null):{width:t.clientWidth,height:t.clientHeight}).boxSizing};e.MozBoxSizing&&(i.boxSizing="border-box"==e.MozBoxSizing);for(var r=0;r<n.length;r++)i[n[r]]=e[n[r]]?this._cleanElSize(e[n[r]]):0;t={horPaddings:i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth,vertPaddings:i.paddingTop+i.paddingBottom+i.borderTopWidth+i.borderBottomWidth,borderBox:i.boxSizing,innerWidth:i.width,innerHeight:i.height,outerWidth:i.width,outerHeight:i.height};return t.borderBox?(t.innerWidth-=t.horPaddings,t.innerHeight-=t.vertPaddings):(t.outerWidth+=t.horPaddings,t.outerHeight+=t.vertPaddings),t},r.prototype._getAutosizeMode=function(t){var e={x:!1,y:!1};return"xy"===t?e.x=e.y=!0:"y"===t||!0===t?e.y=!0:"x"===t&&(e.x=!0),e},r.prototype.autosize=function(t){var e=this._getAutosizeMode(t),n=this._getBoxStyles(this.$container),i=this.getContentSize(t),t=this.$container;e.x&&(n.borderBox&&(i.width+=n.horPaddings),t.style.width=i.width+"px"),e.y&&(n.borderBox&&(i.height+=n.vertPaddings),t.style.height=i.height+"px")},r.prototype.getSize=function(){this._sizes=[];for(var t=0,e=0,n=1e11,i=0,r=1e11,a=0,o=0;o<this.$cells.length;o++){var s=this._sizes[o]=this.$cells[o].getSize();this.$cells[o].$config.hidden||(this._xLayout?(!s.width&&s.minWidth?t+=s.minWidth:t+=s.width,n+=s.maxWidth,e+=s.minWidth,i=Math.max(i,s.height),r=Math.min(r,s.maxHeight),a=Math.max(a,s.minHeight)):(!s.height&&s.minHeight?i+=s.minHeight:i+=s.height,r+=s.maxHeight,a+=s.minHeight,t=Math.max(t,s.width),n=Math.min(n,s.maxWidth),e=Math.max(e,s.minWidth)))}var l=_.prototype.getSize.call(this);return 1e5<=l.maxWidth&&(l.maxWidth=n),1e5<=l.maxHeight&&(l.maxHeight=r),l.minWidth=l.minWidth!=l.minWidth?0:l.minWidth,l.minHeight=l.minHeight!=l.minHeight?0:l.minHeight,this._xLayout?(l.minWidth+=this.$config.margin*this.$cells.length||0,l.minWidth+=2*this.$config.padding||0):l.minHeight+=this.$config.margin*this.$cells.length||0,l.minHeight+=2*this.$config.padding||0,l},r.prototype._calcFreeSpace=function(t,e,n){var i=n?e.minWidth:e.minHeight,n=e.maxWidth,t=t;return t?(n<t&&(t=n),t<i&&(t=i),this._free-=t):((t=Math.floor(this._free/this._gravity*e.gravity))>n&&(t=n,this._free-=t,this._gravity-=e.gravity),t<i&&(t=i,this._free-=t,this._gravity-=e.gravity)),t},r.prototype._calcSize=function(t,e,n){var i=t,t=n?e.minWidth:e.minHeight,n=n?e.maxWidth:e.maxHeight;return n<(i=i||Math.floor(this._free/this._gravity*e.gravity))&&(i=n),i<t&&(i=t),i},r.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var t,e,n=this._xLayout?this._borders.right:this._borders.bottom,i=this.$cells,r=i.length-1,a=r;0<=a;a--)if(!i[a].$config.hidden){r=a;break}for(a=0;a<i.length;a++)i[a].$config.hidden||(e="",!(t=r<=a)&&i[a+1]&&"scrollbar"==i[a+1].$config.view&&(this._xLayout?t=!0:e="gantt_layout_cell_border_transparent"),this._setBorders(t?[]:[n,e],i[a]))},r.prototype._updateCellVisibility=function(){for(var t,e=this._visibleCells||{},n=!this._visibleCells,i={},r=0;r<this._sizes.length;r++)t=this.$cells[r],!n&&t.$config.hidden&&e[t.$id]?t._hide(!0):t.$config.hidden||e[t.$id]||t._hide(!1),t.$config.hidden||(i[t.$id]=!0);this._visibleCells=i},r.prototype.setSize=function(t,e){this._configureBorders(),_.prototype.setSize.call(this,t,e),e=this.$lastSize.contentY,t=this.$lastSize.contentX;var n,i,r=this.$config.padding||0;this.$view.style.padding=r+"px",this._gravity=0,this._free=this._xLayout?t:e,this._free-=2*r,this._updateCellVisibility();for(var a,o,s,l,c,d,u,h=0;h<this._sizes.length;h++)(n=this.$cells[h]).$config.hidden||(a=this.$config.margin||0,"resizer"!=n.$name||a||(a=-1),o=n.$view,s=this._xLayout?"marginRight":"marginBottom",h!==this.$cells.length-1&&(o.style[s]=a+"px",this._free-=a),i=this._sizes[h],this._xLayout?i.width||(this._gravity+=i.gravity):i.height||(this._gravity+=i.gravity));for(h=0;h<this._sizes.length;h++)(n=this.$cells[h]).$config.hidden||(l=(i=this._sizes[h]).width,c=i.height,this._xLayout?this._calcFreeSpace(l,i,!0):this._calcFreeSpace(c,i,!1));for(h=0;h<this.$cells.length;h++)(n=this.$cells[h]).$config.hidden||(i=this._sizes[h],u=d=void 0,u=this._xLayout?(d=this._calcSize(i.width,i,!0),e-2*r):(d=t-2*r,this._calcSize(i.height,i,!1)),n.setSize(d,u))},r}(n(10));t.exports=n},function(t,e){t.exports=function(t,e){return{top:e.getItemTop(t.id),height:e.getItemHeight(t.id),left:0,right:1/0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(166),r=n(165),n=n(164);e.LargerUnitsCache=n.LargerUnitsCache,e.createCacheObject=function(){return new("undefined"!=typeof Map?i.WorkUnitsMapCache:r.WorkUnitsObjectCache)}},function(t,e,n){var i=n(0),s=n(3);function r(t,e,n,i,r){return this.date=t,this.unit=e,this.task=n,this.id=i,this.calendar=r,this}function a(t,e,n,i,r,a){return this.date=t,this.dir=e,this.unit=n,this.task=i,this.id=r,this.calendar=a,this}function l(t,e,n,i,r,a,o){return this.start_date=t,this.duration=e,this.unit=n,this.step=i,this.task=r,this.id=a,this.calendar=o,this}function c(t,e,n,i){return this.start_date=t,this.end_date=e,this.task=n,this.calendar=i,this.unit=null,this.step=null,this}t.exports=function(o){return{getWorkHoursArguments:function(){var t=arguments[0],t=s.isDate(t)?{date:t}:i.mixin({},t);if(!s.isValidDate(t.date))throw o.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return t},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t=arguments[0];if(t instanceof r)return t;if((t=t.date?new r(t.date,t.unit,t.task,null,t.calendar):new r(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=t.unit||o.config.duration_unit,!s.isValidDate(t.date))throw o.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return t},getClosestWorkTimeArguments:function(t){var e,n=t;if(n instanceof a)return n;if(e=s.isDate(n)?new a(n):new a(n.date,n.dir,n.unit,n.task,null,n.calendar),n.id&&(e.task=n),e.dir=n.dir||"any",e.unit=n.unit||o.config.duration_unit,!s.isValidDate(e.date))throw o.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return e},_getStartEndConfig:function(t){var e,n=c;if(t instanceof n)return t;if(s.isDate(t)?e=new n(t,arguments[1],arguments[2],arguments[3]):(e=new n(t.start_date,t.end_date,t.task),t.id&&(e.task=t)),e.unit=e.unit||o.config.duration_unit,e.step=e.step||o.config.duration_step,e.start_date=e.start_date||e.start||e.date,!s.isValidDate(e.start_date))throw o.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!s.isValidDate(e.end_date))throw o.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return e},getDurationArguments:function(t,e,n,i){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,e,n,i){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,e,n,i){var r,a=t;if(a instanceof l)return a;if(r=s.isDate(a)?new l(t,e,n,void 0,i,void 0,arguments[4]):new l(a.start_date,a.duration,a.unit,a.step,a.task,null,a.calendar),a.id&&(r.task=a,r.unit=null,r.step=null),r.unit=r.unit||o.config.duration_unit,r.step=r.step||o.config.duration_step,!s.isValidDate(r.start_date))throw o.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return r}}}},function(t,e){t.exports=function(){var r={};return{_resetTopPositionHeight:function(){r={}},getRowTop:function(t){return t*this.$getConfig().row_height},getItemTop:function(t){if(this.$config.rowStore){if(void 0!==r[t])return r[t];var e=this.$config.rowStore;if(!e)return 0;var n=e.getIndexById(t);if(-1===n&&e.getParent&&e.exists(t)){var i=e.getParent(t);if(e.exists(i)){i=e.getItem(i);if(this.$gantt.isSplitTask(i))return this.getRowTop(e.getIndexById(i.id))}}return r[t]=this.getRowTop(n),r[t]}return 0}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.create=function(t){return void 0===t&&(t=null),new r},r);function r(){var e=this;this.canParse=function(t){return!isNaN(e.parse(t))},this.format=function(t){return String(t)},this.parse=function(t){return parseInt(t,10)}}e.default=i},function(t,e){function i(t,e,n){for(var i=0;i<e.length;i++)t.isLinkExists(e[i])&&(n[e[i]]=t.getLink(e[i]))}function r(t,e,n){i(t,e.$source,n),i(t,e.$target,n)}t.exports={getSubtreeLinks:function(e,t){var n={};return e.isTaskExists(t)&&r(e,e.getTask(t),n),e.eachTask(function(t){r(e,t,n)},t),n},getSubtreeTasks:function(t,e){var n={};return t.eachTask(function(t){n[t.id]=t},e),n}}},function(t,e,n){var c=n(22),d=n(22);t.exports=function(t){var e,n,i,r,a,o,s,l;n=new d(l=e=t).primaryScale(),i=n.unit,r=n.step,l.config.scale_offset_minimal&&(l=[(n=new c(l)).primaryScale()].concat(n.getSubScales()),n.sortScales(l),i=l[l.length-1].unit,r=l[l.length-1].step||1),s=(a={unit:i,step:r}).step,n=o=a.unit,l={start_date:null,end_date:null},(i=e).config.start_date&&i.config.end_date&&(l.start_date=i.date[n+"_start"](new Date(i.config.start_date)),r=+(r=new Date(i.config.end_date))!=+(a=i.date[n+"_start"](new Date(r)))?i.date.add(a,1,n):a,l.end_date=r),l.start_date&&l.end_date||((l=e.getSubtaskDates()).start_date&&l.end_date||(l={start_date:new Date,end_date:new Date}),l.start_date=e.date[o+"_start"](l.start_date),l.start_date=e.calculateEndDate({start_date:e.date[o+"_start"](l.start_date),duration:-1,unit:o,step:s}),l.end_date=e.date[o+"_start"](l.end_date),l.end_date=e.calculateEndDate({start_date:l.end_date,duration:2,unit:o,step:s})),e._min_date=l.start_date,e._max_date=l.end_date,function(t){if(t.config.fit_tasks){var e=+t._min_date,n=+t._max_date;(+t._min_date!=e||+t._max_date!=n)&&(t.render(),t.callEvent("onScaleAdjusted",[]))}}(t)}},function(t,e,n){var s=n(38),a=n(0),l=n(3),o=n(39);o.default&&(o=o.default);n=function(t){return o.apply(this,[t]),this._branches={},this.pull={},this.$initItem=t.initItem,this.$parentProperty=t.parentProperty||"parent","function"!=typeof t.rootId?this.$getRootId=(e=t.rootId||0,function(){return e}):this.$getRootId=t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=s.$create(),this.fullOrder=s.$create(),this._searchVisibleOrder={},this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig()),this.attachEvent("onFilterItem",function(t,e){var n=!1;this._ganttConfig&&(n=this._ganttConfig.open_split_tasks);var i=!0;return this.eachParent(function(t){i=i&&t.$open&&(n||!this._isSplitItem(t))},e),!!i}),this;var e};n.prototype=a.mixin({_buildTree:function(t){for(var e=null,n=this.$getRootId(),i=0,r=t.length;i<r;i++)e=t[i],this.setParent(e,this.getParent(e)||n);for(i=0,r=t.length;i<r;i++)e=t[i],this._add_branch(e),e.$level=this.calculateItemLevel(e),a.defined(e.$open)||(e.$open=a.defined(e.open)?e.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return"split"==t.render&&this.hasChild(t.id)},parse:function(t){this.callEvent("onBeforeParse",[t]);t=this._parseInner(t);this._buildTree(t),this.filter(),this.callEvent("onParse",[t])},_addItemInner:function(t,e){var n=this.getParent(t);a.defined(n)||(n=this.$getRootId(),this.setParent(t,n));var i=this.getIndexById(n)+Math.min(Math.max(e,0),this.visibleOrder.length);+i!==i&&(i=void 0),o.prototype._addItemInner.call(this,t,i),this.setParent(t,n),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,e)},_changeIdInner:function(t,e){var n=this.getChildren(t),i=this._searchVisibleOrder[t];o.prototype._changeIdInner.call(this,t,e);var r=this.getParent(e);this._replace_branch_child(r,t,e);for(var a=0;a<n.length;a++)this.setParent(this.getItem(n[a]),e);this._searchVisibleOrder[e]=i,delete this._branches[t]},_traverseBranches:function(t,e){e=e||this.$getRootId();var n=this._branches[e];if(n)for(var i=0;i<n.length;i++){var r=n[i];t.call(this,r),this._branches[r]&&this._traverseBranches(t,r)}},_updateOrder:function(t){this.fullOrder=s.$create(),this._traverseBranches(function(t){this.fullOrder.push(t)}),t&&o.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var e=[];this.eachItem(function(t){e.push(t)},t),e.push(this.getItem(t));for(var n=0;n<e.length;n++)this._move_branch(e[n],this.getParent(e[n]),null),o.prototype._removeItemInner.call(this,e[n].id),this._move_branch(e[n],this.getParent(e[n]),null)},move:function(t,e,n){var i=arguments[3];if(i){if(i===t)return;n=this.getParent(i),e=this.getBranchIndex(i)}if(t!=n){n=n||this.$getRootId();var r=this.getItem(t),a=this.getParent(r.id),i=this.getChildren(n);if(-1==e&&(e=i.length+1),a!=n||this.getBranchIndex(t)!=e){if(!1===this.callEvent("onBeforeItemMove",[t,n,e]))return!1;this._replace_branch_child(a,t),(i=this.getChildren(n))[e]?i=i.slice(0,e).concat([t]).concat(i.slice(e)):i.push(t),this.setParent(r,n),this._branches[n]=i;var o=this.calculateItemLevel(r)-r.$level;r.$level+=o,this.eachItem(function(t){t.$level+=o},r.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(n)+e),this.callEvent("onAfterItemMove",[t,n,e]),this.refresh()}}},getBranchIndex:function(t){for(var e=this.getChildren(this.getParent(t)),n=0;n<e.length;n++)if(e[n]==t)return n;return-1},hasChild:function(t){return a.defined(this._branches[t])&&this._branches[t].length},getChildren:function(t){return a.defined(this._branches[t])?this._branches[t]:s.$create()},isChildOf:function(t,e){if(!this.exists(t))return!1;if(e===this.$getRootId())return!0;if(!this.hasChild(e))return!1;var n=this.getItem(t),i=this.getParent(t);if(this.getItem(e).$level>=n.$level)return!1;for(;n&&this.exists(i);){if((n=this.getItem(i))&&n.id==e)return!0;i=this.getParent(n)}return!1},getSiblings:function(t){if(!this.exists(t))return s.$create();t=this.getParent(t);return this.getChildren(t)},getNextSibling:function(t){for(var e=this.getSiblings(t),n=0,i=e.length;n<i;n++)if(e[n]==t)return e[n+1]||null;return null},getPrevSibling:function(t){for(var e=this.getSiblings(t),n=0,i=e.length;n<i;n++)if(e[n]==t)return e[n-1]||null;return null},getParent:function(t){var e;return(e=void 0!==t.id?t:this.getItem(t))?e[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},o.prototype.clearAll.call(this)},calculateItemLevel:function(t){var e=0;return this.eachParent(function(){e++},t),e},_setParentInner:function(t,e,n){n||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,e):this._move_branch(t,t[this.$parentProperty],e))},setParent:function(t,e,n){this._setParentInner(t,e,n),t[this.$parentProperty]=e},eachItem:function(t,e){e=e||this.$getRootId();var n=this.getChildren(e);if(n)for(var i=0;i<n.length;i++){var r=this.pull[n[i]];t.call(this,r),this.hasChild(r.id)&&this.eachItem(t,r.id)}},eachParent:function(t,e){for(var n={},i=e,r=this.getParent(i);this.exists(r);){if(n[r])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+r);n[r]=!0,i=this.getItem(r),t.call(this,i),r=this.getParent(i)}},_add_branch:function(t,e,n){n=void 0===n?this.getParent(t):n;this.hasChild(n)||(this._branches[n]=s.$create());for(var i=this.getChildren(n),r=!1,a=0,o=i.length;a<o;a++)if(i[a]==t.id){r=!0;break}r||(+e==e?i.splice(e,0,t.id):i.push(t.id),t.$rendered_parent=n)},_move_branch:function(t,e,n){this._replace_branch_child(e,t.id),this.exists(n)||n==this.$getRootId()?this._add_branch(t,void 0,n):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem(function(t){t.$level=this.calculateItemLevel(t)},t.id)},_replace_branch_child:function(t,e,n){var i=this.getChildren(t);if(i&&void 0!==t){for(var r=s.$create(),a=0;a<i.length;a++)i[a]!=e?r.push(i[a]):n&&r.push(n);this._branches[t]=r}},sort:function(n,t,e){this.exists(e)||(e=this.$getRootId());var i,r="string"==typeof(n=n||"order")?function(t,e){return t[n]==e[n]||l.isDate(t[n])&&l.isDate(e[n])&&t[n].valueOf()==e[n].valueOf()?0:t[n]>e[n]?1:-1}:n;t&&(i=r,r=function(t,e){return i(e,t)});var a=this.getChildren(e);if(a){for(var o=[],s=a.length-1;0<=s;s--)o[s]=this.getItem(a[s]);for(o.sort(r),s=0;s<o.length;s++)a[s]=o[s].id,this.sort(n,t,a[s])}},filter:function(t){for(var e in this.pull)this.pull[e].$rendered_parent!==this.getParent(this.pull[e])&&this._move_branch(this.pull[e],this.pull[e].$rendered_parent,this.getParent(this.pull[e]));return o.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this.callEvent("onItemClose",[t]))},destructor:function(){o.prototype.destructor.call(this),this._branches=null}},o.prototype),t.exports=n},function(t,e,n){var i=n(0),n={$create:function(t){return i.mixin(t||[],this)},$removeAt:function(t,e){0<=t&&this.splice(t,e||1)},$remove:function(t){this.$removeAt(this.$find(t))},$insertAt:function(t,e){var n;e||0===e?(n=this.splice(e,this.length-e),this[e]=t,this.push.apply(this,n)):this.push(t)},$find:function(t){for(var e=0;e<this.length;e++)if(t==this[e])return e;return-1},$each:function(t,e){for(var n=0;n<this.length;n++)t.call(e||this,this[n])},$map:function(t,e){for(var n=0;n<this.length;n++)this[n]=t.call(e||this,this[n]);return this},$filter:function(t,e){for(var n=0;n<this.length;n++)t.call(e||this,this[n])||(this.splice(n,1),n--);return this}};t.exports=n},function(t,e,n){var i=n(38),a=n(0),r=n(4),n=function(t){return this.pull={},this.$initItem=t.initItem,this.visibleOrder=i.$create(),this.fullOrder=i.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this.$config=t,r(this),this};n.prototype={_parseInner:function(t){for(var e=null,n=[],i=0,r=t.length;i<r;i++)e=t[i],this.$initItem&&(e=this.$initItem(a.copy(e))),this.callEvent("onItemLoading",[e])&&(this.pull.hasOwnProperty(e.id)||this.fullOrder.push(e.id),n.push(e),this.pull[e.id]=e);return n},parse:function(t){this.callEvent("onBeforeParse",[t]);t=this._parseInner(t);this.refresh(),this.callEvent("onParse",[t])},getItem:function(t){return this.pull[t]},_updateOrder:function(t){t.call(this.visibleOrder),t.call(this.fullOrder)},updateItem:function(t,e){if(a.defined(e)||(e=this.getItem(t)),!this._skip_refresh&&!1===this.callEvent("onBeforeUpdate",[e.id,e]))return!1;this.pull[t]=e,this._skip_refresh||(this.callEvent("onAfterUpdate",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"update"]))},_removeItemInner:function(t){this._updateOrder(function(){this.$remove(t)}),delete this.pull[t]},removeItem:function(t){var e=this.getItem(t);if(!this._skip_refresh&&!1===this.callEvent("onBeforeDelete",[e.id,e]))return!1;this._removeItemInner(t),this._skip_refresh||(this.filter(),this.callEvent("onAfterDelete",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"delete"]))},_addItemInner:function(t,e){var n,i;this.exists(t.id)?this.silent(function(){this.updateItem(t.id,t)}):(i=(n=this.visibleOrder).length,(!a.defined(e)||e<0)&&(e=i),i<e&&(e=Math.min(n.length,e))),this.pull[t.id]=t,this._skip_refresh||this._updateOrder(function(){-1===this.$find(t.id)&&this.$insertAt(t.id,e)}),this.filter()},isVisible:function(t){return-1<this.visibleOrder.$find(t)},getVisibleItems:function(){return this.getIndexRange()},addItem:function(t,e){return a.defined(t.id)||(t.id=a.uid()),this.$initItem&&(t=this.$initItem(t)),!(!this._skip_refresh&&!1===this.callEvent("onBeforeAdd",[t.id,t]))&&(this._addItemInner(t,e),this._skip_refresh||(this.callEvent("onAfterAdd",[t.id,t]),this.callEvent("onStoreUpdated",[t.id,t,"add"])),t.id)},_changeIdInner:function(t,e){this.pull[t]&&(this.pull[e]=this.pull[t]);var n=this._searchVisibleOrder[t];this.pull[e].id=e,this._updateOrder(function(){this[this.$find(t)]=e}),this._searchVisibleOrder[e]=n,delete this._searchVisibleOrder[t],delete this.pull[t]},changeId:function(t,e){this._changeIdInner(t,e),this.callEvent("onIdChange",[t,e])},exists:function(t){return!!this.pull[t]},_moveInner:function(t,e){var n=this.getIdByIndex(t);this._updateOrder(function(){this.$removeAt(t),this.$insertAt(n,Math.min(this.length,e))})},move:function(t,e){var n=this.getIdByIndex(t),n=this.getItem(n);this._moveInner(t,e),this._skip_refresh||this.callEvent("onStoreUpdated",[n.id,n,"move"])},clearAll:function(){this.pull={},this.visibleOrder=i.$create(),this.fullOrder=i.$create(),this._skip_refresh||(this.callEvent("onClearAll",[]),this.refresh())},silent:function(t,e){this._skip_refresh=!0,t.call(e||this),this._skip_refresh=!1},arraysEqual:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},refresh:function(t,e){var n;this._skip_refresh||(n=t?[t,this.pull[t],"paint"]:[null,null,null],!1===this.callEvent("onBeforeStoreUpdate",n))||(t?e||this._quick_refresh||(e=this.visibleOrder,this.filter(),this.arraysEqual(e,this.visibleOrder)||(t=void 0)):this.filter(),n=t?[t,this.pull[t],"paint"]:[null,null,null],this.callEvent("onStoreUpdated",n))},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(t){},serialize:function(){},eachItem:function(t){for(var e=0;e<this.fullOrder.length;e++){var n=this.pull[this.fullOrder[e]];t.call(this,n)}},filter:function(t){this.callEvent("onBeforeFilter",[]);var e=i.$create();this.eachItem(function(t){this.callEvent("onFilterItem",[t.id,t])&&e.push(t.id)}),this.visibleOrder=e,this._searchVisibleOrder={};for(var n=0;n<this.visibleOrder.length;n++)this._searchVisibleOrder[this.visibleOrder[n]]=n;this.callEvent("onFilter",[])},getIndexRange:function(t,e){e=Math.min(e||1/0,this.countVisible()-1);for(var n=[],i=t||0;i<=e;i++)n.push(this.getItem(this.visibleOrder[i]));return n},getItems:function(){var t,e=[];for(t in this.pull)e.push(this.pull[t]);return e},getIdByIndex:function(t){return this.visibleOrder[t]},getIndexById:function(t){t=this._searchVisibleOrder[t];return void 0===t&&(t=-1),t},_getNullIfUndefined:function(t){return void 0===t?null:t},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(t){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(t)+1])},getPrev:function(t){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(t)-1])},destructor:function(){this.detachAllEvents(),this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null}},t.exports=n},function(t,e){var n,i,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&h())}function h(){if(!c){var t=o(u);c=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function f(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new _(t,e)),1!==l.length||c||o(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=f,t.addListener=f,t.once=f,t.off=f,t.removeListener=f,t.removeAllListeners=f,t.emit=f,t.prependListener=f,t.prependOnceListener=f,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e){t.exports=function(t,e){if(!e)return!0;if(t._on_timeout)return!1;e=Math.ceil(1e3/e);return e<2||(setTimeout(function(){delete t._on_timeout},e),t._on_timeout=!0)}},function(t,e,n){var a=n(0);t.exports=function t(r,o){r=r||a.event,o=o||a.eventRemove;var s=[],i={attach:function(t,e,n,i){s.push({element:t,event:e,callback:n,capture:i}),r(t,e,n,i)},detach:function(t,e,n,i){o(t,e,n,i);for(var r=0;r<s.length;r++){var a=s[r];a.element===t&&a.event===e&&a.callback===n&&a.capture===i&&(s.splice(r,1),r--)}},detachAll:function(){for(var t=s.slice(),e=0;e<t.length;e++){var n=t[e];i.detach(n.element,n.event,n.callback,n.capture),i.detach(n.element,n.event,n.callback,void 0),i.detach(n.element,n.event,n.callback,!1),i.detach(n.element,n.event,n.callback,!0)}s.splice(0,s.length)},extend:function(){return t(this.event,this.eventRemove)}};return i}},function(t,e){t.exports=function(r){var e=new RegExp("<(?:.|\n)*?>","gm"),n=new RegExp(" +","gm");function a(t){return(t+"").replace(e," ").replace(n," ")}var t,o=new RegExp("'","gm");for(t in r._waiAria={getAttributeString:function(t){var e,n=[" "];for(e in t){var i=(a(t[e])+"").replace(o,"&#39;");n.push(e+"='"+i+"'")}return n.push(" "),n.join(" ")},getTimelineCellAttr:function(t){return r._waiAria.getAttributeString({"aria-label":t})},_taskCommonAttr:function(t,e){t.start_date&&t.end_date&&(e.setAttribute("aria-label",a(r.templates.tooltip_text(t.start_date,t.end_date,t))),t.$dataprocessor_class&&e.setAttribute("aria-busy",!0),e.setAttribute("aria-selected",r.isSelectedTask(t.id)?"true":"false"))},setTaskBarAttr:function(t,e){this._taskCommonAttr(t,e),!r.isReadonly(t)&&r.config.drag_move&&(t.id!=r.getState("tasksDnd").drag_id?e.setAttribute("aria-grabbed",!1):e.setAttribute("aria-grabbed",!0))},taskRowAttr:function(t,e){this._taskCommonAttr(t,e),!r.isReadonly(t)&&r.config.order_branch&&e.setAttribute("aria-grabbed",!1),e.setAttribute("role","row"),e.setAttribute("aria-level",t.$level),r.hasChild(t.id)&&e.setAttribute("aria-expanded",t.$open?"true":"false")},linkAttr:function(t,e){var n=r.config.links,i=t.type==n.finish_to_start||t.type==n.start_to_start,n=t.type==n.start_to_start||t.type==n.start_to_finish,i=r.locale.labels.link+" "+r.templates.drag_link(t.source,n,t.target,i);e.setAttribute("aria-label",a(i)),r.isReadonly(t)&&e.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(t){t.setAttribute("role","separator")},lightboxHiddenAttr:function(t){t.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(t){t.setAttribute("aria-hidden","false")},lightboxAttr:function(t){t.setAttribute("role","dialog"),t.setAttribute("aria-hidden","true"),t.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(t){return this.getAttributeString({role:"button","aria-label":r.locale.labels[t],tabindex:"0"})},lightboxHeader:function(t,e){t.setAttribute("aria-label",e)},lightboxSelectAttrString:function(t){var e="";switch(t){case"%Y":e=r.locale.labels.years;break;case"%m":e=r.locale.labels.months;break;case"%d":e=r.locale.labels.days;break;case"%H:%i":e=r.locale.labels.hours+r.locale.labels.minutes}return r._waiAria.getAttributeString({"aria-label":e})},lightboxDurationInputAttrString:function(t){return this.getAttributeString({"aria-label":r.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",r.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(t,e){return"add"==t.name?this.getAttributeString({role:"button","aria-label":r.locale.labels.new_task}):(e={role:"columnheader","aria-label":e},r._sort&&r._sort.name==t.name&&("asc"==r._sort.direction?e["aria-sort"]="ascending":e["aria-sort"]="descending"),this.getAttributeString(e))},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(t,e,n){e={role:"gridcell","aria-label":e};return t.editor&&!r.isReadonly(n)||(e["aria-readonly"]=!0),this.getAttributeString(e)},gridAddButtonAttrString:function(t){return this.getAttributeString({role:"button","aria-label":r.locale.labels.new_task})},messageButtonAttrString:function(t){return"tabindex='0' role='button' aria-label='"+t+"'"},messageInfoAttr:function(t){t.setAttribute("role","alert")},messageModalAttr:function(t,e){t.setAttribute("role","dialog"),e&&t.setAttribute("aria-labelledby",e)},quickInfoAttr:function(t){t.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(t,e){t.setAttribute("aria-label",e)},quickInfoButtonAttrString:function(t){return r._waiAria.getAttributeString({role:"button","aria-label":t,tabindex:"0"})},tooltipAttr:function(t){t.setAttribute("role","tooltip")},tooltipVisibleAttr:function(t){t.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(t){t.setAttribute("aria-hidden","true")}},r._waiAria)r._waiAria[t]=function(t){return function(){return r.config.wai_aria_attributes?t.apply(this,arguments):""}}(r._waiAria[t])}},function(t,e){t.exports=function(c){c._extend_to_optional=function(t){var s=t,l={render:s.render,focus:s.focus,set_value:function(t,e,n,i){var r=c._resolve_default_mapping(i);if(!n[r.start_date]||"start_date"==r.start_date&&this._isAllowedUnscheduledTask(n)){l.disable(t,i);var a,o={};for(a in r)o[r[a]]=n[a];return s.set_value.call(c,t,e,o,i)}return l.enable(t,i),s.set_value.call(c,t,e,n,i)},get_value:function(t,e,n){return n.disabled?{start_date:null}:s.get_value.call(c,t,e,n)},update_block:function(t,e){var n;c.callEvent("onSectionToggle",[c._lightbox_id,e]),t.style.display=e.disabled?"none":"block",e.button&&(n=t.previousSibling.querySelector(".gantt_custom_button_label"),t=c.locale.labels,e=e.disabled?t[e.name+"_enable_button"]:t[e.name+"_disable_button"],n.innerHTML=e),c.resizeLightbox()},disable:function(t,e){e.disabled=!0,l.update_block(t,e)},enable:function(t,e){e.disabled=!1,l.update_block(t,e)},button_click:function(t,e,n,i){!1!==c.callEvent("onSectionButton",[c._lightbox_id,n])&&((t=c._get_typed_lightbox_config()[t]).disabled?l.enable(i,t):l.disable(i,t))}};return l},c.form_blocks.duration_optional=c._extend_to_optional(c.form_blocks.duration),c.form_blocks.time_optional=c._extend_to_optional(c.form_blocks.time)}},function(t,e,n){var i=n(2);t.exports=function(s){var l=n(11)(s);function t(){return l.apply(this,arguments)||this}return i(t,l),t.prototype.render=function(t){var e,n=s.config.types,i=s.locale.labels,r=[],a=t.filter||function(t,e){return!n.placeholder||e!==n.placeholder};for(e in n)0==!a(e,n[e])&&r.push({key:n[e],label:i["type_"+e]});t.options=r;var o=t.onchange;return t.onchange=function(){s.changeLightboxType(this.value),"function"==typeof o&&o.apply(this,arguments)},l.prototype.render.apply(this,arguments)},t}},function(t,e,n){var i=n(2),r=n(25);t.exports=function(l){var t=n(5)(l);function e(){return t.apply(this,arguments)||this}function a(t){return!t||t===l.config.constraint_types.ASAP||t===l.config.constraint_types.ALAP}function c(t,e){for(var n=a(e),i=0;i<t.length;i++)t[i].disabled=n}return i(e,t),e.prototype.render=function(t){var e,n=(t.height||30)+"px",n="<div class='gantt_cal_ltext gantt_section_"+t.name+"' style='height:"+n+";'>",i=[];for(e in l.config.constraint_types)i.push({key:l.config.constraint_types[e],label:l.locale.labels[l.config.constraint_types[e]]});return t.options=t.options||i,n+="<span data-constraint-type-select>"+r.getHtmlSelect(t.options,[{key:"data-type",value:"constraint-type"}])+"</span>",(n+="<label data-constraint-time-select>"+(l.locale.labels.constraint_date||"Constraint date")+": "+l.form_blocks.getTimePicker.call(this,t)+"</label>")+"</div>"},e.prototype.set_value=function(t,e,n,i){var r=t.querySelector("[data-constraint-type-select] select"),a=t.querySelectorAll("[data-constraint-time-select] select"),o=i._time_format_order,s=l._resolve_default_mapping(i);r._eventsInitialized||(r.addEventListener("change",function(t){c(a,t.target.value)}),r._eventsInitialized=!0);t=n[s.constraint_date]||new Date;l.form_blocks._fill_lightbox_select(a,0,t,o,i);n=n[s.constraint_type]||l.getConstraintType(n);r.value=n,c(a,n)},e.prototype.get_value=function(t,e,n){var i=t.querySelector("[data-constraint-type-select] select"),r=t.querySelectorAll("[data-constraint-time-select] select"),t=i.value,i=null;return a(t)||(i=l.form_blocks.getTimePickerValue(r,n)),{constraint_type:t,constraint_date:i}},e.prototype.focus=function(t){l._focus(t.querySelector("select"))},e}},function(t,e,n){var i=n(2);t.exports=function(s){var t=n(11)(s);function e(){return t.apply(this,arguments)||this}function a(a,t){var e=[],n=[];t&&(e=s.getTaskByTime(),a.allow_root&&e.unshift({id:s.config.root_id,text:a.root_label||""}),e=function(t,e){var n=a.filter||function(){return!0};t=t.slice(0);for(var i=0;i<t.length;i++){var r=t[i];r.id!=e&&!s.isChildOf(r.id,e)&&!1!==n(r.id,r)||(t.splice(i,1),i--)}return t}(e,t),a.sort&&e.sort(a.sort));for(var i=a.template||s.templates.task_text,r=0;r<e.length;r++){var o=i.apply(s,[e[r].start_date,e[r].end_date,e[r]]);void 0===o&&(o=""),n.push({key:e[r].id,label:o})}return a.options=n,a.map_to=a.map_to||"parent",s.form_blocks.select.render.apply(this,arguments)}return i(e,t),e.prototype.render=function(t){return a(t,!1)},e.prototype.set_value=function(t,e,n,i){0===e&&(e="0");var r=document.createElement("div");r.innerHTML=a(i,n.id);r=r.removeChild(r.firstChild);return t.onselect=null,t.parentNode.replaceChild(r,t),s.form_blocks.select.set_value.apply(s,[r,e,n,i])},e}},function(t,e,n){var i=n(2),r=n(34).default;t.exports=function(_){var t=n(5)(_);function e(){return t.apply(this,arguments)||this}function f(t){return t.formatter||new r}function g(t,e){var n=t.getElementsByTagName("select"),i=e._time_format_order,r=0,a=0;return _.defined(i[3])&&(t=n[i[3]],e=parseInt(t.value,10),isNaN(e)&&t.hasAttribute("data-value")&&(e=parseInt(t.getAttribute("data-value"),10)),r=Math.floor(e/60),a=e%60),new Date(n[i[2]].value,n[i[1]].value,n[i[0]].value,r,a)}function p(t,e){t=t.getElementsByTagName("input")[1];return(t=f(e).parse(t.value))&&!window.isNaN(t)||(t=1),t<0&&(t*=-1),t}return i(e,t),e.prototype.render=function(t){var e="<div class='gantt_time_selects'>"+_.form_blocks.getTimePicker.call(this,t)+"</div>",n=" "+_.locale.labels[_.config.duration_unit+"s"]+" ",i=t.single_date?" style='display:none'":"",r=t.readonly?" disabled='disabled'":"",a=_._waiAria.lightboxDurationInputAttrString(t),o="gantt_duration_value";t.formatter&&(n="",o+=" gantt_duration_value_formatted");n="<div class='gantt_duration' "+i+"><input type='button' class='gantt_duration_dec' value='−'"+r+"><input type='text' value='5days' class='"+o+"'"+r+" "+a+"><input type='button' class='gantt_duration_inc' value='+'"+r+">"+n+"<span></span></div>";return"<div style='height:"+(t.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+e+" "+n+"</div>"},e.prototype.set_value=function(n,t,i,r){var e,a=n.getElementsByTagName("select"),o=n.getElementsByTagName("input"),s=o[1],l=[o[0],o[2]],c=n.getElementsByTagName("span")[0],d=r._time_format_order;function u(){var t=g.call(_,n,r),e=p.call(_,n,r),t=_.calculateEndDate({start_date:t,duration:e,task:i}),e=_.templates.task_end_date||_.templates.task_date;c.innerHTML=e(t)}function h(t){var e=s.value,e=f(r).parse(e);window.isNaN(e)&&(e=0),(e+=t)<1&&(e=1),s.value=f(r).format(e),u()}l[0].onclick=_.bind(function(){h(-1*_.config.duration_step)},this),l[1].onclick=_.bind(function(){h(+_.config.duration_step)},this),a[0].onchange=u,a[1].onchange=u,a[2].onchange=u,a[3]&&(a[3].onchange=u),s.onkeydown=_.bind(function(t){return(t=(t=t||window.event).charCode||t.keyCode||t.which)==_.constants.KEY_CODES.DOWN?(h(-1*_.config.duration_step),!1):t==_.constants.KEY_CODES.UP?(h(+_.config.duration_step),!1):void window.setTimeout(u,1)},this),s.onchange=_.bind(u,this),"string"==typeof(e=_._resolve_default_mapping(r))&&(e={start_date:e}),o=i[e.start_date]||new Date,l=i[e.end_date]||_.calculateEndDate({start_date:o,duration:1,task:i}),l=Math.round(i[e.duration])||_.calculateDuration({start_date:o,end_date:l,task:i}),l=f(r).format(l),_.form_blocks._fill_lightbox_select(a,0,o,d,r),s.value=l,u()},e.prototype.get_value=function(t,e,n){var i=g(t,n),t=p(t,n),e=_.calculateEndDate({start_date:i,duration:t,task:e});return"string"==typeof _._resolve_default_mapping(n)?i:{start_date:i,end_date:e,duration:t}},e.prototype.focus=function(t){_._focus(t.getElementsByTagName("select")[0])},e}},function(t,e,i){var r=i(2);t.exports=function(e){var t=i(5)(e);function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.render=function(t){var e="<div class='gantt_cal_ltext' style='height:"+(t.height||"23")+"px;'>";if(t.options&&t.options.length)for(var n=0;n<t.options.length;n++)e+="<label><input type='radio' value='"+t.options[n].key+"' name='"+t.name+"'>"+t.options[n].label+"</label>";return e+"</div>"},n.prototype.set_value=function(t,e,n,i){var r;i.options&&i.options.length&&(r=t.querySelector("input[type=radio][value='"+e+"']")||t.querySelector("input[type=radio][value='"+i.default_value+"']"))&&(!t._dhx_onchange&&i.onchange&&(t.onchange=i.onchange,t._dhx_onchange=!0),r.checked=!0)},n.prototype.get_value=function(t,e){t=t.querySelector("input[type=radio]:checked");return t?t.value:""},n.prototype.focus=function(t){e._focus(t.querySelector("input[type=radio]"))},n}},function(t,e,i){var a=i(3),r=i(2);t.exports=function(e){var t=i(5)(e);function n(){return t.apply(this,arguments)||this}return r(n,t),n.prototype.render=function(t){var e="<div class='gantt_cal_ltext' style='height:"+(t.height||"23")+"px;'>";if(t.options&&t.options.length)for(var n=0;n<t.options.length;n++)e+="<label><input type='checkbox' value='"+t.options[n].key+"' name='"+t.name+"'>"+t.options[n].label+"</label>";return e+"</div>"},n.prototype.set_value=function(t,e,n,i){var r=Array.prototype.slice.call(t.querySelectorAll("input[type=checkbox]"));!t._dhx_onchange&&i.onchange&&(t.onchange=i.onchange,t._dhx_onchange=!0),a.forEach(r,function(t){t.checked=!!e&&0<=e.indexOf(t.value)})},n.prototype.get_value=function(t){return a.arrayMap(Array.prototype.slice.call(t.querySelectorAll("input[type=checkbox]:checked")),function(t){return t.value})},n.prototype.focus=function(t){e._focus(t.querySelector("input[type=checkbox]"))},n}},function(t,e,n){var i=n(2);t.exports=function(u){var t=n(5)(u);function e(){return t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(t){var e=u.form_blocks.getTimePicker.call(this,t),n="<div style='height:"+(t.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return n+=e,t.single_date?(e=u.form_blocks.getTimePicker.call(this,t,!0),n+="<span></span>"):n+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",(n+=e)+"</div>"},e.prototype.set_value=function(t,e,n,i){var r=i,a=t.getElementsByTagName("select"),o=i._time_format_order;if(r.auto_end_date){function s(){c=new Date(a[o[2]].value,a[o[1]].value,a[o[0]].value,0,0),d=u.calculateEndDate({start_date:c,duration:1,task:n}),u.form_blocks._fill_lightbox_select(a,o.size,d,o,r)}for(var l=0;l<4;l++)a[l].onchange=s}i=u._resolve_default_mapping(i);"string"==typeof i&&(i={start_date:i});var c=n[i.start_date]||new Date,d=n[i.end_date]||u.calculateEndDate({start_date:c,duration:1,task:n});u.form_blocks._fill_lightbox_select(a,0,c,o,r),u.form_blocks._fill_lightbox_select(a,o.size,d,o,r)},e.prototype.get_value=function(t,e,n){var i=t.getElementsByTagName("select"),r=n._time_format_order,t=u.form_blocks.getTimePickerValue(i,n);return"string"==typeof u._resolve_default_mapping(n)?t:{start_date:t,end_date:(t=t,(r=u.form_blocks.getTimePickerValue(i,n,r.size))<=t?u.date.add(t,u._get_timepicker_step(),"minute"):r)}},e.prototype.focus=function(t){u._focus(t.getElementsByTagName("select")[0])},e}},function(t,e,i){var r=i(2);t.exports=function(n){var t=i(5)(n);function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.render=function(t){return"<div class='gantt_cal_ltext' style='height:"+(t.height||"130")+"px;'><textarea></textarea></div>"},e.prototype.set_value=function(t,e){n.form_blocks.textarea._get_input(t).value=e||""},e.prototype.get_value=function(t){return n.form_blocks.textarea._get_input(t).value},e.prototype.focus=function(t){t=n.form_blocks.textarea._get_input(t);n._focus(t,!0)},e.prototype._get_input=function(t){return t.querySelector("textarea")},e}},function(t,e,i){var r=i(2);t.exports=function(t){var e=i(5)(t);function n(){return e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(t){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+(t.height||"30")+"px;'></div>"},n.prototype.set_value=function(t,e){t.innerHTML=e||""},n.prototype.get_value=function(t){return t.innerHTML||""},n.prototype.focus=function(){},n}},function(t,e,g){t.exports=function(u){var r=g(1),d=g(3),t=g(53)(u),e=g(52)(u),n=g(51)(u),i=g(11)(u),a=g(50)(u),o=g(49)(u),s=g(48)(u),l=g(47)(u),c=g(11)(u),h=g(46)(u),_=g(45)(u);function f(t,e){for(var n,i="",r=0;r<t.length;r++)n=u.config._migrate_buttons[t[r]]||t[r],i+="<div "+u._waiAria.lightboxButtonAttrString(n)+" class='gantt_btn_set gantt_left_btn_set "+n+"_set'"+(e?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+n+"'></div><div>"+u.locale.labels[n]+"</div></div>";return i}u._lightbox_methods={},u._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",u.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:u._lightbox_id}}),u.showLightbox=function(t){var e;this.callEvent("onBeforeLightbox",[t])&&(e=this.getTask(t),e=this.getLightbox(this.getTaskType(e.type)),this._center_lightbox(e),this.showCover(),this._fill_lightbox(t,e),this._waiAria.lightboxVisibleAttr(e),this.callEvent("onLightbox",[t]))},u._get_timepicker_step=function(){var t;return this.config.round_dnd_dates?(function(t){t=t.$ui.getView("timeline");return t&&t.isVisible()}(this)&&(t=u.getScale(),t=d.getSecondsInUnit(t.unit)*t.step/60),(!t||1440<=t)&&(t=this.config.time_step),t):this.config.time_step},u.getLabel=function(t,e){for(var n=this._get_typed_lightbox_config(),i=0;i<n.length;i++)if(n[i].map_to==t)for(var r=n[i].options,a=0;a<r.length;a++)if(r[a].key==e)return r[a].label;return""},u.updateCollection=function(t,e){e=e.slice(0);t=u.serverList(t);if(!t)return!1;t.splice(0,t.length),t.push.apply(t,e||[]),u.resetLightbox()},u.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},u.getLightbox=function(t){var e,n,i,r="";return void 0===t&&(t=this.getLightboxType()),this._lightbox&&this.getLightboxType()==this.getTaskType(t)||(this._lightbox_type=this.getTaskType(t),e=document.createElement("div"),r="gantt_cal_light",i=this._is_lightbox_timepicker(),(u.config.wide_form||i)&&(r+=" gantt_cal_light_wide"),i&&(u.config.wide_form=!0,r+=" gantt_cal_light_full"),e.className=r,e.style.visibility="hidden",n=this._lightbox_template,n+=f(this.config.buttons_left),n+=f(this.config.buttons_right,!0),e.innerHTML=n,u._waiAria.lightboxAttr(e),u.config.drag_lightbox&&(e.firstChild.onmousedown=u._ready_to_dnd,e.firstChild.onselectstart=function(){return!1},e.firstChild.style.cursor="pointer",u._init_dnd_events()),document.body.insertBefore(e,document.body.firstChild),this._lightbox=e,i=this._get_typed_lightbox_config(t),n=this._render_sections(i),t=(r=e.querySelector("div.gantt_cal_larea")).style.overflow,r.style.overflow="hidden",r.innerHTML=n,function(t){for(var e,n,i,r,a=0;a<t.length;a++)e=t[a],i=document.getElementById(e.id),e.id&&i&&(n=i.querySelector("label"),(i=i.nextSibling)&&(r=i.querySelector("input, select, textarea"))&&(r.id=r.id||"input_"+u.uid(),e.inputId=r.id,n.setAttribute("for",e.inputId)))}(i),this.resizeLightbox(),r.style.overflow=t,this._init_lightbox_events(this),e.style.display="none",e.style.visibility="visible"),this._lightbox},u._render_sections=function(t){for(var e="",n=0;n<t.length;n++){var i,r,a=this.form_blocks[t[n].type];a&&(t[n].id="area_"+this.uid(),i=t[n].hidden?" style='display:none'":"",r="",t[n].button&&(r="<div class='gantt_custom_button' data-index='"+n+"'><div class='gantt_custom_button_"+t[n].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+t[n].button]+"</div></div>"),this.config.wide_form&&(e+="<div class='gantt_wrap_section' "+i+">"),e+="<div id='"+t[n].id+"' class='gantt_cal_lsection'><label>"+r+this.locale.labels["section_"+t[n].name]+"</label></div>"+a.render.call(this,t[n]),e+="</div>")}return e},u.resizeLightbox=function(){var t;this._lightbox&&((t=this._lightbox.querySelector(".gantt_cal_larea")).style.height="0px",t.style.height=t.scrollHeight+"px",this._lightbox.style.height=t.scrollHeight+this.config.lightbox_additional_height+"px",t.style.height=t.scrollHeight+"px")},u._center_lightbox=function(t){var e,n,i;t&&(t.style.display="block",e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,n=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,i=window.innerHeight||document.documentElement.clientHeight,t.style.top=e?Math.round(e+Math.max((i-t.offsetHeight)/2,0))+"px":Math.round(Math.max((i-t.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?t.style.left=Math.round(n+(document.body.offsetWidth-t.offsetWidth)/2)+"px":t.style.left=Math.round((document.body.offsetWidth-t.offsetWidth)/2)+"px")},u.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",document.body.appendChild(this._cover))},u.event(window,"deviceorientation",function(){u.getState().lightbox&&u._center_lightbox(u.getLightbox())}),u._init_lightbox_events=function(){u.lightbox_events={},u.lightbox_events.gantt_save_btn=function(){u._save_lightbox()},u.lightbox_events.gantt_delete_btn=function(){u.callEvent("onLightboxDelete",[u._lightbox_id])&&(u.isTaskExists(u._lightbox_id)?u.$click.buttons.delete(u._lightbox_id):u.hideLightbox())},u.lightbox_events.gantt_cancel_btn=function(){u._cancel_lightbox()},u.lightbox_events.default=function(t,e){if(e.getAttribute("data-dhx-button"))u.callEvent("onLightboxButton",[e.className,e,t]);else{var n,i,t=r.getClassName(e);if(-1!=t.indexOf("gantt_custom_button"))if(-1!=t.indexOf("gantt_custom_button_"))for(n=e.parentNode.getAttribute("data-index"),i=e;i&&-1==r.getClassName(i).indexOf("gantt_cal_lsection");)i=i.parentNode;else n=e.getAttribute("data-index"),i=e.parentNode,e=e.firstChild;t=u._get_typed_lightbox_config();n&&(n*=1,u.form_blocks[t[+n].type].button_click(n,e,i,i.nextSibling))}},this.event(u.getLightbox(),"click",function(t){var e=(t=t||window.event).target?t.target:t.srcElement,n=r.getClassName(e);return n||(e=e.previousSibling,n=r.getClassName(e)),e&&n&&0===n.indexOf("gantt_btn_set")&&(e=e.firstChild,n=r.getClassName(e)),!(!e||!n)&&(u.defined(u.lightbox_events[e.className])?u.lightbox_events[e.className]:u.lightbox_events.default)(t,e)}),u.getLightbox().onkeydown=function(t){var e=t||window.event,n=t.target||t.srcElement,i=-1<r.getClassName(n).indexOf("gantt_btn_set");switch((t||e).keyCode){case u.constants.KEY_CODES.SPACE:if((t||e).shiftKey)return;i&&n.click&&n.click();break;case u.keys.edit_save:if((t||e).shiftKey)return;i&&n.click?n.click():u._save_lightbox();break;case u.keys.edit_cancel:u._cancel_lightbox()}}},u._cancel_lightbox=function(){var t=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,t.$new]),u.isTaskExists(t.id)&&t.$new&&this.silent(function(){u.$data.tasksStore.removeItem(t.id),u._update_flags(t.id,null)}),this.refreshData(),this.hideLightbox()},u._save_lightbox=function(){var t=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,t,!!t.$new])&&(t.$new?(delete t.$new,this.addTask(t,t.parent,this.getTaskIndex(t.id))):this.isTaskExists(t.id)&&(this.mixin(this.getTask(t.id),t,!0),this.refreshTask(t.id),this.updateTask(t.id)),this.refreshData(),this.hideLightbox())},u._resolve_default_mapping=function(t){var e=t.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[t.type]?"auto"==t.map_to?e={start_date:"start_date",end_date:"end_date",duration:"duration"}:"string"==typeof t.map_to&&(e={start_date:t.map_to}):"constraint"===t.type&&(t.map_to&&"string"!=typeof t.map_to||(e={constraint_type:"constraint_type",constraint_date:"constraint_date"})),e},u.getLightboxValues=function(){var t={};u.isTaskExists(this._lightbox_id)&&(t=this.mixin({},this.getTask(this._lightbox_id)));for(var e=this._get_typed_lightbox_config(),n=0;n<e.length;n++){var i=(i=document.getElementById(e[n].id))&&i.nextSibling,r=this.form_blocks[e[n].type];if(r){var a=r.get_value.call(this,i,t,e[n]),o=u._resolve_default_mapping(e[n]);if("string"==typeof o&&"auto"!=o)t[o]=a;else if("object"==typeof o)for(var s in o)o[s]&&(t[o[s]]=a[s])}}return t},u.hideLightbox=function(){var t=this.getLightbox();t&&(t.style.display="none"),this._waiAria.lightboxHiddenAttr(t),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},u.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},u.resetLightbox=function(){u._lightbox&&!u._custom_lightbox&&u._lightbox.parentNode.removeChild(u._lightbox),u._lightbox=null,u.hideCover()},u._set_lightbox_values=function(t,e){var n=t,i=e.getElementsByTagName("span"),r=[];u.templates.lightbox_header?(r.push(""),r.push(u.templates.lightbox_header(n.start_date,n.end_date,n)),i[1].innerHTML="",i[2].innerHTML=u.templates.lightbox_header(n.start_date,n.end_date,n)):(r.push(this.templates.task_time(n.start_date,n.end_date,n)),r.push(String(this.templates.task_text(n.start_date,n.end_date,n)||"").substr(0,70)),i[1].innerHTML=this.templates.task_time(n.start_date,n.end_date,n),i[2].innerHTML=String(this.templates.task_text(n.start_date,n.end_date,n)||"").substr(0,70)),i[1].innerHTML=r[0],i[2].innerHTML=r[1],u._waiAria.lightboxHeader(e,r.join(" "));for(var a=this._get_typed_lightbox_config(this.getLightboxType()),o=0;o<a.length;o++){var s,l,c,d=a[o];this.form_blocks[d.type]&&(s=document.getElementById(d.id).nextSibling,l=this.form_blocks[d.type],c=u._resolve_default_mapping(a[o]),c=this.defined(n[c])?n[c]:d.default_value,l.set_value.call(u,s,c,n,d),d.focus&&l.focus.call(u,s))}t.id&&(u._lightbox_id=t.id)},u._fill_lightbox=function(t,e){t=this.getTask(t);this._set_lightbox_values(t,e)},u.getLightboxSection=function(t){for(var e=this._get_typed_lightbox_config(),n=0;n<e.length&&e[n].name!=t;n++);var i=e[n];if(!i)return null;this._lightbox||this.getLightbox();var r=document.getElementById(i.id),a=r.nextSibling,o={section:i,header:r,node:a,getValue:function(t){return u.form_blocks[i.type].get_value.call(u,a,t||{},i)},setValue:function(t,e){return u.form_blocks[i.type].set_value.call(u,a,t,e||{},i)}},r=this._lightbox_methods["get_"+i.type+"_control"];return r?r(o):o},u._lightbox_methods.get_template_control=function(t){return t.control=t.node,t},u._lightbox_methods.get_select_control=function(t){return t.control=t.node.getElementsByTagName("select")[0],t},u._lightbox_methods.get_textarea_control=function(t){return t.control=t.node.getElementsByTagName("textarea")[0],t},u._lightbox_methods.get_time_control=function(t){return t.control=t.node.getElementsByTagName("select"),t},u._init_dnd_events=function(){this.event(document.body,"mousemove",u._move_while_dnd),this.event(document.body,"mouseup",u._finish_dnd),u._init_dnd_events=function(){}},u._move_while_dnd=function(t){var e;u._dnd_start_lb&&(document.gantt_unselectable||(document.body.className+=" gantt_unselectable",document.gantt_unselectable=!0),e=u.getLightbox(),t=[t.pageX,t.pageY],e.style.top=u._lb_start[1]+t[1]-u._dnd_start_lb[1]+"px",e.style.left=u._lb_start[0]+t[0]-u._dnd_start_lb[0]+"px")},u._ready_to_dnd=function(t){var e=u.getLightbox();u._lb_start=[parseInt(e.style.left,10),parseInt(e.style.top,10)],u._dnd_start_lb=[t.pageX,t.pageY]},u._finish_dnd=function(){u._lb_start&&(u._lb_start=u._dnd_start_lb=!1,document.body.className=document.body.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},u._focus=function(t,e){if(t&&t.focus&&!u.config.touch)try{e&&t.select&&t.select(),t.focus()}catch(t){}},u.form_blocks={getTimePicker:function(t,e){var n,i,r,a,o,s="",l=this.config,c={first:0,last:1440,date:this.date.date_part(new Date(u._min_date.valueOf())),timeFormat:t.time_format||(o=["%d","%m","%Y"],a=(a=u.getScale())?a.unit:u.config.duration_unit,d.getSecondsInUnit(a)<d.getSecondsInUnit("day")&&o.push("%H:%i"),o)};for(t._time_format_order={size:0},u.config.limit_time_select&&(c.first=60*l.first_hour,c.last=60*l.last_hour+1,c.date.setHours(l.first_hour)),n=0;n<c.timeFormat.length;n++)0<n&&(s+=" "),(i=function(t,e,n){var i,r,a,o,s,l,c="";switch(n.timeFormat[e]){case"%Y":for(t._time_format_order[2]=e,t._time_format_order.size++,t.year_range&&(isNaN(t.year_range)?t.year_range.push&&(a=t.year_range[0],o=t.year_range[1]):i=t.year_range),i=i||10,r=Math.floor(i/2),a=a||n.date.getFullYear()-r,o=o||a+i,s=a;s<o;s++)c+="<option value='"+s+"'>"+s+"</option>";break;case"%m":for(t._time_format_order[1]=e,t._time_format_order.size++,s=0;s<12;s++)c+="<option value='"+s+"'>"+u.locale.date.month_full[s]+"</option>";break;case"%d":for(t._time_format_order[0]=e,t._time_format_order.size++,s=1;s<32;s++)c+="<option value='"+s+"'>"+s+"</option>";break;case"%H:%i":for(t._time_format_order[3]=e,t._time_format_order.size++,s=n.first,l=n.date.getDate(),t._time_values=[];s<n.last;)c+="<option value='"+s+"'>"+u.templates.time_picker(n.date)+"</option>",t._time_values.push(s),n.date.setTime(n.date.valueOf()+60*u._get_timepicker_step()*1e3),s=24*(n.date.getDate()!=l?1:0)*60+60*n.date.getHours()+n.date.getMinutes()}return c}(t,n,c))&&(r=u._waiAria.lightboxSelectAttrString(c.timeFormat[n]),s+="<select "+(t.readonly?"disabled='disabled'":"")+(e?" style='display:none' ":"")+r+">"+i+"</select>");return s},getTimePickerValue:function(t,e,n){var i=e._time_format_order,r=0,a=0,e=n||0;return u.defined(i[3])&&(n=parseInt(t[i[3]+e].value,10),r=Math.floor(n/60),a=n%60),new Date(t[i[2]+e].value,t[i[1]+e].value,t[i[0]+e].value,r,a)},_fill_lightbox_select:function(t,e,n,i){t[e+i[0]].value=n.getDate(),t[e+i[1]].value=n.getMonth(),t[e+i[2]].value=n.getFullYear(),u.defined(i[3])&&(n=60*n.getHours()+n.getMinutes(),n=Math.round(n/u._get_timepicker_step())*u._get_timepicker_step(),(i=t[e+i[3]]).value=n,i.setAttribute("data-value",n))},template:new t,textarea:new e,select:new i,time:new n,duration:new s,parent:new l,radio:new o,checkbox:new a,resources:new c,constraint:new h,typeselect:new _},u._is_lightbox_timepicker=function(){for(var t=this._get_typed_lightbox_config(),e=0;e<t.length;e++)if("time"==t[e].name&&"time"==t[e].type)return!0;return!1},u._dhtmlx_confirm=function(t,e,n,i){if(!t)return n();t={text:t};e&&(t.title=e),i&&(t.ok=i),n&&(t.callback=function(t){t&&n()}),u.confirm(t)},u._get_typed_lightbox_config=function(t){void 0===t&&(t=this.getLightboxType());t=function(t){for(var e in this.config.types)if(this.config.types[e]==t)return e;return"task"}.call(this,t);return u.config.lightbox[t+"_sections"]||u.config.lightbox.sections},u._silent_redraw_lightbox=function(t){var e,n,i=this.getLightboxType();this.getState().lightbox?(e=this.getState().lightbox,n=this.getLightboxValues(),e=this.copy(this.getTask(e)),this.resetLightbox(),e=this.mixin(e,n,!0),n=this.getLightbox(t||void 0),this._center_lightbox(this.getLightbox()),this._set_lightbox_values(e,n),this.showCover()):(this.resetLightbox(),this.getLightbox(t||void 0)),this.callEvent("onLightboxChange",[i,this.getLightboxType()])}}},function(t,e){t.exports=function(y){function k(t){var e=t.$config.scrollX?y.$ui.getView(t.$config.scrollX):null,n=t.$config.scrollY?y.$ui.getView(t.$config.scrollY):null,t={x:null,y:null};return e&&e.getScrollState().visible&&(t.x=e.$view.scrollLeft),n&&n.getScrollState().visible&&(t.y=n.$view.scrollTop),t}function b(){var t;return y.$ui.getView("timeline")&&(t=y.$ui.getView("timeline")._tasks_dnd),t}y.config.touch_drag=500,y.config.touch=!0,y.config.touch_feedback=!0,y.config.touch_feedback_duration=1,y._prevent_touch_scroll=!1,y._touch_feedback=function(){y.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(y.config.touch_feedback_duration)},y.attachEvent("onGanttReady",y.bind(function(){if("force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints),this.config.touch){var e=!0;try{document.createEvent("TouchEvent")}catch(t){e=!1}e?this._touch_events(["touchmove","touchstart","touchend"],function(t){return t.touches&&1<t.touches.length?null:t.touches[0]?{target:t.target,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(t){return"mouse"==t.pointerType?null:t},function(t){return!t||"mouse"==t.pointerType}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t},function(t){return!t||t.pointerType==t.MSPOINTER_TYPE_MOUSE})}},y));var n=[];y._touch_events=function(t,c,d){for(var u,h=0,_=!1,f=!1,g=null,p=null,a=null,o=[],m=null,e=0;e<n.length;e++)y.eventRemove(n[e][0],n[e][1],n[e][2]);for((n=[]).push([y.$container,t[0],function(t){var e,n,i=b();if(!d(t)&&_){p&&clearTimeout(p);var r=c(t);if(i&&(i.drag.id||i.drag.start_drag))return i.on_mouse_move(r),t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0);if(y._prevent_touch_scroll)return!0;if(r&&g){var a=g.pageX-r.pageX,o=g.pageY-r.pageY;if(!f&&(5<Math.abs(a)||5<Math.abs(o))&&(f=!0,h=0,u=m?k(m):y.getScrollState()),f){var s=u.x+a,l=u.y+o,l=m?(e=s,n=l,r=(i=m).$config.scrollX?y.$ui.getView(i.$config.scrollX):null,i=i.$config.scrollY?y.$ui.getView(i.$config.scrollY):null,r&&r.scrollTo(e,null),i&&i.scrollTo(null,n),k(m)):(y.scrollTo(s,l),y.getScrollState());if(u.x!=l.x&&2*a<o||u.y!=l.y&&2*o<a)return v(t)}}return v(t)}}]),n.push([this.$container,"contextmenu",function(t){if(_)return v(t)}]),n.push([this.$container,t[1],function(t){var e;document&&document.body&&document.body.classList.add("gantt_touch_active"),d(t)||(t.touches&&1<t.touches.length?_=!1:(g=c(t),m=function(t){for(var e=y.$layout.getCellsByType("viewCell"),n=0;n<e.length;n++){var i=e[n].$view.getBoundingClientRect();if(t.clientX>=i.left&&t.clientX<=i.right&&t.clientY<=i.bottom&&t.clientY>=i.top)return e[n]}}(g),y._locate_css(g,"gantt_hor_scroll")||y._locate_css(g,"gantt_ver_scroll")||(_=!0),e=b(),p=setTimeout(function(){var t=y.locate(g);e&&t&&!y._locate_css(g,"gantt_link_control")&&!y._locate_css(g,"gantt_grid_data")&&(e.on_mouse_down(g),e.drag&&e.drag.start_drag&&(function(t){var e=y._getTaskLayers(),n=y.getTask(t);if(n&&y.isTaskVisible(t)){a=t;for(var i,r=0;r<e.length;r++)(n=e[r].rendered[t])&&n.getAttribute(y.config.task_attribute)&&n.getAttribute(y.config.task_attribute)==t&&(i=n.cloneNode(!0),o.push(n),e[r].rendered[t]=i,n.style.display="none",i.className+=" gantt_drag_move ",n.parentNode.appendChild(i))}}(t),e._start_dnd(g),y._touch_drag=!0,y.refreshTask(t),y._touch_feedback())),p=null},y.config.touch_drag)))}]),n.push([this.$container,t[2],function(t){var e,n;document&&document.body&&document.body.classList.remove("gantt_touch_active"),d(t)||(p&&clearTimeout(p),y._touch_drag=!1,_=!1,n=c(t),(e=b())&&e.on_mouse_up(n),a&&y.isTaskExists(a)&&(y.refreshTask(a),o.length&&(o.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)}),y._touch_feedback())),_=f=!1,o=[],a=null,g&&h?(n=new Date)-h<500?(y.$services.getService("mouseEvents").onDoubleClick(g),v(t)):h=n:h=new Date)}]),e=0;e<n.length;e++)y.event(n[e][0],n[e][1],n[e][2]);function v(t){return t&&t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(4),a=n(8),s=["ctrlKey","altKey","shiftKey","metaKey"],o=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],n=(l.prototype.init=function(t){var e=this;a(this.$gantt)&&(this._initialStartDate=t.startDate,this._initialEndDate=t.endDate,this._activeLevelIndex=t.activeLevelIndex||0,this._levels=this._mapScales(t.levels||o),this._handler=t.handler||this._defaultHandler,this._minColumnWidth=t.minColumnWidth||60,this._maxColumnWidth=t.maxColumnWidth||240,this._widthStep=t.widthStep||3/8*t.minColumnWidth,this._useKey=t.useKey,this._initialized||(r(this),this.$gantt.attachEvent("onGanttScroll",function(){e._getVisibleDate()})),this._domEvents.detachAll(),"wheel"===t.trigger&&(this.$gantt.$root?this._attachWheelEvent(t):this.$gantt.attachEvent("onGanttReady",function(){e._attachWheelEvent(t)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},l.prototype._mapScales=function(t){return t.map(function(t){return Array.isArray(t)?{scales:t}:t})},l.prototype._setScaleSettings=function(t,e){t?this._stepUp(e):this._stepDown(e)},l.prototype._stepUp=function(t){var e,n;this._activeLevelIndex>=this._levels.length-1||(e=this._activeLevelIndex,this._setScaleDates(),this._widthStep?((n=this.$gantt.config.min_column_width+this._widthStep)>this._maxColumnWidth&&(n=this._minColumnWidth,e++),this.$gantt.config.min_column_width=n):e++,this._setLevel(e,t))},l.prototype._stepDown=function(t){var e,n;this._activeLevelIndex<1||(e=this._activeLevelIndex,this._setScaleDates(),this._widthStep?((n=this.$gantt.config.min_column_width-this._widthStep)<this._minColumnWidth&&(n=this._maxColumnWidth,e--),this.$gantt.config.min_column_width=n):e--,this._setLevel(e,t))},l);function l(t){var o=this;this.zoomIn=function(){var t=o.getCurrentLevel()-1;t<0||o.setLevel(t)},this.zoomOut=function(){var t=o.getCurrentLevel()+1;t>o._levels.length-1||o.setLevel(t)},this.getCurrentLevel=function(){return o._activeLevelIndex},this.getLevels=function(){return o._levels},this.setLevel=function(t){var e=o._getZoomIndexByName(t);-1===e&&o.$gantt.assert(-1!==e,"Invalid zoom level for gantt.ext.zoom.setLevel. "+t+" is not an expected value."),o._setLevel(e,0)},this._getZoomIndexByName=function(t){var e=-1;if("string"==typeof t){if(!isNaN(Number(t))&&o._levels[Number(t)])e=Number(t);else for(var n=0;n<o._levels.length;n++)if(o._levels[n].name===t){e=n;break}}else e=t;return e},this._getVisibleDate=function(){var t=o.$gantt.getScrollState().x,e=o.$gantt.$task.offsetWidth;o._visibleDate=o.$gantt.dateFromPos(t+e/2)},this._setLevel=function(t,e){o._activeLevelIndex=t;var n,i,r=o.$gantt,a=r.copy(o._levels[o._activeLevelIndex]),t=r.copy(a);delete t.name,r.mixin(r.config,t,!0),r.$root&&(e?(i=o.$gantt.dateFromPos(e+o.$gantt.getScrollState().x),o.$gantt.render(),n=o.$gantt.posFromDate(i),o.$gantt.scrollTo(n-e)):(i=o.$gantt.$task.offsetWidth,o._visibleDate||o._getVisibleDate(),e=o._visibleDate,o.$gantt.render(),n=o.$gantt.posFromDate(e),o.$gantt.scrollTo(n-i/2)),o.callEvent("onAfterZoom",[o._activeLevelIndex,a]))},this._attachWheelEvent=function(t){var e=i.isFF?"wheel":"mousewheel";(t="function"==typeof t.element?t.element():t.element)&&o._domEvents.attach(t,e,o.$gantt.bind(function(t){if(this._useKey){if(s.indexOf(this._useKey)<0)return!1;if(!t[this._useKey])return!1}if("function"==typeof this._handler)return this._handler.apply(this,[t]),!0},o))},this._defaultHandler=function(t){var e=o.$gantt.$task.getBoundingClientRect().x,n=t.clientX-e,e=!1;0<(o.$gantt.env.isFF?-40*t.deltaY:t.wheelDelta)&&(e=!0),t.preventDefault(),t.stopPropagation(),o._setScaleSettings(e,n)},this._setScaleDates=function(){o._initialStartDate&&o._initialEndDate&&(o.$gantt.config.start_date=o._initialStartDate,o.$gantt.config.end_date=o._initialEndDate)},this.$gantt=t,this._domEvents=this.$gantt._createDomEventScope()}e.default=n},function(t,e){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(t,e,n){var i=document.createElement("DIV");n=n||window.gantt,i.id="gantt_"+n.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),this.dataType="gantt",this.dataObj=n;var r=this.vs[this.av];return(r.grid=n).init(i.id,t,e),i.firstChild.style.border="none",r.gridId=i.id,r.gridObj=i,this.vs[this._viewRestore()].grid}),void 0!==window.dhtmlXCellObject&&(window.dhtmlXCellObject.prototype.attachGantt=function(t,e,n){n=n||window.gantt;var i=document.createElement("DIV");return i.id="gantt_"+n.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),this.dataType="gantt",(this.dataObj=n).init(i.id,t,e),i.firstChild.style.border="none",i=null,this.callEvent("_onContentAttach",[]),this.dataObj}),t.exports=null},function(t,e){var r,a;window.jQuery&&(r=window.jQuery,a=[],r.fn.dhx_gantt=function(n){if("string"!=typeof(n=n||{})){var i=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)i.push(("object"==typeof this.gantt?this:window).gantt);else{var t,e=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(t in n)"data"!=t&&(e.config[t]=n[t]);e.init(this),n.data&&e.parse(n.data),i.push(e)}}),1===i.length?i[0]:i}if(a[n])return a[n].apply(this,[]);r.error("Method "+n+" does not exist on jQuery.dhx_gantt")}),t.exports=null},function(t,e,n){var m=n(1),v=n(8);t.exports=function(l){var i=50,c=30,n=10,r=50,a=null,d=!1,o=null,u={started:!1},h={};function _(t){return t&&m.isChildOf(t,l.$root)&&t.offsetHeight}function f(){var t=!!document.querySelector(".gantt_drag_marker"),e=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area"),n=!!document.querySelector(".gantt_link_direction"),i=l.getState(),r=i.autoscroll;return d=t&&!e&&!n,!(!i.drag_mode&&!t||e)||r}function e(t){var e;o&&(clearTimeout(o),o=null),t&&((e=l.config.autoscroll_speed)&&e<10&&(e=10),o=setTimeout(function(){a=setInterval(s,e||r)},l.config.autoscroll_delay||n))}function g(t){t?(e(!0),u.started||(u.x=h.x,u.y=h.y,u.started=!0)):(a&&(clearInterval(a),a=null),e(!1),u.started=!1)}function t(t){var e=f();if(!a&&!o||e||g(!1),!l.config.autoscroll||!e)return!1;h={x:t.clientX,y:t.clientY},"touchmove"==t.type&&(h.x=t.targetTouches[0].clientX,h.y=t.targetTouches[0].clientY),!a&&e&&g(!0)}function s(){if(!f())return g(!1),!1;var t,e,n,i,r,a,o,s=_(l.$task)?l.$task:_(l.$grid)?l.$grid:l.$root;s&&(i=m.getNodePosition(s),e=h.x-i.x,n=h.y-i.y,a=d?0:p(e,i.width,u.x-i.x),o=p(n,i.height,u.y-i.y),t=(r=l.getScrollState()).y,s=r.inner_height,e=r.height,n=r.x,i=r.inner_width,r=r.width,(o&&!s||o<0&&!t||0<o&&e+2<=t+s)&&(o=0),(a&&!i||a<0&&!n||0<a&&r<=n+i)&&(a=0),(r=l.config.autoscroll_step)&&r<2&&(r=2),o*=r||c,((a*=r||c)||o)&&(n=a,i=o,r=l.getScrollState(),o=a=null,n&&(a=r.x+n,a=Math.min(r.width,a),a=Math.max(0,a)),i&&(o=r.y+i,o=Math.min(r.height,o),o=Math.max(0,o)),l.scrollTo(a,o)))}function p(t,e,n){return t-i<0&&t<n?-1:e-i<t&&n<t?1:0}l.attachEvent("onGanttReady",function(){v(l)||(l.eventRemove(document.body,"mousemove",t),l.event(document.body,"mousemove",t),l.eventRemove(document.body,"touchmove",t),l.event(document.body,"touchmove",t),l.eventRemove(document.body,"pointermove",t),l.event(document.body,"pointermove",t))}),l.attachEvent("onDestroy",function(){g(!1)})}},function(t,e,r){t.exports=function(t){t.ext||(t.ext={});for(var e=[r(59),r(58),r(57)],n=0;n<e.length;n++)e[n]&&e[n](t);var i=r(56).default;t.ext.zoom=new i(t)}},function(t,e){t.exports=function(t){t.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(t,e){t.exports=function(t){t.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(t,e){t.exports=function(n){n.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},n.attachEvent("onAfterTaskDrag",function(t){var e=n.getTaskNode(t);e&&(e.className+=" gantt_drag_animation",setTimeout(function(){var t=e.className.indexOf(" gantt_drag_animation");-1<t&&(e.className=e.className.slice(0,t))},200))})}},function(t,e){t.exports=function(t){t.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(t,e){t.exports=function(t){t.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(t,e){t.exports=function(t){t.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(t,e){t.exports=function(t){t.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(t,e){function n(t,e){var n=e.skin;if(!n||t)for(var i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var a=i[r].href.match("dhtmlxgantt_([a-z_]+).css");if(a&&(e.skins[a[1]]||!n)){n=a[1];break}}e.skin=n||"terrace";var o=e.skins[e.skin]||e.skins.terrace;!function(t,e,n){for(var i in e)void 0!==t[i]&&!n||(t[i]=e[i])}(e.config,o.config,t);var s=e.getGridColumns();for(s[1]&&!e.defined(s[1].width)&&(s[1].width=o._second_column_width),s[2]&&!e.defined(s[2].width)&&(s[2].width=o._third_column_width),r=0;r<s.length;r++){var l=s[r];"add"==l.name&&(l.width||(l.width=44),e.defined(l.min_width)&&e.defined(l.max_width)||(l.min_width=l.min_width||l.width,l.max_width=l.max_width||l.width),l.min_width&&(l.min_width=+l.min_width),l.max_width&&(l.max_width=+l.max_width),l.width&&(l.width=+l.width,l.width=l.min_width&&l.min_width>l.width?l.min_width:l.width,l.width=l.max_width&&l.max_width<l.width?l.max_width:l.width))}o.config.task_height&&(e.config.task_height=o.config.task_height||"full"),o._lightbox_template&&(e._lightbox_template=o._lightbox_template),o._redefine_lightbox_buttons&&(e.config.buttons_right=o._redefine_lightbox_buttons.buttons_right,e.config.buttons_left=o._redefine_lightbox_buttons.buttons_left),e.resetLightbox()}t.exports=function(t){t.resetSkin||(t.resetSkin=function(){n(!(this.skin=""),this)},t.skins={},t.attachEvent("onGanttLayoutReady",function(){n(!1,this)}))}},function(t,e){t.exports=function(){function r(t){return t.$ui.getView("timeline")}function i(t){return t.$ui.getView("grid")}function o(t){return t.$ui.getView("scrollVer")}function s(t){return t.$ui.getView("scrollHor")}var a="DEFAULT_VALUE";function l(t,e,n,i){t=t(this);return t&&t.isVisible()?t[e].apply(t,n):i?i():a}return{getColumnIndex:function(t){t=l.call(this,i,"getColumnIndex",[t]);return t===a?0:t},dateFromPos:function(t){var e=l.call(this,r,"dateFromPos",Array.prototype.slice.call(arguments));return e===a?this.getState().min_date:e},posFromDate:function(t){t=l.call(this,r,"posFromDate",[t]);return t===a?0:t},getRowTop:function(t){var e=this,n=l.call(e,r,"getRowTop",[t],function(){return l.call(e,i,"getRowTop",[t])});return n===a?0:n},getTaskTop:function(t){var e=this,n=l.call(e,r,"getItemTop",[t],function(){return l.call(e,i,"getItemTop",[t])});return n===a?0:n},getTaskPosition:function(t,e,n){n=l.call(this,r,"getItemPosition",[t,e,n]);return n===a?{left:0,top:this.getTaskTop(t.id),height:this.getTaskHeight(),width:0}:n},getTaskHeight:function(){var t=this,e=l.call(t,r,"getItemHeight",[],function(){return l.call(t,i,"getItemHeight",[])});return e===a?0:e},columnIndexByDate:function(t){t=l.call(this,r,"columnIndexByDate",[t]);return t===a?0:t},roundTaskDates:function(){l.call(this,r,"roundTaskDates",[])},getScale:function(){var t=l.call(this,r,"getScale",[]);return t===a?null:t},getTaskNode:function(t){var e=r(this);if(e&&e.isVisible()){var n,i=e._taskRenderer.rendered[t];return i||(n=e.$config.item_attribute,i=e.$task_bars.querySelector("["+n+"='"+t+"']")),i||null}return null},getLinkNode:function(t){var e=r(this);return e.isVisible()?e._linkRenderer.rendered[t]:null},scrollTo:function(t,e){var n=o(this),i=s(this),r={position:0},a={position:0};n&&(a=n.getScrollState()),i&&(r=i.getScrollState()),i&&+t==t&&i.scroll(t),n&&+e==e&&n.scroll(e);t={position:0},e={position:0};n&&(t=n.getScrollState()),i&&(e=i.getScrollState()),this.callEvent("onGanttScroll",[r.position,a.position,e.position,t.position])},showDate:function(t){t=this.posFromDate(t),t=Math.max(t-this.config.task_scroll_offset,0);this.scrollTo(t)},showTask:function(t){var e=this.getTaskPosition(this.getTask(t)),n=Math.max(e.left-this.config.task_scroll_offset,0),t=this._scroll_state().y,e=t?e.top-(t-this.config.row_height)/2:e.top;this.scrollTo(n,e)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},e=o(this),n=s(this);return n&&((n=n.getScrollState()).visible&&(t.x=n.size,t.x_inner=n.scrollSize),t.x_pos=n.position||0),e&&((e=e.getScrollState()).visible&&(t.y=e.size,t.y_inner=e.scrollSize),t.y_pos=e.position||0),t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}}}}},function(t,e){t.exports=function(t){delete t.addTaskLayer,delete t.addLinkLayer}},function(t,e,n){var o=n(1);t.exports=function(s){return{getVerticalScrollbar:function(){return s.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return s.$ui.getView("scrollHor")},_legacyGridResizerClass:function(t){for(var e=t.getCellsByType("resizer"),n=0;n<e.length;n++){var i=e[n],r=!1,a=i.$parent.getPrevSibling(i.$id);(a&&a.$config&&"grid"===a.$config.id||(a=i.$parent.getNextSibling(i.$id))&&a.$config&&"grid"===a.$config.id)&&(r=!0),r&&(i.$config.css=(i.$config.css?i.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(r){var a=!0;this._legacyGridResizerClass(r),r.attachEvent("onBeforeResize",function(){var t=s.$ui.getView("timeline");t&&(t.$config.hidden=t.$parent.$config.hidden=!s.config.show_chart);var e,n,i=s.$ui.getView("grid");i&&(n=s.config.show_grid,a&&(!1!==(e=i._getColsTotalWidth())&&(s.config.grid_width=e),n=n&&!!s.config.grid_width,s.config.show_grid=n),i.$config.hidden=i.$parent.$config.hidden=!n,i.$config.hidden||((n=i._getGridWidthLimits())[0]&&s.config.grid_width<n[0]&&(s.config.grid_width=n[0]),n[1]&&s.config.grid_width>n[1]&&(s.config.grid_width=n[1]),t&&s.config.show_chart?(i.$config.width=s.config.grid_width-1,a?(i.$parent.$config.width=s.config.grid_width,i.$parent.$config.group&&s.$layout._syncCellSizes(i.$parent.$config.group,i.$parent.$config.width)):t&&!o.isChildOf(t.$task,r.$view)?(i.$config.original_grid_width||((n=s.skins[s.skin])&&n.config&&n.config.grid_width?i.$config.original_grid_width=n.config.grid_width:i.$config.original_grid_width=0),s.config.grid_width=i.$config.original_grid_width,i.$parent.$config.width=s.config.grid_width):(i.$parent._setContentSize(i.$config.width,null),s.$layout._syncCellSizes(i.$parent.$config.group,s.config.grid_width))):(t&&o.isChildOf(t.$task,r.$view)&&(i.$config.original_grid_width=s.config.grid_width),a||(i.$parent.$config.width=0))),a=!1)}),this._initScrollStateEvents(r)},_initScrollStateEvents:function(t){s._getVerticalScrollbar=this.getVerticalScrollbar,s._getHorizontalScrollbar=this.getHorizontalScrollbar;var e=this.getVerticalScrollbar(),n=this.getHorizontalScrollbar();e&&e.attachEvent("onScroll",function(t,e,n){var i=s.getScrollState();s.callEvent("onGanttScroll",[i.x,t,i.x,e])}),n&&n.attachEvent("onScroll",function(t,e,n){var i=s.getScrollState();s.callEvent("onGanttScroll",[t,i.y,e,i.y])}),t.attachEvent("onResize",function(){e&&!s.$scroll_ver&&(s.$scroll_ver=e.$scroll_ver),n&&!s.$scroll_hor&&(s.$scroll_hor=n.$scroll_hor)})},_findGridResizer:function(t,e){for(var n,i=t.getCellsByType("resizer"),r=!0,a=0;a<i.length;a++){var o=i[a];o._getSiblings();var s=o._behind,l=o._front;if(s&&s.$content===e||s.isChild&&s.isChild(e)){n=o,r=!0;break}if(l&&l.$content===e||l.isChild&&l.isChild(e)){n=o,r=!1;break}}return{resizer:n,gridFirst:r}},onInitialized:function(t){var a,o,e=s.$ui.getView("grid"),e=this._findGridResizer(t,e);e.resizer&&(o=e.gridFirst,(e=e.resizer).attachEvent("onResizeStart",function(t,e){var n,i=s.$ui.getView("grid"),r=i?i.$parent:null;return r&&(n=i._getGridWidthLimits(),i.$config.scrollable||(r.$config.minWidth=n[0]),r.$config.maxWidth=n[1]),a=o?t:e,s.callEvent("onGridResizeStart",[a])}),e.attachEvent("onResize",function(t,e){e=o?t:e;return s.callEvent("onGridResize",[a,e])}),e.attachEvent("onResizeEnd",function(t,e,n,i){e=o?t:e,n=o?n:i,i=s.$ui.getView("grid"),i=i?i.$parent:null;i&&(i.$config.minWidth=void 0);e=s.callEvent("onGridResizeEnd",[e,n]);return e&&(s.config.grid_width=n),e}))},onDestroyed:function(t){}}}},function(t,e,n){function i(_,f){var g,p,m,i,r,v=10,y=18;function k(){return{link_source_id:i,link_target_id:p,link_from_start:r,link_to_start:m,link_landing_area:g}}var t=(e=f.$services).getService("state"),e=e.getService("dnd");t.registerProvider("linksDnD",k);var b=new e(_.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:f.$root,selector:".gantt_link_point",preventDefault:!0});function w(t,e,n,i,r){var a,o,s,l,l=(o=i,s=a=t,l=f.getTaskPosition(s),s={x:l.left,y:l.top,width:l.width,height:l.height},o.rtl?(s.xEnd=s.x,s.x=s.xEnd+s.width):s.xEnd=s.x+s.width,s.yEnd=s.y+s.height,f.getTaskType(a.type)==f.config.types.milestone&&(a=_.getItemHeight(),a=Math.round(Math.sqrt(2*a*a))-2,s.x+=(o.rtl?1:-1)*(a/2),s.xEnd+=(o.rtl?-1:1)*(a/2),s.width=l.xEnd-l.x),s),s={x:l.x,y:l.y};e||(s.x=l.xEnd),s.y+=f.config.row_height/2;r=f.getTaskType(t.type)==f.config.types.milestone&&r?2:0;return n=n||0,i.rtl&&(n*=-1),s.x+=(e?-1:1)*n-r,s}function x(t){var e=k(),n=["gantt_link_tooltip"];e.link_source_id&&e.link_target_id&&(f.isLinkAllowed(e.link_source_id,e.link_target_id,e.link_from_start,e.link_to_start)?n.push("gantt_allowed_link"):n.push("gantt_invalid_link"));var i=f.templates.drag_link_class(e.link_source_id,e.link_from_start,e.link_target_id,e.link_to_start);i&&n.push(i);e="<div class='"+i+"'>"+f.templates.drag_link(e.link_source_id,e.link_from_start,e.link_target_id,e.link_to_start)+"</div>";t.innerHTML=e}function a(){i=r=p=null,m=!0}function $(t,e,n,i){var r=(b._direction&&b._direction.parentNode||(b._direction=document.createElement("div"),_.$task_links.appendChild(b._direction)),b._direction),a=k(),o=["gantt_link_direction"];f.templates.link_direction_class&&o.push(f.templates.link_direction_class(a.link_source_id,a.link_from_start,a.link_target_id,a.link_to_start));var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2));if(s=Math.max(0,s-3)){r.className=o.join(" ");var l=(i-e)/(n-t),a=Math.atan(l);2==T(t,n,e,i)?a+=Math.PI:3==T(t,n,e,i)&&(a-=Math.PI);var o=Math.sin(a),l=Math.cos(a),c=Math.round(e),d=Math.round(t),s=["-webkit-transform: rotate("+a+"rad)","-moz-transform: rotate("+a+"rad)","-ms-transform: rotate("+a+"rad)","-o-transform: rotate("+a+"rad)","transform: rotate("+a+"rad)","width:"+Math.round(s)+"px"];if(-1!=window.navigator.userAgent.indexOf("MSIE 8.0")){s.push('-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11 = '+l+",M12 = -"+o+",M21 = "+o+",M22 = "+l+",SizingMethod = 'auto expand')\"");var u=Math.abs(Math.round(t-n)),h=Math.abs(Math.round(i-e));switch(T(t,n,e,i)){case 1:c-=h;break;case 2:d-=u,c-=h;break;case 3:d-=u}}s.push("top:"+c+"px"),s.push("left:"+d+"px"),r.style.cssText=s.join(";")}}function T(t,e,n,i){return t<=e?i<=n?1:4:i<=n?2:3}b.attachEvent("onBeforeDragStart",f.bind(function(t,e){var n=e.target||e.srcElement;if(a(),f.getState("tasksDnd").drag_id)return!1;if(S.locateClassName(n,"gantt_link_point")){S.locateClassName(n,"task_start_date")&&(r=!0);e=f.locate(e);i=e;e=f.getTask(e);return f.isReadonly(e)?(a(),!1):(this._dir_start=w(e,!!r,0,_.$getConfig(),!0),!0)}return!1},this)),b.attachEvent("onAfterDragStart",f.bind(function(t,e){f.config.touch&&f.refreshData(),x(b.config.marker)},this)),b.attachEvent("onDragMove",f.bind(function(t,e){var n=b.config,i=(r=e,d=n.marker,l=b.getPosition(r),c=h=0,d&&(h=d.offsetWidth||0,c=d.offsetHeight||0),u={width:h,height:c},d={right:(r=f.$root).offsetWidth,bottom:r.offsetHeight},h=f.config.tooltip_offset_x||v,c=f.config.tooltip_offset_y||v,r=f.config.scroll_size||y,(r={y:l.y+c,x:l.x+h,bottom:l.y+u.height+c+r,right:l.x+u.width+h+r}).bottom>d.bottom&&(r.y=d.bottom-u.height-c),r.right>d.right&&(r.x=d.right-u.width-h),r);o=n.marker,a=i,o.style.left=a.x+"px",o.style.top=a.y+"px";var r,a,o,s=!!S.locateClassName(e,"gantt_link_control"),l=p,c=g,d=m,u=f.locate(e),h=!0;S.isChildOf(e.target||e.srcElement,f.$root)||(s=!1,u=null),s&&(h=!S.locateClassName(e,"task_end_date"),s=!!u),p=u,m=h,(g=s)?(r=f.getTask(u),i=_.$getConfig(),o=0,(a=S.locateClassName(e,"gantt_link_control"))&&(o=Math.floor(a.offsetWidth/2)),this._dir_end=w(r,!!m,o,i)):(this._dir_end=S.getRelativeEventPosition(e,_.$task_data),f.env.isEdge&&(this._dir_end.y+=window.scrollY));h=!(c==s&&l==u&&d==h);return h&&(l&&f.refreshTask(l,!1),u&&f.refreshTask(u,!1)),h&&x(n.marker),$(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),b.attachEvent("onDragEnd",f.bind(function(){var t,e=k();e.link_source_id&&e.link_target_id&&e.link_source_id!=e.link_target_id&&(t=f._get_link_type(e.link_from_start,e.link_to_start),(t={source:e.link_source_id,target:e.link_target_id,type:t}).type&&f.isLinkAllowed(t)&&f.callEvent("onLinkCreated",[t])&&f.addLink(t)),a(),f.config.touch?f.refreshData():(e.link_source_id&&f.refreshTask(e.link_source_id,!1),e.link_target_id&&f.refreshTask(e.link_target_id,!1)),b._direction&&(b._direction.parentNode&&b._direction.parentNode.removeChild(b._direction),b._direction=null)},this)),f.attachEvent("onGanttRender",f.bind(function(){b._direction&&$(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))}var S=n(1);t.exports={createLinkDND:function(){return{init:i}}}},function(t,e,n){var h=n(1),_=n(0),a=n(41),o=n(3);t.exports={createTaskDND:function(){var n;return{extend:function(t){t.roundTaskDates=function(t){n.round_task_dates(t)}},init:function(t,e){return d=t,r=(u=e).$services,n={drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=u._createDomEventScope(),this.clear_drag_state();var t=u.config.drag_mode;this.set_actions(),r.getService("state").registerProvider("tasksDnd",_.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var e,n={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(e in this._events)for(var i in t)this._events[e][i]=n[e];this._handlers[t.move]=this._move,this._handlers[t.resize]=this._resize,this._handlers[t.progress]=this._resize_progress},set_actions:function(){var t=d.$task_data;this._domEvents.attach(t,"mousemove",u.bind(function(t){this.on_mouse_move(t)},this)),this._domEvents.attach(t,"mousedown",u.bind(function(t){this.on_mouse_down(t)},this)),this._domEvents.attach(document.body,"mouseup",u.bind(function(t){this.on_mouse_up(t)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(t,e,n){var i=d.$getConfig(),r=this._drag_task_coords(t,n);n.left?(t.start_date=u.dateFromPos(r.start+e),t.start_date||(t.start_date=new Date(u.getState().min_date))):(t.end_date=u.dateFromPos(r.end+e),t.end_date||(t.end_date=new Date(u.getState().max_date)));e=this._calculateMinDuration(i.min_duration,i.duration_unit);t.end_date-t.start_date<i.min_duration&&(n.left?t.start_date=u.calculateEndDate(t.end_date,-e,i.duration_unit,t):t.end_date=u.calculateEndDate(t.start_date,e,i.duration_unit,t)),u._init_task_timing(t)},_calculateMinDuration:function(t,e){return Math.ceil(t/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[e])},_resize_progress:function(t,e,n){var i=this._drag_task_coords(t,n),n=d.$getConfig().rtl?i.start-n.pos.x:n.pos.x-i.start,n=Math.max(0,n);t.progress=Math.min(1,n/Math.abs(i.end-i.start))},_find_max_shift:function(t,e){var n,i;for(i in t){var r=t[i],a=u.getTask(r.id),o=this._drag_task_coords(a,r),a=u.posFromDate(new Date(u.getState().min_date)),r=u.posFromDate(new Date(u.getState().max_date));o.end+e>r?((r=r-o.end)<n||void 0===n)&&(n=r):o.start+e<a&&((n<(o=a-o.start)||void 0===n)&&(n=o))}return n},_move:function(t,e,n){var i=this._drag_task_coords(t,n),n=u.dateFromPos(i.start+e),e=u.dateFromPos(i.end+e);n?e?(t.start_date=n,t.end_date=e):(t.end_date=new Date(u.getState().max_date),t.start_date=u.dateFromPos(u.posFromDate(t.end_date)-(i.end-i.start))):(t.start_date=new Date(u.getState().min_date),t.end_date=u.dateFromPos(u.posFromDate(t.start_date)+(i.end-i.start)))},_drag_task_coords:function(t,e){return{start:e.obj_s_x=e.obj_s_x||u.posFromDate(t.start_date),end:e.obj_e_x=e.obj_e_x||u.posFromDate(t.end_date)}},_mouse_position_change:function(t,e){var n=t.x-e.x,e=t.y-e.y;return Math.sqrt(n*n+e*e)},_is_number:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},on_mouse_move:function(t){var e,n,i;this.drag.start_drag&&(e=h.getRelativeEventPosition(t,u.$task_data),n=this.drag.start_drag.start_x,i=this.drag.start_drag.start_y,(50<Date.now()-this.drag.timestamp||this._is_number(n)&&this._is_number(i)&&20<this._mouse_position_change({x:n,y:i},e))&&this._start_dnd(t)),this.drag.mode&&a(this,40)&&this._update_on_move(t)},_update_item_on_move:function(t,e,n,i,r){var a=u.getTask(e),o=u.mixin({},a),s=u.mixin({},a);this._handlers[n].apply(this,[s,t,i]),u.mixin(a,s,!0),u.callEvent("onTaskDrag",[a.id,n,s,o,r]),u.mixin(a,s,!0),u.refreshTask(e)},_update_on_move:function(t){var e=this.drag,n=d.$getConfig();if(e.mode){var i=h.getRelativeEventPosition(t,d.$task_data);if(!e.pos||e.pos.x!=i.x){e.pos=i;var r=u.dateFromPos(i.x);if(r&&!isNaN(r.getTime())){var a=i.x-e.start_x,i=u.getTask(e.id);if(this._handlers[e.mode]){if(e.mode===n.drag_mode.move){var o={};this._isMultiselect()&&0<=u.getSelectedTasks().indexOf(e.id)&&(o=this.dragMultiple),u.isSummaryTask(i)&&u.config.drag_project&&((l={})[e.id]=_.copy(e),o=_.mixin(l,this.dragMultiple));var s,l=this._find_max_shift(o,a);for(s in void 0!==l&&(a=l),this._update_item_on_move(a,e.id,e.mode,e,t),o){var c=o[s];this._update_item_on_move(a,c.id,c.mode,c,t)}}else this._update_item_on_move(a,e.id,e.mode,e,t);u._update_parents(e.id)}}}}},on_mouse_down:function(t,e){if(2!=t.button||void 0===t.button){var n=d.$getConfig(),i=u.locate(t),r=null;if(u.isTaskExists(i)&&(r=u.getTask(i)),!u.isReadonly(r)&&!this.drag.mode){this.clear_drag_state(),e=e||t.target||t.srcElement;var a=h.getClassName(e),o=this._get_drag_mode(a,e);if(!a||!o)return e.parentNode?this.on_mouse_down(t,e.parentNode):void 0;if(o)if(o.mode&&o.mode!=n.drag_mode.ignore&&n["drag_"+o.mode]){if(i=u.locate(e),r=u.copy(u.getTask(i)||{}),u.isReadonly(r))return this.clear_drag_state(),!1;!u.isSummaryTask(r)||n.drag_project||o.mode==n.drag_mode.progress?(o.id=i,i=h.getRelativeEventPosition(t,u.$task_data),o.start_x=i.x,o.start_y=i.y,o.obj=r,this.drag.start_drag=o,this.drag.timestamp=Date.now()):this.clear_drag_state()}else this.clear_drag_state();else if(u.checkEvent("onMouseDown")&&u.callEvent("onMouseDown",[a.split(" ")[0]])&&e.parentNode)return this.on_mouse_down(t,e.parentNode)}}},_fix_dnd_scale_time:function(t,e){var n,i,r=d.$getConfig(),a=u.getScale().unit,o=u.getScale().step;function s(t){var e;u.config.correct_work_time&&(e=d.$getConfig(),u.isWorkTime(t.start_date,void 0,t)||(t.start_date=u.calculateEndDate({start_date:t.start_date,duration:-1,unit:e.duration_unit,task:t})))}r.round_dnd_dates||(a="minute",o=r.time_step),e.mode==r.drag_mode.resize?e.left?(t.start_date=u.roundDate({date:t.start_date,unit:a,step:o}),s(t)):(t.end_date=u.roundDate({date:t.end_date,unit:a,step:o}),n=t,u.config.correct_work_time&&(i=d.$getConfig(),u.isWorkTime(new Date(n.end_date-1),void 0,n)||(n.end_date=u.calculateEndDate({start_date:n.end_date,duration:1,unit:i.duration_unit,task:n})))):e.mode==r.drag_mode.move&&(t.start_date=u.roundDate({date:t.start_date,unit:a,step:o}),s(t),t.end_date=u.calculateEndDate(t))},_fix_working_times:function(t,e){var n=d.$getConfig();(e=e||{mode:n.drag_mode.move}).mode==n.drag_mode.resize?e.left?t.start_date=u.getClosestWorkTime({date:t.start_date,dir:"future",task:t}):t.end_date=u.getClosestWorkTime({date:t.end_date,dir:"past",task:t}):e.mode==n.drag_mode.move&&u.correctTaskWorkTime(t)},_finalize_mouse_up:function(t,e,n,i){var r=u.getTask(t);e.work_time&&e.correct_work_time&&this._fix_working_times(r,n),this._fix_dnd_scale_time(r,n),this._fireEvent("before_finish",n.mode,[t,n.mode,u.copy(n.obj),i])?(e=t,u._init_task_timing(r),this.clear_drag_state(),u.updateTask(r.id),this._fireEvent("after_finish",n.mode,[e,n.mode,i])):(this.clear_drag_state(),t==n.id&&(n.obj._dhx_changed=!1,u.mixin(r,n.obj,!0)),u.refreshTask(r.id))},on_mouse_up:function(t){var e=this.drag;if(e.mode&&e.id){var n=d.$getConfig(),i=u.getTask(e.id),r=this.dragMultiple;if(e.mode===n.drag_mode.move&&(u.isSummaryTask(i)&&n.drag_project||this._isMultiselect()))for(var a in r)this._finalize_mouse_up(r[a].id,n,r[a],t);this._finalize_mouse_up(e.id,n,e,t)}this.clear_drag_state()},_get_drag_mode:function(t,e){var n=d.$getConfig().drag_mode,i={mode:null,left:null};switch((t||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":i.mode=n.move;break;case"gantt_task_drag":i.mode=n.resize;var r=e.getAttribute("data-bind-property");i.left="start_date"==r;break;case"gantt_task_progress_drag":i.mode=n.progress;break;case"gantt_link_control":case"gantt_link_point":i.mode=n.ignore;break;default:i=null}return i},_start_dnd:function(t){var n=this.drag=this.drag.start_drag;delete n.start_drag;var i=d.$getConfig(),e=n.id;i["drag_"+n.mode]&&u.callEvent("onBeforeDrag",[e,n.mode,t])&&this._fireEvent("before_start",n.mode,[e,n.mode,t])?(delete n.start_drag,t=u.getTask(e),u.isReadonly(t)?this.clear_drag_state():(!this._isMultiselect()||0<=(e=u.getSelectedTasks()).indexOf(n.id)&&o.forEach(e,u.bind(function(t){var e=u.getTask(t);u.isSummaryTask(e)&&u.config.drag_project&&n.mode==i.drag_mode.move&&this._addSubtasksToDragMultiple(e.id),this.dragMultiple[t]=u.mixin({id:e.id,obj:u.copy(e)},this.drag)},this)),u.isSummaryTask(t)&&u.config.drag_project&&n.mode==i.drag_mode.move&&this._addSubtasksToDragMultiple(t.id),u.callEvent("onTaskDragStart",[]))):this.clear_drag_state()},_fireEvent:function(t,e,n){u.assert(this._events[t],"Invalid stage:{"+t+"}");t=this._events[t][e];return u.assert(t,"Unknown after drop mode:{"+e+"}"),u.assert(n,"Invalid event arguments"),!u.checkEvent(t)||u.callEvent(t,n)},round_task_dates:function(t){var e=this.drag,n=d.$getConfig(),e=e||{mode:n.drag_mode.move};this._fix_dnd_scale_time(t,e)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return u.config.drag_multiple&&!!(u.getSelectedTasks&&0<u.getSelectedTasks().length)},_addSubtasksToDragMultiple:function(t){u.eachTask(function(t){this.dragMultiple[t.id]=u.mixin({id:t.id,obj:u.copy(t)},this.drag)},t,this)}},(t._tasks_dnd=n).init(e);var d,u,r},destructor:function(){n&&(n.destructor(),n=null)}}}}},function(t,e,r){var a=r(0),o=r(73),s=r(72),l=r(1);t.exports=function(n){var i=n.$services;return{onCreated:function(t){var e=t.$config;e.bind=a.defined(e.bind)?e.bind:"task",e.bindLinks=a.defined(e.bindLinks)?e.bindLinks:"link",t._linksDnD=s.createLinkDND(),t._tasksDnD=o.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=r(20)(n)},onInitialized:function(t){this._attachDomEvents(n),this._attachStateProvider(n,t),t._tasksDnD.init(t,n),t._linksDnD.init(t,n),"timeline"==t.$config.id&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(n),this._clearStateProvider(n),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){n.$task=t.$task,n.$task_scale=t.$task_scale,n.$task_data=t.$task_data,n.$task_bg=t.$task_bg,n.$task_links=t.$task_links,n.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(i){function r(t,e){var n;t&&this.callEvent("onLinkDblClick",[t,e])&&(e=this.getLink(t),this.isReadonly(e)||(n=this.locale.labels.link+" "+this.templates.link_description(this.getLink(t))+" "+this.locale.labels.confirm_link_deleting,window.setTimeout(function(){i._dhtmlx_confirm(n,"",function(){i.deleteLink(t)})},this.config.touch?300:1)))}this._mouseDelegates.delegate("click","gantt_task_link",i.bind(function(t,e){var n=this.locate(t,this.config.link_attribute);n&&this.callEvent("onLinkClick",[n,t])},i),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",i.bind(function(t,e){var n=l.getRelativeEventPosition(t,i.$task_data),n=i.dateFromPos(n.x),n=Math.floor(i.columnIndexByDate(n)),n=i.getScale().trace_x[n];i.callEvent("onScaleClick",[t,n])},i),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",i.bind(function(t,e,n){e=this.locate(t,i.config.link_attribute),r.call(this,e,t)},i),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",i.bind(function(t,e,n){e=this.locate(t);var i=this.getTask(e),e=null;return n.parentNode&&l.getClassName(n.parentNode)&&(e=(-1<l.getClassName(n.parentNode).indexOf("_left")?i.$target:i.$source)[0]),e&&r.call(this,e,t),!1},i),this.$task)},_attachStateProvider:function(t,e){var n=e;i.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:n._tasks?n._tasks.unit:void 0,scale_step:n._tasks?n._tasks.step:void 0}})},_clearStateProvider:function(){i.getService("state").unregisterProvider("tasksTimeline")}}}},function(t,e,n){var _=n(1);function f(t,e){var n=_.getNodePosition(e.$grid_data);return t.x+=n.x-e.$grid.scrollLeft,t.y+=n.y-e.$grid_data.scrollTop,t}t.exports={removeLineHighlight:function(t){t.markerLine&&t.markerLine.parentNode&&t.markerLine.parentNode.removeChild(t.markerLine),t.markerLine=null},highlightPosition:function(t,e,n){var i=function(t,e){var n=_.getNodePosition(e.$grid_data),i=_.getRelativeEventPosition(t,e.$grid_data),r=e.$config.rowStore,t=n.x,i=i.y-10,e=e.$getConfig();i<n.y&&(i=n.y);r=r.countVisible()*e.row_height;return i>n.y+r-e.row_height&&(i=n.y+r-e.row_height),n.x=t,n.y=i,n}(t,n);e.marker.style.left=i.x+9+"px",e.marker.style.top=i.y+"px";var r,a,o,s,l,c,d,u,h=e.markerLine;h||((h=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",h.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",h.style.pointerEvents="none"),t.child?(s=h,l=n,c=t.targetParent,d=f({x:0,y:l.getItemTop(c)},l),u=l.$grid_data.getBoundingClientRect().bottom,s.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",s.style.width=l.$grid_data.offsetWidth+"px",s.style.top=d.y+"px",s.style.left=d.x+"px",s.style.height=l.getItemHeight(c)+"px",d.y>u&&(s.style.top=u+"px")):(r=h,i=t,o=(c=l=n).$config.rowStore,d={x:0,y:0},s=c.$grid_data.querySelector(".gantt_tree_indent"),u=15,t=0,s&&(u=s.offsetWidth),i.targetId!==o.$getRootId()&&(n=c.getItemTop(i.targetId),s=c.getItemHeight(i.targetId),t=o.exists(i.targetId)?o.calculateItemLevel(o.getItem(i.targetId)):0,i.prevSibling?d.y=n:i.nextSibling?(a=0,o.eachItem(function(t){-1!==o.getIndexById(t.id)&&a++},i.targetId),d.y=n+s+a*s):(d.y=n+s,t+=1)),d.x=40+t*u,d.width=Math.max(c.$grid_data.offsetWidth-d.x,0),d=f(d,c),c=l.$grid_data.getBoundingClientRect().bottom,r.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",r.style.left=d.x+"px",r.style.height="4px",l=d.y-2,r.style.top=l+"px",r.style.width=d.width+"px",c<l&&(r.style.top=c+"px")),e.markerLine||(document.body.appendChild(h),e.markerLine=h)}}},function(t,e,n){var a=n(15);t.exports=function(t,e,n,i,r){return e!==r.$getRootId()?n<.25?a.prevSiblingTarget(t,e,r):!(.6<n)||r.hasChild(e)&&r.getItem(e).$open?a.firstChildTarget(t,e,r):a.nextSiblingTarget(t,e,r):(e=r.$getRootId(),r.hasChild(e)&&0<=i?a.lastChildTarget(t,e,r):a.firstChildTarget(t,e,r))}},function(t,e,n){var u=n(15);function r(t,e,n,i,r){for(var a=e;i.exists(a);){var o=i.calculateItemLevel(i.getItem(a));if((o===n||o===n-1)&&-1<i.getBranchIndex(a))break;a=r?i.getPrev(a):i.getNext(a)}return i.exists(a)?i.calculateItemLevel(i.getItem(a))===n?r?u.nextSiblingTarget(t,a,i):u.prevSiblingTarget(t,a,i):u.firstChildTarget(t,a,i):null}function h(t,e,n,i){return r(t,e,n,i,!0)}function _(t,e,n,i){return r(t,e,n,i,!1)}t.exports=function(t,e,n,i,r,a){var o,s,l,c,d;return e!==r.$getRootId()?(o=r.getItem(e),(s=r.calculateItemLevel(o))===a?(l=r.getPrevSibling(e),n<.5&&!l?u.prevSiblingTarget(t,e,r):(n<.5&&(e=l),u.nextSiblingTarget(t,e,r))):a<s?(r.eachParent(function(t){r.calculateItemLevel(t)===a&&(e=t.id)},o),h(t,e,a,r)):(c=h(t,e,a,r),d=_(t,e,a,r),n<.5?c:d)):(c=r.$getRootId(),d=r.getChildren(c),u.createDropTargetObject(),d.length&&0<=i?h(t,function(t){for(var e=t.getNext();t.exists(e);){var n=t.getNext(e);if(!t.exists(n))return e;e=n}return null}(r),a,r):_(t,c,a,r))}},function(t,e,n){var d=n(1),u=n(15),h=n(77),_=n(76),f=n(75);t.exports={init:function(s,l){var c,t=s.$services.getService("dnd");function r(t){return d.locateAttribute(t,l.$config.item_attribute)}l.$config.bind&&s.getDatastore(l.$config.bind)&&(c=new t(l.$grid_data,{updates_per_second:60}),s.defined(l.$getConfig().dnd_sensitivity)&&(c.config.sensitivity=l.$getConfig().dnd_sensitivity),c.attachEvent("onBeforeDragStart",s.bind(function(t,e){var n=r(e);if(!n)return!1;if(s.hideQuickInfo&&s._hideQuickInfo(),d.closest(e.target,".gantt_grid_editor_placeholder"))return!1;var i=n.getAttribute(l.$config.item_attribute),n=l.$config.rowStore.getItem(i);return!s.isReadonly(n)&&(c.config.initial_open_state=n.$open,!!s.callEvent("onRowDragStart",[i,e.target||e.srcElement,e])&&void 0)},s)),c.attachEvent("onAfterDragStart",s.bind(function(t,e){var n=r(e);c.config.marker.innerHTML=n.outerHTML;e=c.config.marker.firstChild;e&&(c.config.marker.style.opacity=.4,e.style.position="static",e.style.pointerEvents="none"),c.config.id=n.getAttribute(l.$config.item_attribute);e=l.$config.rowStore,n=e.getItem(c.config.id);c.config.level=e.calculateItemLevel(n),c.config.drop_target=u.createDropTargetObject({targetParent:e.getParent(n.id),targetIndex:e.getBranchIndex(n.id),targetId:n.id,nextSibling:!0}),n.$open=!1,n.$transparent=!0,this.refreshData()},s)),c.attachEvent("onDragMove",s.bind(function(t,e){var a,n,i,r,o,r=(a=e,n=function(){var t=d.getRelativeEventPosition(a,l.$grid_data).y,e=l.$config.rowStore,t=t||0,n=l.$state.scrollTop||0,i=s.$grid_data.getBoundingClientRect().height+n,r=n,n=l.$state.scrollTop/l.getItemHeight(),n=n-Math.floor(n);.1<n&&n<.9&&(i-=l.getItemHeight()*n,r+=l.getItemHeight()*(1-n)),i<=t?t=i:t<=r&&(t=r);t=Math.floor(t/l.getItemHeight());return t>e.countVisible()-1?e.$getRootId():e.getIdByIndex(t)}(),i=null,r=l.$config.rowStore,o=!l.$getConfig().order_branch_free,e=d.getRelativeEventPosition(a,l.$grid_data).y,n!==r.$getRootId()&&(i=(e-l.getItemTop(n))/l.getItemHeight()),o?h(c.config.id,n,i,e,r,c.config.level):_(c.config.id,n,i,e,r));return r&&!1!==s.callEvent("onBeforeRowDragMove",[c.config.id,r.targetParent,r.targetIndex])||(r=u.createDropTargetObject(c.config.drop_target)),f.highlightPosition(r,c.config,l),c.config.drop_target=r,this.callEvent("onRowDragMove",[c.config.id,r.targetParent,r.targetIndex]),!0},s)),c.attachEvent("onDragEnd",s.bind(function(){var t=l.$config.rowStore,e=t.getItem(c.config.id);f.removeLineHighlight(c.config),e.$transparent=!1,e.$open=c.config.initial_open_state;var n=c.config.drop_target;!1===this.callEvent("onBeforeRowDragEnd",[c.config.id,n.targetParent,n.targetIndex])?e.$drop_target=null:(t.move(c.config.id,n.targetIndex,n.targetParent),s.render(),this.callEvent("onRowDragEnd",[c.config.id,n.targetParent,n.targetIndex])),t.refresh(e.id)},s)))}}},function(t,e,n){var a=n(1);t.exports={init:function(_,f){var g,t=_.$services.getService("dnd");function r(t){return a.locateAttribute(t,f.$config.item_attribute)}function p(){return _.getDatastore(f.$config.bind)}f.$config.bind&&_.getDatastore(f.$config.bind)&&(g=new t(f.$grid_data,{updates_per_second:60}),_.defined(f.$getConfig().dnd_sensitivity)&&(g.config.sensitivity=f.$getConfig().dnd_sensitivity),g.attachEvent("onBeforeDragStart",_.bind(function(t,e){var n=r(e);if(!n)return!1;if(_.hideQuickInfo&&_._hideQuickInfo(),a.closest(e.target,".gantt_grid_editor_placeholder"))return!1;var i=n.getAttribute(f.$config.item_attribute),n=p().getItem(i);return!_.isReadonly(n)&&(g.config.initial_open_state=n.$open,!!_.callEvent("onRowDragStart",[i,e.target||e.srcElement,e])&&void 0)},_)),g.attachEvent("onAfterDragStart",_.bind(function(t,e){var n=r(e);g.config.marker.innerHTML=n.outerHTML;e=g.config.marker.firstChild;e&&(e.style.position="static"),g.config.id=n.getAttribute(f.$config.item_attribute);e=p(),n=e.getItem(g.config.id);g.config.index=e.getBranchIndex(g.config.id),g.config.parent=n.parent,n.$open=!1,n.$transparent=!0,this.refreshData()},_)),g.lastTaskOfLevel=function(t){for(var e=null,n=p().getItems(),i=0,r=n.length;i<r;i++)n[i].$level==t&&(e=n[i]);return e?e.id:null},g._getGridPos=_.bind(function(t){var e=a.getNodePosition(f.$grid_data),n=p(),i=e.x,r=t.pos.y-10,t=f.$getConfig();r<e.y&&(r=e.y);n=n.countVisible()*t.row_height;return r>e.y+n-t.row_height&&(r=e.y+n-t.row_height),e.x=i,e.y=r,e},_),g._getTargetY=_.bind(function(t){var e=a.getNodePosition(f.$grid_data),n=f.$state.scrollTop||0,i=_.$grid_data.getBoundingClientRect().height+n,e=t.pageY-e.y+n;return i<e?e=i:e<n&&(e=n),e},_),g._getTaskByY=_.bind(function(t,e){var n=f.$getConfig(),i=p();t=t||0;n=Math.floor(t/n.row_height);return(n=e<n?n-1:n)>i.countVisible()-1?null:i.getIdByIndex(n)},_),g.attachEvent("onDragMove",_.bind(function(t,e){var n=_.$grid_data.getBoundingClientRect().height+(f.$state.scrollTop||0),i=g.config,r=g._getGridPos(e),a=f.$getConfig(),o=p();r.y<n?i.marker.style.top=r.y+"px":i.marker.style.top=n+"px",i.marker.style.left=r.x+10+"px";n=o.getItem(g.config.id),i=g._getTargetY(e),r=g._getTaskByY(i,o.getIndexById(n.id));function s(t,e){return!o.isChildOf(l.id,e.id)&&(t.$level==e.$level||a.order_branch_free)}if(o.exists(r)||(r=g.lastTaskOfLevel(a.order_branch_free?n.$level:0))==g.config.id&&(r=null),o.exists(r)){var l=o.getItem(r);if(o.getIndexById(l.id)*a.row_height+a.row_height/2<i){var c=o.getIndexById(l.id),e=o.getNext(l.id),r=o.getItem(e);if(r){if(r.id==n.id)return a.order_branch_free&&o.isChildOf(n.id,l.id)&&1==o.getChildren(l.id).length?void o.move(n.id,o.getBranchIndex(l.id)+1,o.getParent(l.id)):void 0;l=r}else if(e=o.getIdByIndex(c),s(r=o.getItem(e),n)&&r.id!=n.id)return void o.move(n.id,-1,o.getParent(r.id))}else if(a.order_branch_free&&l.id!=n.id&&s(l,n)){if(!o.hasChild(l.id))return l.$open=!0,void o.move(n.id,-1,l.id);if(o.getIndexById(l.id)||a.row_height/3<i)return}c=o.getIndexById(l.id);for(var d=o.getIdByIndex(c-1),u=o.getItem(d),h=1;(!u||u.id==l.id)&&0<=c-h;)d=o.getIdByIndex(c-h),u=o.getItem(d),h++;if(n.id==l.id)return;s(l,n)&&n.id!=l.id?o.move(n.id,0,0,l.id):l.$level!=n.$level-1||o.getChildren(l.id).length?u&&s(u,n)&&n.id!=u.id&&o.move(n.id,-1,o.getParent(u.id)):o.move(n.id,0,l.id)}return!0},_)),g.attachEvent("onDragEnd",_.bind(function(){var t=p(),e=t.getItem(g.config.id);e.$transparent=!1,e.$open=g.config.initial_open_state,!1===this.callEvent("onBeforeRowDragEnd",[g.config.id,g.config.parent,g.config.index])?(t.move(g.config.id,g.config.index,g.config.parent),e.$drop_target=null):this.callEvent("onRowDragEnd",[g.config.id,e.$drop_target]),_.render(),this.refreshData()},_)))}}},function(t,e,i){var r=i(0),a=i(79),o=i(78);t.exports=function(n){return{onCreated:function(t){t.$config=r.mixin(t.$config,{bind:"task"}),"grid"==t.$config.id&&(this.extendGantt(t),n.ext.inlineEditors=n.ext._inlineEditors.createEditors(t),n.ext.inlineEditors.init()),this._mouseDelegates=i(20)(n)},onInitialized:function(t){var e=t.$getConfig();e.order_branch&&("marker"==e.order_branch?o:a).init(t.$gantt,t),this.initEvents(t,n),"grid"==t.$config.id&&this.extendDom(t)},onDestroyed:function(t){"grid"==t.$config.id&&n.ext.inlineEditors.destructor(),this.clearEvents(t,n)},initEvents:function(l,c){this._mouseDelegates.delegate("click","gantt_row",c.bind(function(t,e,n){var i,r=l.$getConfig();null!==e&&(i=this.getTask(e),r.scroll_on_click&&!c._is_icon_open_click(t)&&this.showDate(i.start_date),c.callEvent("onTaskRowClick",[e,n]))},c),l.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",c.bind(function(t,e,n){var i=n.getAttribute("data-column-id");if(c.callEvent("onGridHeaderClick",[i,t])){var r=l.$getConfig();if("add"!=i){if(r.sort&&i){for(var a,o=i,s=0;s<r.columns.length;s++)if(r.columns[s].name==i){a=r.columns[s];break}a&&void 0!==a.sort&&!0!==a.sort&&!(o=a.sort)||(n="desc"==(n=this._sort&&this._sort.direction&&this._sort.name==i?this._sort.direction:"desc")?"asc":"desc",this._sort={name:i,direction:n},this.sort(o,"desc"==n))}}else c.$services.getService("mouseEvents").callHandler("click","gantt_add",l.$grid,[t,r.root_id])}},c),l.$grid),this._mouseDelegates.delegate("click","gantt_add",c.bind(function(t,e,n){if(!l.$getConfig().readonly)return this.createTask({},e||c.config.root_id),!1},c),l.$grid)},clearEvents:function(t,e){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(t){n.$grid=t.$grid,n.$grid_scale=t.$grid_scale,n.$grid_data=t.$grid_data},extendGantt:function(t){n.getGridColumns=n.bind(t.getGridColumns,t),t.attachEvent("onColumnResizeStart",function(){return n.callEvent("onColumnResizeStart",arguments)}),t.attachEvent("onColumnResize",function(){return n.callEvent("onColumnResize",arguments)}),t.attachEvent("onColumnResizeEnd",function(){return n.callEvent("onColumnResizeEnd",arguments)}),t.attachEvent("onColumnResizeComplete",function(t,e){n.config.grid_width=e})}}}},function(t,e,n){var i=n(18),r=n(6),C=n(17),E=n(16),a=n(26);t.exports=function(y){var k=a(y),b={},w={},x={};function $(t,e){t=b[t];t&&t[e]&&t[e].parentNode&&t[e].parentNode.removeChild(t[e])}function T(t,e,n,i,r,a,o){var s=x[t.id];s&&s.parentNode&&s.parentNode.removeChild(s);o=function(t,e,n,i){for(var r,a=e.getScale(),o=document.createElement("div"),s=C(a,i),l=s.start;l<=s.end;l++){var c=a.trace_x[l],d=a.trace_x[l+1]||y.date.add(c,a.step,a.unit),u=a.trace_x[l].valueOf(),h=Math.min(t[u]/n,1)||0;if(h<0)return null;var _=Math.min(t[d.valueOf()]/n,1)||0,f=(r=c,f=d,u=100*(1-(+(u=h)||0)),r=(c=e).posFromDate(r),c=c.posFromDate(f),(f=document.createElement("div")).className="gantt_histogram_hor_bar",f.style.top=u+"%",f.style.left=r+"px",f.style.width=c-r+1+"px",f);f&&o.appendChild(f);d=function(t,e,n){if(t===e)return null;var i=1-Math.max(t,e),t=Math.abs(t-e);return(e=document.createElement("div")).className="gantt_histogram_vert_bar",e.style.top=100*i+"%",e.style.height=100*t+"%",e.style.left=n+"px",e}(h,_,e.posFromDate(d));d&&o.appendChild(d)}return o}(n,r,a,o);return o&&(o.setAttribute("data-resource-id",t.id),o.setAttribute(r.$config.item_attribute,t.id),o.style.position="absolute",o.style.top=e.top+1+"px",o.style.height=i.row_height-1+"px",o.style.left=0),o}function S(t,e,n,i,r,a,o){var s=r.histogram_cell_class(a.start_date,a.end_date,t,a.tasks),l=r.histogram_cell_label(a.start_date,a.end_date,t,a.tasks),r=r.histogram_cell_allocated(a.start_date,a.end_date,t,a.tasks);if(s||l){a=document.createElement("div");return a.className=["gantt_histogram_cell",s].join(" "),a.setAttribute(o.$config.item_attribute,t.id),a.style.cssText=["left:"+e.left+"px","width:"+e.width+"px","height:"+(i.row_height-1)+"px","line-height:"+(i.row_height-1)+"px","top:"+(e.top+1)+"px"].join(";"),l=l&&"<div class='gantt_histogram_label'>"+l+"</div>",r&&(l="<div class='gantt_histogram_fill' style='height:"+100*Math.min(r/n||0,1)+"%;'></div>"+l),l&&(a.innerHTML=l),a}return null}return{render:function(t,e,n){var i=e.$getConfig(),r=e.$getTemplates(),a=e.getScale(),o=k(t,i.resource_property,a,e),s=[],l={},c=t.capacity||e.$config.capacity||24;b[t.id]={},w[t.id]=null,x[t.id]=null;for(var d=!!n,u=C(a,n),h=u.start;h<=u.end;h++){var _,f,g=o[h];!g||d&&!E(h,a,n,y)||(_=r.histogram_cell_capacity(g.start_date,g.end_date,t,g.tasks),l[g.start_date.valueOf()]=_||0,(g=S(t,f=e.getItemPosition(t,g.start_date,g.end_date),c,i,r,g,e))&&(s.push(g),b[t.id][h]=g))}var p=null;if(s.length){p=document.createElement("div");for(var m=0;m<s.length;m++)p.appendChild(s[m]);var v=T(t,f,l,i,e,c,n);v&&(p.appendChild(v),x[t.id]=v),w[t.id]=p}return p},update:function(t,e,n,i){var r=n.$getConfig(),a=n.$getTemplates(),o=n.getScale(),s=k(t,r.resource_property,o,n),l=t.capacity||n.$config.capacity||24,c={},d=!!i,u=C(o,i),h={};if(b&&b[t.id])for(var _ in b[t.id])h[_]=_;for(var f=u.start;f<=u.end;f++){var g,p,m=s[f];h[f]=!1,m&&(p=a.histogram_cell_capacity(m.start_date,m.end_date,t,m.tasks),c[m.start_date.valueOf()]=p||0,g=n.getItemPosition(t,m.start_date,m.end_date),!d||E(f,o,i,y)?(p=b[t.id])&&p[f]?p&&p[f]&&!p[f].parentNode&&e.appendChild(p[f]):(m=S(t,g,l,r,a,m,n))&&(e.appendChild(m),b[t.id][f]=m):$(t.id,f))}for(_ in h)!1!==h[_]&&$(t.id,_);var v=T(t,g,c,r,n,l,i);v&&(e.appendChild(v),x[t.id]=v)},getRectangle:i,getVisibleRange:r}}},function(t,e,n){var i=n(18),r=n(6),v=n(17),y=n(16),a=n(26);t.exports=function(f){var g=a(f),p={};function m(t,e,n,i,r){var a=n.resource_cell_class(e.start_date,e.end_date,t,e.tasks),o=n.resource_cell_value(e.start_date,e.end_date,t,e.tasks);if(a||o){n=r.getItemPosition(t,e.start_date,e.end_date),e=document.createElement("div");return e.setAttribute(r.$config.item_attribute,t.id),e.className=["gantt_resource_marker",a].join(" "),e.style.cssText=["left:"+n.left+"px","width:"+n.width+"px","height:"+(i.row_height-1)+"px","line-height:"+(i.row_height-1)+"px","top:"+n.top+"px"].join(";"),o&&(e.innerHTML=o),e}return null}function _(t,e){p[t]&&p[t][e]&&p[t][e].parentNode&&p[t][e].parentNode.removeChild(p[t][e])}return{render:function(t,e,n){var i=e.$getConfig(),r=e.$getTemplates(),a=e.getScale(),o=g(t,i.resource_property,e.getScale(),e),s=!!n,l=[];p[t.id]={};for(var c=v(a,n),d=c.start;d<=c.end;d++){var u=o[d];!u||s&&!y(d,a,n,f)||(u=m(t,u,r,i,e))&&(l.push(u),p[t.id][d]=u)}var h=null;if(l.length){h=document.createElement("div");for(var _=0;_<l.length;_++)h.appendChild(l[_])}return h},update:function(t,e,n,i){var r=n.$getConfig(),a=n.$getTemplates(),o=n.getScale(),s=g(t,r.resource_property,n.getScale(),n),l=v(o,i),c={};if(p&&p[t.id])for(var d in p[t.id])c[d]=d;for(var u=l.start;u<=l.end;u++){var h=s[u];c[u]=!1,h&&(y(u,o,i,f)?p[t.id]&&p[t.id][u]?p[t.id]&&p[t.id][u]&&!p[t.id][u].parentNode&&e.appendChild(p[t.id][u]):(h=m(t,h,a,r,n))&&(e.appendChild(h),p[t.id][u]=h):_(t.id,u))}for(d in c)!1!==c[d]&&_(t.id,d)},getRectangle:i,getVisibleRange:r}}},function(t,e,n){var b=n(3),i=n(30),r=n(6);t.exports=function(k){return{render:function(t,e,n){for(var i=e.getGridColumns(),r=e.$getConfig(),a=e.$getTemplates(),o=e.$config.rowStore,s=[],l=0;l<i.length;l++){var c,d,u=l==i.length-1,h=i[l];"add"==h.name?(c="<div "+(m=k._waiAria.gridAddButtonAttrString(h))+" class='gantt_add'></div>",d=""):(c=h.template?h.template(t):t[h.name],b.isDate(c)&&(c=a.date_grid(c,t,h.name)),null!=c||(c=""),c="<div class='gantt_tree_content'>"+(d=c)+"</div>");var _="gantt_cell"+(u?" gantt_last_cell":""),f=[];if(h.tree){_+=" gantt_cell_tree";for(var g=0;g<t.$level;g++)f.push(a.grid_indent(t));!o.hasChild(t.id)||k.isSplitTask(t)&&!k.config.open_split_tasks?(f.push(a.grid_blank(t)),f.push(a.grid_file(t))):(f.push(a.grid_open(t)),f.push(a.grid_folder(t)))}var p="width:"+(h.width-(u?1:0))+"px;";this.defined(h.align)&&(u={right:"flex-end",left:"flex-start",center:"center"}[h.align],p+="text-align:"+h.align+";justify-content:"+u+";");var m=k._waiAria.gridCellAttrString(h,d,t);f.push(c),p="<div class='"+_+"' data-column-index='"+l+"' data-column-name='"+h.name+"' style='"+p+"' "+m+">"+f.join("")+"</div>",s.push(p)}_=k.getGlobalTaskIndex(t.id)%2==0?"":" odd";_+=t.$transparent?" gantt_transparent":"",_+=t.$dataprocessor_class?" "+t.$dataprocessor_class:"",a.grid_row_class&&(y=a.grid_row_class.call(k,t.start_date,t.end_date,t))&&(_+=" "+y),o.isSelected(t.id)&&(_+=" gantt_selected");var v=document.createElement("div");v.className="gantt_row"+_+" gantt_row_"+k.getTaskType(t.type);var y=e.getItemHeight();return v.style.height=y+"px",v.style.lineHeight=y+"px",r.smart_rendering&&(v.style.position="absolute",v.style.left="0px",v.style.top=e.getItemTop(t.id)+"px"),e.$config.item_attribute&&(v.setAttribute(e.$config.item_attribute,t.id),v.setAttribute(e.$config.bind+"_id",t.id)),k._waiAria.taskRowAttr(t,v),v.innerHTML=s.join(""),v},update:null,getRectangle:i,getVisibleRange:r}}},function(t,e){t.exports=function(t,e,n,i){var r=n.$gantt.getTask(t.source),a=n.$gantt.getTask(t.target),o=n.$getConfig(),s=n.getItemTop(r.id),l=o.row_height,t=n.getItemTop(a.id),o=o.row_height;if(e.y>s+l&&e.y>t+o)return!1;if(e.y_end<t&&e.y_end<s)return!1;var c,t=n.posFromDate(r.start_date),s=n.posFromDate(r.end_date),r=n.posFromDate(a.start_date),a=n.posFromDate(a.end_date);return s<t&&(c=s,s=t,t=c),a<r&&(c=a,a=r,r=c),t+=-100,s+=100,r+=-100,a+=100,!(e.x>s&&e.x>a||e.x_end<t&&e.x_end<r)}},function(t,e,n){var i=n(84);t.exports=function(d){var u={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(t){this.current_pos=d.copy(t)},get_lines:function(t){this.clear(),this.point(t[0]);for(var e=1;e<t.length;e++)this.line_to(t[e]);return this.get_path()},line_to:function(t){var e=d.copy(t),t=this.current_pos,t=this._get_line(t,e);this.path.push(t),this.current_pos=e},get_path:function(){return this.path},get_wrapper_sizes:function(t,e){var n,e=e.$getConfig(),i=e.link_wrapper_width,r=t.y+(e.row_height-i)/2;switch(t.direction){case this.dirs.left:n={top:r,height:i,lineHeight:i,left:t.x-t.size-i/2,width:t.size+i};break;case this.dirs.right:n={top:r,lineHeight:i,height:i,left:t.x-i/2,width:t.size+i};break;case this.dirs.up:n={top:r-t.size,lineHeight:t.size+i,height:t.size+i,left:t.x-i/2,width:i};break;case this.dirs.down:n={top:r,lineHeight:t.size+i,height:t.size+i,left:t.x-i/2,width:i}}return n},get_line_sizes:function(t,e){var n,e=e.$getConfig(),i=e.link_line_width,r=e.link_wrapper_width,a=t.size+i;switch(t.direction){case this.dirs.left:case this.dirs.right:n={height:i,width:a,marginTop:(r-i)/2,marginLeft:(r-i)/2};break;case this.dirs.up:case this.dirs.down:n={height:a,width:i,marginTop:(r-i)/2,marginLeft:(r-i)/2}}return n},render_line:function(t,e,n){var i=this.get_wrapper_sizes(t,n),r=document.createElement("div");r.style.cssText=["top:"+i.top+"px","left:"+i.left+"px","height:"+i.height+"px","width:"+i.width+"px"].join(";"),r.className="gantt_line_wrapper";i=this.get_line_sizes(t,n),n=document.createElement("div");return n.style.cssText=["height:"+i.height+"px","width:"+i.width+"px","margin-top:"+i.marginTop+"px","margin-left:"+i.marginLeft+"px"].join(";"),n.className="gantt_link_line_"+t.direction,r.appendChild(n),r},_get_line:function(t,e){var n=this.get_direction(t,e),i={x:t.x,y:t.y,direction:this.get_direction(t,e)};return n==this.dirs.left||n==this.dirs.right?i.size=Math.abs(t.x-e.x):i.size=Math.abs(t.y-e.y),i},get_direction:function(t,e){return e.x<t.x?this.dirs.left:e.x>t.x?this.dirs.right:e.y>t.y?this.dirs.down:this.dirs.up}},h={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(t){return t?(this.path.push(d.copy(t)),t):this.current()},point_to:function(t,e,n){n=n?{x:n.x,y:n.y}:d.copy(this.point());var i=u.dirs;switch(t){case i.left:n.x-=e;break;case i.right:n.x+=e;break;case i.up:n.y-=e;break;case i.down:n.y+=e}return this.point(n)},get_points:function(t,e){var n=this.get_endpoint(t,e),i=d.config,r=n.e_y-n.y,a=n.e_x-n.x,o=u.dirs;this.clear(),this.point({x:n.x,y:n.y});var s,l=2*i.link_arrow_size,t=this.get_line_type(t,e.$getConfig()),e=n.e_x>n.x;return t.from_start&&t.to_start?(this.point_to(o.left,l),e?(this.point_to(o.down,r),this.point_to(o.right,a)):(this.point_to(o.right,a),this.point_to(o.down,r)),this.point_to(o.right,l)):!t.from_start&&t.to_start?(e=n.e_x>n.x+2*l,this.point_to(o.right,l),e?(a-=l,this.point_to(o.down,r),this.point_to(o.right,a)):(a-=2*l,s=0<r?1:-1,this.point_to(o.down,s*(i.row_height/2)),this.point_to(o.right,a),this.point_to(o.down,s*(Math.abs(r)-i.row_height/2)),this.point_to(o.right,l))):t.from_start||t.to_start?t.from_start&&!t.to_start&&(e=n.e_x>n.x-2*l,this.point_to(o.left,l),e?(a+=2*l,s=0<r?1:-1,this.point_to(o.down,s*(i.row_height/2)),this.point_to(o.right,a),this.point_to(o.down,s*(Math.abs(r)-i.row_height/2)),this.point_to(o.left,l)):(a+=l,this.point_to(o.down,r),this.point_to(o.right,a))):(this.point_to(o.right,l),e?(this.point_to(o.right,a),this.point_to(o.down,r)):(this.point_to(o.down,r),this.point_to(o.right,a)),this.point_to(o.left,l)),this.path},get_line_type:function(t,e){var n=e.links,i=!1,r=!1;return t.type==n.start_to_start?i=r=!0:t.type==n.finish_to_finish?i=r=!1:t.type==n.finish_to_start?r=!(i=!1):t.type==n.start_to_finish?r=!(i=!0):d.assert(!1,"Invalid link type"),e.rtl&&(i=!i,r=!r),{from_start:i,to_start:r}},get_endpoint:function(t,e){var n=e.$getConfig(),i=this.get_line_type(t,n),r=i.from_start,n=i.to_start,i=d.getTask(t.source),t=d.getTask(t.target),i=a(i,e),e=a(t,e);return{x:r?i.left:i.left+i.width,e_x:n?e.left:e.left+e.width,y:i.top,e_y:e.top}}};function a(t,e){var n=e.$getConfig(),e=e.getItemPosition(t);return d.getTaskType(t.type)==n.types.milestone&&(n=d.getTaskHeight(),n=Math.sqrt(2*n*n),e.left-=n/2,e.width=n),e}return{render:function(t,l){var e=l.$getConfig(),n=h.get_endpoint(t,l),i=n.e_y-n.y;if(!(n.e_x-n.x||i))return null;var r=h.get_points(t,l),a=u.get_lines(r,l),o=document.createElement("div"),n="gantt_task_link";t.color&&(n+=" gantt_link_inline_color");i=d.templates.link_class?d.templates.link_class(t):"";i&&(n+=" "+i),e.highlight_critical_path&&d.isCriticalLink&&d.isCriticalLink(t)&&(n+=" gantt_critical_link"),o.className=n,l.$config.link_attribute&&(o.setAttribute(l.$config.link_attribute,t.id),o.setAttribute("link_id",t.id));for(var s=0;s<a.length;s++){s==a.length-1&&(a[s].size-=e.link_arrow_size);var c=u.render_line(a[s],a[s+1],l);t.color&&(c.firstChild.style.backgroundColor=t.color),o.appendChild(c)}n=a[a.length-1].direction,n=function(t,e){var n=l.$getConfig(),i=document.createElement("div"),r=t.y,a=t.x,o=n.link_arrow_size,s=n.row_height,n="gantt_link_arrow gantt_link_arrow_"+e;switch(e){case u.dirs.right:r-=(o-s)/2,a-=o;break;case u.dirs.left:r-=(o-s)/2;break;case u.dirs.up:a-=o;break;case u.dirs.down:r+=2*o,a-=o}return i.style.cssText=["top:"+r+"px","left:"+a+"px"].join(";"),i.className=n,i}(r[r.length-1],n);return t.color&&(n.style.borderColor=t.color),o.appendChild(n),d._waiAria.linkAttr(t,o),o},update:null,isInViewPort:i}}},function(t,e,n){var i=n(18),f=n(12),r=n(6),k=n(17),c=n(16);t.exports=function(_){var g={},p={};function m(t,e){g[t]&&g[t][e]&&g[t][e].parentNode&&g[t][e].parentNode.removeChild(g[t][e])}function v(t){var e,t=t.$getTemplates();return void 0!==t.task_cell_class?(e=t.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):e=t.timeline_cell_class,e}function y(t,e,n,i,r,a,o){var s=t.width[e],l="";if(c(e,t,i,_)){a=a(n,t.trace_x[e]);if(o.static_background&&(!o.static_background_cells||!a))return null;if(g[n.id][e])return p[n.id][e]=e,g[n.id][e];o=document.createElement("div");return o.style.width=s+"px",l="gantt_task_cell"+(e==r-1?" gantt_last_cell":""),a&&(l+=" "+a),o.className=l,o.style.position="absolute",o.style.left=t.left[e]+"px",g[n.id][e]=o,p[n.id][e]=e,o}return null}return{render:function(t,e,n){var i=e.$getConfig(),r=e.$getTemplates(),a=e.getScale(),o=a.count;if(i.static_background&&!i.static_background_cells)return null;var s=document.createElement("div"),l=v(e),c=n&&i.smart_rendering&&!f(_)?k(a,n.x):{start:0,end:o-1};if(i.show_task_cells){g[t.id]={},p[t.id]={};for(var d=c.start;d<=c.end;d++){var u=y(a,d,t,n,o,l,i);u&&s.appendChild(u)}}var h=_.getGlobalTaskIndex(t.id)%2!=0,r=r.task_row_class(t.start_date,t.end_date,t),r="gantt_task_row"+(h?" odd":"")+(r?" "+r:"");return e.$config.rowStore.isSelected(t.id)&&(r+=" gantt_selected"),s.className=r,i.smart_rendering?(s.style.position="absolute",s.style.top=e.getItemTop(t.id)+"px",s.style.width="100%"):s.style.position="relative",s.style.height=i.row_height+"px",e.$config.item_attribute&&(s.setAttribute(e.$config.item_attribute,t.id),s.setAttribute(e.$config.bind+"_id",t.id)),s},update:function(t,e,n,i){var r,a,o=n.$getConfig(),s=n.getScale(),l=s.count,c=v(n);if(o.show_task_cells){g[t.id]||(g[t.id]={}),p[t.id]||(p[t.id]={});var d,u=k(s,i);for(d in p[t.id]){var h=p[t.id][d];(Number(h)<u.start||Number(h)>u.end)&&m(t.id,h)}p[t.id]={};for(var _=u.start;_<=u.end;_++){var f=y(s,_,t,i,l,c,o);!f&&(a=_,g[(r=t).id][a]&&g[r.id][a].parentNode)?m(t.id,_):f&&!f.parentNode&&e.appendChild(f)}}},getRectangle:i,getVisibleRange:r}}},function(t,e,n){var a=n(28);t.exports=function(t,e,n,i){if(!i.isSplitTask(t))return!1;var r=i.getSubtaskDates(t.id);return a({id:t.id,start_date:r.start_date,end_date:r.end_date,parent:t.parent},e,n,i)}},function(t,e,n){var i=n(27),r=n(87),a=n(6);t.exports=function(o){var s=i(o);return{render:function(t,i){if(!o.isSplitTask(t)||(!o.config.open_split_tasks||t.$open)&&o.config.open_split_tasks)return!1;var r=document.createElement("div"),a=o.getTaskPosition(t);return o.hasChild(t.id)&&o.eachTask(function(t){var e=o.isSummaryTask(t);e&&o.resetProjectDates(t);var n=s(t,i);n&&(t=Math.floor((o.config.row_height-a.height)/2),n.style.top=a.top+t+"px",n.classList.add("gantt_split_child"),e&&n.classList.add("gantt_split_subproject"),r.appendChild(n))},t.id),r},update:null,isInViewPort:r,getVisibleRange:a}}},function(t,e,n){var i=n(28),r=n(6),a=n(27);t.exports=function(t){return{render:a(t),update:null,isInViewPort:i,getVisibleRange:r}}},function(t,e){t.exports=function(a){return function(t,e,n){var i,r;"keepDates"==n?(i=t,"duration"==(r=e)?i.end_date=a.calculateEndDate(i):"end_date"!=r&&"start_date"!=r||(i.duration=a.calculateDuration(i))):"keepDuration"==n?(i=t,"end_date"==(n=e)?i.start_date=a.calculateEndDate({start_date:i.end_date,duration:-i.duration,task:i}):"start_date"!=n&&"duration"!=n||(i.end_date=a.calculateEndDate(i))):(t=t,"start_date"==(e=e)||"duration"==e?t.end_date=a.calculateEndDate(t):"end_date"==e&&(t.duration=a.calculateDuration(t)))}}},function(t,e,a){t.exports=function(e){var t=a(7)(e),n=a(0);function i(){return t.apply(this,arguments)||this}function r(t){return t.formatter||e.ext.formatters.durationFormatter()}return a(2)(i,t),n.mixin(i.prototype,{show:function(t,e,n,i){e="<div><input type='text' name='"+e.name+"'></div>";i.innerHTML=e},set_value:function(t,e,n,i){this.get_input(i).value=r(n.editor).format(t)},get_value:function(t,e,n){return r(e.editor).parse(this.get_input(n).value||"")}},!0),i}},function(t,e,i){t.exports=function(d){var t=i(7)(d),e=i(0);function n(){return t.apply(this,arguments)||this}function u(t){return t.formatter||d.ext.formatters.linkFormatter()}function r(t,e){for(var n=(t||"").split(e.delimiter||","),i=0;i<n.length;i++){var r=n[i].trim();r?n[i]=r:(n.splice(i,1),i--)}return n.sort(),n}function a(t,e,n){for(var i=t.$target,r=[],a=0;a<i.length;a++){var o=n.getLink(i[a]);r.push(u(e).format(o))}return r.join((e.delimiter||",")+" ")}function h(t){return t.source+"_"+t.target+"_"+t.type+"_"+(t.lag||0)}return i(2)(n,t),e.mixin(n.prototype,{show:function(t,e,n,i){e="<div><input type='text' name='"+e.name+"'></div>";i.innerHTML=e},hide:function(){},set_value:function(t,e,n,i){this.get_input(i).value=a(t,n.editor,d)},get_value:function(t,e,n){return r(this.get_input(n).value||"",e.editor)},save:function(t,e,n){var i=function(t,e,n){var i,r,a,e=(i=t.id,r=n,a=[],e.forEach(function(t){t=u(r).parse(t);t&&(t.target=i,d.isLinkAllowed(t)&&a.push(t))}),a),o={};t.$target.forEach(function(t){t=d.getLink(t);o[h(t)]=t.id});var s=[];e.forEach(function(t){var e=h(t);o[e]?delete o[e]:s.push(t)});var l,c=[];for(l in o)c.push(o[l]);return{add:s,remove:c}}(d.getTask(t),this.get_value(t,e,n),e.editor);(i.add.length||i.remove.length)&&d.batchUpdate(function(){i.add.forEach(function(t){d.addLink(t)}),i.remove.forEach(function(t){d.deleteLink(t)}),d.autoSchedule&&d.autoSchedule()})},is_changed:function(t,e,n,i){i=this.get_value(e,n,i),n=r(a(t,n.editor,d),n.editor);return i.join()!==n.join()}},!0),n}},function(t,e,i){t.exports=function(o){var t=i(7)(o),e=i(0),s=null,l=null;function n(){return t.apply(this,arguments)||this}return i(2)(n,t),e.mixin(n.prototype,{show:function(t,e,n,i){s=s||o.date.date_to_str("%Y-%m-%d"),l=l||o.date.str_to_date("%Y-%m-%d");var r="function"==typeof n.min?n.min(t,e):n.min,a="function"==typeof n.max?n.max(t,e):n.max,e="<div style='width:140px'><input type='date' "+(r?" min='"+s(r)+"' ":"")+(a?" max='"+s(a)+"' ":"")+" name='"+e.name+"'></div>";i.innerHTML=e},set_value:function(t,e,n,i){t&&t.getFullYear?this.get_input(i).value=s(t):this.get_input(i).value=t},is_valid:function(t,e,n,i){return!(!t||isNaN(t.getTime()))},get_value:function(t,e,n){var i;try{i=l(this.get_input(n).value||"")}catch(t){i=null}return i}},!0),n}},function(t,e,i){t.exports=function(t){var e=i(7)(t),t=i(0);function n(){return e.apply(this,arguments)||this}return i(2)(n,e),t.mixin(n.prototype,{show:function(t,e,n,i){for(var e="<div><select name='"+e.name+"'>",r=[],a=n.options||[],o=0;o<a.length;o++)r.push("<option value='"+n.options[o].key+"'>"+a[o].label+"</option>");e+=r.join("")+"</select></div>",i.innerHTML=e},get_input:function(t){return t.querySelector("select")}},!0),n}},function(t,e,i){t.exports=function(t){var e=i(7)(t),t=i(0);function n(){return e.apply(this,arguments)||this}return i(2)(n,e),t.mixin(n.prototype,{show:function(t,e,n,i){e="<div><input type='number' min='"+(n.min||0)+"' max='"+(n.max||100)+"' name='"+e.name+"'></div>";i.innerHTML=e},get_value:function(t,e,n){return this.get_input(n).value||""},is_valid:function(t,e,n,i){return!isNaN(parseInt(t,10))}},!0),n}},function(t,e,i){t.exports=function(t){var e=i(7)(t),t=i(0);function n(){return e.apply(this,arguments)||this}return i(2)(n,e),t.mixin(n.prototype,{show:function(t,e,n,i){e="<div><input type='text' name='"+e.name+"'></div>";i.innerHTML=e}},!0),n}},function(t,e){t.exports={init:function(d,t){var u=d,h=t.$gantt,i=null,_=h.ext.keyboardNavigation;_.attachEvent("onBeforeFocus",function(t){var e=d.locateCell(t);if(clearTimeout(i),e){var n=e.columnName,t=e.id,e=u.getState();if(u.isVisible()&&e.id==t&&e.columnName===n)return!1}return!0}),_.attachEvent("onFocus",function(t){var e=d.locateCell(t),t=d.getState();return clearTimeout(i),!e||e.id==t.id&&e.columnName==t.columnName||u.isVisible()&&u.save(),!0}),d.attachEvent("onHide",function(){clearTimeout(i)}),_.attachEvent("onBlur",function(){return i=setTimeout(function(){u.save()}),!0}),h.attachEvent("onTaskDblClick",function(t,e){var n=d.getState(),e=d.locateCell(e.target);return!e||!d.isVisible()||e.columnName!=n.columnName}),h.attachEvent("onTaskClick",function(t,e){if(h._is_icon_open_click(e))return!0;var n=d.getState(),e=d.locateCell(e.target);return!e||!d.getEditorConfig(e.columnName)||(d.isVisible()&&n.id==e.id&&n.columnName==e.columnName||d.startEdit(e.id,e.columnName),!1)}),h.attachEvent("onEmptyClick",function(){return u.save(),!0}),_.attachEvent("onKeyDown",function(t,e){var n,i,r=d.locateCell(e.target),a=!!r&&d.getEditorConfig(r.columnName),o=d.getState(),s=h.constants.KEY_CODES,l=e.keyCode,c=!1;switch(l){case s.ENTER:d.isVisible()?(d.save(),e.preventDefault(),c=!0):a&&!(e.ctrlKey||e.metaKey||e.shiftKey)&&(u.startEdit(r.id,r.columnName),e.preventDefault(),c=!0);break;case s.ESC:d.isVisible()&&(d.hide(),e.preventDefault(),c=!0);break;case s.UP:case s.DOWN:break;case s.LEFT:case s.RIGHT:(a&&d.isVisible()||"date"===o.editorType)&&(c=!0);break;case s.SPACE:d.isVisible()&&(c=!0),a&&!d.isVisible()&&(u.startEdit(r.id,r.columnName),e.preventDefault(),c=!0);break;case s.DELETE:a&&!d.isVisible()?(u.startEdit(r.id,r.columnName),c=!0):a&&d.isVisible()&&(c=!0);break;case s.TAB:d.isVisible()&&(e.shiftKey?d.editPrevCell(!0):d.editNextCell(!0),(i=d.getState()).id&&_.focus({type:"taskCell",id:i.id,column:i.columnName}),e.preventDefault(),c=!0);break;default:d.isVisible()?c=!0:(48<=l&&l<=57||95<l&&l<112||64<=l&&l<=91||185<l&&l<193||218<l&&l<223)&&(i=(n=t.modifiers).alt||n.ctrl||n.meta||n.shift,n.alt||i&&_.getCommandHandler(t,"taskCell")||a&&!d.isVisible()&&(u.startEdit(r.id,r.columnName),c=!0))}return!c})},onShow:function(t,e,n){},onHide:function(t,e,n){n.$gantt.focus()},destroy:function(){}}},function(t,e){t.exports={init:function(i,t){var r=t.$gantt;r.attachEvent("onTaskClick",function(t,e){if(r._is_icon_open_click(e))return!0;var n=i.getState(),e=i.locateCell(e.target);return!e||!i.getEditorConfig(e.columnName)||(i.isVisible()&&n.id==e.id&&n.columnName==e.columnName||i.startEdit(e.id,e.columnName),!1)}),r.attachEvent("onEmptyClick",function(){return i.isVisible()&&i.isChanged()?i.save():i.hide(),!0}),r.attachEvent("onTaskDblClick",function(t,e){var n=i.getState(),e=i.locateCell(e.target);return!e||!i.isVisible()||e.columnName!=n.columnName})},onShow:function(r,t,e){var a=e.$gantt;a.ext&&a.ext.keyboardNavigation&&a.ext.keyboardNavigation.attachEvent("onKeyDown",function(t,e){var n=a.constants.KEY_CODES,i=!1;return e.keyCode===n.SPACE&&r.isVisible()&&(i=!0),!i}),t.onkeydown=function(t){t=t||window.event;var e=a.constants.KEY_CODES;if(!(t.defaultPrevented||t.shiftKey&&t.keyCode!=e.TAB)){var n=!0;switch(t.keyCode){case a.keys.edit_save:r.save();break;case a.keys.edit_cancel:r.hide();break;case e.UP:case e.DOWN:r.isVisible()&&(r.hide(),n=!1);break;case e.TAB:t.shiftKey?r.editPrevCell(!0):r.editNextCell(!0);break;default:n=!1}n&&t.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(t,e,n){var i=n(98),r=n(97);t.exports=function(t){var e=null;return{setMapping:function(t){e=t},getMapping:function(){return e||(t.config.keyboard_navigation_cells&&t.ext.keyboardNavigation?r:i)}}}},function(t,e,n){var i=n(99),r=n(96),a=n(95),o=n(94),s=n(93),l=n(92),c=n(91),u=n(0),h=n(1),_=n(4),f=n(90);function g(t){t.config.editor_types={text:new(r(t)),number:new(a(t)),select:new(o(t)),date:new(s(t)),predecessor:new(l(t)),duration:new(c(t))}}t.exports=function(l){var d=i(l),n={};_(n);var t={init:g,createEditors:function(c){var o=f(l),e=[],i=[],s=null,t={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(t){if(!h.isChildOf(t,c.$grid))return null;var e=h.locateAttribute(t,c.$config.item_attribute),t=h.locateAttribute(t,"data-column-name");if(t){t=t.getAttribute("data-column-name");return{id:e.getAttribute(c.$config.item_attribute),columnName:t}}return null},getEditorConfig:function(t){return c.getColumn(t).editor},init:function(){var t=d.getMapping();t.init&&t.init(this,c),s=c.$gantt.getDatastore(c.$config.bind);var n=this;e.push(s.attachEvent("onIdChange",function(t,e){n._itemId==t&&(n._itemId=e)})),e.push(s.attachEvent("onStoreUpdated",function(){c.$gantt.getState("batchUpdate").batch_update||n.isVisible()&&!s.isVisible(n._itemId)&&n.hide()})),i.push(l.attachEvent("onDataRender",function(){n._editor&&n._placeholder&&!h.isChildOf(n._placeholder,l.$root)&&c.$grid_data.appendChild(n._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(t,e){this.isVisible()&&this.save(),s.exists(t)&&(e={id:t,columnName:e},!l.isReadonly(s.getItem(t))&&!1!==this.callEvent("onBeforeEditStart",[e])?(this.show(e.id,e.columnName),this.setValue(),this.callEvent("onEditStart",[e])):this.callEvent("onEditPrevent",[e]))},isVisible:function(){return!(!this._editor||!h.isChildOf(this._placeholder,l.$root))},show:function(t,e){this.isVisible()&&this.save();var n,i,r,a,o={id:t,columnName:e},s=c.getColumn(o.columnName),l=this.getEditorConfig(s.name);l&&(n=c.$getConfig().editor_types[l.type],i=o.id,r=o.columnName,a=c.$getConfig(),t=function(t,e){for(var n=c.$getConfig(),i=c.getItemTop(t),t=c.getItemHeight(t),r=c.getGridColumns(),a=0,o=0,s=0,l=0;l<r.length;l++){if(r[l].name==e){s=r[l].width;break}n.rtl?o+=r[l].width:a+=r[l].width}return n.rtl?{top:i,right:o,height:t,width:s}:{top:i,left:a,height:t,width:s}}(i,r),(e=document.createElement("div")).className="gantt_grid_editor_placeholder",e.setAttribute(c.$config.item_attribute,i),e.setAttribute(c.$config.bind+"_id",i),e.setAttribute("data-column-name",r),r=function(t){for(var e=c.getGridColumns(),n=0;n<e.length;n++)if(e[n].name==t)return n;return 0}(r),e.setAttribute("data-column-index",r),a.rtl?e.style.cssText=["top:"+t.top+"px","right:"+t.right+"px","width:"+t.width+"px","height:"+t.height+"px"].join(";"):e.style.cssText=["top:"+t.top+"px","left:"+t.left+"px","width:"+t.width+"px","height:"+t.height+"px"].join(";"),e=e,c.$grid_data.appendChild(e),n.show(o.id,s,l,e),this._editor=n,this._placeholder=e,this._itemId=o.id,this._columnName=o.columnName,this._editorType=l.type,(l=d.getMapping()).onShow&&l.onShow(this,e,c))},setValue:function(){var t=this.getState(),e=t.id,n=t.columnName,i=c.getColumn(n),t=s.getItem(e),n=this.getEditorConfig(n);n&&(t=t[n.map_to],"auto"==n.map_to&&(t=s.getItem(e)),this._editor.set_value(t,e,i,this._placeholder),this.focus())},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var t=c.getColumn(this._columnName);return this._editor.get_value(this._itemId,t,this._placeholder)},_getItemValue:function(){var t=this.getEditorConfig(this._columnName);if(t){var e=l.getTask(this._itemId)[t.map_to];return"auto"==t.map_to&&(e=s.getItem(this._itemId)),e}},isChanged:function(){var t=c.getColumn(this._columnName),e=this._getItemValue();return this._editor.is_changed(e,this._itemId,t,this._placeholder)},hide:function(){var t,e,n;this._itemId&&(t=this._itemId,e=this._columnName,(n=d.getMapping()).onHide&&n.onHide(this,this._placeholder,c),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:t,columnName:e}])))},save:function(){var t,e,n,i,r,a;this.isVisible()&&s.exists(this._itemId)&&this.isChanged()?(t=this._itemId,e=this._columnName,s.exists(t)&&(n=s.getItem(t),a=this.getEditorConfig(e),!(i={id:t,columnName:e,newValue:this.getValue(),oldValue:this._getItemValue()})===this.callEvent("onBeforeSave",[i])||this._editor.is_valid&&!this._editor.is_valid(i.newValue,i.id,i.columnName,this._placeholder)||(r=a.map_to,a=i.newValue,"auto"!=r?(n[r]=a,o(n,r,l.config.inline_editors_date_processing),s.updateItem(t)):this._editor.save(t,c.getColumn(e),this._placeholder),this.callEvent("onSave",[i])),this.hide())):this.hide()},_findEditableCell:function(t,e){var n=t,n=c.getGridColumns()[n],i=n?n.name:null;if(i){for(;i&&!this.getEditorConfig(i);)i=this._findEditableCell(t+e,e);return i}return null},getNextCell:function(t){return this._findEditableCell(c.getColumnIndex(this._columnName)+t,t)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(c.getGridColumns().length-1,-1)},editNextCell:function(t){var e,n=this.getNextCell(1);n?(e=this.getNextCell(1))&&this.getEditorConfig(e)&&this.startEdit(this._itemId,e):t&&this.moveRow(1)&&(t=this.moveRow(1),(n=this.getFirstCell())&&this.getEditorConfig(n)&&this.startEdit(t,n))},editPrevCell:function(t){var e,n=this.getNextCell(-1);n?(e=this.getNextCell(-1))&&this.getEditorConfig(e)&&this.startEdit(this._itemId,e):t&&this.moveRow(-1)&&(t=this.moveRow(-1),(n=this.getLastCell())&&this.getEditorConfig(n)&&this.startEdit(t,n))},moveRow:function(t){for(var e=0<t?l.getNext:l.getPrev,n=(e=l.bind(e,l))(this._itemId);l.isTaskExists(n)&&l.isReadonly(l.getTask(n));)n=e(n);return n},editNextRow:function(){var t=this.getNextCell(1);t&&this.startEdit(t,this._columnName)},editPrevRow:function(){var t=this.getNextCell(-1);t&&this.startEdit(t,this._columnName)},destructor:function(){e.forEach(function(t){s.detachEvent(t)}),i.forEach(function(t){l.detachEvent(t)}),e=[],i=[],s=null,this.hide(),this.detachAllEvents()}};return u.mixin(t,d),u.mixin(t,n),t}};return u.mixin(t,d),u.mixin(t,n),t}},function(t,e){t.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(t,e,n){var i=n(2),s=n(1),l=n(0),c=n(9),n=function(a){"use strict";var o=["altKey","shiftKey","metaKey"];function t(t,e,n,i){var r=a.apply(this,arguments)||this;this.$config=l.mixin(e,{scroll:"x"}),r._scrollHorizontalHandler=l.bind(r._scrollHorizontalHandler,r),r._scrollVerticalHandler=l.bind(r._scrollVerticalHandler,r),r._outerScrollVerticalHandler=l.bind(r._outerScrollVerticalHandler,r),r._outerScrollHorizontalHandler=l.bind(r._outerScrollHorizontalHandler,r),r._mouseWheelHandler=l.bind(r._mouseWheelHandler,r),this.$config.hidden=!0;e=i.config.scroll_size;return i.env.isIE&&(e+=1),this._isHorizontal()?(r.$config.height=e,r.$parent.$config.height=e):(r.$config.width=e,r.$parent.$config.width=e),this.$config.scrollPosition=0,r.$name="scroller",r}return i(t,a),t.prototype.init=function(t){t.innerHTML=this.$toHTML(),this.$view=t.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var t=this.$parent;t&&t.$parent;)t=t.$parent;if(t)return t},t.prototype._eachView=function(){var t=[];return function t(e,n){if(n.push(e),e.$cells)for(var i=0;i<e.$cells.length;i++)t(e.$cells[i],n)}(this._getRootParent(),t),t},t.prototype._getLinkedViews=function(){for(var t=this._eachView(),e=[],n=0;n<t.length;n++)t[n].$config&&(this._isVertical()&&t[n].$config.scrollY==this.$id||this._isHorizontal()&&t[n].$config.scrollX==this.$id)&&e.push(t[n]);return e},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var t=this._getLinkedViews(),e=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",n=0;n<t.length;n++)s.addClassName(t[n].$view||t[n].getNode(),e)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){c.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler)},t.prototype.scrollHorizontally=function(t){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=t,this.$config.codeScrollLeft=t,t=this.$scroll_hor.scrollLeft;for(var e=this._getLinkedViews(),n=0;n<e.length;n++)e[n].scrollTo&&e[n].scrollTo(t,void 0);var i=this.$config.scrollPosition;this.$config.scrollPosition=t,this.callEvent("onScroll",[i,t,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(t){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=t,t=this.$scroll_ver.scrollTop;for(var e=this._getLinkedViews(),n=0;n<e.length;n++)e[n].scrollTo&&e[n].scrollTo(void 0,t);var i=this.$config.scrollPosition;this.$config.scrollPosition=t,this.callEvent("onScroll",[i,t,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return"y"==this.$config.scroll},t.prototype._isHorizontal=function(){return"x"==this.$config.scroll},t.prototype._scrollHorizontalHandler=function(t){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var e=this.$scroll_hor.scrollLeft;this.scrollHorizontally(e),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(t){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var t,e,n,i=0,r=0,a=this._isHorizontal(),o=this._getLinkedViews(),s=a?"scrollWidth":"scrollHeight",l=a?"contentX":"contentY",c=a?"x":"y",d=this._getScrollOffset(),u=0;u<o.length;u++)(e=o[u])&&e.$content&&e.$content.getSize&&!e.$config.hidden&&(n=(t=e.$content.getSize()).hasOwnProperty(s)?t[s]:t[l],d?t[l]>t[c]&&t[l]>i&&n>t[c]-d+2&&(i=n+(a?0:2),r=t[c]):(n+=e=Math.max(t[l]-n,0))>Math.max(t[c]-e,0)&&i<n&&(i=n,r=t[c]));return{outerScroll:r,innerScroll:i}},t.prototype.scroll=function(t){this._isHorizontal()?this.scrollHorizontally(t):this.scrollVertically(t)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(t,e){a.prototype.setSize.apply(this,arguments);var n=this._getScrollSize(),i=(this._isVertical()?e:t)-this._getScrollOffset()+(this._isHorizontal()?1:0);n.innerScroll&&i>n.outerScroll&&(n.innerScroll+=i-n.outerScroll),this.$config.scrollSize=n.innerScroll,this.$config.width=t,this.$config.height=e,this._setScrollSize(n.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var t=this._getScrollSize();return!(!t.innerScroll&&this.$parent&&this.$parent.$view.parentNode||!t.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(t){var e=0;return!t||"timeline"!=t.$config.view&&"grid"!=t.$config.view||(e=t.$content.$getConfig().scale_height),e},t.prototype._getScrollOffset=function(){var t=0;if(this._isVertical())var e=this.$parent.$parent,t=Math.max(this._getScaleOffset(e.getPrevSibling(this.$parent.$id)),this._getScaleOffset(e.getNextSibling(this.$parent.$id)));else for(var n=this._getLinkedViews(),i=0;i<n.length;i++){var r=n[i].$parent.$cells,r=r[r.length-1];if(r&&"scrollbar"==r.$config.view&&!1===r.$config.hidden){t=r.$config.width;break}}return t||0},t.prototype._setScrollSize=function(t){var e=this._isHorizontal()?"width":"height",n=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,i=this._getScrollOffset(),r=n.firstChild;i?this._isVertical()?(this.$config.outerSize=this.$config.height-i+3,n.style.height=this.$config.outerSize+"px",n.style.top=i-1+"px",s.addClassName(n,this.$parent._borders.top),s.addClassName(n.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-i+1,n.style.width=this.$config.outerSize+"px"):(n.style.top="auto",s.removeClassName(n,this.$parent._borders.top),s.removeClassName(n.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),r.style[e]=t+"px"},t.prototype._scrollVerticalHandler=function(t){var e;this._scrollHorizontalHandler()||this._scrolling||(e=this.$scroll_ver.scrollTop)!=this._oldTop&&(this.scrollVertically(e),this._oldTop=this.$scroll_ver.scrollTop)},t.prototype._outerScrollVerticalHandler=function(t){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(t){for(var e=this._getLinkedViews().concat(this),n=0;n<e.length;n++){var i=e[n].$view;if(s.isChildOf(t,i))return!0}return!1},t.prototype._mouseWheelHandler=function(t){var e=t.target||t.srcElement;if(this._checkWheelTarget(e)){this._wheel_time=new Date;var n={},i={x:1,y:1},r=this.$gantt.config.wheel_scroll_sensitivity;"number"==typeof r&&r?i={x:r,y:r}:"[object Object]"=={}.toString.apply(r)&&(i={x:r.x,y:r.y});e=c.isFF,r=e?-20*t.deltaX*i.x:2*t.wheelDeltaX*i.x,e=e?-40*t.deltaY*i.y:t.wheelDelta*i.y,i=this.$gantt.config.horizontal_scroll_key;if(!1!==i&&0<=o.indexOf(i)&&(!t[i]||t.deltaX||t.wheelDeltaX||(r=2*e,e=0)),r&&Math.abs(r)>Math.abs(e)){if(this._isVertical())return;if(n.x)return!0;if(!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var a=r/-40,i=this._oldLeft,r=i+30*a;if(this.scrollHorizontally(r),this.$scroll_hor.scrollLeft=r,i==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(n.y)return!0;if(!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;a=e/-40,void 0===e&&(a=t.detail);e=this._oldTop,a=this.$scroll_ver.scrollTop+30*a;if(this.scrollVertically(a),this.$scroll_ver.scrollTop=a,e==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)}},t}(n(10));t.exports=n},function(t,e){t.exports=null},function(t,e,n){var i=n(2),o=n(0),n=function(a){"use strict";function t(t,e,n){var i=a.apply(this,arguments)||this;if(e.view){e.id&&(this.$id=o.uid());var r=o.copy(e);if(delete r.config,delete r.templates,this.$content=this.$factory.createView(e.view,this,r,this),!this.$content)return!1}return i.$name="viewCell",i}return i(t,a),t.prototype.destructor=function(){this.clear(),a.prototype.destructor.call(this)},t.prototype.clear=function(){var t;this.$initialized=!1,this.$content&&(t=this.$content.unload||this.$content.destructor)&&t.call(this.$content),a.prototype.clear.call(this)},t.prototype.scrollTo=function(t,e){this.$content&&this.$content.scrollTo?this.$content.scrollTo(t,e):a.prototype.scrollTo.call(this,t,e)},t.prototype._setContentSize=function(t,e){var n=this._getBorderSizes();"number"==typeof t&&(t=t+n.horizontal,this.$config.width=t),"number"==typeof e&&(n=e+n.vertical,this.$config.height=n)},t.prototype.setSize=function(t,e){a.prototype.setSize.call(this,t,e),this.$preResize||!this.$content||this.$initialized||(this.$initialized=!0,t=this.$view.childNodes[0],e=(e=this.$view.childNodes[1])||t,this.$content.init(e))},t.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},t.prototype.getContentSize=function(){var t=a.prototype.getContentSize.call(this);this.$content&&this.$initialized&&(e=this.$content.getSize(),t.width=void 0===e.contentX?e.width:e.contentX,t.height=void 0===e.contentY?e.height:e.contentY);var e=this._getBorderSizes();return t.width+=e.horizontal,t.height+=e.vertical,t},t}(n(10));t.exports=n},function(t,e,n){var i=n(2),r=n(29),a=n(10),r=function(o){"use strict";function t(t,e,n){for(var i=o.apply(this,arguments)||this,r=0;r<i.$cells.length;r++)i.$cells[r].$config.hidden=0!==r;return i.$cell=i.$cells[0],i.$name="viewLayout",i}return i(t,o),t.prototype.cell=function(t){t=o.prototype.cell.call(this,t);return t.$view||this.$fill(null,this),t},t.prototype.moveView=function(t){var e=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,e.removeChild(this.$cell.$view)),this.$cell=t,e.appendChild(t.$view)},t.prototype.setSize=function(t,e){a.prototype.setSize.call(this,t,e)},t.prototype.setContentSize=function(){var t=this.$lastSize;this.$cell.setSize(t.contentX,t.contentY)},t.prototype.getSize=function(){var t=o.prototype.getSize.call(this);if(this.$cell){var e,n=this.$cell.getSize();if(this.$config.byMaxSize)for(var i=0;i<this.$cells.length;i++){var r,a=this.$cells[i].getSize();for(r in n)n[r]=Math.max(n[r],a[r])}for(e in t)t[e]=t[e]||n[e];t.gravity=Math.max(t.gravity,n.gravity)}return t},t}(r);t.exports=r},function(t,e){t.exports=function(t,e){return!(!e||e.left>t.x_end||e.left+e.width<t.x||e.top>t.y_end||e.top+e.height<t.y)}},function(t,e,n){var m=n(106),v=n(12),r=n(30);t.exports=function(g){var n={},i={};function p(t){var e=null;return"string"==typeof t.view?e=g.$ui.getView(t.view):t.view&&(e=t.view),e}function e(e,d,u){if(i[e])return i[e];d.renderer||g.assert(!1,"Invalid renderer call");var a=null,h=null,_=null,f=null;"function"==typeof d.renderer?(a=d.renderer,_=r):(a=d.renderer.render,h=d.renderer.update,d.renderer.isInViewPort?f=d.renderer.isInViewPort:_=d.renderer.getRectangle,_||null===_||(_=r));var o=d.filter;return u&&u.setAttribute(g.config.layer_attribute,!0),i[e]={render_item:function(t,e,n){var i,r;e=e||u,!o||o(t)?(i=p(d),!(r=n)&&i&&i.$getConfig().smart_rendering&&(r=i.getViewPort()),n=null,(v(g)||!_&&!f||!r||(f?f(t,r,i,g):m(r,_(t,i,g))))&&(n=a.call(g,t,i,r)),this.append(t,n,e)):this.remove_item(t.id)},clear:function(t){this.rendered=n[e]={},d.append||this.clear_container(t)},clear_container:function(t){(t=t||u)&&(t.innerHTML="")},get_visible_range:function(t){var e,n=p(d);return n&&n.$getConfig().smart_rendering&&(e=n.getViewPort()),n&&e&&d.renderer&&d.renderer.getVisibleRange?d.renderer.getVisibleRange(g,n,t,e):{start:0,end:t.count()}},render_items:function(t,e){e=e||u;var n=document.createDocumentFragment();this.clear(e);var i=null,r=p(d);r&&r.$getConfig().smart_rendering&&(i=r.getViewPort());for(var a=0,o=t.length;a<o;a++)this.render_item(t[a],n,i);e.appendChild(n,e)},update_items:function(t,e){var n=p(d);if(n&&n.$getConfig().smart_rendering&&!v(g)&&this.rendered&&(_||f)){e=e||u;var i=document.createDocumentFragment(),r=null;n&&(r=n.getViewPort());var a={};for(o in this.rendered)a[o]=!0;o=0;for(var o,s=t.length;o<s;o++){var l=t[o],c=this.rendered[l.id];a[l.id]=!1,c&&c.parentNode?(f?f(l,r,n,g):m(r,_(l,n,g)))?(h&&h.call(g,l,c,n,r),this.restore(l,i)):a[l.id]=!0:this.render_item(t[o],i,r)}for(o in a)a[o]&&this.hide(o);i.childNodes.length&&e.appendChild(i,e)}},append:function(t,e,n){this.rendered&&(e?(this.rendered[t.id]&&this.rendered[t.id].parentNode?this.replace_item(t.id,e):n.appendChild(e),this.rendered[t.id]=e):this.rendered[t.id]&&this.remove_item(t.id))},replace_item:function(t,e){var n=this.rendered[t];n&&n.parentNode&&n.parentNode.replaceChild(e,n),this.rendered[t]=e},remove_item:function(t){this.hide(t),delete this.rendered[t]},hide:function(t){t=this.rendered[t];t&&t.parentNode&&t.parentNode.removeChild(t)},restore:function(t,e){var n=this.rendered[t.id];n?n.parentNode||this.append(t,n,e||u):this.render_item(t,e||u)},change_id:function(t,e){this.rendered[e]=this.rendered[t],delete this.rendered[t]},rendered:n[e],node:u,destructor:function(){this.clear(),delete i[e],delete n[e]}},i[e]}return{getRenderer:e,clearRenderers:function(){for(var t in i)e(t).destructor()}}}},function(t,e,n){var i=n(107),h=n(0),_=n(1),r=n(12);function a(a){return a instanceof Array||(a=Array.prototype.slice.call(arguments,0)),function(t){for(var e=!0,n=0,i=a.length;n<i;n++){var r=a[n];r&&(e=e&&!1!==r(t.id,t))}return e}}t.exports=function(d){var u=i(d);return{createGroup:function(t,l,n,c){var e={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var t,e=[];for(t in this.renderers)e.push(this.renderers[t]);return e},getLayer:function(t){return this.renderers[t]},_add:function(t){t&&(t.id=t.id||h.uid(),this.tempCollection.push(t));for(var e,n,i,r,a=this.container(),o=this.tempCollection,s=0;s<o.length;s++)t=o[s],(this.container()||t&&t.container&&_.isChildOf(t.container,document.body))&&(e=t.container,n=t.id,i=t.topmost,e.parentNode||(!i&&(r=l?l():a.firstChild)?a.insertBefore(e,r):a.appendChild(e)),this.renderers[n]=u.getRenderer(n,t,e),c&&c(t,d),this.tempCollection.splice(s,1),s--)},addLayer:function(t){var e;return t&&("function"==typeof t&&(t={renderer:t}),void 0===t.filter?t.filter=a(n||[]):t.filter instanceof Array&&(t.filter.push(n),t.filter=a(t.filter)),t.container||(t.container=document.createElement("div")),e=this,t.requestUpdate=function(){d.config.smart_rendering&&!r(d)&&e.renderers[t.id]&&e.onUpdateRequest(e.renderers[t.id])}),this._add(t),t?t.id:void 0},onUpdateRequest:function(t){},eachLayer:function(t){for(var e in this.renderers)t(this.renderers[e])},removeLayer:function(t){this.renderers[t]&&(this.renderers[t].destructor(),delete this.renderers[t])},clear:function(){for(var t in this.renderers)this.renderers[t].destructor();this.renderers={}}};return d.attachEvent("onDestroy",function(){e.clear(),e=null}),e}}}},function(t,e,n){var i=n(108);function o(t,e){var n;t.view&&("string"==typeof(n=t.view)&&(n=e.$ui.getView(n)),n&&n.attachEvent&&n.attachEvent("onScroll",function(){t.requestUpdate&&t.requestUpdate()}))}t.exports=function(r){var a=i(r);return{getDataRender:function(t){return r.$services.getService("layer:"+t)||null},createDataRender:function(t){var e=t.name,n=t.defaultContainer,t=t.defaultContainerSibling,i=a.createGroup(n,t,function(t,e){if(!i.filters)return!0;for(var n=0;n<i.filters.length;n++)if(!1===i.filters[n](t,e))return!1},o);return r.$services.setService("layer:"+e,function(){return i}),r.attachEvent("onGanttReady",function(){i.addLayer()}),i},init:function(){var e=this.createDataRender({name:"task",defaultContainer:function(){return r.$task_data||(r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_data:void 0)},defaultContainerSibling:function(){return r.$task_links||(r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_links:void 0)},filter:function(t){}},r),n=this.createDataRender({name:"link",defaultContainer:function(){return r.$task_data||(r.$ui.getView("timeline")?r.$ui.getView("timeline").$task_data:void 0)}},r);return{addTaskLayer:function(t){return"function"==typeof t&&(t={renderer:t}),t.view="timeline",e.addLayer(t)},_getTaskLayers:function(){return e.getLayers()},removeTaskLayer:function(t){e.removeLayer(t)},_clearTaskLayers:function(){e.clear()},addLinkLayer:function(t){return"function"==typeof t&&(t={renderer:t}),t.view="timeline",n.addLayer(t)},_getLinkLayers:function(){return n.getLayers()},removeLinkLayer:function(t){n.removeLayer(t)},_clearLinkLayers:function(){n.clear()}}}}}},function(t,e,n){var u,n=(u=n(1),function(o){var s={click:{},doubleclick:{},contextMenu:{}};function i(t,e,n,i){s[t][e]||(s[t][e]=[]),s[t][e].push({handler:n,root:i})}function e(t){t=t||window.event;var e=o.locate(t),n=r(t,s.click),i=!0;if(null!==e?i=!o.checkEvent("onTaskClick")||o.callEvent("onTaskClick",[e,t]):o.callEvent("onEmptyClick",[t]),i&&a(n,t,e)){switch(t.target.nodeName){case"SELECT":case"INPUT":return}e&&o.getTask(e)&&!o._multiselect&&o.config.select_task&&o.selectTask(e)}}function n(t){var e=(t=t||window.event).target||t.srcElement,n=o.locate(e),e=o.locate(e,o.config.link_attribute),e=!o.checkEvent("onContextMenu")||o.callEvent("onContextMenu",[n,e,t]);return e||(t.preventDefault?t.preventDefault():t.returnValue=!1),e}function r(t,e){for(var n=t.target||t.srcElement,i=[];n;){var r=u.getClassName(n);if(r){r=r.split(" ");for(var a=0;a<r.length;a++)if(r[a]&&e[r[a]])for(var o=e[r[a]],s=0;s<o.length;s++)o[s].root&&!u.isChildOf(n,o[s].root)||i.push(o[s].handler)}n=n.parentNode}return i}function a(t,e,n){for(var i=!0,r=0;r<t.length;r++)var a=t[r].call(o,e,n,e.target||e.srcElement),i=i&&!(void 0!==a&&!0!==a);return i}function l(t){t=t||window.event;var e=o.locate(t),n=r(t,s.doubleclick),i=!o.checkEvent("onTaskDblClick")||null===e||o.callEvent("onTaskDblClick",[e,t]);i&&a(n,t,e)&&null!==e&&o.getTask(e)&&i&&o.config.details_on_dblclick&&!o.isReadonly()&&o.showLightbox(e)}function c(t){var e;o.checkEvent("onMouseMove")&&(e=o.locate(t),o._last_move_event=t,o.callEvent("onMouseMove",[e,t]))}var d=o._createDomEventScope();function t(t){d.detachAll(),t&&(d.attach(t,"click",e),d.attach(t,"dblclick",l),d.attach(t,"mousemove",c),d.attach(t,"contextmenu",n))}return{reset:t,global:function(t,e,n){i(t,e,n,null)},delegate:i,detach:function(t,e,n,i){if(s[t]&&s[t][e]){for(var t=s[t],r=t[e],a=0;a<r.length;a++)r[a].root==i&&(r.splice(a,1),a--);r.length||delete t[e]}},callHandler:function(t,e,n,i){var r=s[t][e];if(r)for(var a=0;a<r.length;a++)(n||r[a].root)&&r[a].root!==n||r[a].handler.apply(this,i)},onDoubleClick:l,onMouseMove:c,onContextMenu:n,onClick:e,destructor:function(){t(),d=s=null}}});t.exports={init:n}},function(t,e,n){var a=n(0);function i(t){a.mixin(this,t,!0)}function o(t,e){var n=this.$config[t];return n?n instanceof i?n:(i.prototype=e,this.$config[t]=new i(n),this.$config[t]):e}t.exports=function(t,e){var n,i,r;a.mixin(t,(n=e,{$getConfig:function(){return i=i||(n?n.$getConfig():this.$gantt.config),this.$config.config?o.call(this,"config",i):i},$getTemplates:function(){return r=r||(n?n.$getTemplates():this.$gantt.templates),this.$config.templates?o.call(this,"templates",r):r}}))}},function(t,e,n){var l=n(0),c=n(111);t.exports={createFactory:function(a){var o={},s={};function i(t,e,n,i){var r=o[t];if(!r||!r.create)return!1;"resizer"!=t||n.mode||(i.$config.cols?n.mode="x":n.mode="y"),"viewcell"!=t||"scrollbar"!=n.view||n.scroll||(i.$config.cols?n.scroll="y":n.scroll="x"),(n=l.copy(n)).id||s[n.view]||(n.id=n.view),n.id&&!n.css&&(n.css=n.id+"_cell");t=new r.create(e,n,this,a);return r.configure&&r.configure(t),c(t,i),t.$id||(t.$id=n.id||a.uid()),t.$parent||"object"!=typeof e||(t.$parent=e),t.$config||(t.$config=n),s[t.$id]&&(t.$id=a.uid()),s[t.$id]=t}return{initUI:function(t,e){var n="cell";return t.view?n="viewcell":t.resizer?n="resizer":t.rows||t.cols?n="layout":t.views&&(n="multiview"),i.call(this,n,null,t,e)},reset:function(){s={}},registerView:function(t,e,n){o[t]={create:e,configure:n}},createView:i,getView:function(t){return s[t]}}}}},function(t,e,n){var a=n(112),o=n(110),s=n(109),l=n(10),c=n(29),d=n(105),u=n(104),h=n(103),_=n(102),f=n(19),g=n(21),p=n(21),m=n(19),v=n(19),y=n(100),k=n(89),b=n(88),w=n(86),x=n(85),$=n(83),T=n(82),S=n(81),C=n(80),E=n(74),D=n(71);t.exports={init:function(i){function e(t,e){var n=e(i);n.onCreated&&n.onCreated(t),t.attachEvent("onReady",function(){n.onInitialized&&n.onInitialized(t)}),t.attachEvent("onDestroy",function(){n.onDestroyed&&n.onDestroyed(t)})}var t=a.createFactory(i);t.registerView("cell",l),t.registerView("resizer",h),t.registerView("scrollbar",_),t.registerView("layout",c,function(t){"main"===(t.$config?t.$config.id:null)&&e(t,D)}),t.registerView("viewcell",u),t.registerView("multiview",d),t.registerView("timeline",f,function(t){"timeline"!==(t.$config?t.$config.id:null)&&"task"!=t.$config.bind||e(t,E)}),t.registerView("grid",g,function(t){"grid"!==(t.$config?t.$config.id:null)&&"task"!=t.$config.bind||e(t,C)}),t.registerView("resourceGrid",p),t.registerView("resourceTimeline",m),t.registerView("resourceHistogram",v);var n=s(i),r=y(i);return i.ext.inlineEditors=r,(i.ext._inlineEditors=r).init(i),{factory:t,mouseEvents:o.init(i),layersApi:n.init(),render:{gridLine:function(){return $(i)},taskBg:function(){return w(i)},taskBar:function(){return k(i)},taskSplitBar:function(){return b(i)},link:function(){return x(i)},resourceRow:function(){return T(i)},resourceHistogram:function(){return S(i)}},layersService:{getDataRender:function(t){return n.getDataRender(t,i)},createDataRender:function(t){return n.createDataRender(t,i)}}}}}},function(t,e,n){var m=n(0),v=n(1);t.exports=function(l){var c="data-dhxbox",d=null;function u(t,e){var n=t.callback;g.hide(t.box),d=t.box=null,n&&n(e)}function r(t){if(d){var e,n=t.which||t.keyCode,i=!1;return p.keyboard&&(13!=n&&32!=n||(e=t.target||t.srcElement,-1<v.getClassName(e).indexOf("gantt_popup_button")&&e.click?e.click():(u(d,!0),i=!0)),27==n&&(u(d,!1),i=!0)),i?(t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)):void 0}}function a(t){a.cover||(a.cover=document.createElement("div"),a.cover.onkeydown=r,a.cover.className="dhx_modal_cover",document.body.appendChild(a.cover)),a.cover.style.display=t?"inline-block":"none"}function h(t,e,n){var i=l._waiAria.messageButtonAttrString(t),e=e.toLowerCase().replace(/ /g,"_");return"<div "+i+" class='gantt_popup_button dhtmlx_popup_button gantt_"+e+"_button dhtmlx_"+e+"_button' data-result='"+n+"' result='"+n+"' ><div>"+t+"</div></div>"}function _(){for(var t=[].slice.apply(arguments,[0]),e=0;e<t.length;e++)if(t[e])return t[e]}function e(t,e,n){var i=t.tagName?t:function(e,t,n){var i=document.createElement("div"),r=m.uid();l._waiAria.messageModalAttr(i,r),i.className=" gantt_modal_box dhtmlx_modal_box gantt-"+e.type+" dhtmlx-"+e.type,i.setAttribute(c,1);var a="";if(e.width&&(i.style.width=e.width),e.height&&(i.style.height=e.height),e.title&&(a+='<div class="gantt_popup_title dhtmlx_popup_title">'+e.title+"</div>"),a+='<div class="gantt_popup_text dhtmlx_popup_text" id="'+r+'"><span>'+(e.content?"":e.text)+'</span></div><div  class="gantt_popup_controls dhtmlx_popup_controls">',t&&(a+=h(_(e.ok,l.locale.labels.message_ok,"OK"),"ok",!0)),n&&(a+=h(_(e.cancel,l.locale.labels.message_cancel,"Cancel"),"cancel",!1)),e.buttons)for(var o=0;o<e.buttons.length;o++){var s=e.buttons[o];a+="object"==typeof s?h(s.label,s.css||"gantt_"+s.label.toLowerCase()+"_button dhtmlx_"+s.label.toLowerCase()+"_button",s.value||o):h(s,s,o)}return a+="</div>",i.innerHTML=a,e.content&&("string"==typeof(r=e.content)&&(r=document.getElementById(r)),"none"==r.style.display&&(r.style.display=""),i.childNodes[e.title?1:0].appendChild(r)),i.onclick=function(t){t=t.target||t.srcElement;t.className||(t=t.parentNode),v.closest(t,".gantt_popup_button")&&(t=t.getAttribute("data-result"),u(e,t="true"==t||"false"!=t&&t))},e.box=i,(t||n)&&(d=e),i}(t,e,n);t.hidden||a(!0),document.body.appendChild(i);e=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-i.offsetWidth)/2)),n=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-i.offsetHeight)/2));return"top"==t.position?i.style.top="-3px":i.style.top=n+"px",i.style.left=e+"px",i.onkeydown=r,g.focus(i),t.hidden&&g.hide(i),l.callEvent("onMessagePopup",[i]),i}function o(t){return e(t,!0,!1)}function s(t){return e(t,!0,!0)}function f(t){return e(t)}function n(t,e,n){return"object"!=typeof t&&("function"==typeof e&&(n=e,e=""),t={text:t,type:e,callback:n}),t}l.event(document,"keydown",r,!0);var g=function(){var t=n.apply(this,arguments);return t.type=t.type||"alert",f(t)};g.hide=function(t){for(;t&&t.getAttribute&&!t.getAttribute(c);)t=t.parentNode;t&&(t.parentNode.removeChild(t),a(!1),l.callEvent("onAfterMessagePopup",[t]))},g.focus=function(e){setTimeout(function(){var t=v.getFocusableNodes(e);t.length&&t[0].focus&&t[0].focus()},1)};var p=function(t,e,n,i){switch((t=function(t,e,n,i){return"object"!=typeof t&&(t={text:t,type:e,expire:n,id:i}),t.id=t.id||m.uid(),t.expire=t.expire||p.expire,t}.apply(this,arguments)).type=t.type||"info",t.type.split("-")[0]){case"alert":return o(t);case"confirm":return s(t);case"modalbox":return f(t);default:return function(t){p.area||(p.area=document.createElement("div"),p.area.className="gantt_message_area dhtmlx_message_area",p.area.style[p.position]="5px",document.body.appendChild(p.area)),p.hide(t.id);var e=document.createElement("div");return e.innerHTML="<div>"+t.text+"</div>",e.className="gantt-info dhtmlx-info gantt-"+t.type+" dhtmlx-"+t.type,e.onclick=function(){p.hide(t.id),t=null},l._waiAria.messageInfoAttr(e),"bottom"==p.position&&p.area.firstChild?p.area.insertBefore(e,p.area.firstChild):p.area.appendChild(e),0<t.expire&&(p.timers[t.id]=window.setTimeout(function(){p.hide(t.id)},t.expire)),p.pull[t.id]=e,e=null,t.id}(t)}};p.seed=(new Date).valueOf(),p.uid=m.uid,p.expire=4e3,p.keyboard=!0,p.position="top",p.pull={},p.timers={},p.hideAll=function(){for(var t in p.pull)p.hide(t)},p.hide=function(t){var e=p.pull[t];e&&e.parentNode&&(window.setTimeout(function(){e.parentNode.removeChild(e),e=null},2e3),e.className+=" hidden",p.timers[t]&&window.clearTimeout(p.timers[t]),delete p.pull[t])};var i=[];return l.attachEvent("onMessagePopup",function(t){i.push(t)}),l.attachEvent("onAfterMessagePopup",function(t){for(var e=0;e<i.length;e++)i[e]===t&&(i.splice(e,1),e--)}),l.attachEvent("onDestroy",function(){a.cover&&a.cover.parentNode&&a.cover.parentNode.removeChild(a.cover);for(var t=0;t<i.length;t++)i[t].parentNode&&i[t].parentNode.removeChild(i[t]);i=null,p.area&&p.area.parentNode&&p.area.parentNode.removeChild(p.area),p=null}),{alert:function(){var t=n.apply(this,arguments);return t.type=t.type||"confirm",o(t)},confirm:function(){var t=n.apply(this,arguments);return t.type=t.type||"alert",s(t)},message:p,modalbox:g}}},function(t,e,o){t.exports=function(e){var i,t,n=o(0),r=o(9),a=o(8);r.isNode||(i=o(1),r=o(3),e.utils={arrayFind:r.arrayFind,dom:{getNodePosition:i.getNodePosition,getRelativeEventPosition:i.getRelativeEventPosition,isChildOf:i.isChildOf,hasClass:i.hasClass,closest:i.closest}},r=o(42)(),e.event=r.attach,e.eventRemove=r.detach,e._eventRemoveAll=r.detachAll,e._createDomEventScope=r.extend,n.mixin(e,o(114)(e)),t=o(113).init(e),e.$ui=t.factory,e.$ui.layers=t.render,e.$mouseEvents=t.mouseEvents,e.$services.setService("mouseEvents",function(){return e.$mouseEvents}),e.mixin(e,t.layersApi),o(70)(e),e.$services.setService("layers",function(){return t.layersService}),n=o(69),e.mixin(e,n()),o(68)(e),o(67)(e),o(66)(e),o(65)(e),o(64)(e),o(63)(e),o(62)(e),o(61)(e),o(60)(e),o(55)(e),o(54)(e),o(44)(e),o(43)(e),e.locate=function(t){var e=i.getTargetNode(t);if(i.closest(e,".gantt_task_row"))return null;var n=arguments[1]||this.config.task_attribute,e=i.locateAttribute(e,n);return e?e.getAttribute(n):null},e._locate_css=function(t,e,n){return i.locateClassName(t,e,n)},e._locateHTML=function(t,e){return i.locateAttribute(t,e||this.config.task_attribute)}),e.attachEvent("onParse",function(){a(e)||e.attachEvent("onGanttRender",function(){var t;e.config.initial_scroll&&(t=(t=e.getTaskByIndex(0))?t.id:e.config.root_id,e.isTaskExists(t)&&e.showTask(t))},{once:!0})}),e.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=i.getScrollSize()||1),a(e)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],month_short:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],day_full:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],day_short:["Нед","Пон","Вів","Сер","Чет","Птн","Суб"]},labels:{new_task:"Нове завдання",icon_save:"Зберегти",icon_cancel:"Відміна",icon_details:"Деталі",icon_edit:"Редагувати",icon_delete:"Вилучити",confirm_closing:"",confirm_deleting:"Подія вилучиться назавжди. Ви впевнені?",section_description:"Опис",section_time:"Часовий проміжок",section_type:"Тип",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Відміна",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],month_short:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"]},labels:{new_task:"Yeni görev",icon_save:"Kaydet",icon_cancel:"İptal",icon_details:"Detaylar",icon_edit:"Düzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Görev silinecek, emin misiniz?",section_description:"Açıklama",section_time:"Zaman Aralığı",section_type:"Tip",column_wbs:"WBS",column_text:"Görev Adı",column_start_date:"Başlangıç",column_duration:"Süre",column_add:"",link:"Bağlantı",confirm_link_deleting:"silinecek",link_start:" (başlangıç)",link_end:" (bitiş)",type_task:"Görev",type_project:"Proje",type_milestone:"Kilometretaşı",minutes:"Dakika",hours:"Saat",days:"Gün",weeks:"Hafta",months:"Ay",years:"Yıl",message_ok:"OK",message_cancel:"Ýptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],day_short:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"Ändra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"Är du säker på att du vill ta bort händelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"Länk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"Månader",years:"År",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],month_short:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","Št","Pi","So"]},labels:{new_task:"Nová úloha",icon_save:"Uložiť",icon_cancel:"Späť",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmazať",confirm_closing:"Vaše zmeny nebudú uložené. Skutočne?",confirm_deleting:"Udalosť bude natrvalo vymazaná. Skutočne?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Späť",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekliči",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbriši",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. Želite nadaljevati?",section_description:"Opis",section_time:"Časovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekliči",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Январь","Февраль","Март","Апрель","Maй","Июнь","Июль","Август","Сентябрь","Oктябрь","Ноябрь","Декабрь"],month_short:["Янв","Фев","Maр","Aпр","Maй","Июн","Июл","Aвг","Сен","Окт","Ноя","Дек"],day_full:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],day_short:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},labels:{new_task:"Новое задание",icon_save:"Сохранить",icon_cancel:"Отменить",icon_details:"Детали",icon_edit:"Изменить",icon_delete:"Удалить",confirm_closing:"",confirm_deleting:"Событие будет удалено безвозвратно, продолжить?",section_description:"Описание",section_time:"Период времени",section_type:"Тип",column_wbs:"ИСР",column_text:"Задача",column_start_date:"Начало",column_duration:"Длительность",column_add:"",link:"Связь",confirm_link_deleting:"будет удалена",link_start:" (начало)",link_end:" (конец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Минута",hours:"Час",days:"День",weeks:"Неделя",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Отменить",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"начните вводить слово для фильтрации",resources_filter_label:"спрятать не установленные"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas serão excluidas permanentemente, confirme?",section_description:"Descrição",section_time:"Período",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data início",column_duration:"Duração",column_add:"",link:"Link",confirm_link_deleting:"Será excluído!",link_start:" (início)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restrição",constraint_type:"Tipo Restrição",constraint_date:"Data restrição",asap:"Mais breve possível",alap:"Mais tarde possível",snet:"Não começar antes de",snlt:"Não começar depois de",fnet:"Não terminar antes de",fnlt:"Não terminar depois de",mso:"Precisa começar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],day_full:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],day_short:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegóły",icon_edit:"Edytuj",icon_delete:"Usuń",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunięte na zawsze, kontynuować?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Początek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usunięty",link_start:" (początek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzień",months:"Miesiące",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppføringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Mon","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(t){var e,n=this;for(e in this.addLocale=function(t,e){n._locales[t]=e},this.getLocale=function(t){return n._locales[t]},this._locales={},t)this._locales[e]=t[e]}e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],month_short:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],day_full:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],day_short:["일","월","화","수","목","금","토"]},labels:{new_task:"이름없는 작업",icon_save:"저장",icon_cancel:"취소",icon_details:"세부 사항",icon_edit:"수정",icon_delete:"삭제",confirm_closing:"",confirm_deleting:"작업을 삭제하시겠습니까?",section_description:"설명",section_time:"기간",section_type:"Type",column_wbs:"WBS",column_text:"작업명",column_start_date:"시작일",column_duration:"기간",column_add:"",link:"전제",confirm_link_deleting:"삭제 하시겠습니까?",link_start:" (start)",link_end:" (end)",type_task:"작업",type_project:"프로젝트",type_milestone:"마일스톤",minutes:"분",hours:"시간",days:"일",weeks:"주",months:"달",years:"년",message_ok:"OK",message_cancel:"취소",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],day_short:["日","月","火","水","木","金","土"]},labels:{new_task:"新しい仕事",icon_save:"保存",icon_cancel:"キャンセル",icon_details:"詳細",icon_edit:"編集",icon_delete:"削除",confirm_closing:"",confirm_deleting:"イベント完全に削除されます、宜しいですか？",section_description:"デスクリプション",section_time:"期間",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"キャンセル",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attività",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sarà eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],month_short:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasárnap","Hétfõ","Kedd","Szerda","Csütörtök","Péntek","szombat"],day_short:["Va","Hé","Ke","Sze","Csü","Pé","Szo"]},labels:{new_task:"Új feladat",icon_save:"Mentés",icon_cancel:"Mégse",icon_details:"Részletek",icon_edit:"Szerkesztés",icon_delete:"Törlés",confirm_closing:"",confirm_deleting:"Az esemény törölve lesz, biztosan folytatja?",section_description:"Leírás",section_time:"Idõszak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Mégse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obriši",confirm_closing:"",confirm_deleting:"Zadatak će biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Početno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"će biti izbrisan",link_start:" (početak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],month_short:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],day_full:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],day_short:["א","ב","ג","ד","ה","ו","ש"]},labels:{new_task:"משימה חדש",icon_save:"שמור",icon_cancel:"בטל",icon_details:"פרטים",icon_edit:"ערוך",icon_delete:"מחק",confirm_closing:"",confirm_deleting:"ארוע ימחק סופית.להמשיך?",section_description:"הסבר",section_time:"תקופה",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"בטל",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],month_short:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Aoû","Sep","Oct","Nov","Déc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle tâche",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Détails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'événement sera effacé sans appel, êtes-vous sûr ?",section_description:"Description",section_time:"Période",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la tâche",column_start_date:"Date initiale",column_duration:"Durée",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprimé",link_start:"(début)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Années",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi tehtävä",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],day_short:["ی","د","س","چ","پ","ج","ش"]},labels:{new_task:"وظیفه جدید",icon_save:"ذخیره",icon_cancel:"لغو",icon_details:"جزییات",icon_edit:"ویرایش",icon_delete:"حذف",confirm_closing:"تغییرات شما ازدست خواهد رفت، آیا مطمئن هستید؟",confirm_deleting:"این مورد برای همیشه حذف خواهد شد، آیا مطمئن هستید؟",section_description:"توضیحات",section_time:"مدت زمان",section_type:"نوع",column_wbs:"WBS",column_text:"عنوان",column_start_date:"زمان شروع",column_duration:"مدت",column_add:"",link:"ارتباط",confirm_link_deleting:"حذف خواهد شد",link_start:" (آغاز)",link_end:" (پایان)",type_task:"وظیفه",type_project:"پروژه",type_milestone:"نگارش",minutes:"دقایق",hours:"ساعات",days:"روزها",weeks:"هفته",months:"ماه‌ها",years:"سال‌ها",message_ok:"تایید",message_cancel:"لغو",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],day_short:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrará definitivamente, ¿continuar?",section_description:"Descripción",section_time:"Período",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duración",column_add:"",link:"Enlace",confirm_link_deleting:"será borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"Días",weeks:"Semanas",months:"Meses",years:"Años",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάϊος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],month_short:["ΙΑΝ","ΦΕΒ","ΜΑΡ","ΑΠΡ","ΜΑΙ","ΙΟΥΝ","ΙΟΥΛ","ΑΥΓ","ΣΕΠ","ΟΚΤ","ΝΟΕ","ΔΕΚ"],day_full:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Κυριακή"],day_short:["ΚΥ","ΔΕ","ΤΡ","ΤΕ","ΠΕ","ΠΑ","ΣΑ"]},labels:{new_task:"Νέα εργασία",icon_save:"Αποθήκευση",icon_cancel:"Άκυρο",icon_details:"Λεπτομέρειες",icon_edit:"Επεξεργασία",icon_delete:"Διαγραφή",confirm_closing:"",confirm_deleting:"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;",section_description:"Περιγραφή",section_time:"Χρονική περίοδος",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Άκυρο",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:[" Januar"," Februar"," März "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"Ändern",icon_delete:"Löschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelöscht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gelöscht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil gå tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],month_short:["Led","Ún","Bře","Dub","Kvě","Čer","Čec","Srp","Září","Říj","List","Pro"],day_full:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],day_short:["Ne","Po","Út","St","Čt","Pá","So"]},labels:{new_task:"Nová práce",icon_save:"Uložit",icon_cancel:"Zpět",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Událost bude trvale smazána, opravdu?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zpět",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],day_short:["日","一","二","三","四","五","六"]},labels:{new_task:"新任務",icon_save:"保存",icon_cancel:"关闭",icon_details:"详细",icon_edit:"编辑",icon_delete:"删除",confirm_closing:"请确认是否撤销修改!",confirm_deleting:"是否删除日程?",section_description:"描述",section_time:"时间范围",section_type:"类型",column_wbs:"工作分解结构",column_text:"任务名",column_start_date:"开始时间",column_duration:"持续时间",column_add:"",link:"关联",confirm_link_deleting:"将被删除",link_start:" (开始)",link_end:" (结束)",type_task:"任务",type_project:"项目",type_milestone:"里程碑",minutes:"分钟",hours:"小时",days:"天",weeks:"周",months:"月",years:"年",message_ok:"OK",message_cancel:"关闭",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel·lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrarà definitivament, continuar ?",section_description:"Descripció",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel·lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Студзень","Люты","Сакавік","Красавік","Maй","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Снежань"],month_short:["Студз","Лют","Сак","Крас","Maй","Чэр","Ліп","Жнів","Вер","Каст","Ліст","Снеж"],day_full:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятніца","Субота"],day_short:["Нд","Пн","Аўт","Ср","Чцв","Пт","Сб"]},labels:{new_task:"Новае заданне",icon_save:"Захаваць",icon_cancel:"Адмяніць",icon_details:"Дэталі",icon_edit:"Змяніць",icon_delete:"Выдаліць",confirm_closing:"",confirm_deleting:"Падзея будзе выдалена незваротна, працягнуць?",section_description:"Апісанне",section_time:"Перыяд часу",section_type:"Тып",column_wbs:"ІСР",column_text:"Задача",column_start_date:"Пачатак",column_duration:"Працяг",column_add:"",link:"Сувязь",confirm_link_deleting:"будзе выдалена",link_start:"(пачатак)",link_end:"(канец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Хвiлiна",hours:"Гадзiна",days:"Дзень",weeks:"Тыдзень",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Адмяніць",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],month_short:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],day_full:["الأحد","الأثنين","ألثلاثاء","الأربعاء","ألحميس","ألجمعة","السبت"],day_short:["احد","اثنين","ثلاثاء","اربعاء","خميس","جمعة","سبت"]},labels:{new_task:"مهمة جديد",icon_save:"اخزن",icon_cancel:"الغاء",icon_details:"تفاصيل",icon_edit:"تحرير",icon_delete:"حذف",confirm_closing:"التغييرات سوف تضيع, هل انت متأكد؟",confirm_deleting:"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟",section_description:"الوصف",section_time:"الفترة الزمنية",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"الغاء",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(148),r=n(147),a=n(146),o=n(145),s=n(144),l=n(143),c=n(142),d=n(141),u=n(140),h=n(139),_=n(138),f=n(137),g=n(136),p=n(135),m=n(134),v=n(133),y=n(132),k=n(131),b=n(130),w=n(129),x=n(128),$=n(127),T=n(126),S=n(125),C=n(124),E=n(123),D=n(122),M=n(121),A=n(120),N=n(119),I=n(118),P=n(117),L=n(116);e.default=function(){return new x.default({en:u.default,ar:i.default,be:r.default,ca:a.default,cn:o.default,cs:s.default,da:l.default,de:c.default,el:d.default,es:h.default,fa:_.default,fi:f.default,fr:g.default,he:p.default,hr:m.default,hu:v.default,id:y.default,it:k.default,jp:b.default,kr:w.default,nb:$.default,nl:T.default,no:S.default,pl:C.default,pt:E.default,ro:D.default,ru:M.default,si:A.default,sk:N.default,sv:I.default,tr:P.default,ua:L.default})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e){t.exports=function(e){e.destructor=function(){for(var t in e.callEvent("onDestroy",[]),this.clearAll(),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)0===t.indexOf("$")&&delete this[t];e.$destroyed=!0}}},function(t,e){t.exports=function(n){return function(t,e){t||n.config.show_errors&&!1!==n.callEvent("onError",[e])&&(n.message?n.message({type:"error",text:e,expire:-1}):console.log(e))}}},function(t,e){function n(e,t){var n,i=e.config.container_resize_timeout||20;try{e.event(t,"resize",function(){e.$scrollbarRepaint?e.$scrollbarRepaint=null:r()})}catch(t){!function t(){e.$root.offsetHeight==a&&e.$root.offsetWidth==o||r(),a=e.$root.offsetHeight,o=e.$root.offsetWidth,setTimeout(t,i)}()}function r(){clearTimeout(n),n=setTimeout(function(){e.render()},i)}var a=e.$root.offsetHeight,o=e.$root.offsetWidth}t.exports=function(t){"static"==window.getComputedStyle(t.$root).getPropertyValue("position")&&(t.$root.style.position="relative");var e=document.createElement("iframe");e.className="gantt_container_resize_watcher",e.tabIndex=-1,t.config.wai_aria_attributes&&(e.setAttribute("role","none"),e.setAttribute("aria-hidden",!0)),t.$root.appendChild(e),e.contentWindow?n(t,e.contentWindow):(t.$root.removeChild(e),n(t,window))}},function(t,e,s){var l=s(1),c=s(3),d=s(8),u=s(153);t.exports=function(r){var i=s(36);r.assert=s(152)(r);var e="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function a(t){if(!t||"string"==typeof t&&document.getElementById(t))return 1;if(function(t){try{t.cloneNode(!1)}catch(t){return}return 1}(t))return 1;throw r.assert(!1,e),new Error(e)}r.init=function(t,e,n){r.env.isNode?t=null:a(t),e&&n&&(this.config.start_date=this._min_date=new Date(e),this.config.end_date=this._max_date=new Date(n)),this.date.init(),this.init=function(t){r.env.isNode?t=null:a(t),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(t)},this._reinit(t)};var n=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(r),o=function(){d(r)||(this.$root.innerHTML="",this.$root.gantt=this,i(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var t=r.$services.getService("datastores"),e=0;e<t.length;e++)r.getDatastore(t[e]).filter()}),this.$layout.attachEvent("onResize",function(){r.refreshData()}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,u(this))}.bind(r);r.resetLayout=function(){n(),o(),this.render()},r._reinit=function(t){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),n(),this.$root=null,t&&(this.$root=l.toNode(t),o(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},r.$click={buttons:{edit:function(t){r.isReadonly(r.getTask(t))||r.showLightbox(t)},delete:function(t){var e,n,i=r.getTask(t);r.isReadonly(i)||(e=r.locale.labels.confirm_deleting,n=r.locale.labels.confirm_deleting_title,r._dhtmlx_confirm(e,n,function(){r.isTaskExists(t)&&(i.$new?(r.silent(function(){r.deleteTask(t,!0)}),r.refreshData()):r.deleteTask(t)),r.hideLightbox()}))}}},r.render=function(){var t,e,n;this.callEvent("onBeforeGanttRender",[]),d(r)||(!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?this.$root.classList.add("gantt_rtl"):this.$root.classList.remove("gantt_rtl")),n=(e=this.getScrollState())?e.x:0,this._getHorizontalScrollbar()&&(n=this._getHorizontalScrollbar().$config.codeScrollLeft||n||0),t=null,n&&(t=r.dateFromPos(n+this.config.task_scroll_offset))),i(this),d(r)?r.refreshData():(this.$layout.$config.autosize=this.config.autosize,this.$layout.resize(),this.config.preserve_scroll&&e&&n&&(n=r.getScrollState(),+t==+r.dateFromPos(n.x)&&n.y==e.y||(t&&this.showDate(t),e.y&&r.scrollTo(void 0,e.y)))),this.callEvent("onGanttRender",[])},r.setSizes=r.render,r.getTaskRowNode=function(t){for(var e=this.$grid_data.childNodes,n=this.config.task_attribute,i=0;i<e.length;i++)if(e[i].getAttribute&&e[i].getAttribute(n)==t)return e[i];return null},r.changeLightboxType=function(t){if(this.getLightboxType()==t)return!0;r._silent_redraw_lightbox(t)},r._get_link_type=function(t,e){var n=null;return t&&e?n=r.config.links.start_to_start:!t&&e?n=r.config.links.finish_to_start:t||e?t&&!e&&(n=r.config.links.start_to_finish):n=r.config.links.finish_to_finish,n},r.isLinkAllowed=function(t,e,n,i){var r;if(!(r="object"==typeof t?t:{source:t,target:e,type:this._get_link_type(n,i)}))return!1;if(!(r.source&&r.target&&r.type))return!1;if(r.source==r.target)return!1;i=!0;return this.checkEvent("onLinkValidation")&&(i=this.callEvent("onLinkValidation",[r])),i},r._correct_dst_change=function(t,e,n,i){n=c.getSecondsInUnit(i)*n;return 3600<n&&n<86400&&((e=t.getTimezoneOffset()-e)&&(t=r.date.add(t,e,"minute"))),t},r.isSplitTask=function(t){return r.assert(t&&t instanceof Object,"Invalid argument <b>task</b>="+t+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(t)},r._is_icon_open_click=function(t){if(!t)return!1;t=t.target||t.srcElement;if(!t||!t.className)return!1;t=l.getClassName(t);return-1!==t.indexOf("gantt_tree_icon")&&(-1!==t.indexOf("gantt_close")||-1!==t.indexOf("gantt_open"))}}},function(t,e){t.exports=function(t){function e(){return t._cached_functions.update_if_changed(t),t._cached_functions.active||t._cached_functions.activate(),!0}t._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(t,e){if(e._prefetch_originals)for(var n in e._prefetch_originals)e[n]=e._prefetch_originals[n];for(e._prefetch_originals={},n=0;n<t.length;n++)this.prefetch(t[n],e)},prefetch:function(o,t){var s,l=t[o];return l&&(s=this,t._prefetch_originals[o]=l,t[o]=function(){for(var t=new Array(arguments.length),e=0,n=arguments.length;e<n;e++)t[e]=arguments[e];if(s.active){var i=s.get_arguments_hash(Array.prototype.slice.call(t));s.cache[o]||(s.cache[o]={});var r=s.cache[o];if(s.has_cached_value(r,i))return s.get_cached_value(r,i);var a=l.apply(this,t);return s.cache_value(r,i,a),a}return l.apply(this,t)}),l},cache_value:function(t,e,n){this.is_date(n)&&(n=new Date(n)),t[e]=n},has_cached_value:function(t,e){return t.hasOwnProperty(e)},get_cached_value:function(t,e){e=t[e];return this.is_date(e)&&(e=new Date(e)),e},is_date:function(t){return t&&t.getUTCDate},get_arguments_hash:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.stringify_argument(t[n]));return"("+e.join(";")+")"},stringify_argument:function(t){return(t.id||(this.is_date(t)?t.valueOf():t))+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(t){var e=[],n=["_isProjectEnd","_getProjectEnd","_getSlack"];"auto"==this.mode?t.config.highlight_critical_path&&(e=n):!0===this.mode&&(e=n),this.wrap_methods(e,t)},update_if_changed:function(t){this.critical_path_mode==t.config.highlight_critical_path&&this.mode===t.config.optimize_render||(this.critical_path_mode=t.config.highlight_critical_path,this.mode=t.config.optimize_render,this.setup(t))}},t.attachEvent("onBeforeGanttRender",e),t.attachEvent("onBeforeDataRender",e),t.attachEvent("onBeforeSmartRender",function(){e()}),t.attachEvent("onBeforeParse",e),t.attachEvent("onDataRender",function(){t._cached_functions.deactivate()});var n=null;t.attachEvent("onSmartRender",function(){n&&clearTimeout(n),n=setTimeout(function(){t._cached_functions.deactivate()},1e3)}),t.attachEvent("onBeforeGanttReady",function(){return t._cached_functions.update_if_changed(t),!0})}},function(t,e){t.exports=function(i){i.getTaskType=function(t){var e,n=t;for(e in t&&"object"==typeof t&&(n=t.type),this.config.types)if(this.config.types[e]==n)return n;return i.config.types.task}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e,n){var d=n(3);t.exports=function(c){c.isUnscheduledTask=function(t){return c.assert(t&&t instanceof Object,"Invalid argument <b>task</b>="+t+" of gantt.isUnscheduledTask. Task object was expected"),!!t.unscheduled||!t.start_date},c._isAllowedUnscheduledTask=function(t){return!(!t.unscheduled||!c.config.show_unscheduled)},c._isTaskInTimelineLimits=function(t){var e=t.start_date?t.start_date.valueOf():null,t=t.end_date?t.end_date.valueOf():null;return!!(e&&t&&e<=this._max_date.valueOf()&&t>=this._min_date.valueOf())},c.isTaskVisible=function(t){if(!this.isTaskExists(t))return!1;var e=this.getTask(t);return!(!this._isAllowedUnscheduledTask(e)&&!this._isTaskInTimelineLimits(e)||!(0<=this.getGlobalTaskIndex(t)))},c._getProjectEnd=function(){if(c.config.project_end)return c.config.project_end;var t=c.getTaskByTime();return(t=t.sort(function(t,e){return+t.end_date>+e.end_date?1:-1})).length?t[t.length-1].end_date:null},c._getProjectStart=function(){if(c.config.project_start)return c.config.project_start;if(c.config.start_date)return c.config.start_date;if(c.getState().min_date)return c.getState().min_date;var t=c.getTaskByTime();return(t=t.sort(function(t,e){return+t.start_date>+e.start_date?1:-1})).length?t[0].start_date:null};function r(t,e){var n=!(!e||e==c.config.root_id)&&c.getTask(e),e=null;return e=n?c.config.schedule_from_end?c.calculateEndDate({start_date:n.end_date,duration:-c.config.duration_step,task:t}):n.start_date:c.config.schedule_from_end?c.calculateEndDate({start_date:c._getProjectEnd(),duration:-c.config.duration_step,task:t}):(n=c.getTaskByIndex(0))?n.start_date||(n.end_date?c.calculateEndDate({start_date:n.end_date,duration:-c.config.duration_step,task:t}):null):c.config.start_date||c.getState().min_date,c.assert(e,"Invalid dates"),new Date(e)}c._set_default_task_timing=function(t){t.start_date=t.start_date||r(t,c.getParent(t)),t.duration=t.duration||c.config.duration_step,t.end_date=t.end_date||c.calculateEndDate(t)},c.createTask=function(t,e,n){return t=t||{},c.defined(t.id)||(t.id=c.uid()),t.start_date||(t.start_date=r(t,e)),void 0===t.text&&(t.text=c.locale.labels.new_task),void 0===t.duration&&(t.duration=1),this.isTaskExists(e)&&(this.setParent(t,e,!0),this.getTask(e).$open=!0),this.callEvent("onTaskCreated",[t])?(this.config.details_on_create?(t.$new=!0,this.silent(function(){c.$data.tasksStore.addItem(t,n)}),this.selectTask(t.id),this.refreshData(),this.showLightbox(t.id)):this.addTask(t,e,n)&&(this.showTask(t.id),this.selectTask(t.id)),t.id):null},c._update_flags=function(t,e){var n=c.$data.tasksStore;void 0===t?(this._lightbox_id=null,n.silent(function(){n.unselect()}),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==t&&(this._lightbox_id=e),n.getSelectedId()==t&&n.silent(function(){n.unselect(t),n.select(e)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==t&&(this._tasks_dnd.drag.id=e))};function o(t,e){var n=c.getTaskType(t.type),i={type:n,$no_start:!1,$no_end:!1};return e||n!=t.$rendered_type?n==c.config.types.project?i.$no_end=i.$no_start=!0:n!=c.config.types.milestone&&(i.$no_end=!(t.end_date||t.duration),i.$no_start=!t.start_date,c._isAllowedUnscheduledTask(t)&&(i.$no_end=i.$no_start=!1)):(i.$no_start=t.$no_start,i.$no_end=t.$no_end),i}function a(t){t.$effective_calendar=c.getTaskCalendar(t).id,t.start_date=c.getClosestWorkTime({dir:"future",date:t.start_date,unit:c.config.duration_unit,task:t}),t.end_date=c.calculateEndDate(t)}c._init_task_timing=function(t){var e=o(t,!0),n=t.$rendered_type!=e.type,i=e.type;n&&(t.$no_start=e.$no_start,t.$no_end=e.$no_end,t.$rendered_type=e.type),n&&i!=this.config.types.milestone&&i==this.config.types.project&&this._set_default_task_timing(t),i==this.config.types.milestone&&(t.end_date=t.start_date),t.start_date&&t.end_date&&(t.duration=this.calculateDuration(t)),t.end_date||(t.end_date=t.start_date),t.duration=t.duration||0;i=this.getTaskCalendar(t);t.$effective_calendar&&t.$effective_calendar!==i.id&&(a(t),this.config.inherit_calendar&&this.isSummaryTask(t)&&this.eachTask(function(t){a(t)},t.id)),t.$effective_calendar=i.id},c.isSummaryTask=function(t){c.assert(t&&t instanceof Object,"Invalid argument <b>task</b>="+t+" of gantt.isSummaryTask. Task object was expected");t=o(t);return!(!t.$no_end&&!t.$no_start)},c.resetProjectDates=function(t){var e=o(t);(e.$no_end||e.$no_start)&&(e=this.getSubtaskDates(t.id),function(t,e,n){var i=o(t);i.$no_start&&(t.start_date=e&&e!=1/0?new Date(e):r(t,this.getParent(t))),i.$no_end&&(t.end_date=n&&n!=-1/0?new Date(n):this.calculateEndDate({start_date:t.start_date,duration:this.config.duration_step,task:t})),(i.$no_start||i.$no_end)&&this._init_task_timing(t)}.call(this,t,e.start_date,e.end_date))},c.getSubtaskDuration=function(t){var e=0,t=void 0!==t?t:c.config.root_id;return this.eachTask(function(t){this.getTaskType(t.type)==c.config.types.project||this.isUnscheduledTask(t)||(e+=t.duration)},t),e},c.getSubtaskDates=function(t){var e=null,n=null,t=void 0!==t?t:c.config.root_id;return this.eachTask(function(t){this.getTaskType(t.type)==c.config.types.project||this.isUnscheduledTask(t)||(t.start_date&&!t.$no_start&&(!e||e>t.start_date.valueOf())&&(e=t.start_date.valueOf()),t.end_date&&!t.$no_end&&(!n||n<t.end_date.valueOf())&&(n=t.end_date.valueOf()))},t),{start_date:e?new Date(e):null,end_date:n?new Date(n):null}},c._update_parents=function(t,e){var n,i,r,a;t&&(n=this.getTask(t),i=this.getParent(n),r=!0,((a=o(n)).$no_start||a.$no_end)&&(t=n.start_date.valueOf(),a=n.end_date.valueOf(),c.resetProjectDates(n),t==n.start_date.valueOf()&&a==n.end_date.valueOf()&&(r=!1),r&&!e&&this.refreshTask(n.id,!0)),r&&i&&this.isTaskExists(i)&&this._update_parents(i,e))},c.roundDate=function(t){var e=c.getScale();d.isDate(t)&&(t={date:t,unit:e?e.unit:c.config.duration_unit,step:e?e.step:c.config.duration_step});var n,i,r=t.date,a=t.step,o=t.unit;if(!e)return r;if(o==e.unit&&a==e.step&&+r>=+e.min_date&&+r<=+e.max_date)i=Math.floor(c.columnIndexByDate(r)),e.trace_x[i]||(--i,e.rtl&&(i=0)),n=new Date(e.trace_x[i]),l=c.date.add(n,a,o);else{for(i=Math.floor(c.columnIndexByDate(r)),l=c.date[o+"_start"](new Date(e.min_date)),e.trace_x[i]&&(l=c.date[o+"_start"](e.trace_x[i]));+l<+r;){var s=(l=c.date[o+"_start"](c.date.add(l,a,o))).getTimezoneOffset(),l=c._correct_dst_change(l,s,l,o);c.date[o+"_start"]&&(l=c.date[o+"_start"](l))}n=c.date.add(l,-1*a,o)}return(!t.dir||"future"!=t.dir)&&(t.dir&&"past"==t.dir||Math.abs(r-n)<Math.abs(l-r))?n:l},c.correctTaskWorkTime=function(t){c.config.work_time&&c.config.correct_work_time&&(this.isWorkTime(t.start_date,void 0,t)?this.isWorkTime(new Date(+t.end_date-1),void 0,t)||(t.end_date=this.calculateEndDate(t)):(t.start_date=this.getClosestWorkTime({date:t.start_date,dir:"future",task:t}),t.end_date=this.calculateEndDate(t)))},c.attachEvent("onBeforeTaskUpdate",function(t,e){return c._init_task_timing(e),!0}),c.attachEvent("onBeforeTaskAdd",function(t,e){return c._init_task_timing(e),!0}),c.attachEvent("onAfterTaskMove",function(t,e,n){return c._init_task_timing(c.getTask(t)),!0})}},function(t,e,n){var i=n(0);t.exports={create:function(t,r){return{getWorkHours:function(t){return r.getWorkHours(t)},setWorkTime:function(t){return r.setWorkTime(t)},unsetWorkTime:function(t){r.unsetWorkTime(t)},isWorkTime:function(t,e,n){return r.isWorkTime(t,e,n)},getClosestWorkTime:function(t){return r.getClosestWorkTime(t)},calculateDuration:function(t,e,n){return r.calculateDuration(t,e,n)},_hasDuration:function(t,e,n){return r.hasDuration(t,e,n)},calculateEndDate:function(t,e,n,i){return r.calculateEndDate(t,e,n,i)},mergeCalendars:i.bind(t.mergeCalendars,t),createCalendar:i.bind(t.createCalendar,t),addCalendar:i.bind(t.addCalendar,t),getCalendar:i.bind(t.getCalendar,t),getCalendars:i.bind(t.getCalendars,t),getResourceCalendar:i.bind(t.getResourceCalendar,t),getTaskCalendar:i.bind(t.getTaskCalendar,t),deleteCalendar:i.bind(t.deleteCalendar,t)}}}},function(t,e){function n(t,e){this.argumentsHelper=e,this.$gantt=t}n.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(t){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.end_date,i=t.unit,t=t.step;return this._calculateDuration(e,n,i,t)},_calculateDuration:function(t,e,n,i){var r=this.$gantt.date,a={week:6048e5,day:864e5,hour:36e5,minute:6e4},o=0;if(a[n])o=Math.round((e-t)/(i*a[n]));else{for(var s=new Date(t),l=new Date(e);s.valueOf()<l.valueOf();)o+=1,s=r.add(s,i,n);s.valueOf()!=e.valueOf()&&(o+=(l-s)/(r.add(s,i,n)-s))}return Math.round(o)},hasDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.end_date;return!!t.unit&&(e=new Date(e),n=new Date(n),e.valueOf()<n.valueOf())},hasWorkTime:function(){return!0},equals:function(t){return t instanceof n},calculateEndDate:function(){var t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.duration,i=t.unit,t=t.step;return this.$gantt.date.add(e,t*n,i)}},t.exports=n},function(t,e,n){var i=n(32),r=n(160);function a(t){this.$gantt=t.$gantt,this.argumentsHelper=i(this.$gantt),this.calendarManager=t,this.$disabledCalendar=new r(this.$gantt,this.argumentsHelper)}a.prototype={_getCalendar:function(t){var e,n=this.$gantt.config.work_time?(e=this.calendarManager,t.task?n=e.getTaskCalendar(t.task):t.id?n=e.getTaskCalendar(t):t.calendar&&(n=t.calendar),n||e.getTaskCalendar()):this.$disabledCalendar;return n},getWorkHours:function(t){return t=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).getWorkHours(t.date)},setWorkTime:function(t,e){return t=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),(e=e||this.calendarManager.getCalendar()).setWorkTime(t)},unsetWorkTime:function(t,e){return t=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),(e=e||this.calendarManager.getCalendar()).unsetWorkTime(t)},isWorkTime:function(t,e,n,i){var r=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(r).isWorkTime(r)},getClosestWorkTime:function(t){return t=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).getClosestWorkTime(t)},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).calculateDuration(t)},hasDuration:function(){var t=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).hasDuration(t)},calculateEndDate:function(t){return t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).calculateEndDate(t)}},t.exports=a},function(t,e){t.exports=function(){var r={};return{getCalendarIdFromMultipleResources:function(t,e){var n,i=t.map(function(t){return t&&t.resource_id?t.resource_id:t}).sort().join("-");if(t.length){if(1===t.length)return e.getResourceCalendar(i).id;if(r[i])return r[i].id;t=(n=e).mergeCalendars(t.map(function(t){t=t&&t.resource_id?t.resource_id:t;return n.getResourceCalendar(t)}));return r[i]=t,e.addCalendar(t)}return null}}}},function(t,e){t.exports={isLegacyResourceCalendarFormat:function(t){if(!t)return!1;for(var e in t)if(t[e]&&"object"==typeof t[e])return!0;return!1},getResourceProperty:function(t){var e=t.resource_calendars,n=t.resource_property;if(this.isLegacyResourceCalendarFormat(e))for(var i in t){n=i;break}return n},getCalendarIdFromLegacyConfig:function(t,e){if(e)for(var n in e){var i=e[n];if(t[n]){i=i[t[n]];if(i)return i}}return null}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(t){var s=this;this.getMinutesPerWeek=function(t){var e=t.valueOf();if(s._weekCache.has(e))return s._weekCache.get(e);for(var n=s._calendar,i=s._calendar.$gantt,r=0,a=i.date.week_start(new Date(t)),o=0;o<7;o++)r+=60*n.getHoursPerDay(a),a=i.date.add(a,1,"day");return s._weekCache.set(e,r),r},this.getMinutesPerMonth=function(t){var e=t.valueOf();if(s._monthCache.has(e))return s._monthCache.get(e);for(var n=s._calendar,i=s._calendar.$gantt,r=0,a=i.date.week_start(new Date(t)),o=i.date.add(a,1,"month").valueOf();a.valueOf()<o;)r+=60*n.getHoursPerDay(a),a=i.date.add(a,1,"day");return s._monthCache.set(e,r),r},this.clear=function(){s._weekCache=new Map,s._monthCache=new Map},this.clear(),this._calendar=t}e.LargerUnitsCache=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.getItem=function(t,e){var n=this._cache;if(n&&n[t]){t=n[t];if(void 0!==t[e])return t[e]}return-1},r.prototype.setItem=function(t,e,n){var i;t&&e&&((i=this._cache)&&(i[t]||(i[t]={}),i[t][e]=n))},r.prototype.clear=function(){this._cache={}},r);function r(){this.clear()}e.WorkUnitsObjectCache=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.getItem=function(t,e){if(this._cache.has(t)){t=this._cache.get(t);if(t.has(e))return t.get(e)}return-1},r.prototype.setItem=function(t,e,n){var i,r;t&&e&&((r=this._cache).has(t)?i=r.get(t):(i=new Map,r.set(t,i)),i.set(e,n))},r.prototype.clear=function(){this._cache=new Map},r);function r(){this.clear()}e.WorkUnitsMapCache=i},function(t,e,n){var i=n(31).createCacheObject,r=n(31).LargerUnitsCache,d=n(0);function o(t,e){this.argumentsHelper=e,this.$gantt=t,this._workingUnitsCache=i(),this._largeUnitsCache=new r(this),this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}o.prototype={units:["year","month","week","day","hour","minute"],_getUnitOrder:function(t){for(var e=0,n=this.units.length;e<n;e++)if(this.units[e]==t)return e},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(t){1e6<this._cached_timestamps_count&&this._resetTimestampCache();var e,n=null;return t.day||0===t.day?n=t.day:t.date&&(e=String(t.date.valueOf()),this._cached_timestamps[e]?n=this._cached_timestamps[e]:(n=Date.UTC(t.date.getFullYear(),t.date.getMonth(),t.date.getDate()),this._cached_timestamps[e]=n,this._cached_timestamps_count++)),n},_checkIfWorkingUnit:function(t,e,n,i){if(!i){if(void 0===n&&(n=this._getUnitOrder(e)),void 0===n)return!0;if(n&&!this._isWorkTime(t,this.units[n-1],n-1))return!1}return!this["_is_work_"+e]||this["_is_work_"+e](t)},_is_work_day:function(t){t=this._getWorkHours(t);return!!Array.isArray(t)&&0<t.length},_is_work_hour:function(t){for(var e=this._getWorkHours(t),n=t.getHours(),i=0;i<e.length;i++)if(n>=e[i].startHour&&n<e[i].endHour)return!0;return!1},_getTimeOfDayStamp:function(t,e){var n=t.getHours();return t.getHours()||t.getMinutes()||!e||(n=24),60*n*60+60*t.getMinutes()},_is_work_minute:function(t){for(var e=this._getWorkHours(t),n=this._getTimeOfDayStamp(t),i=0;i<e.length;i++)if(n>=e[i].start&&n<e[i].end)return!0;return!1},_internDatesPull:{},_nextDate:function(t,e,n){return this.$gantt.date.add(t,n,e)},_getWorkUnitsBetweenGeneric:function(t,e,n,i){var r=this.$gantt.date,a=new Date(t),o=new Date(e);i=i||1;var s,l,c=0,d=null,u=!1;(s=r[n+"_start"](new Date(a))).valueOf()!=a.valueOf()&&(u=!0);var h=!1;(l=r[n+"_start"](new Date(e))).valueOf()!=e.valueOf()&&(h=!0);for(;a.valueOf()<o.valueOf();){var _,f=(d=this._nextDate(a,n,i)).valueOf()>o.valueOf();this._isWorkTime(a,n)?((u||h&&f)&&(s=r[n+"_start"](new Date(a)),l=r.add(s,i,n)),u?(u=!1,d=this._nextDate(s,n,i),c+=(l.valueOf()-a.valueOf())/(l.valueOf()-s.valueOf())):h&&f?(h=!1,c+=(o.valueOf()-a.valueOf())/(l.valueOf()-s.valueOf())):c++):(_=this._getUnitOrder(n),(_=this.units[_-1])&&!this._isWorkTime(a,_)&&(d=this._getClosestWorkTimeFuture(a,_))),a=d}return c},_getMinutesPerHour:function(t){var e=this._getTimeOfDayStamp(t),n=this._getTimeOfDayStamp(this._nextDate(t,"hour",1));0===n&&(n=86400);for(var i=this._getWorkHours(t),r=0;r<i.length;r++){var a=i[r];if(e>=a.start&&n<=a.end)return 60;if(e<a.end&&n>a.start)return(Math.min(n,a.end)-Math.max(e,a.start))/60}return 0},_getMinutesPerDay:function(t){var e=0;return this._getWorkHours(t).forEach(function(t){e+=t.durationMinutes}),e},getHoursPerDay:function(t){var e=0;return this._getWorkHours(t).forEach(function(t){e+=t.durationHours}),e},_getWorkUnitsForRange:function(t,e,n,i){for(var r=0,a=new Date(t),o=new Date(e),s="minute"==n?d.bind(this._getMinutesPerDay,this):d.bind(this.getHoursPerDay,this);a.valueOf()<o.valueOf();)if(27648e5<o-a&&0===a.getDate()){var l=this._largeUnitsCache.getMinutesPerMonth(a);"hour"==n&&(l/=60),r+=l,a=this.$gantt.date.add(a,1,"month")}else{if(13824e5<o-a){var c=this.$gantt.date.week_start(new Date(a));if(a.valueOf()===c.valueOf()){l=this._largeUnitsCache.getMinutesPerWeek(a),"hour"==n&&(l/=60),r+=l,a=this.$gantt.date.add(a,7,"day");continue}}r+=s(a),a=this._nextDate(a,"day",1)}return r/i},_getMinutesBetweenSingleDay:function(t,e){for(var n=this._getIntervalTimestamp(t,e),i=this._getWorkHours(t),r=0,a=0;a<i.length;a++){var o,s=i[a];n.end>=s.start&&n.start<=s.end&&(o=Math.max(s.start,n.start),r+=((s=Math.min(s.end,n.end))-o)/60,n.start=s)}return Math.floor(r)},_getMinutesBetween:function(t,e,n,i){var r=new Date(t),a=new Date(e);i=i||1;var o=new Date(r),r=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day");if(a.valueOf()<=r.valueOf())return this._getMinutesBetweenSingleDay(t,e);e=this.$gantt.date.day_start(new Date(a)),o=this._getMinutesBetweenSingleDay(o,r),a=this._getMinutesBetweenSingleDay(e,a);return o+this._getWorkUnitsForRange(r,e,n,i)+a},_getHoursBetween:function(t,e,n,i){var r=new Date(t),a=new Date(e);i=i||1;var o=new Date(r),r=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day");if(a.valueOf()<=r.valueOf())return Math.round(this._getMinutesBetweenSingleDay(t,e)/60);e=this.$gantt.date.day_start(new Date(a)),o=this._getMinutesBetweenSingleDay(o,r,n,i)/60,a=this._getMinutesBetweenSingleDay(e,a,n,i)/60,a=o+this._getWorkUnitsForRange(r,e,n,i)+a;return Math.round(a)},getConfig:function(){return this._worktime},_setConfig:function(t){this._worktime=t,this._parseSettings(),this._workingUnitsCache.clear(),this._largeUnitsCache.clear()},_parseSettings:function(){var t,e=this.getConfig();for(t in e.parsed={dates:{},hours:null},e.parsed.hours=this._parseHours(e.hours),e.dates)e.parsed.dates[t]=this._parseHours(e.dates[t])},_tryChangeCalendarSettings:function(t){var e=JSON.stringify(this.getConfig());return t(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(e)),this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),!1)},_arraysEqual:function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},equals:function(t){if(!(t instanceof o))return!1;var e=this.getConfig(),t=t.getConfig();if(!this._arraysEqual(e.hours,t.hours))return!1;var n=Object.keys(e.dates),t=Object.keys(t.dates);if(n.sort(),t.sort(),!this._arraysEqual(n,t))return!1;for(var i=0;i<n.length;i++){var r=n[i],a=e.dates[r],r=e.dates[r];if(a!==r&&!(Array.isArray(a)&&Array.isArray(r)&&this._arraysEqual(a,r)))return!1}return!0},getWorkHours:function(){var t=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(t.date,!1)},_getWorkHours:function(t,e){var n=this.getConfig();if(!1!==e&&(n=n.parsed),!t)return n.hours;var i=this._timestamp({date:t}),e=!0;return void 0!==n.dates[i]?e=n.dates[i]:void 0!==n.dates[t.getDay()]&&(e=n.dates[t.getDay()]),!0===e?n.hours:e||[]},_getIntervalTimestamp:function(t,e){var n={start:0,end:0};n.start=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds();var i=e.getHours();return!i&&!e.getMinutes()&&!e.getSeconds()&&t.valueOf()<e.valueOf()&&(i=24),n.end=60*i*60+60*e.getMinutes()+e.getSeconds(),n},_parseHours:function(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){"number"==typeof t?n.push(60*t*60):"string"==typeof t&&t.split("-").map(function(t){return t.trim()}).forEach(function(t){var e=t.split(":").map(function(t){return t.trim()}),t=parseInt(60*e[0]*60);e[1]&&(t+=parseInt(60*e[1])),e[2]&&(t+=parseInt(e[2])),n.push(t)})});for(var e=[],i=0;i<n.length;i+=2){var r=n[i],a=n[i+1],o=a-r;e.push({start:r,end:a,startHour:Math.floor(r/3600),startMinute:Math.floor(r/60),endHour:Math.ceil(a/3600),endMinute:Math.ceil(a/60),durationSeconds:o,durationMinutes:o/60,durationHours:o/3600})}return e}return t},setWorkTime:function(i){return this._tryChangeCalendarSettings(d.bind(function(){var t=void 0===i.hours||i.hours,e=this._timestamp(i),n=this.getConfig();null!==e?n.dates[e]=t:n.hours=t,this._parseSettings(),this._workingUnitsCache.clear(),this._largeUnitsCache.clear()},this))},unsetWorkTime:function(e){return this._tryChangeCalendarSettings(d.bind(function(){var t;e?null!==(t=this._timestamp(e))&&delete this.getConfig().dates[t]:this.reset_calendar(),this._workingUnitsCache.clear(),this._largeUnitsCache.clear()},this))},_isWorkTime:function(t,e,n){var i=String(t.valueOf()),r=-1;return this._workingUnitsCache.getItem(e,i),-1==r&&(r=this._checkIfWorkingUnit(t,e,n)),r},isWorkTime:function(){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(t.date,t.unit)},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return!!t.unit&&this._calculateDuration(t.start_date,t.end_date,t.unit,t.step)},_calculateDuration:function(t,e,n,i){var r,a,o=1;return t.valueOf()>e.valueOf()&&(a=e,e=t,t=a,o=-1),r="hour"==n&&1==i?this._getHoursBetween(t,e,n,i):"minute"==n&&1==i?this._getMinutesBetween(t,e,n,i):this._getWorkUnitsBetweenGeneric(t,e,n,i),o*Math.round(r)},hasDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.end_date,i=t.unit,r=t.step;if(!i)return!1;for(var a=new Date(e),o=new Date(n),r=r||1;a.valueOf()<o.valueOf();){if(this._isWorkTime(a,i))return!0;a=this._nextDate(a,i,r)}return!1},calculateEndDate:function(){var t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.duration,i=t.unit,r=t.step;if(!i)return!1;t=0<=t.duration?1:-1,n=Math.abs(+n);return this._calculateEndDate(e,n,i,r*t)},_calculateEndDate:function(t,e,n,i){return!!n&&(1==i&&"minute"==n?this._calculateMinuteEndDate(t,e,i):-1==i&&"minute"==n?this._subtractMinuteDate(t,e,i):1==i&&"hour"==n?this._calculateHourEndDate(t,e,i):this._addInterval(t,e,n,i,null).end)},_addInterval:function(t,e,n,i,r){for(var a=0,o=t;a<e&&(!r||!r(o));){var s=this._nextDate(o,n,i);this._isWorkTime(0<i?new Date(s.valueOf()-1):new Date(s.valueOf()+1),n)&&a++,o=s}return{end:o,start:t,added:a}},_addHoursUntilDayEnd:function(t,e){for(var n=this.$gantt.date.add(this.$gantt.date.day_start(new Date(t)),1,"day"),i=0,r=e,a=this._getIntervalTimestamp(t,n),o=this._getWorkHours(t),s=0;s<o.length&&i<e;s++){var l,c=o[s];a.end>=c.start&&a.start<=c.end&&(l=Math.max(c.start,a.start),r<((c=Math.min(c.end,a.end))-l)/3600&&(c=l+60*r*60),i+=l=Math.round((c-l)/3600),r-=l,a.start=c)}return i===e&&(n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,a.start)),{added:i,end:n}},_calculateHourEndDate:function(t,e,n){var i=new Date(t),r=0;n=n||1,e=Math.abs(+e);var a=this._addHoursUntilDayEnd(i,e),r=a.added;if(i=a.end,t=e-r){for(var o=i;r<e;){var s=this._nextDate(o,"day",n);s.setHours(0),s.setMinutes(0),s.setSeconds(0);var l;if(r+(l=0<n?this.getHoursPerDay(new Date(s.valueOf()-1)):this.getHoursPerDay(new Date(s.valueOf()+1)))>=e)break;r+=l,o=s}i=o}return r<e&&(t=e-r,i=this._addHoursUntilDayEnd(i,t).end),i},_addMinutesUntilHourEnd:function(t,e){if(0===t.getMinutes())return{added:0,end:new Date(t)};for(var n=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(t)),1,"hour"),i=0,r=e,a=this._getIntervalTimestamp(t,n),o=this._getWorkHours(t),s=0;s<o.length&&i<e;s++){var l,c=o[s];a.end>=c.start&&a.start<=c.end&&(l=Math.max(c.start,a.start),r<((c=Math.min(c.end,a.end))-l)/60&&(c=l+60*r),r-=l=Math.round((c-l)/60),i+=l,a.start=c)}return i===e&&(n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,a.start)),{added:i,end:n}},_subtractMinutesUntilHourStart:function(t,e){for(var n=this.$gantt.date.hour_start(new Date(t)),i=0,r=e,a=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),o=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds(),s=this._getWorkHours(t),l=s.length-1;0<=l&&i<e;l--){var c,d=s[l];o>d.start&&a<=d.end&&(r<((c=Math.min(o,d.end))-(d=Math.max(a,d.start)))/60&&(d=c-60*r),r-=c=Math.abs(Math.round((c-d)/60)),i+=c,o=d)}return i===e&&(n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,o)),{added:i,end:n}},_subtractMinuteDate:function(t,e,n){var i=new Date(t),r=0;n=n||-1,e=Math.abs(+e),e=Math.round(e);var a=this._subtractMinutesUntilHourStart(i,e);r+=a.added,i=a.end;for(var o=0,s=[],l=0;r<e;){var c=this.$gantt.date.day_start(new Date(i)),d=new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59,59,999).valueOf();d!==o&&(s=this._getWorkHours(i),l=this._getMinutesPerDay(i),o=d);var c=e-r,u=this._getTimeOfDayStamp(i);if(s.length&&l)if(s[s.length-1].end<=u&&l<c)r+=l,i=this.$gantt.date.add(i,-1,"day");else{for(var h=!1,_=null,f=s.length-1;0<=f;f--)if(s[f].start<u-1&&s[f].end>=u-1){h=!0,_=s[f];break}i=h?u===_.end&&c>=_.durationMinutes?(r+=_.durationMinutes,this.$gantt.date.add(i,-_.durationMinutes,"minute")):c<=u/60-_.startMinute?(r+=c,this.$gantt.date.add(i,-c,"minute")):(d=this._getMinutesPerHour(i))<=c?(r+=d,this._nextDate(i,"hour",n)):(r+=(a=this._subtractMinutesUntilHourStart(i,c)).added,a.end):this._getClosestWorkTimePast(new Date(i-1),"hour")}else i=this.$gantt.date.add(i,-1,"day")}return r<e&&(t=e-r,r+=(a=this._subtractMinutesUntilHourStart(i,t)).added,i=a.end),i},_calculateMinuteEndDate:function(t,e,n){var i=new Date(t),r=0;n=n||1,e=Math.abs(+e),e=Math.round(e);var a=this._addMinutesUntilHourEnd(i,e);r+=a.added,i=a.end;for(var o=0,s=[],l=0;r<e;){var c=this.$gantt.date.day_start(new Date(i)).valueOf();c!==o&&(s=this._getWorkHours(i),l=this._getMinutesPerDay(i),o=c);var d=e-r,u=this._getTimeOfDayStamp(i);if(s.length&&l)if(s[0].start>=u&&l<=d){if(r+=l,d==l){i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,s[s.length-1].end);break}i=this.$gantt.date.add(i,1,"day"),i=this.$gantt.date.day_start(i)}else{for(var h=!1,_=null,f=0;f<s.length;f++)if(s[f].start<=u&&s[f].end>u){h=!0,_=s[f];break}i=h?u===_.start&&d>=_.durationMinutes?(r+=_.durationMinutes,this.$gantt.date.add(i,_.durationMinutes,"minute")):d<=_.endMinute-u/60?(r+=d,this.$gantt.date.add(i,d,"minute")):(c=this._getMinutesPerHour(i))<=d?(r+=c,this._nextDate(i,"hour",n)):(r+=(a=this._addMinutesUntilHourEnd(i,d)).added,a.end):this._getClosestWorkTimeFuture(i,"hour")}else i=this.$gantt.date.add(this.$gantt.date.day_start(i),1,"day")}return r<e&&(t=e-r,r+=(a=this._addMinutesUntilHourEnd(i,t)).added,i=a.end),i},getClosestWorkTime:function(){var t=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(t.date,t.unit,t.dir)},_getClosestWorkTime:function(t,e,n){var i=new Date(t);return this._isWorkTime(i,e)?i:(i=this.$gantt.date[e+"_start"](i),i="any"!=n&&n?"past"==n?this._getClosestWorkTimePast(i,e):this._getClosestWorkTimeFuture(i,e):(n=this._getClosestWorkTimeFuture(i,e),e=this._getClosestWorkTimePast(i,e),Math.abs(n-t)<=Math.abs(t-e)?n:e))},_getClosestWorkTimeFuture:function(t,e){return this._getClosestWorkTimeGeneric(t,e,1)},_getClosestWorkTimePast:function(t,e){t=this._getClosestWorkTimeGeneric(t,e,-1);return this.$gantt.date.add(t,1,e)},_findClosestTimeInDay:function(t,e,n){var i=new Date(t),r=null,t=!1;this._getWorkHours(i).length||(i=this._getClosestWorkTime(i,"day",e<0?"past":"future"),e<0&&(i=new Date(i.valueOf()-1),t=!0),n=this._getWorkHours(i));var a=this._getTimeOfDayStamp(i);if(t&&(a=this._getTimeOfDayStamp(new Date(i.valueOf()+1),t)),0<e){for(var o=0;o<n.length;o++)if(n[o].start>=a){r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,n[o].start);break}}else for(o=n.length-1;0<=o;o--){if(n[o].end<=a){r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,n[o].end);break}if(n[o].end>a&&n[o].start<=a){r=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,a);break}}return r},_getClosestWorkMinute:function(t,e,n){var i=new Date(t),r=this._getWorkHours(i),t=this._findClosestTimeInDay(i,n,r);return t||(i=this.calculateEndDate(i,n,"day"),i=0<n?this.$gantt.date.day_start(i):(i=this.$gantt.date.day_start(i),i=this.$gantt.date.add(i,1,"day"),new Date(i.valueOf()-1)),r=this._getWorkHours(i),t=this._findClosestTimeInDay(i,n,r)),n<0&&(t=this.$gantt.date.add(t,-1,e)),t},_getClosestWorkTimeGeneric:function(t,e,n){if("hour"===e||"minute"===e)return this._getClosestWorkMinute(t,e,n);for(var i=this._getUnitOrder(e),r=this.units[i-1],a=t,o=0;!this._isWorkTime(a,e)&&(!r||this._isWorkTime(a,r)||(a=0<n?this._getClosestWorkTimeFuture(a,r):this._getClosestWorkTimePast(a,r),!this._isWorkTime(a,e)));){if(3e3<++o)return this.$gantt.assert(!1,"Invalid working time check"),!1;var s=a.getTimezoneOffset(),a=this.$gantt.date.add(a,n,e);a=this.$gantt._correct_dst_change(a,s,n,e),this.$gantt.date[e+"_start"]&&(a=this.$gantt.date[e+"_start"](a))}return a},hasWorkTime:function(){var t,e=this.getConfig(),n=e.dates,i=[];for(t in e.dates)6<Number(t)&&i.push(Number(t));var r=this._checkWorkHours(e.hours),a=!1;return[0,1,2,3,4,5,6].forEach(function(t){a||(!0===(t=n[t])?a=r:Array.isArray(t)&&(a=this._checkWorkHours(t)))}.bind(this)),a},_checkWorkHours:function(t){if(0===t.length)return!1;for(var e=!1,n=0;n<t.length;n+=2)t[n]!==t[n+1]&&(e=!0);return e}},t.exports=o},function(t,e,n){var l=n(0);function i(){}i.prototype={_getIntervals:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push({start:t[n],end:t[n+1]});return e},_toHoursArray:function(t){var e=[];function n(t){var e=Math.floor(t/3600),t=t-60*e*60;return e+":"+function(t){t=String(t);return t.length<2&&(t="0"+t),t}(Math.floor(t/60))}for(var i=0;i<t.length;i++)e.push(n(t[i].start)+"-"+n(t[i].end));return e},_intersectHourRanges:function(t,e){for(var n=[],i=t===(r=t.length>e.length?t:e)?e:t,r=r.slice(),i=i.slice(),n=[],a=0;a<r.length;a++)for(var o=r[a],s=0;s<i.length;s++){var l=i[s];l.start<o.end&&l.end>o.start&&(n.push({start:Math.max(o.start,l.start),end:Math.min(o.end,l.end)}),o.end>l.end&&(i.splice(s,1),s--,a--))}return n},_mergeAdjacentIntervals:function(t){var e=t.slice();e.sort(function(t,e){return t.start-e.start});for(var n=e[0],i=1;i<e.length;i++){var r=e[i];r.start<=n.end?(r.end>n.end&&(n.end=r.end),e.splice(i,1),i--):n=r}return e},_mergeHoursConfig:function(t,e){return this._mergeAdjacentIntervals(this._intersectHourRanges(t,e))},merge:function(t,e){var n,i=l.copy(t.getConfig().parsed),r=l.copy(e.getConfig().parsed),a={hours:this._toHoursArray(this._mergeHoursConfig(i.hours,r.hours)),dates:{}};for(n in i.dates){var o=i.dates[n],s=r.dates[n];o&&s?Array.isArray(o)||Array.isArray(s)?(o=Array.isArray(o)?o:i.hours,s=Array.isArray(s)?s:r.hours,a.dates[n]=this._toHoursArray(this._mergeHoursConfig(o,s))):a.dates[n]=!0:a.dates[n]=!1}return a}},t.exports=i},function(t,e,n){var i=n(0),r=n(32),a=n(168),o=n(167),s=n(163),l=n(162)();function c(t){this.$gantt=t,this._calendars={}}c.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var e=t.days;if(e&&!t.dates){t.dates=t.dates||{};for(var n=0;n<e.length;n++)t.dates[n]=e[n],e[n]instanceof Array||(t.dates[n]=!!e[n])}return delete t.days,t},mergeCalendars:function(){var t=[],e=arguments;if(Array.isArray(e[0]))t=e[0].slice();else for(var n=0;n<arguments.length;n++)t.push(arguments[n]);var i,r=new a;return t.forEach(function(t){i=i?this._createCalendarFromConfig(r.merge(i,t)):t}.bind(this)),this.createCalendar(i)},_createCalendarFromConfig:function(t){var e=new o(this.$gantt,r(this.$gantt));return e.id=String(i.uid()),e._setConfig(this._convertWorkTimeSettings(t)),e},createCalendar:function(t){var e=(t=t||{}).getConfig?i.copy(t.getConfig()):t.worktime?i.copy(t.worktime):i.copy(t),t=i.copy(this.defaults.fulltime.worktime);return i.mixin(e,t),this._createCalendarFromConfig(e)},getCalendar:function(t){return t=t||"global",this.createDefaultCalendars(),this._calendars[t]},getCalendars:function(){var t,e=[];for(t in this._calendars)e.push(this.getCalendar(t));return e},_getOwnCalendar:function(t){var e=this.$gantt.config;if(t[e.calendar_property])return this.getCalendar(t[e.calendar_property]);if(e.resource_calendars){var n,i,r=s.getResourceProperty(e);if(Array.isArray(t[r])?e.dynamic_resource_calendars&&(n=l.getCalendarIdFromMultipleResources(t[r],this)):s.isLegacyResourceCalendarFormat(e.resource_calendars)?n=s.getCalendarIdFromLegacyConfig(t,e.resource_calendars):r&&t[r]&&e.resource_calendars[t[r]]&&(i=this.getResourceCalendar(t[r])),n&&(i=this.getCalendar(n)),i)return i}return null},getResourceCalendar:function(t){if(null==t)return this.getCalendar();var e="number"==typeof t||"string"==typeof t?t:t.id||t.key,n=this.$gantt.config.resource_calendars,i=null;if(n){if(s.isLegacyResourceCalendarFormat(n)){for(var r in n)if(n[r][e]){i=n[r][e];break}}else i=n[e];if(i)return this.getCalendar(i)}return this.getCalendar()},getTaskCalendar:function(t){var e=this.$gantt;if(null==t)return this.getCalendar();if(!(t="number"!=typeof t&&"string"!=typeof t||!e.isTaskExists(t)?t:e.getTask(t)))return this.getCalendar();var n,i=this._getOwnCalendar(t);return!i&&e.config.inherit_calendar&&e.isTaskExists(t.parent)&&(n=!1,e.eachParent(function(t){n||e.isSummaryTask(t)&&(i=this._getOwnCalendar(t))&&(n=!0)},t.id,this)),i||this.getCalendar()},addCalendar:function(t){if(this.isCalendar(t)||(e=t.id,(t=this.createCalendar(t)).id=e),t._tryChangeCalendarSettings(function(){})){var e=this.$gantt.config;return t.id=t.id||i.uid(),this._calendars[t.id]=t,e.worktimes||(e.worktimes={}),e.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var e=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],e.worktimes&&e.worktimes[t]&&delete e.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var e in t){var n;this._calendars[e]||(n=t[e],(n=this.createCalendar(n)).id=e,this.addCalendar(n))}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every(function(t){return t instanceof Function})}},t.exports=c},function(t,e,n){var i=n(169),r=n(161),a=n(159),o=n(0);t.exports=function(t){var e=new i(t),n=new r(e),n=a.create(e,n);o.mixin(t,n)}},function(t,e,n){var i=n(3);t.exports=function(u){function n(t){throw u.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(t)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(t))}u.load=function(e,t,n){this._load_url=e,this.assert(arguments.length,"Invalid load arguments");var i="json",r=null;return 3<=arguments.length?(i=t,r=n):"string"==typeof t?i=t:"function"==typeof t&&(r=t),this._load_type=i,this.callEvent("onLoadStart",[e,i]),this.ajax.get(e,u.bind(function(t){this.on_load(t,i),this.callEvent("onLoadEnd",[e,i]),"function"==typeof r&&r.call(this)},this))},u.parse=function(t,e){this.on_load({xmlDoc:{responseText:t}},e)},u.serialize=function(t){return this[t=t||"json"].serialize()},u.on_load=function(t,e){var n;t.xmlDoc&&404===t.xmlDoc.status?this.assert(!1,"Failed to load the data from <a href='"+t.xmlDoc.responseURL+"' target='_blank'>"+t.xmlDoc.responseURL+"</a>, server returns 404"):(this.callEvent("onBeforeParse",[]),e=e||"json",this.assert(this[e],"Invalid data type:'"+e+"'"),n=t.xmlDoc.responseText,t=this[e].parse(n,t),this._process_loading(t))},u._process_loading=function(t){t.collections&&this._load_collections(t.collections),this.$data.tasksStore.parse(t.data||t.tasks);t=t.links||(t.collections?t.collections.links:[]);this.$data.linksStore.parse(t),this.callEvent("onParse",[]),this.render()},u._load_collections=function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){n=!0;var i=t[e],r=this.serverList[e];if(!r)continue;r.splice(0,r.length);for(var a=0;a<i.length;a++){var o,s=i[a],l=this.copy(s);for(o in l.key=l.value,s)if(s.hasOwnProperty(o)){if("value"==o||"label"==o)continue;l[o]=s[o]}r.push(l)}}n&&this.callEvent("onOptionsLoad",[])},u.attachEvent("onBeforeTaskDisplay",function(t,e){return!e.$ignore}),u.json={parse:function(e){if(e||n(e),"string"==typeof e)if(null!=typeof JSON)try{e=JSON.parse(e)}catch(t){n(e)}else u.assert(!1,"JSON is not supported");return e.data||e.tasks||n(e),e.dhx_security&&(u.security_key=e.dhx_security),e},serializeTask:function(t){return this._copyObject(t)},serializeLink:function(t){return this._copyLink(t)},_copyLink:function(t){var e,n={};for(e in t)n[e]=t[e];return n},_copyObject:function(t){var e,n={};for(e in t)"$"!=e.charAt(0)&&(n[e]=t[e],i.isDate(n[e])&&(n[e]=u.defined(u.templates.xml_format)?u.templates.xml_format(n[e]):u.templates.format_date(n[e])));return n},serialize:function(){var e=[],t=[];u.eachTask(function(t){u.resetProjectDates(t),e.push(this.serializeTask(t))},u.config.root_id,this);for(var n=u.getLinks(),i=0;i<n.length;i++)t.push(this.serializeLink(n[i]));return{data:e,links:t}}},u.xml={_xmlNodeToJSON:function(t,e){for(var n={},i=0;i<t.attributes.length;i++)n[t.attributes[i].name]=t.attributes[i].value;if(!e){for(i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];1==r.nodeType&&(n[r.tagName]=r.firstChild?r.firstChild.nodeValue:"")}n.text||(n.text=t.firstChild?t.firstChild.nodeValue:"")}return n},_getCollections:function(t){for(var e={},n=u.ajax.xpath("//coll_options",t),i=0;i<n.length;i++)for(var r=e[n[i].getAttribute("for")]=[],a=u.ajax.xpath(".//item",n[i]),o=0;o<a.length;o++){for(var s=a[o].attributes,l={key:a[o].getAttribute("value"),label:a[o].getAttribute("label")},c=0;c<s.length;c++){var d=s[c];"value"!=d.nodeName&&"label"!=d.nodeName&&(l[d.nodeName]=d.nodeValue)}r.push(l)}return e},_getXML:function(t,e,n){n=n||"data",e.getXMLTopNode||(e=u.ajax.parse(e));e=u.ajax.xmltop(n,e.xmlDoc);e&&e.tagName==n||function(t){throw u.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(t)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(t))}(t);t=e.getAttribute("dhx_security");return t&&(u.security_key=t),e},parse:function(t,e){e=this._getXML(t,e);for(var t={},n=t.data=[],i=u.ajax.xpath("//task",e),r=0;r<i.length;r++)n[r]=this._xmlNodeToJSON(i[r]);return t.collections=this._getCollections(e),t},_copyLink:function(t){return"<item id='"+t.id+"' source='"+t.source+"' target='"+t.target+"' type='"+t.type+"' />"},_copyObject:function(t){return"<task id='"+t.id+"' parent='"+(t.parent||"")+"' start_date='"+t.start_date+"' duration='"+t.duration+"' open='"+!!t.open+"' progress='"+t.progress+"' end_date='"+t.end_date+"'><![CDATA["+t.text+"]]></task>"},serialize:function(){for(var t=[],e=[],n=u.json.serialize(),i=0,r=n.data.length;i<r;i++)t.push(this._copyObject(n.data[i]));for(i=0,r=n.links.length;i<r;i++)e.push(this._copyLink(n.links[i]));return"<data>"+t.join("")+"<coll_options for='links'>"+e.join("")+"</coll_options></data>"}},u.oldxml={parse:function(t,e){e=u.xml._getXML(t,e,"projects");for(var n,i={collections:{links:[]}},r=i.data=[],a=u.ajax.xpath("//task",e),o=0;o<a.length;o++){r[o]=u.xml._xmlNodeToJSON(a[o]);var s=a[o].parentNode;"project"==s.tagName?r[o].parent="project-"+s.getAttribute("id"):r[o].parent=s.parentNode.getAttribute("id")}for(a=u.ajax.xpath("//project",e),o=0;o<a.length;o++)(n=u.xml._xmlNodeToJSON(a[o],!0)).id="project-"+n.id,r.push(n);for(o=0;o<r.length;o++)(n=r[o]).start_date=n.startdate||n.est,n.end_date=n.enddate,n.text=n.name,n.duration=n.duration/8,n.open=1,n.duration||n.end_date||(n.duration=1),n.predecessortasks&&i.collections.links.push({target:n.id,source:n.predecessortasks,type:u.config.links.finish_to_start});return i},serialize:function(){u.message("Serialization to 'old XML' is not implemented")}},u.serverList=function(t,e){return e?this.serverList[t]=e.slice(0):this.serverList[t]||(this.serverList[t]=[]),this.serverList[t]}}},function(t,e){t.exports=function(t){t.isReadonly=function(t){return(!t||!t[this.config.editable_property])&&(t&&t[this.config.readonly_property]||this.config.readonly)}}},function(t,e){t.exports=function(i){i.getGridColumn=function(t){for(var e=i.config.columns,n=0;n<e.length;n++)if(e[n].name==t)return e[n];return null},i.getGridColumns=function(){return i.config.columns.slice()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.attachEvents=function(){var r=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(t,e){var n=r.$grid.$grid.getBoundingClientRect(),i=n.right,n=n.left,e=r.getCurrentX(e.clientX);return i-20<=e&&(r.autoscrollRight(),r.autoscrollStart()),e<=n+20&&(r.autoscrollLeft(),r.autoscrollStart()),e<i-20&&n+20<e&&r.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){r.autoscrollStop()}))},r.prototype.autoscrollStart=function(){var t,e,n=this;0!==this._scrollOrder&&(t=10*this._scrollOrder,e=this._scrollView.getScrollState(),this._scrollView.scrollTo(e.position+t),setTimeout(function(){n.autoscrollStart()},50))},r.prototype.autoscrollRight=function(){this._scrollOrder=1},r.prototype.autoscrollLeft=function(){this._scrollOrder=-1},r.prototype.autoscrollStop=function(){this._scrollOrder=0},r.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},r.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},r);function r(t){this._scrollOrder=0;var e=t.gantt,n=t.grid,i=t.dnd,t=t.getCurrentX;this.$gantt=e,this.$grid=n,this._dnd=i,this.getCurrentX=t,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=n(174),n=(r.prototype.init=function(){var t=this.$gantt.$services.getService("dnd");this._dnd=new t(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new i.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},r.prototype.attachEvents=function(){var s=this;this._dnd.attachEvent("onBeforeDragStart",function(t,e){if(s._draggedCell=s.$gantt.utils.dom.closest(e.target,".gantt_grid_head_cell"),s._draggedCell){var n,i,e=s.$grid.$getConfig().columns,r=s._draggedCell.getAttribute("data-column-id");return e.map(function(t,e){t.name===r&&(n=t,i=e)}),!1!==s.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:n,draggedIndex:i}])&&!(!s._draggedCell||!n||(s._gridConfig=s.$grid.$getConfig(),s._originAutoscroll=s.$gantt.config.autoscroll,s.$gantt.config.autoscroll=!1))}}),this._dnd.attachEvent("onAfterDragStart",function(t,e){s._dnd.config.column=s._draggedCell.getAttribute("data-column-id"),s._dnd.config.marker.innerHTML=s._draggedCell.outerHTML,s._dnd.config.marker.classList.add("gantt_column_drag_marker"),s._dnd.config.marker.style.height=s._gridConfig.scale_height+"px",s._dnd.config.marker.style.lineHeight=s._gridConfig.scale_height+"px",s._draggedCell.classList.add("gantt_grid_head_cell_dragged")}),this._dnd.attachEvent("onDragMove",function(t,e){if(s._draggedCell){s._dragX=e.clientX;var n=s.calculateCurrentPosition(e.clientX),i=s.findColumnsIndexes(),r=i.targetIndex,a=i.draggedIndex,o=s.$grid.$getConfig().columns,e=o[a],o=o[r];return!1===s.$grid.callEvent("onColumnDragMove",[{draggedColumn:e,targetColumn:o,draggedIndex:a,targetIndex:r}])?(s.cleanTargetMarker(),!1):(s.setMarkerPosition(n),s.drawTargetMarker(i),!0)}}),this._dnd.attachEvent("onDragEnd",function(){s._draggedCell&&(s.$gantt.config.autoscroll=s._originAutoscroll,s._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),s.cleanTargetMarker(),s.reorderColumns())})},r.prototype.reorderColumns=function(){var t=this.findColumnsIndexes(),e=t.targetIndex,n=t.draggedIndex,i=this.$grid.$getConfig().columns,r=i[n],t=i[e];!1!==this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:r,targetColumn:t,draggedIndex:n,targetIndex:e}])&&e!==n&&(i.splice(n,1),i.splice(e,0,r),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:r,targetColumn:t,draggedIndex:n,targetIndex:e}]))},r.prototype.findColumnsIndexes=function(){var t,e,n,i,r,a=this._dnd.config.column,o=this.$grid.$getConfig().columns,s={startX:0,endX:0},l=0,c=o.length-1,d=function(t,e){return t<=e},u=function(t){return++t};this.$gantt.config.rtl&&(l=o.length-1,c=0,d=function(t,e){return e<=t},u=function(t){return--t});for(var h=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),_=l;d(_,c)&&(void 0===t||void 0===e);_=u(_))o[_].hide||(s.startX=s.endX,s.endX+=o[_].width,h>=s.startX&&(h<=s.endX||!d(u(_),c))&&(t=_,n=s.startX,i=s.endX,r=(h-s.startX)/(s.endX-s.startX)),a===o[_].name&&(e=_));return{targetIndex:t,draggedIndex:e,xBefore:n,xAfter:i,columnRelativePos:r}},r.prototype.setMarkerPosition=function(t,e){void 0===e&&(e=10);var n=this._dnd.config.marker,i=this._dnd._obj.getBoundingClientRect();n.style.top=i.y+e+"px",n.style.left=t+"px"},r.prototype.drawTargetMarker=function(t){var e=t.targetIndex,n=t.draggedIndex,i=t.xBefore,r=t.xAfter,t=t.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),a.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),i=n<e||!(e<n)&&.5<t?r:i,this._targetMarker.style.left=i+"px",this._targetMarker.style.display="block"},r.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},r);function r(t,e){var i=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var e=i.$grid.$grid.getBoundingClientRect(),n=e.right,e=e.left,t=t;return n<t&&(t=n),t<e&&(t=e),t},this.$gantt=t,this.$grid=e}e.ColumnsGridDnd=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n=n(175);e.default=n.ColumnsGridDnd},function(t,e){t.exports=function(t,e){return{init:function(){},doOnRender:function(){}}}},function(t,e,n){var i=n(21);t.exports=function(t){n(173)(t),i.prototype.getGridColumns=function(){for(var t=this.$getConfig().columns,e=[],n=0;n<t.length;n++)t[n].hide||e.push(t[n]);return e}}},function(t,e,n){t.exports=function(a){var t=n(37),o={};a.attachEvent("onClearAll",function(){o={}});var e=t.prototype.hasChild;a.$data.tasksStore.hasChild=function(t){return!!e.apply(this,arguments)||!!this.exists(t)&&this.getItem(t)[a.config.branch_loading_property]},a.attachEvent("onTaskOpened",function(t){var e,n,i,r;a.config.branch_loading&&a._load_url&&(r=t,a.config.branch_loading&&a._load_url&&!o[r]&&!a.getChildren(r).length&&a.hasChild(r))&&(r=0<=(e=(e=a._load_url).replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")?"&":"?",n=a.getScrollState().y||0,!(i={taskId:t,url:e+r+"parent_id="+encodeURIComponent(t)})!==a.callEvent("onBeforeBranchLoading",[i])&&(a.load(i.url,this._load_type,function(){n&&a.scrollTo(null,n),a.callEvent("onAfterBranchLoading",[i])}),o[t]=!0))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.create=function(t,e){return void 0===t&&(t=null),new r(e)},r);function r(t){var n=this;this.format=function(t){return n._getWBSCode(t.source)},this.canParse=function(t){return n._linkReg.test(t)},this.parse=function(t){if(!n.canParse(t))return null;t=n._linkReg.exec(t)[0].trim();return{id:void 0,source:n._findSource(t)||null,target:null,type:n._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(t){t=n._gantt.getTask(t);return n._gantt.getWBSCode(t)},this._findSource=function(t){var e=new RegExp("^[0-9.]+","i");if(e.exec(t)){t=e.exec(t)[0],t=n._gantt.getTaskByWBSCode(t);if(t)return t.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=t}e.default=i},function(t,e,n){var i=n(34).default,r=n(180).default;t.exports=function(e){e.ext.formatters={durationFormatter:function(t){return(t=t||{}).store||(t.store=e.config.duration_unit),t.enter||(t.enter=e.config.duration_unit),i.create(t,e)},linkFormatter:function(t){return r.create(t,e)}}}},function(t,e){t.exports=function(i){function t(t){return function(){return!i.config.auto_types||i.getTaskType(i.config.types.project)!=i.config.types.project||t.apply(this,arguments)}}function r(t){i.batchUpdate(function(){!function t(e){!function(t){t=t.id||t;var e=i.getTask(t);!1!==(t=o(e))&&a(e,t)}(e);e=i.getParent(e);e!=i.config.root_id&&t(e)}(t)})}var n;function a(t,e){i.getState().group_mode||(t.type=e,i.updateTask(t.id))}function o(t){var e=i.config.types,n=i.hasChild(t.id),t=i.getTaskType(t.type);return n&&t===e.task?e.project:!n&&t===e.project&&e.task}var s,l,e=!0;function c(t){t!=i.config.root_id&&i.isTaskExists(t)&&r(t)}i.attachEvent("onParse",t(function(){e=!1,i.batchUpdate(function(){i.eachTask(function(t){var e=o(t);!1!==e&&a(t,e)})}),e=!0})),i.attachEvent("onAfterTaskAdd",t(function(t){e&&r(t)})),i.attachEvent("onAfterTaskUpdate",t(function(t){e&&r(t)})),i.attachEvent("onBeforeTaskDelete",t(function(t,e){return n=i.getParent(t),!0})),i.attachEvent("onAfterTaskDelete",t(function(t,e){c(n)})),i.attachEvent("onRowDragStart",t(function(t,e,n){return s=i.getParent(t),!0})),i.attachEvent("onRowDragEnd",t(function(t,e){c(s),r(t)})),i.attachEvent("onBeforeTaskMove",t(function(t,e,n){return l=i.getParent(t),!0})),i.attachEvent("onAfterTaskMove",t(function(t,e,n){document.querySelector(".gantt_drag_marker")||(c(l),r(t))}))}},function(t,e){t.exports=function(r){function t(t){return function(){return!r.config.placeholder_task||t.apply(this,arguments)}}function n(){var t=r.getTaskBy("type",r.config.types.placeholder);t.length&&r.isTaskExists(t[0].id)||!(t={unscheduled:!0,type:r.config.types.placeholder,duration:0,text:r.locale.labels.new_task})!==r.callEvent("onTaskCreated",[t])&&r.addTask(t)}function e(t){var e=r.getTask(t);e.type==r.config.types.placeholder&&(e.start_date&&e.end_date&&e.unscheduled&&(e.unscheduled=!1),r.batchUpdate(function(){var t=r.copy(e);r.silent(function(){r.deleteTask(e.id)}),delete t["!nativeeditor_status"],t.type=r.config.types.task,t.id=r.uid(),r.addTask(t)}))}r.config.types.placeholder="placeholder",r.attachEvent("onDataProcessorReady",t(function(i){i&&!i._silencedPlaceholder&&(i._silencedPlaceholder=!0,i.attachEvent("onBeforeUpdate",t(function(t,e,n){return n.type!=r.config.types.placeholder||(i.setUpdated(t,!1),!1)})))}));var i=!1;function a(t){return!(!r.config.types.placeholder||!r.isTaskExists(t)||r.getTask(t).type!=r.config.types.placeholder)}function o(t){return a(t.source)||a(t.target)}r.attachEvent("onGanttReady",function(){i||(i=!0,r.attachEvent("onAfterTaskUpdate",t(e)),r.attachEvent("onAfterTaskAdd",t(function(t,e){e.type!=r.config.types.placeholder&&(r.getTaskBy("type",r.config.types.placeholder).forEach(function(t){r.silent(function(){r.isTaskExists(t.id)&&r.deleteTask(t.id)})}),n())})),r.attachEvent("onParse",t(n)))}),r.attachEvent("onLinkValidation",function(t){return!o(t)}),r.attachEvent("onBeforeLinkAdd",function(t,e){return!o(e)}),r.attachEvent("onBeforeUndoStack",function(t){for(var e=0;e<t.commands.length;e++){var n=t.commands[e];"task"===n.entity&&n.value.type===r.config.types.placeholder&&(t.commands.splice(e,1),e--)}return!0})}},function(t,e,n){var c=n(3);function i(s){var a={};s.$data.tasksStore.attachEvent("onStoreUpdated",function(){a={}});var e=String(Math.random());function o(t){return null===t?e+String(t):String(t)}function r(n,t){var i,e=t.join("_")+"_"+n,r={};return c.forEach(t,function(t){r[o(t)]=!0}),a[e]?i=a[e]:(i=a[e]=[],s.eachTask(function(e){var t;e.type!=s.config.types.project&&n in e&&(t=c.isArray(e[n])?e[n]:[e[n]],c.forEach(t,function(t){(r[o(t)]||t&&r[o(t.resource_id)])&&i.push(e)}))})),i}function l(t,e,n){var i,r=s.config.resource_property,a=[];s.getDatastore("task").exists(e)&&(a=(i=s.getTask(e))[r]||[]),Array.isArray(a)||(a=[a]);for(var o=0;o<a.length;o++)a[o].resource_id==t&&n.push({task_id:i.id,resource_id:a[o].resource_id,value:a[o].value})}return{filterTasks:function(t,e){return"function"==typeof t?(n=t,i=[],s.eachTask(function(t){n(t)&&i.push(t)}),i):c.isArray(e)?r(t,e):r(t,[e]);var n,i},getResourceAssignments:function(e,t){var n=[],i=s.config.resource_property;return void 0!==t?l(e,t,n):s.getTaskBy(i,e).forEach(function(t){l(e,t.id,n)}),n}}}t.exports=function(t){var e=i(t);t.getTaskBy=e.filterTasks,t.getResourceAssignments=e.getResourceAssignments,t.config.resource_property="owner_id",t.config.resource_store="resource",t.config.resource_render_empty_cells=!1,t.templates.histogram_cell_class=function(t,e,n,i){},t.templates.histogram_cell_label=function(t,e,n,i){return i.length+"/3"},t.templates.histogram_cell_allocated=function(t,e,n,i){return i.length/3},t.templates.histogram_cell_capacity=function(t,e,n,i){return 0},t.templates.resource_cell_class=function(t,e,n,i){return i.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},t.templates.resource_cell_value=function(t,e,n,i){return 8*i.length}}},function(t,e){t.exports=function(t){var o,e={_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!o.getState().group_mode},_getWBSCode:function(t){return t?(this._isRecalcNeeded()&&this._calcWBS(),t.$virtual?"":this._isGroupSort()?t.$wbs||"":(t.$wbs||(this.reset(),this._calcWBS()),t.$wbs)):""},_setWBSCode:function(t,e){t.$wbs=e},getWBSCode:function(t){return this._getWBSCode(t)},getByWBSCode:function(t){for(var e=t.split("."),n=o.config.root_id,i=0;i<e.length;i++){var r=o.getChildren(n),a=+e[i]-1;if(!o.isTaskExists(r[a]))return null;n=r[a]}return o.isTaskExists(n)?o.getTask(n):null},_calcWBS:function(){var i;this._isRecalcNeeded()&&(i=!0,o.eachTask(function(t){if(i)return i=!1,void this._setWBSCode(t,"1");var e,n=o.getPrevSibling(t.id);null!==n?(e=o.getTask(n).$wbs)&&((e=e.split("."))[e.length-1]++,this._setWBSCode(t,e.join("."))):(e=o.getParent(t.id),this._setWBSCode(t,o.getTask(e).$wbs+".1"))},o.config.root_id,this),this._needRecalc=!1)}};function n(){return e.reset(),!0}(o=t).getWBSCode=function(t){return e.getWBSCode(t)},t.getTaskByWBSCode=function(t){return e.getByWBSCode(t)},t.attachEvent("onAfterTaskMove",n),t.attachEvent("onBeforeParse",n),t.attachEvent("onAfterTaskDelete",n),t.attachEvent("onAfterTaskAdd",n),t.attachEvent("onAfterSort",n)}},function(t,e,n){var i=n(14);function r(t){var o={},s=!1;function l(t,e){e="function"==typeof e?e:function(){},o[t]||(o[t]=this[t],this[t]=e)}function c(t){o[t]&&(this[t]=o[t],o[t]=null)}function d(t){try{t()}catch(t){i.console.error(t)}}return t.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:s}},!1),function(t,e){if(s)d(t);else{var n,i=this._dp&&"off"!=this._dp.updateMode;i&&(n=this._dp.updateMode,this._dp.setUpdateMode("off"));var r,a={};for(r in function(t){for(var e in t)l.call(this,e,t[e])}.call(this,{render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(t){a[t.id]=t}}),s=!0,this.callEvent("onBeforeBatchUpdate",[]),d(t),this.callEvent("onAfterBatchUpdate",[]),function(){for(var t in o)c.call(this,t)}.call(this),a)this.resetProjectDates(a[r]);s=!1,e||this.render(),i&&(this._dp.setUpdateMode(n),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}t.exports=function(t){t.batchUpdate=r(t)}},function(t,e,i){t.exports=function(t){t.ext||(t.ext={});for(var e=[i(186),i(185),i(184),i(183),i(182),i(181)],n=0;n<e.length;n++)e[n]&&e[n](t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),n=(r.create=function(){return new r},r);function r(){var e=this;this.clear=function(){e._storage={}},this.storeItem=function(t){e._storage[t.id]=i.copy(t)},this.getStoredItem=function(t){return e._storage[t]||null},this._storage={}}e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,t){n.getUserData=function(t,e){return this.userdata||(this.userdata={}),this.userdata[t]&&this.userdata[t][e]?this.userdata[t][e]:""},n.setUserData=function(t,e,n){this.userdata||(this.userdata={}),this.userdata[t]||(this.userdata[t]={}),this.userdata[t][e]=n},n._change_id=function(t,e){"task"!==this._dp._ganttMode?this.changeLinkId(t,e):this.changeTaskId(t,e)},n._row_style=function(t,e){"task"===this._dp._ganttMode&&n.isTaskExists(t)&&(n.getTask(t).$dataprocessor_class=e,n.refreshTask(t))},n._delete_task=function(t,e){},n._sendTaskOrder=function(t,e){e.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(t).target=e.$drop_target,this._dp.setUpdated(t,!0,"order"),delete this.getTask(t).$drop_target)},n.setDp=function(){this._dp=t},n.setDp()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=(a.prototype.attach=function(){var l=this.$dp,c=this.$gantt,n=i(35),a={};function o(t){for(var e=l.updatedRows.slice(),n=!1,i=0;i<e.length&&!l._in_progress[t];i++)e[i]===t&&("inserted"===c.getUserData(t,"!nativeeditor_status")&&(n=!0),l.setUpdated(t,!1));return n}this._dataProcessorHandlers.push(c.attachEvent("onAfterTaskAdd",function(t,e){c.isTaskExists(t)&&(l.setGanttMode("tasks"),l.setUpdated(t,!0,"inserted"))})),this._dataProcessorHandlers.push(c.attachEvent("onAfterTaskUpdate",function(t,e){c.isTaskExists(t)&&(l.setGanttMode("tasks"),l.setUpdated(t,!0),c._sendTaskOrder&&c._sendTaskOrder(t,e))})),this._dataProcessorHandlers.push(c.attachEvent("onBeforeTaskDelete",function(t,e){return!c.config.cascade_delete||(a[t]={tasks:n.getSubtreeTasks(c,t),links:n.getSubtreeLinks(c,t)},!0)})),this._dataProcessorHandlers.push(c.attachEvent("onAfterTaskDelete",function(t,e){if(l.setGanttMode("tasks"),!o(t)){if(c.config.cascade_delete&&a[t]){var n=l.updateMode;l.setUpdateMode("off");var i,r=a[t];for(i in r.tasks)o(i)||(l.storeItem(r.tasks[i]),l.setUpdated(i,!0,"deleted"));for(i in l.setGanttMode("links"),r.links)o(i)||(l.storeItem(r.links[i]),l.setUpdated(i,!0,"deleted"));a[t]=null,"off"!==n&&l.sendAllData(),l.setGanttMode("tasks"),l.setUpdateMode(n)}l.storeItem(e),l.setUpdated(t,!0,"deleted"),"off"===l.updateMode||l._tSend||l.sendAllData()}})),this._dataProcessorHandlers.push(c.attachEvent("onAfterLinkUpdate",function(t,e){c.isLinkExists(t)&&(l.setGanttMode("links"),l.setUpdated(t,!0))})),this._dataProcessorHandlers.push(c.attachEvent("onAfterLinkAdd",function(t,e){c.isLinkExists(t)&&(l.setGanttMode("links"),l.setUpdated(t,!0,"inserted"))})),this._dataProcessorHandlers.push(c.attachEvent("onAfterLinkDelete",function(t,e){l.setGanttMode("links"),o(t)||(l.storeItem(e),l.setUpdated(t,!0,"deleted"))})),this._dataProcessorHandlers.push(c.attachEvent("onRowDragEnd",function(t,e){c._sendTaskOrder(t,c.getTask(t))}));var d=null,u=null;this._dataProcessorHandlers.push(c.attachEvent("onTaskIdChange",function(t,e){if(l._waitMode){var n=c.getChildren(e);if(n.length){d=d||{};for(var i=0;i<n.length;i++){var r=this.getTask(n[i]);d[r.id]=r}}var a=(s=this.getTask(e),e=[],s.$source&&(e=e.concat(s.$source)),s.$target&&(e=e.concat(s.$target)),e);if(a.length)for(u=u||{},i=0;i<a.length;i++){var o=this.getLink(a[i]);u[o.id]=o}}var s})),l.attachEvent("onAfterUpdateFinish",function(){(d||u)&&(c.batchUpdate(function(){for(var t in d)c.updateTask(d[t].id);for(var t in u)c.updateLink(u[t].id);u=d=null}),d?c._dp.setGanttMode("tasks"):c._dp.setGanttMode("links"))}),l.attachEvent("onBeforeDataSending",function(){if("CUSTOM"===this._tMode)return!0;var t,e=this._serverProcessor;return"REST-JSON"===this._tMode||"REST"===this._tMode?(t=this._ganttMode,e=e.substring(0,-1<e.indexOf("?")?e.indexOf("?"):e.length),this.serverProcessor=e+("/"===e.slice(-1)?"":"/")+t):(t=this._ganttMode+"s",this.serverProcessor=e+c.ajax.urlSeparator(e)+"gantt_mode="+t),!0}),l.attachEvent("insertCallback",function(t,e,n,i){var r=t.data||c.xml._xmlNodeToJSON(t.firstChild),t={add:c.addTask,isExist:c.isTaskExists};"links"===i&&(t.add=c.addLink,t.isExist=c.isLinkExists),t.isExist.call(c,e)||(r.id=e,t.add.call(c,r))}),l.attachEvent("updateCallback",function(t,e){var n=t.data||c.xml._xmlNodeToJSON(t.firstChild);if(c.isTaskExists(e)){var i,r=c.getTask(e);for(i in n){var a=n[i];switch(i){case"id":continue;case"start_date":case"end_date":a=c.defined(c.templates.xml_date)?c.templates.xml_date(a):c.templates.parse_date(a);break;case"duration":r.end_date=c.calculateEndDate({start_date:r.start_date,duration:a,task:r})}r[i]=a}c.updateTask(e),c.refreshData()}}),l.attachEvent("deleteCallback",function(t,e,n,i){var r={delete:c.deleteTask,isExist:c.isTaskExists};"links"===i&&(r.delete=c.deleteLink,r.isExist=c.isLinkExists),r.isExist.call(c,e)&&r.delete.call(c,e)})},a.prototype.detach=function(){var e=this;n.forEach(this._dataProcessorHandlers,function(t){e.$gantt.detachEvent(t)}),this._dataProcessorHandlers=[]},a);function a(t,e){this.$gantt=t,this.$dp=e,this._dataProcessorHandlers=[]}e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(3),a=n(0),o=n(190),s=n(189),l=n(188);e.createDataProcessor=function(t){var e,n;t instanceof Function?e=t:t.hasOwnProperty("router")?e=t.router:t.hasOwnProperty("link")&&t.hasOwnProperty("task")&&(e=t),n=e?"CUSTOM":t.mode||"REST-JSON";var i=new c(t.url);return i.init(this),i.setTransactionMode({mode:n,router:e},t.batchUpdate),i};var c=(d.prototype.setTransactionMode=function(t,e){"object"==typeof t?(this._tMode=t.mode||this._tMode,a.defined(t.headers)&&(this._headers=t.headers),a.defined(t.payload)&&(this._payload=t.payload),this._tSend=!!e):(this._tMode=t,this._tSend=e),"REST"===this._tMode&&(this._tSend=!1,this._endnm=!0),"JSON"===this._tMode||"REST-JSON"===this._tMode?(this._tSend=!1,this._endnm=!0,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),"CUSTOM"===this._tMode&&(this._tSend=!1,this._endnm=!0,this._router=t.router)},d.prototype.escape=function(t){return(this._utf?encodeURIComponent:escape)(t)},d.prototype.enableUTFencoding=function(t){this._utf=!!t},d.prototype.setDataColumns=function(t){this._columns="string"==typeof t?t.split(","):t},d.prototype.getSyncState=function(){return!this.updatedRows.length},d.prototype.enableDataNames=function(t){this._endnm=!!t},d.prototype.enablePartialDataSend=function(t){this._changed=!!t},d.prototype.setUpdateMode=function(t,e){this.autoUpdate="cell"===t,this.updateMode=t,this.dnd=e},d.prototype.ignore=function(t,e){this._silent_mode=!0,t.call(e||window),this._silent_mode=!1},d.prototype.setUpdated=function(t,e,n){var i,r;this._silent_mode||(i=this.findRow(t),n=n||"updated",(r=this.$gantt.getUserData(t,this.action_param))&&"updated"===n&&(n=r),e?(this.set_invalid(t,!1),this.updatedRows[i]=t,this.$gantt.setUserData(t,this.action_param,n),this._in_progress[t]&&(this._in_progress[t]="wait")):this.is_invalid(t)||(this.updatedRows.splice(i,1),this.$gantt.setUserData(t,this.action_param,"")),this.markRow(t,e,n),e&&this.autoUpdate&&this.sendData(t))},d.prototype.markRow=function(t,e,n){var i="",r=this.is_invalid(t);if(r&&(i=this.styles[r],e=!0),this.callEvent("onRowMark",[t,e,n,r])&&(i=this.styles[e?n:"clear"]+" "+i,this.$gantt[this._methods[0]](t,i),r&&r.details)){i+=this.styles[r+"_cell"];for(var a=0;a<r.details.length;a++)r.details[a]&&this.$gantt[this._methods[1]](t,a,i)}},d.prototype.getActionByState=function(t){return"inserted"===t?"create":"updated"!==t&&"deleted"===t?"delete":"update"},d.prototype.getState=function(t){return this.$gantt.getUserData(t,this.action_param)},d.prototype.is_invalid=function(t){return this._invalid[t]},d.prototype.set_invalid=function(t,e,n){n&&(e={value:e,details:n,toString:function(){return this.value.toString()}}),this._invalid[t]=e},d.prototype.checkBeforeUpdate=function(t){return!0},d.prototype.sendData=function(t){return this.$gantt.editStop&&this.$gantt.editStop(),void 0===t||this._tSend?this.sendAllData():!this._in_progress[t]&&(this.messages=[],!(!this.checkBeforeUpdate(t)&&this.callEvent("onValidationError",[t,this.messages]))&&void this._beforeSendData(this._getRowData(t),t))},d.prototype.serialize=function(t,e){if(this._serializeAsJson)return this._serializeAsJSON(t);if("string"==typeof t)return t;if(void 0!==e)return this.serialize_one(t,"");var n,i=[],r=[];for(n in t)t.hasOwnProperty(n)&&(i.push(this.serialize_one(t[n],n+this._postDelim)),r.push(n));return i.push("ids="+this.escape(r.join(","))),this.$gantt.security_key&&i.push("dhx_security="+this.$gantt.security_key),i.join("&")},d.prototype.serialize_one=function(t,e){if("string"==typeof t)return t;var n,i,r=[];for(i in t)if(t.hasOwnProperty(i)){if(("id"===i||i==this.action_param)&&"REST"===this._tMode)continue;n="string"==typeof t[i]||"number"==typeof t[i]?t[i]:JSON.stringify(t[i]),r.push(this.escape((e||"")+i)+"="+this.escape(n))}return r.join("&")},d.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var e=!0;if(this._forEachUpdatedRow(function(t){e=e&&this.checkBeforeUpdate(t)}),!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(t){this._in_progress[t]||this.is_invalid(t)||this._beforeSendData(this._getRowData(t),t)})}},d.prototype.findRow=function(t){for(var e=0,e=0;e<this.updatedRows.length&&t!=this.updatedRows[e];e++);return e},d.prototype.defineAction=function(t,e){this._uActions||(this._uActions={}),this._uActions[t]=e},d.prototype.afterUpdateCallback=function(t,e,n,i,r){if(this.$gantt){this.setGanttMode(r);var a=t,o="error"!==n&&"invalid"!==n;if(o||this.set_invalid(t,n),this._uActions&&this._uActions[n]&&!this._uActions[n](i))return delete this._in_progress[a];"wait"!==this._in_progress[a]&&this.setUpdated(t,!1);r=t;switch(n){case"inserted":case"insert":e!=t&&(this.setUpdated(t,!1),this.$gantt[this._methods[2]](t,e),t=e);break;case"delete":case"deleted":return this.$gantt.setUserData(t,this.action_param,"true_deleted"),this.$gantt[this._methods[3]](t),delete this._in_progress[a],this.callEvent("onAfterUpdate",[t,n,e,i])}"wait"!==this._in_progress[a]?(o&&this.$gantt.setUserData(t,this.action_param,""),delete this._in_progress[a]):(delete this._in_progress[a],this.setUpdated(e,!0,this.$gantt.getUserData(t,this.action_param))),this.callEvent("onAfterUpdate",[r,n,e,i])}},d.prototype.afterUpdate=function(t,e,n){var i=3===arguments.length?e:arguments[4],r=this.getGanttMode(),a=i.filePath||i.url,r="REST"!==this._tMode&&"REST-JSON"!==this._tMode?-1!==a.indexOf("gantt_mode=links")?"link":"task":a.indexOf("/link")>a.indexOf("/task")?"link":"task";this.setGanttMode(r);var o,i=this.$gantt.ajax;try{o=JSON.parse(e.xmlDoc.responseText)}catch(t){e.xmlDoc.responseText.length||(o={})}if(o){var s=o.action||this.getState(n)||"updated",l=o.sid||n[0],c=o.tid||n[0];return t.afterUpdateCallback(l,c,s,o,r),t.finalizeUpdate(),void this.setGanttMode(r)}a=i.xmltop("data",e.xmlDoc);if(!a)return this.cleanUpdate(n);var d=i.xpath("//data/action",a);if(!d.length)return this.cleanUpdate(n);for(var u=0;u<d.length;u++){var h=d[u],s=h.getAttribute("type"),l=h.getAttribute("sid"),c=h.getAttribute("tid");t.afterUpdateCallback(l,c,s,h,r)}t.finalizeUpdate()},d.prototype.cleanUpdate=function(t){if(t)for(var e=0;e<t.length;e++)delete this._in_progress[t[e]]},d.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},d.prototype.init=function(t){var e;this._initialized||(this.$gantt=t,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],s.default(this.$gantt,this),(e=new o.default(this.$gantt,this)).attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,e.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0)},d.prototype.setOnAfterUpdate=function(t){this.attachEvent("onAfterUpdate",t)},d.prototype.setOnBeforeUpdateHandler=function(t){this.attachEvent("onBeforeDataSending",t)},d.prototype.setAutoUpdate=function(t,e){var n=this;t=t||2e3,this._user=e||(new Date).valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){n.loadUpdate()},t)},d.prototype.afterAutoUpdate=function(t,e,n,i){return"collision"!==e||!(this._needUpdate=!0)},d.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},d.prototype.getUpdates=function(t,e){var n=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,n.get(t,e)},d.prototype.loadUpdate=function(){var s=this,l=this.$gantt.ajax,t=this.$gantt.getUserData(0,"version"),t=(t=this.serverProcessor+l.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+t].join("&")).replace("editing=true&","");this.getUpdates(t,function(t){var e=l.xpath("//userdata",t);s.obj.setUserData(0,"version",s._getXmlNodeValue(e[0]));var n=l.xpath("//update",t);if(n.length){s._silent_mode=!0;for(var i=0;i<n.length;i++){var r=n[i].getAttribute("status"),a=n[i].getAttribute("id"),o=n[i].getAttribute("parent");switch(r){case"inserted":s.callEvent("insertCallback",[n[i],a,o]);break;case"updated":s.callEvent("updateCallback",[n[i],a,o]);break;case"deleted":s.callEvent("deleteCallback",[n[i],a,o])}}s._silent_mode=!1}s._updateBusy=!1})},d.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},d.prototype.setGanttMode=function(t){"tasks"===t?t="task":"links"===t&&(t="link");var e=this.modes||{},n=this.getGanttMode();n&&(e[n]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});n=(n=e[t])||(e[t]={_in_progress:{},_invalid:{},_storage:l.default.create(),updatedRows:[]});this._in_progress=n._in_progress,this._invalid=n._invalid,this._storage=n._storage,this.updatedRows=n.updatedRows,this.modes=e,this._ganttMode=t},d.prototype.getGanttMode=function(){return this._ganttMode},d.prototype.storeItem=function(t){this._storage.storeItem(t)},d.prototype.url=function(t){this.serverProcessor=this._serverProcessor=t},d.prototype._beforeSendData=function(t,e){if(!this.callEvent("onBeforeUpdate",[e,this.getState(e),t]))return!1;this._sendData(t,e)},d.prototype._serializeAsJSON=function(t){if("string"==typeof t)return t;t=a.copy(t);return"REST-JSON"===this._tMode&&(delete t.id,delete t[this.action_param]),JSON.stringify(t)},d.prototype._applyPayload=function(t){var e=this.$gantt.ajax;if(this._payload)for(var n in this._payload)t=t+e.urlSeparator(t)+this.escape(n)+"="+this.escape(this._payload[n]);return t},d.prototype._cleanupArgumentsBeforeSend=function(t){var e;if(void 0===t[this.action_param])for(var n in e={},t)e[n]=this._cleanupArgumentsBeforeSend(t[n]);else e=this._cleanupItemBeforeSend(t);return e},d.prototype._cleanupItemBeforeSend=function(t){var e=null;return t&&("deleted"===t[this.action_param]?((e={}).id=t.id,e[this.action_param]=t[this.action_param]):e=t),e},d.prototype._sendData=function(i,r){var a=this;if(i){if(!this.callEvent("onBeforeDataSending",r?[r,this.getState(r),i]:[null,null,i]))return!1;r&&(this._in_progress[r]=(new Date).valueOf());var t=this.$gantt.ajax;if("CUSTOM"!==this._tMode){var e,n={callback:function(t){var e=[];if(r)e.push(r);else if(i)for(var n in i)e.push(n);return a.afterUpdate(a,t,e)},headers:this._headers},o=this.serverProcessor+(this._user?t.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$gantt.getUserData(0,"version")].join("&"):""),s=this._applyPayload(o);switch(this._tMode){case"GET":e=this._cleanupArgumentsBeforeSend(i),n.url=s+t.urlSeparator(s)+this.serialize(e,r),n.method="GET";break;case"POST":e=this._cleanupArgumentsBeforeSend(i),n.url=s,n.method="POST",n.data=this.serialize(e,r);break;case"JSON":e={};var l,c=this._cleanupItemBeforeSend(i);for(l in c)l!==this.action_param&&"id"!==l&&"gr_id"!==l&&(e[l]=c[l]);n.url=s,n.method="POST",n.data=JSON.stringify({id:r,action:i[this.action_param],data:e});break;case"REST":case"REST-JSON":switch(s=o.replace(/(&|\?)editing=true/,""),e="",this.getState(r)){case"inserted":n.method="POST",n.data=this.serialize(i,r);break;case"deleted":n.method="DELETE",s=s+("/"===s.slice(-1)?"":"/")+r;break;default:n.method="PUT",n.data=this.serialize(i,r),s=s+("/"===s.slice(-1)?"":"/")+r}n.url=this._applyPayload(s)}return this._waitMode++,t.query(n)}var d=this.getState(r),u=this.getActionByState(d),h=this.getGanttMode(),_=function(t){var e=d||"updated",n=r,i=r;t&&(e=t.action||d,n=t.sid||n,i=t.id||t.tid||i),a.afterUpdateCallback(n,i,e,t,h)},f=void 0;if(this._router instanceof Function)f=this._router(h,u,i,r);else if(this._router[h]instanceof Function)f=this._router[h](u,i,r);else switch(d){case"inserted":f=this._router[h].create(i);break;case"deleted":f=this._router[h].delete(r);break;default:f=this._router[h].update(i,r)}if(f){if(!f.then&&void 0===f.id&&void 0===f.tid&&void 0===f.action)throw new Error("Incorrect router return value. A Promise or a response object is expected");f.then?f.then(_).catch(function(t){t&&t.action?_(t):_({action:"error",value:t})}):_(f)}else _(null)}},d.prototype._forEachUpdatedRow=function(t){for(var e=this.updatedRows.slice(),n=0;n<e.length;n++){var i=e[n];this.$gantt.getUserData(i,this.action_param)&&t.call(this,i)}},d.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!==this.serverProcessor.indexOf("?")?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},d.prototype._getXmlNodeValue=function(t){return t.firstChild?t.firstChild.nodeValue:""},d.prototype._getAllData=function(){var n={},i=!1;return this._forEachUpdatedRow(function(t){var e;this._in_progress[t]||this.is_invalid(t)||(e=this._getRowData(t),this.callEvent("onBeforeUpdate",[t,this.getState(t),e])&&(n[t]=e,i=!0,this._in_progress[t]=(new Date).valueOf()))}),i?n:null},d.prototype._prepareDataItem=function(t){var e,n,i={};for(e in t)"$"!==e.substr(0,1)&&(n=t[e],r.isDate(n)?i[e]=this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(n):this.$gantt.templates.format_date(n):i[e]=null===n?"":n);return i[this.action_param]=this.$gantt.getUserData(t.id,this.action_param),i},d.prototype.getStoredItem=function(t){return this._storage.getStoredItem(t)},d.prototype._getRowData=function(t){var e,n=this.$gantt;return"task"===this.getGanttMode()?n.isTaskExists(t)&&(e=this.$gantt.getTask(t)):n.isLinkExists(t)&&(e=this.$gantt.getLink(t)),e=(e=e||this.getStoredItem(t))||{id:t},this._prepareDataItem(e)},d);function d(t){this.serverProcessor=t,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._waitMode=0,this._in_progress={},this._storage=l.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),i(this)}e.DataProcessor=c},function(t,e,n){var i=n(191);t.exports={DEPRECATED_api:function(t){return new i.DataProcessor(t)},createDataProcessor:i.createDataProcessor,getDataProcessorModes:i.getAvailableModes}},function(t,e,n){var c=n(8);t.exports={bindDataStore:function(r,a){function i(t,e){var n=e.getLayers(),i=l.getItem(t);if(i&&l.isVisible(t))for(var r=0;r<n.length;r++)n[r].render_item(i)}var l=a.getDatastore(r);function o(t){return t.$services.getService("state").getState("batchUpdate").batch_update}l.attachEvent("onStoreUpdated",function(t,e,n){if(c(a))return!0;var i=a.$services.getService("layers").getDataRender(r);i&&(i.onUpdateRequest=function(t){var e;(t=t).update_items&&(e=t.get_visible_range?(e=t.get_visible_range(l),l.getIndexRange(e.start,e.end)):l.getVisibleItems(),t.update_items(e))})}),l.attachEvent("onStoreUpdated",function(t,e,n){o(a)||(t&&"move"!=n&&"delete"!=n?(l.callEvent("onBeforeRefreshItem",[e.id]),l.callEvent("onAfterRefreshItem",[e.id])):(l.callEvent("onBeforeRefreshAll",[]),l.callEvent("onAfterRefreshAll",[])))}),l.attachEvent("onAfterRefreshAll",function(){if(c(a))return!0;var s=a.$services.getService("layers").getDataRender(r);s&&function(){for(var t=s.getLayers(),e=0;e<t.length;e++)t[e].clear();for(var n=l.getVisibleItems(),i={},e=0;e<t.length;e++){var r,a=t[e],o=n;a.get_visible_range&&(i[a=(r=a.get_visible_range(l)).start+" - "+r.end]?o=i[a]:(o=l.getIndexRange(r.start,r.end),i[a]=o)),t[e].render_items(o)}}()}),l.attachEvent("onAfterRefreshItem",function(t){if(c(a))return!0;var e=a.$services.getService("layers").getDataRender(r);e&&i(t,e)}),l.attachEvent("onItemOpen",function(){return!!c(a)||void a.render()}),l.attachEvent("onItemClose",function(){return!!c(a)||void a.render()}),l.attachEvent("onIdChange",function(t,e){return!!c(a)||(l.callEvent("onBeforeIdChange",[t,e]),void(o(a)||(function(t,e,n){for(var i=0;i<t.length;i++)t[i].change_id(e,n)}((n=a.$services.getService("layers").getDataRender(r)).getLayers(),t,e,l.getItem(e)),i(e,n))));var n})}}},function(t,e){t.exports=function(n){var e=null,i=n._removeItemInner;function r(t){e=null,this.callEvent("onAfterUnselect",[t])}return n._removeItemInner=function(t){return e==t&&r.call(this,t),e&&this.eachItem&&this.eachItem(function(t){t.id==e&&r.call(this,t.id)},t),i.apply(this,arguments)},n.attachEvent("onIdChange",function(t,e){n.getSelectedId()==t&&n.silent(function(){n.unselect(t),n.select(e)})}),{select:function(t){if(t){if(e==t)return e;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[t]))return!1;this.unselect(),e=t,this._skip_refresh||(this.refresh(t),this.callEvent("onAfterSelect",[t]))}return e},getSelectedId:function(){return e},isSelected:function(t){return t==e},unselect:function(t){(t=t||e)&&(e=null,this._skip_refresh||(this.refresh(t),r.call(this,t)))}}}},function(t,e,n){var i=n(0);t.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(t){return this.$data.linksStore.getItem(t)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(t){return this.$data.linksStore.exists(t)},addLink:function(t){return this.$data.linksStore.addItem(t)},updateLink:function(t,e){i.defined(e)||(e=this.getLink(t)),this.$data.linksStore.updateItem(t,e)},deleteLink:function(t){return this.$data.linksStore.removeItem(t)},changeLinkId:function(t,e){return this.$data.linksStore.changeId(t,e)}}}},function(t,e,n){var i=n(0);t.exports=function(){return{getTask:function(t){this.assert(t,"Invalid argument for gantt.getTask");var e=this.$data.tasksStore.getItem(t);return this.assert(e,"Task not found id="+t),e},getTaskByTime:function(t,e){var n=this.$data.tasksStore.getItems(),i=[];if(t||e){t=+t||-1/0,e=+e||1/0;for(var r=0;r<n.length;r++){var a=n[r];+a.start_date<e&&+a.end_date>t&&i.push(a)}}else i=n;return i},isTaskExists:function(t){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(t)},updateTask:function(t,e){i.defined(e)||(e=this.getTask(t)),this.$data.tasksStore.updateItem(t,e),this.isTaskExists(t)&&this.refreshTask(t)},addTask:function(t,e,n){return i.defined(t.id)||(t.id=i.uid()),i.defined(e)||(e=this.getParent(t)||0),this.isTaskExists(e)||(e=this.config.root_id),this.setParent(t,e),this.$data.tasksStore.addItem(t,n,e)},deleteTask:function(t){return this.$data.tasksStore.removeItem(t)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(t){return this.$data.tasksStore.getBranchIndex(t)},getGlobalTaskIndex:function(t){return this.assert(t,"Invalid argument"),this.$data.tasksStore.getIndexById(t)},eachTask:function(t,e,n){return this.$data.tasksStore.eachItem(i.bind(t,n||this),e)},eachParent:function(t,e,n){return this.$data.tasksStore.eachParent(i.bind(t,n||this),e)},changeTaskId:function(t,e){this.$data.tasksStore.changeId(t,e);var n=this.$data.tasksStore.getItem(e),i=[];n.$source&&(i=i.concat(n.$source)),n.$target&&(i=i.concat(n.$target));for(var r=0;r<i.length;r++){var a=this.getLink(i[r]);a.source==t&&(a.source=e),a.target==t&&(a.target=e)}},calculateTaskLevel:function(t){return this.$data.tasksStore.calculateItemLevel(t)},getNext:function(t){return this.$data.tasksStore.getNext(t)},getPrev:function(t){return this.$data.tasksStore.getPrev(t)},getParent:function(t){return this.$data.tasksStore.getParent(t)},setParent:function(t,e,n){return this.$data.tasksStore.setParent(t,e,n)},getSiblings:function(t){return this.$data.tasksStore.getSiblings(t).slice()},getNextSibling:function(t){return this.$data.tasksStore.getNextSibling(t)},getPrevSibling:function(t){return this.$data.tasksStore.getPrevSibling(t)},getTaskByIndex:function(t){t=this.$data.tasksStore.getIdByIndex(t);return this.isTaskExists(t)?this.getTask(t):null},getChildren:function(t){return this.hasChild(t)?this.$data.tasksStore.getChildren(t).slice():[]},hasChild:function(t){return this.$data.tasksStore.hasChild(t)},open:function(t){this.$data.tasksStore.open(t)},close:function(t){this.$data.tasksStore.close(t)},moveTask:function(t,e,n){return this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(t,e,n,i){i=!i;this.$data.tasksStore.sort(t,e,n),this.callEvent("onAfterSort",[t,e,n]),i&&this.render()}}}},function(t,e,n){var i=n(0),r=n(196),a=n(195),o=n(39),s=n(37),l=n(194),c=n(193),d=n(8);function u(){for(var t=this.$services.getService("datastores"),e=[],n=0;n<t.length;n++)e.push(this.getDatastore(t[n]));return e}o.default&&(o=o.default);t.exports={create:function(){var t=i.mixin({},{createDatastore:function(t){var e,n="treedatastore"==(t.type||"").toLowerCase()?s:o;t&&(e=this,t.openInitially=function(){return e.config.open_tree_initially});var i,r=new n(t);return this.mixin(r,l(r)),t.name&&(this.$services.dropService("datastore:"+t.name),this.$services.setService("datastore:"+t.name,function(){return r}),(i=this.$services.getService("datastores"))?i.indexOf(t.name)<0&&i.push(t.name):(i=[],this.$services.setService("datastores",function(){return i}),i.push(t.name)),c.bindDataStore(t.name,this)),r},getDatastore:function(t){return this.$services.getService("datastore:"+t)},refreshData:function(){var t;d(this)||(t=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var e=u.call(this),n=0;n<e.length;n++)e[n].refresh();d(this)||!t.x&&!t.y||this.scrollTo(t.x,t.y),this.callEvent("onDataRender",[])},isChildOf:function(t,e){return this.$data.tasksStore.isChildOf(t,e)},refreshTask:function(t,e){var n,i=this.getTask(t),r=this;function a(){if(void 0===e||e){for(var t=0;t<i.$source.length;t++)r.refreshLink(i.$source[t]);for(t=0;t<i.$target.length;t++)r.refreshLink(i.$target[t])}}i&&this.isTaskVisible(t)?(this.$data.tasksStore.refresh(t,!!this.getState("tasksDnd").drag_id||!1===e),a()):this.isTaskExists(t)&&this.isTaskExists(this.getParent(t))&&(this.refreshTask(this.getParent(t)),n=!1,this.eachParent(function(t){(n||this.isSplitTask(t))&&(n=!0)},t),n&&a())},refreshLink:function(t){this.$data.linksStore.refresh(t,!!this.getState("tasksDnd").drag_id)},silent:function(t){var e=this;e.$data.tasksStore.silent(function(){e.$data.linksStore.silent(function(){t()})})},clearAll:function(){for(var t=u.call(this),e=0;e<t.length;e++)t[e].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(t){var e=this.$data.tasksStore;return!!this.config.select_task&&(t&&e.select(t),e.getSelectedId())},unselectTask:function(t){this.$data.tasksStore.unselect(t)},isSelectedTask:function(t){return this.$data.tasksStore.isSelected(t)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}});return i.mixin(t,r()),i.mixin(t,a()),t}}},function(t,e,u){var h=u(0),_=u(197),f=u(36);t.exports=function(o){var t=_.create();h.mixin(o,t);var n,i,r=o.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return o.config.root_id},initItem:h.bind(function(t){this.defined(t.id)||(t.id=this.uid()),t.start_date&&(t.start_date=o.date.parseDate(t.start_date,"parse_date")),t.end_date&&(t.end_date=o.date.parseDate(t.end_date,"parse_date"));var e=null;!t.duration&&0!==t.duration||(t.duration=e=+t.duration),e&&(t.start_date&&!t.end_date?t.end_date=this.calculateEndDate(t):!t.start_date&&t.end_date&&(t.start_date=this.calculateEndDate({start_date:t.end_date,duration:-t.duration,task:t}))),t.progress=Number(t.progress)||0,this._isAllowedUnscheduledTask(t)&&this._set_default_task_timing(t),this._init_task_timing(t),t.start_date&&t.end_date&&this.correctTaskWorkTime(t),t.$source=[],t.$target=[];e=this.$data.tasksStore.getItem(t.id);return e&&!h.defined(t.open)&&(t.$open=e.$open),void 0===t.parent&&(t.parent=this.config.root_id),t},o),getConfig:function(){return o.config}}),a=o.createDatastore({name:"link",initItem:h.bind(function(t){return this.defined(t.id)||(t.id=this.uid()),t},o)});function s(t){var e=o.isTaskVisible(t);return!e&&o.isTaskExists(t)&&(t=o.getParent(t),o.isTaskExists(t)&&o.isTaskVisible(t)&&(t=o.getTask(t),o.isSplitTask(t)&&(e=!0))),e}function l(t){var e;o.isTaskExists(t.source)&&((e=o.getTask(t.source)).$source=e.$source||[],e.$source.push(t.id)),o.isTaskExists(t.target)&&((e=o.getTask(t.target)).$target=e.$target||[],e.$target.push(t.id))}function c(t){if(o.isTaskExists(t.source))for(var e=o.getTask(t.source),n=0;n<e.$source.length;n++)if(e.$source[n]==t.id){e.$source.splice(n,1);break}if(o.isTaskExists(t.target))for(var i=o.getTask(t.target),n=0;n<i.$target.length;n++)if(i.$target[n]==t.id){i.$target.splice(n,1);break}}function d(){for(var t=null,e=o.$data.tasksStore.getItems(),n=0,i=e.length;n<i;n++)(t=e[n]).$source=[],t.$target=[];for(var r=o.$data.linksStore.getItems(),n=0,i=r.length;n<i;n++)l(r[n])}function e(t){var e,n=t.source,i=t.target;for(e in t.events)!function(t){n.attachEvent(e,function(){return i.callEvent(t,Array.prototype.slice.call(arguments))},t)}(t.events[e])}o.attachEvent("onDestroy",function(){r.destructor(),a.destructor()}),o.attachEvent("onLinkValidation",function(t){if(o.isLinkExists(t.id))return!0;for(var e=o.getTask(t.source).$source,n=0;n<e.length;n++){var i=o.getLink(e[n]),r=t.source==i.source,a=t.target==i.target,i=t.type==i.type;if(r&&a&&i)return!1}return!0}),r.attachEvent("onBeforeRefreshAll",function(){for(var t=r.getVisibleItems(),e=0;e<t.length;e++){var n=t[e];n.$index=e,o.resetProjectDates(n)}}),r.attachEvent("onFilterItem",function(t,e){if(o.config.show_tasks_outside_timescale)return!0;var n,i;if(o.config.start_date&&o.config.end_date){if(o._isAllowedUnscheduledTask(e))return!0;if(n=o.config.start_date.valueOf(),i=o.config.end_date.valueOf(),+e.start_date>i||+e.end_date<+n)return!1}return!0}),r.attachEvent("onIdChange",function(t,e){o._update_flags(t,e)}),r.attachEvent("onAfterUpdate",function(t){if(o._update_parents(t),o.getState("batchUpdate").batch_update)return!0;for(var e=r.getItem(t),n=0;n<e.$source.length;n++)a.refresh(e.$source[n]);for(n=0;n<e.$target.length;n++)a.refresh(e.$target[n])}),r.attachEvent("onAfterItemMove",function(t,e,n){var i=o.getTask(t);null!==this.getNextSibling(t)?i.$drop_target=this.getNextSibling(t):null!==this.getPrevSibling(t)?i.$drop_target="next:"+this.getPrevSibling(t):i.$drop_target="next:null"}),r.attachEvent("onStoreUpdated",function(t,e,n){if("delete"==n&&o._update_flags(t,null),!o.$services.getService("state").getState("batchUpdate").batch_update){if(o.config.fit_tasks&&"paint"!==n){var i=o.getState();f(o);var r=o.getState();if(+i.min_date!=+r.min_date||+i.max_date!=+r.max_date)return o.render(),o.callEvent("onScaleAdjusted",[]),!0}"add"==n||"move"==n||"delete"==n?o.$layout&&o.$layout.resize():t||a.refresh()}}),a.attachEvent("onAfterAdd",function(t,e){l(e)}),a.attachEvent("onAfterUpdate",function(t,e){d()}),a.attachEvent("onAfterDelete",function(t,e){c(e)}),a.attachEvent("onBeforeIdChange",function(t,e){c(o.mixin({id:t},o.$data.linksStore.getItem(e))),l(o.$data.linksStore.getItem(e))}),a.attachEvent("onFilterItem",function(t,e){if(!o.config.show_links)return!1;var n=s(e.source),i=s(e.target);return!(!n||!i||o._isAllowedUnscheduledTask(o.getTask(e.source))||o._isAllowedUnscheduledTask(o.getTask(e.target)))&&o.callEvent("onBeforeLinkDisplay",[t,e])}),n=u(35),i={},o.attachEvent("onBeforeTaskDelete",function(t,e){return i[t]=n.getSubtreeLinks(o,t),!0}),o.attachEvent("onAfterTaskDelete",function(e,t){i[e]&&o.$data.linksStore.silent(function(){for(var t in i[e])o.$data.linksStore.removeItem(t),c(i[e][t]);i[e]=null})}),o.attachEvent("onAfterLinkDelete",function(t,e){o.refreshTask(e.source),o.refreshTask(e.target)}),o.attachEvent("onParse",d),e({source:a,target:o,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),e({source:r,target:o,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),o.$data={tasksStore:r,linksStore:a}}},function(t,e,n){(function(t,f){!function(n,i){"use strict";var r,a,o,e,s,t,l,c,d;function u(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(d)&&_(+t.data.slice(d.length))}function h(t){delete o[t]}function _(t){if(e)setTimeout(_,0,t);else{var n=o[t];if(n){e=!0;try{!function(){var t=n.callback,e=n.args;switch(e.length){case 0:t();break;case 1:t(e[0]);break;case 2:t(e[0],e[1]);break;case 3:t(e[0],e[1],e[2]);break;default:t.apply(i,e)}}()}finally{h(t),e=!1}}}}n.setImmediate||(a=1,e=!(o={}),s=n.document,t=(t=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&t.setTimeout?t:n,r="[object process]"==={}.toString.call(n.process)?function(t){f.nextTick(function(){_(t)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?(d="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",u,!1):n.attachEvent("onmessage",u),function(t){n.postMessage(d+t,"*")}):n.MessageChannel?((c=new MessageChannel).port1.onmessage=function(t){_(t.data)},function(t){c.port2.postMessage(t)}):s&&"onreadystatechange"in s.createElement("script")?(l=s.documentElement,function(t){var e=s.createElement("script");e.onreadystatechange=function(){_(t),e.onreadystatechange=null,l.removeChild(e),e=null},l.appendChild(e)}):function(t){setTimeout(_,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];t={callback:t,args:e};return o[a]=t,r(a),a++},t.clearImmediate=h)}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(13),n(40))},function(t,r,a){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new i(n.call(setTimeout,e,arguments),clearTimeout)},r.setInterval=function(){return new i(n.call(setInterval,e,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(e,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},a(199),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,a(13))},function(t,e,n){(function(Q,$,u){t.exports=function i(r,a,o){function s(e,t){if(!a[e]){if(!r[e]){var n="function"==typeof _dereq_&&_dereq_;if(!t&&n)return n(e,!0);if(l)return l(e,!0);n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n=a[e]={exports:{}};r[e][0].call(n.exports,function(t){return s(r[e][1][t]||t)},n,n.exports,i,r,a,o)}return a[e].exports}for(var l="function"==typeof _dereq_&&_dereq_,t=0;t<o.length;t++)s(o[t]);return s}({1:[function(t,e,n){"use strict";e.exports=function(t){var n=t._SomePromiseArray;function e(t){var e=new n(t),t=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),t}t.any=e,t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,n){"use strict";var i;try{throw new Error}catch(t){i=t}var r=t("./schedule"),a=t("./queue"),o=t("./util");function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=r}function l(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function c(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function d(t){this._normalQueue._pushOne(t),this._queueTick()}function u(t){for(;0<t.length();)i=n=void 0,!void("function"!=typeof(i=(e=t).shift())?i._settlePromises():(n=e.shift(),e=e.shift(),i.call(n,e)));var e,n,i}s.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},s.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this._trampolineEnabled=!1)},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(t,e){e?(Q.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),Q.exit(2)):this.throwLater(t)},s.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(s.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?l.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},s.prototype.invoke=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},s.prototype.settlePromises=function(t){this._trampolineEnabled?d.call(this,t):this._schedule(function(){t._settlePromises()})}):(s.prototype.invokeLater=l,s.prototype.invoke=c,s.prototype.settlePromises=d),s.prototype._drainQueues=function(){u(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,u(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},e.exports=s,e.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(r,a,o,s){function n(t,e){this._reject(e)}function l(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(n,n,null,this,t)}function c(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)}function d(t,e){e.promiseRejectionQueued||this._reject(t)}var u=!1;r.prototype.bind=function(t){u||(u=!0,r.prototype._propagateFrom=s.propagateFromFunction(),r.prototype._boundValue=s.boundValueFunction());var e=o(t),n=new r(a);n._propagateFrom(this,1);var i=this._target();return n._setBoundTo(e),e instanceof r?(t={promiseRejectionQueued:!1,promise:n,target:i,bindingPromise:e},i._then(a,l,void 0,n,t),e._then(c,d,void 0,n,t),n._setOnCancel(e)):n._resolveCallback(i),n},r.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},r.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},r.bind=function(t,e){return r.resolve(e).bind(t)}}},{}],4:[function(t,e,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var r=t("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=i)}catch(t){}return r},e.exports=r},{"./promise":22}],5:[function(t,e,n){"use strict";var i,r=Object.create;r&&(i=r(null),r=r(null),i[" size"]=r[" size"]=0),e.exports=function(i){var r=t("./util"),n=r.canEvaluate;function a(n){return function(t){var e;if(null!=n&&(e=n[t]),"function"==typeof e)return e;t="Object "+r.classString(n)+" has no method '"+r.toString(t)+"'";throw new i.TypeError(t)}(this.pop()).apply(n,this)}function o(t){return t[this]}function s(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}r.isIdentifier,i.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(a,void 0,void 0,e,void 0)},i.prototype.get=function(t){var e;return e="number"==typeof t?s:n&&null!==(e=(void 0)(t))?e:o,this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(l,t,e){"use strict";t.exports=function(t,e,n,i){var r=l("./util"),a=r.tryCatch,o=r.errorObj,s=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(t,e){var n;if(r.isArray(t))for(var i=0;i<t.length;++i)this._doInvokeOnCancel(t[i],e);else void 0!==t&&("function"==typeof t?e||(n=a(t).call(this._boundValue()))===o&&(this._attachExtraTrace(n.e),s.throwLater(n.e)):t._resultCancelled(this))},t.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,t)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(u){var h=t("./util"),_=t("./es5").keys,f=h.tryCatch,g=h.errorObj;return function(l,c,d){return function(t){var e=d._boundValue();t:for(var n=0;n<l.length;++n){var i=l[n];if(i===Error||null!=i&&i.prototype instanceof Error){if(t instanceof i)return f(c).call(e,t)}else if("function"==typeof i){var r=f(i).call(e,t);if(r===g)return r;if(r)return f(c).call(e,t)}else if(h.isObject(t)){for(var a=_(i),o=0;o<a.length;++o){var s=a[o];if(i[s]!=t[s])continue t}return f(c).call(e,t)}}return u}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(a){var o=!1,n=[];function s(){this._trace=new s.CapturedTrace(l())}function l(){var t=n.length-1;if(0<=t)return n[t]}return a.prototype._promiseCreated=function(){},a.prototype._pushContext=function(){},a.prototype._popContext=function(){return null},a._peekContext=a.prototype._peekContext=function(){},s.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},s.prototype._popContext=function(){if(void 0===this._trace)return null;var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e},s.CapturedTrace=null,s.create=function(){if(o)return new s},s.deactivateLongStackTraces=function(){},s.activateLongStackTraces=function(){var t=a.prototype._pushContext,e=a.prototype._popContext,n=a._peekContext,i=a.prototype._peekContext,r=a.prototype._promiseCreated;s.deactivateLongStackTraces=function(){a.prototype._pushContext=t,a.prototype._popContext=e,a._peekContext=n,a.prototype._peekContext=i,a.prototype._promiseCreated=r,o=!1},o=!0,a.prototype._pushContext=s.prototype._pushContext,a.prototype._popContext=s.prototype._popContext,a._peekContext=a.prototype._peekContext=l,a.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},s}},{}],9:[function(X,t,e){"use strict";t.exports=function(r,i){var n,a,o,s=r._getDomain,l=r._async,c=X("./errors").Warning,d=X("./util"),u=X("./es5"),h=d.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,g=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,m=null,v=!1,t=!(0==d.env("BLUEBIRD_DEBUG")),e=!(0==d.env("BLUEBIRD_WARNINGS")||!t&&!d.env("BLUEBIRD_WARNINGS")),t=!(0==d.env("BLUEBIRD_LONG_STACK_TRACES")||!t&&!d.env("BLUEBIRD_LONG_STACK_TRACES")),y=0!=d.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(e||!!d.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},r.prototype._ensurePossibleRejectionHandled=function(){var t;0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),t=this,setTimeout(function(){t._notifyUnhandledRejection()},1))},r.prototype._notifyUnhandledRejectionIsHandled=function(){B("rejectionHandled",n,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},r.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},r.prototype._notifyUnhandledRejection=function(){var t;this._isRejectionUnhandled()&&(t=this._settledValue(),this._setUnhandledRejectionIsNotified(),B("unhandledRejection",a,t,this))},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},r.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)},r.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField)},r.prototype._warn=function(t,e,n){return R(t,e,n||this)},r.onPossiblyUnhandledRejection=function(t){var e=s();a="function"==typeof t?null===e?t:d.domainBind(e,t):void 0},r.onUnhandledRejectionHandled=function(t){var e=s();n="function"==typeof t?null===e?t:d.domainBind(e,t):void 0};var k=function(){};r.longStackTraces=function(){if(l.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");var t,e,n;!J.longStackTraces&&W()&&(t=r.prototype._captureStackTrace,e=r.prototype._attachExtraTrace,n=r.prototype._dereferenceTrace,J.longStackTraces=!0,k=function(){if(l.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");r.prototype._captureStackTrace=t,r.prototype._attachExtraTrace=e,r.prototype._dereferenceTrace=n,i.deactivateLongStackTraces(),l.enableTrampoline(),J.longStackTraces=!1},r.prototype._captureStackTrace=L,r.prototype._attachExtraTrace=O,r.prototype._dereferenceTrace=j,i.activateLongStackTraces(),l.disableTrampolineIfNecessary())},r.hasLongStackTraces=function(){return J.longStackTraces&&W()};var b=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return d.global.dispatchEvent(t),function(t,e){var n={detail:e,cancelable:!0};u.defineProperty(n,"promise",{value:e.promise}),u.defineProperty(n,"reason",{value:e.reason});n=new CustomEvent(t.toLowerCase(),n);return!d.global.dispatchEvent(n)}}if("function"!=typeof Event)return(t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),d.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!d.global.dispatchEvent(n)};var t=new Event("CustomEvent");return d.global.dispatchEvent(t),function(t,e){t=new Event(t.toLowerCase(),{cancelable:!0});return t.detail=e,u.defineProperty(t,"promise",{value:e.promise}),u.defineProperty(t,"reason",{value:e.reason}),!d.global.dispatchEvent(t)}}catch(t){}return function(){return!1}}(),w=d.isNode?function(){return Q.emit.apply(Q,arguments)}:d.global?function(t){t="on"+t.toLowerCase(),t=d.global[t];return!!t&&(t.apply(d.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function x(t,e){return{promise:e}}var $={promiseCreated:x,promiseFulfilled:x,promiseRejected:x,promiseResolved:x,promiseCancelled:x,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:x},T=function(t){var e=!1;try{e=w.apply(null,arguments)}catch(t){l.throwLater(t),e=!0}var n=!1;try{n=b(t,$[t].apply(null,arguments))}catch(t){l.throwLater(t),n=!0}return n||e};function S(){return!1}function C(t,e,n){var i=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+d.toString(t));i._attachCancellationCallback(t)})}catch(t){return t}}function E(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?d.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function D(){return this._onCancelField}function M(t){this._onCancelField=t}function A(){this._cancellationParent=void 0,this._onCancelField=void 0}function N(t,e){var n;0!=(1&e)&&(void 0===(n=(this._cancellationParent=t)._branchesRemainingToCancel)&&(n=0),t._branchesRemainingToCancel=n+1),0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}r.config=function(t){var e;if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?r.longStackTraces():!t.longStackTraces&&r.hasLongStackTraces()&&k()),"warnings"in t&&(e=t.warnings,J.warnings=!!e,y=J.warnings,d.isObject(e)&&"wForgottenReturn"in e&&(y=!!e.wForgottenReturn)),"cancellation"in t&&t.cancellation&&!J.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=A,r.prototype._propagateFrom=N,r.prototype._onCancel=D,r.prototype._setOnCancel=M,r.prototype._attachCancellationCallback=E,r.prototype._execute=C,I=N,J.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!J.monitoring?(J.monitoring=!0,r.prototype._fireEvent=T):!t.monitoring&&J.monitoring&&(J.monitoring=!1,r.prototype._fireEvent=S)),r},r.prototype._fireEvent=S,r.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(t){},r.prototype._attachCancellationCallback=function(t){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._dereferenceTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(t,e){};var I=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function P(){var t=this._boundTo;return void 0!==t&&t instanceof r?t.isFulfilled()?t.value():void 0:t}function L(){this._trace=new Y(this._peekContext())}function O(t,e){var n;h(t)&&(void 0!==(n=this._trace)&&e&&(n=n._parent),void 0!==n?n.attachExtraTrace(t):t.__stackCleaned__||(n=H(t),d.notEnumerableProp(t,"stack",n.message+"\n"+n.stack.join("\n")),d.notEnumerableProp(t,"__stackCleaned__",!0)))}function j(){this._trace=void 0}function R(t,e,n){var i;J.warnings&&(t=new c(t),e?n._attachExtraTrace(t):J.longStackTraces&&(i=r._peekContext())?i.attachExtraTrace(t):(i=H(t),t.stack=i.message+"\n"+i.stack.join("\n")),T("warning",t)||z(t,"",!0))}function F(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],r="    (No stack trace)"===i||p.test(i),a=r&&U(i);r&&!a&&(v&&" "!==i.charAt(0)&&(i="    "+i),e.push(i))}return e}function H(t){var e=t.stack,n=t.toString(),e="string"==typeof e&&0<e.length?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var i=e[n];if("    (No stack trace)"===i||p.test(i))break}return 0<n&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"];return{message:n,stack:"SyntaxError"==t.name?e:F(e)}}function z(t,e,n){var i;"undefined"!=typeof console&&(t=d.isObject(t)?(i=t.stack,e+m(i,t)):e+String(t),"function"==typeof o?o(t,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(t))}function B(t,e,n,i){var r=!1;try{"function"==typeof e&&(r=!0,"rejectionHandled"===t?e(i):e(n,i))}catch(t){l.throwLater(t)}"unhandledRejection"===t?T(t,n,i)||r||z(n,"Unhandled rejection "):T(t,i)}function V(t){if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():d.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{var e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+(e.length<41?e:e.substr(0,38)+"...")+">, no stack trace)"}function W(){return"function"==typeof K}var U=function(){return!1},q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function G(t){t=t.match(q);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function Y(t){this._parent=t,this._promisesCreated=0;t=this._length=1+(void 0===t?0:t._length);K(this,Y),32<t&&this.uncycle()}d.inherits(Y,Error),(i.CapturedTrace=Y).prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},i=0,r=this;void 0!==r;++i)e.push(r),r=r._parent;for(i=(t=this._length=i)-1;0<=i;--i){var a=e[i].stack;void 0===n[a]&&(n[a]=i)}for(i=0;i<t;++i){var o=n[e[i].stack];if(void 0!==o&&o!==i){0<o&&(e[o-1]._parent=void 0,e[o-1]._length=1),e[i]._parent=void 0,e[i]._length=1;var s=0<i?e[i-1]:this;o<t-1?(s._parent=e[o+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,c=i-2;0<=c;--c)e[c]._length=l,l++;return}}}},Y.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=H(t),n=e.message,i=[e.stack],r=this;void 0!==r;)i.push(F(r.stack.split("\n"))),r=r._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var i=t[n],r=e.length-1,a=e[r],o=-1,s=i.length-1;0<=s;--s)if(i[s]===a){o=s;break}for(s=o;0<=s;--s){var l=i[s];if(e[r]!==l)break;e.pop(),r--}e=i}}(i),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(i),d.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,i)),d.notEnumerableProp(t,"__stackCleaned__",!0)}};var K=function(){function t(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():V(e)}var e=/^\s*at\s*/;if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,p=e,m=t;var n=Error.captureStackTrace;return U=function(t){return _.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var i,r=new Error;if("string"==typeof r.stack&&0<=r.stack.split("\n")[0].indexOf("stackDetection@"))return p=/@/,m=t,v=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(e){i="stack"in e}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(m=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?V(e):e.toString()},null):(p=e,m=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},d.isNode&&Q.stderr.isTTY?o=function(t,e){e=e?"[33m":"[31m";console.warn(e+t+"[0m\n")}:d.isNode||"string"!=typeof(new Error).stack||(o=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var J={warnings:e,longStackTraces:!1,cancellation:!1,monitoring:!1};return t&&r.longStackTraces(),{longStackTraces:function(){return J.longStackTraces},warnings:function(){return J.warnings},cancellation:function(){return J.cancellation},monitoring:function(){return J.monitoring},propagateFromFunction:function(){return I},boundValueFunction:function(){return P},checkForgottenReturns:function(t,e,n,i,r){if(void 0===t&&null!==e&&y&&(void 0===r||!r._returnedNonUndefined())&&0!=(65535&i._bitField)){n&&(n+=" ");var a="",o="";if(e._trace){for(var s=e._trace.stack.split("\n"),l=F(s),c=l.length-1;0<=c;--c){var d=l[c];if(!f.test(d)){d=d.match(g);d&&(a="at "+d[1]+":"+d[2]+":"+d[3]+" ");break}}if(0<l.length)for(var u=l[0],c=0;c<s.length;++c)if(s[c]===u){0<c&&(o="\n"+s[c-1]);break}}n="a promise was created in a "+n+"handler "+a+"but was not returned from it, see http://goo.gl/rRqMUw"+o;i._warn(n,!0,e)}},setBounds:function(t,e){if(W()){for(var n,i,r=t.stack.split("\n"),a=e.stack.split("\n"),o=-1,s=-1,l=0;l<r.length;++l)if(c=G(r[l])){n=c.fileName,o=c.line;break}for(var c,l=0;l<a.length;++l)if(c=G(a[l])){i=c.fileName,s=c.line;break}o<0||s<0||!n||!i||n!==i||s<=o||(U=function(t){if(_.test(t))return!0;t=G(t);return!!(t&&t.fileName===n&&o<=t.line&&t.line<=s)})}},warn:R,deprecated:function(t,e){t+=" is deprecated and will be removed in a future version.";return e&&(t+=" Use "+e+" instead."),R(t)},CapturedTrace:Y,fireDomEvent:b,fireGlobalEvent:w}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(n){function i(){return this.value}function r(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(t){return t instanceof n&&t.suppressUnhandledRejections(),this._then(i,void 0,void 0,{value:t},void 0)},n.prototype.throw=n.prototype.thenThrow=function(t){return this._then(r,void 0,void 0,{reason:t},void 0)},n.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,function(){throw e})},n.prototype.catchReturn=function(t){if(arguments.length<=1)return t instanceof n&&t.suppressUnhandledRejections(),this._then(void 0,i,void 0,{value:t},void 0);var e=arguments[1];return e instanceof n&&e.suppressUnhandledRejections(),this.caught(t,function(){return e})}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,n){var i=t.reduce,e=t.all;function r(){return e(this)}t.prototype.each=function(t){return i(this,t,n,0)._then(r,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,e){return i(t,e,n,0)._then(r,void 0,void 0,t,void 0)},t.mapSeries=function(t,e){return i(t,e,n,n)}}},{}],12:[function(t,e,n){"use strict";var i,r,a=t("./es5"),o=a.freeze,s=t("./util"),l=s.inherits,c=s.notEnumerableProp;function d(e,n){function i(t){if(!(this instanceof i))return new i(t);c(this,"message","string"==typeof t?t:n),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(i,Error),i}var u=d("Warning","warning"),h=d("CancellationError","cancellation error"),_=d("TimeoutError","timeout error"),f=d("AggregateError","aggregate error");try{i=TypeError,r=RangeError}catch(t){i=d("TypeError","type error"),r=d("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<g.length;++p)"function"==typeof Array.prototype[g[p]]&&(f.prototype[g[p]]=Array.prototype[g[p]]);a.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var m=0;function v(t){if(!(this instanceof v))return new v(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}f.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),a=0;a<r.length;++a)r[a]=t+r[a];e+=(i=r.join("\n"))+"\n"}return m--,e},l(v,Error);s=Error.__BluebirdErrorTypes__;s||(s=o({CancellationError:h,TimeoutError:_,OperationalError:v,RejectionError:v,AggregateError:f}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:s,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:i,RangeError:r,CancellationError:s.CancellationError,OperationalError:s.OperationalError,TimeoutError:s.TimeoutError,AggregateError:s.AggregateError,Warning:u}},{"./es5":13,"./util":36}],13:[function(t,e,n){var i,r,a,o,s=function(){"use strict";return void 0===this}();s?e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:s,propertyIsWritable:function(t,e){e=Object.getOwnPropertyDescriptor(t,e);return!(e&&!e.writable&&!e.set)}}:(i={}.hasOwnProperty,r={}.toString,a={}.constructor.prototype,o=function(t){var e,n=[];for(e in t)i.call(t,e)&&n.push(e);return n},e.exports={isArray:function(t){try{return"[object Array]"===r.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return a}},isES5:s,propertyIsWritable:function(){return!0}})},{}],14:[function(t,e,n){"use strict";e.exports=function(t,i){var r=t.map;t.prototype.filter=function(t,e){return r(this,t,e,i)},t.filter=function(t,e,n){return r(t,e,n,i)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(o,r,a){var s=t("./util"),l=o.CancellationError,c=s.errorObj,d=t("./catch_filter")(a);function u(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function h(t){this.finallyHandler=t}function _(t,e){return null!=t.cancelPromise&&(1<arguments.length?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,1)}function f(){return p.call(this,this.promise._target()._settledValue())}function g(t){if(!_(this,t))return c.e=t,c}function p(t){var e=this.promise,n=this.handler;if(!this.called){this.called=!0;var i=this.isFinallyHandler()?n.call(e._boundValue()):n.call(e._boundValue(),t);if(i===a)return i;if(void 0!==i){e._setReturnedNonUndefined();n=r(i,e);if(n instanceof o){if(null!=this.cancelPromise){if(n._isCancelled()){i=new l("late cancellation observer");return e._attachExtraTrace(i),c.e=i,c}n.isPending()&&n._attachCancellationCallback(new h(this))}return n._then(f,g,void 0,this,void 0)}}}return e.isRejected()?(_(this),c.e=t,c):(_(this),t)}return u.prototype.isFinallyHandler=function(){return 0===this.type},h.prototype._resultCancelled=function(){_(this.finallyHandler)},o.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new u(this,e,t),void 0)},o.prototype.lastly=o.prototype.finally=function(t){return this._passThrough(t,0,p,p)},o.prototype.tap=function(t){return this._passThrough(t,1,p)},o.prototype.tapCatch=function(t){var e=arguments.length;if(1===e)return this._passThrough(t,1,void 0,p);for(var n=new Array(e-1),i=0,r=0;r<e-1;++r){var a=arguments[r];if(!s.isObject(a))return o.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+s.classString(a)));n[i++]=a}n.length=i;t=arguments[r];return this._passThrough(d(n,t,this),1,void 0,p)},u}},{"./catch_filter":7,"./util":36}],16:[function(i,t,e){"use strict";t.exports=function(o,n,s,l,t,c){var d=i("./errors").TypeError,e=i("./util"),u=e.errorObj,h=e.tryCatch,_=[];function f(t,e,n,i){var r,a;c.cancellation()?(r=new o(s),a=this._finallyPromise=new o(s),this._promise=r.lastly(function(){return a}),r._captureStackTrace(),r._setOnCancel(this)):(this._promise=new o(s))._captureStackTrace(),this._stack=i,this._generatorFunction=t,this._receiver=e,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(_):_,this._yieldedPromise=null,this._cancellationPhase=!1}e.inherits(f,t),f.prototype._isResolved=function(){return null===this._promise},f.prototype._cleanup=function(){this._promise=this._generator=null,c.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},f.prototype._promiseCancelled=function(){var t;this._isResolved()||(t=void 0!==this._generator.return?(this._promise._pushContext(),h(this._generator.return).call(this._generator,void 0)):(t=new o.CancellationError("generator .return() sentinel"),o.coroutine.returnSentinel=t,this._promise._attachExtraTrace(t),this._promise._pushContext(),h(this._generator.throw).call(this._generator,t)),this._promise._popContext(),this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t))},f.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();t=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(t)},f.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();t=h(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(t)},f.prototype._resultCancelled=function(){var t;this._yieldedPromise instanceof o&&(t=this._yieldedPromise,this._yieldedPromise=null,t.cancel())},f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},f.prototype._continue=function(t){var e=this._promise;if(t===u)return this._cleanup(),this._cancellationPhase?e.cancel():e._rejectCallback(t.e,!1);var n=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?e.cancel():e._resolveCallback(n);t=l(n,this._promise);t instanceof o||null!==(t=function(t,e,n){for(var i=0;i<e.length;++i){n._pushContext();var r=h(e[i])(t);if(n._popContext(),r===u){n._pushContext();var a=o.reject(u.e);return n._popContext(),a}r=l(r,n);if(r instanceof o)return r}return null}(t,this._yieldHandlers,this._promise))?0==(50397184&(e=(t=t._target())._bitField))?(this._yieldedPromise=t)._proxy(this,null):0!=(33554432&e)?o._async.invoke(this._promiseFulfilled,this,t._value()):0!=(16777216&e)?o._async.invoke(this._promiseRejected,this,t._reason()):this._promiseCancelled():this._promiseRejected(new d("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},o.coroutine=function(i,t){if("function"!=typeof i)throw new d("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(t).yieldHandler,a=f,o=(new Error).stack;return function(){var t=i.apply(this,arguments),e=new a(void 0,void 0,r,o),n=e.promise();return e._generator=t,e._promiseFulfilled(void 0),n}},o.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+e.classString(t));_.push(t)},o.spawn=function(t){if(c.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var e=new f(t,this),t=e.promise();return e._run(o.spawn),t}}},{"./errors":12,"./util":36}],17:[function(s,t,e){"use strict";t.exports=function(t,n,e,i,r,a){var o=s("./util");o.canEvaluate,o.tryCatch,o.errorObj,t.join=function(){var t,e=arguments.length-1;0<e&&"function"==typeof arguments[e]&&(t=arguments[e]);e=[].slice.call(arguments);t&&e.pop();e=new n(e).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(c,t,a,d,r,u){var o=c._getDomain,s=e("./util"),h=s.tryCatch,_=s.errorObj,l=c._async;function f(t,e,n,i){this.constructor$(t),this._promise._captureStackTrace();t=o();this._callback=null===t?e:s.domainBind(t,e),this._preservedValues=i===r?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,void 0)}function n(t,e,n,i){if("function"!=typeof e)return a("expecting a function but got "+s.classString(e));var r=0;if(void 0!==n){if("object"!=typeof n||null===n)return c.reject(new TypeError("options argument must be an object but it is "+s.classString(n)));if("number"!=typeof n.concurrency)return c.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(n.concurrency)));r=n.concurrency}return new f(t,e,r="number"==typeof r&&isFinite(r)&&1<=r?r:0,i).promise()}s.inherits(f,t),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(t,e){var n=this._values,i=this.length(),r=this._preservedValues,a=this._limit;if(e<0){if(n[e=-1*e-1]=t,1<=a&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(1<=a&&this._inFlight>=a)return n[e]=t,this._queue.push(e),!1;null!==r&&(r[e]=t);var o=this._promise,s=this._callback,l=o._boundValue();o._pushContext();l=h(s).call(l,t,e,i),t=o._popContext();if(u.checkForgottenReturns(l,t,null!==r?"Promise.filter":"Promise.map",o),l===_)return this._reject(l.e),!0;t=d(l,this._promise);if(t instanceof c){o=(t=t._target())._bitField;if(0==(50397184&o))return 1<=a&&this._inFlight++,(n[e]=t)._proxy(this,-1*(e+1)),!1;if(0==(33554432&o))return 0!=(16777216&o)?this._reject(t._reason()):this._cancel(),!0;l=t._value()}n[e]=l}return i<=++this._totalResolved&&(null!==r?this._filter(n,r):this._resolve(n),!0)},f.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;0<t.length&&this._inFlight<e;){if(this._isResolved())return;var i=t.pop();this._promiseFulfilled(n[i],i)}},f.prototype._filter=function(t,e){for(var n=e.length,i=new Array(n),r=0,a=0;a<n;++a)t[a]&&(i[r++]=e[a]);i.length=r,this._resolve(i)},f.prototype.preservedValues=function(){return this._preservedValues},c.prototype.map=function(t,e){return n(this,t,e,null)},c.map=n}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(r,a,t,o,s){var l=e("./util"),c=l.tryCatch;r.method=function(i){if("function"!=typeof i)throw new r.TypeError("expecting a function but got "+l.classString(i));return function(){var t=new r(a);t._captureStackTrace(),t._pushContext();var e=c(i).apply(this,arguments),n=t._popContext();return s.checkForgottenReturns(e,n,"Promise.method",t),t._resolveFromSyncValue(e),t}},r.attempt=r.try=function(t){if("function"!=typeof t)return o("expecting a function but got "+l.classString(t));var e,n,i=new r(a);i._captureStackTrace(),i._pushContext(),n=1<arguments.length?(s.deprecated("calling Promise.try with more than 1 argument"),n=arguments[1],e=arguments[2],l.isArray(n)?c(t).apply(e,n):c(t).call(e,n)):c(t)();t=i._popContext();return s.checkForgottenReturns(n,t,"Promise.try",i),i._resolveFromSyncValue(n),i},r.prototype._resolveFromSyncValue=function(t){t===l.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var a=t("./util"),o=a.maybeWrapAsError,s=t("./errors").OperationalError,l=t("./es5"),c=/^(?:name|message|stack|cause)$/;e.exports=function(i,r){return function(t,e){var n;null!==i&&(t?(n=function(t){var e;if(t instanceof Error&&l.getPrototypeOf(t)===Error.prototype){(e=new s(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var r=n[i];c.test(r)||(e[r]=t[r])}return e}return a.markAsOriginatingFromRejection(t),t}(o(t)),i._attachExtraTrace(n),i._reject(n)):r?(n=[].slice.call(arguments,1),i._fulfill(n)):i._fulfill(e),i=null)}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),i=t._async,r=n.tryCatch,a=n.errorObj;function o(t,e){if(!n.isArray(t))return s.call(this,t,e);t=r(e).apply(this._boundValue(),[null].concat(t));t===a&&i.throwLater(t.e)}function s(t,e){var n=this._boundValue(),t=void 0===t?r(e).call(n,null):r(e).call(n,null,t);t===a&&i.throwLater(t.e)}function l(t,e){var n;t||((n=new Error(t+"")).cause=t,t=n);t=r(e).call(this._boundValue(),t);t===a&&i.throwLater(t.e)}t.prototype.asCallback=t.prototype.nodeify=function(t,e){var n;return"function"==typeof t&&(n=s,void 0!==e&&Object(e).spread&&(n=o),this._then(n,l,void 0,this,t)),this}}},{"./util":36}],22:[function(E,D,t){"use strict";D.exports=function(){function o(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")}function s(){return new T.PromiseInspection(this._target())}function l(t){return T.reject(new d(t))}function c(){}var a={},u=E("./util"),h=u.isNode?function(){var t=Q.domain;return void 0===t&&(t=null),t}:function(){return null};u.notEnumerableProp(T,"_getDomain",h);var t=E("./es5"),e=E("./async"),_=new e;t.defineProperty(T,"_async",{value:_});var n=E("./errors"),d=T.TypeError=n.TypeError;T.RangeError=n.RangeError;var f=T.CancellationError=n.CancellationError;T.TimeoutError=n.TimeoutError,T.OperationalError=n.OperationalError,T.RejectionError=n.OperationalError,T.AggregateError=n.AggregateError;var g=function(){},p={},m={},v=E("./thenables")(T,g),y=E("./promise_array")(T,g,v,l,c),t=E("./context")(T),n=t.create,k=E("./debuggability")(T,t),b=(k.CapturedTrace,E("./finally")(T,v,m)),w=E("./catch_filter")(m),i=E("./nodeback"),x=u.errorObj,$=u.tryCatch;function T(t){t!==g&&function(t,e){if(null==t||t.constructor!==T)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new d("expecting a function but got "+u.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function r(t){this.promise._resolveCallback(t)}function S(t){this.promise._rejectCallback(t,!1)}function C(t){var e=new T(g);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return T.prototype.toString=function(){return"[object Promise]"},T.prototype.caught=T.prototype.catch=function(t){var e=arguments.length;if(1<e){for(var n=new Array(e-1),i=0,r=0;r<e-1;++r){var a=arguments[r];if(!u.isObject(a))return l("Catch statement predicate: expecting an object but got "+u.classString(a));n[i++]=a}return n.length=i,t=arguments[r],this.then(void 0,w(n,t,this))}return this.then(void 0,t)},T.prototype.reflect=function(){return this._then(s,s,void 0,this,void 0)},T.prototype.then=function(t,e){var n;return k.warnings()&&0<arguments.length&&"function"!=typeof t&&"function"!=typeof e&&(n=".then() only accepts functions but was passed: "+u.classString(t),1<arguments.length&&(n+=", "+u.classString(e)),this._warn(n)),this._then(t,e,void 0,void 0,void 0)},T.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},T.prototype.spread=function(t){return"function"!=typeof t?l("expecting a function but got "+u.classString(t)):this.all()._then(t,void 0,void 0,p,void 0)},T.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},T.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new y(this).promise()},T.prototype.error=function(t){return this.caught(u.originatesFromRejection,t)},T.getNewLibraryCopy=D.exports,T.is=function(t){return t instanceof T},T.fromNode=T.fromCallback=function(t){var e=new T(g);e._captureStackTrace();var n=1<arguments.length&&!!Object(arguments[1]).multiArgs,n=$(t)(i(e,n));return n===x&&e._rejectCallback(n.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},T.all=function(t){return new y(t).promise()},T.resolve=T.fulfilled=T.cast=function(t){var e=v(t);return e instanceof T||((e=new T(g))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},T.reject=T.rejected=function(t){var e=new T(g);return e._captureStackTrace(),e._rejectCallback(t,!0),e},T.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+u.classString(t));return _.setScheduler(t)},T.prototype._then=function(t,e,n,i,r){var a=void 0!==r,o=a?r:new T(g),s=this._target(),l=s._bitField;a||(o._propagateFrom(this,3),o._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&l)?this._boundValue():s===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,o));var c,d,r=h();return 0!=(50397184&l)?(a=s._settlePromiseCtx,0!=(33554432&l)?(d=s._rejectionHandler0,c=t):0!=(16777216&l)?(d=s._fulfillmentHandler0,c=e,s._unsetRejectionIsUnhandled()):(a=s._settlePromiseLateCancellationObserver,d=new f("late cancellation observer"),s._attachExtraTrace(d),c=e),_.invoke(a,s,{handler:null===r?c:"function"==typeof c&&u.domainBind(r,c),promise:o,receiver:i,value:d})):s._addCallbacks(t,e,o,i,r),o},T.prototype._length=function(){return 65535&this._bitField},T.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},T.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},T.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},T.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},T.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},T.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},T.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},T.prototype._isFinal=function(){return 0<(4194304&this._bitField)},T.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},T.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},T.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},T.prototype._setAsyncGuaranteed=function(){_.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},T.prototype._receiverAt=function(t){t=0===t?this._receiver0:this[4*t-4+3];if(t!==a)return void 0===t&&this._isBound()?this._boundValue():t},T.prototype._promiseAt=function(t){return this[4*t-4+2]},T.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4]},T.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},T.prototype._boundValue=function(){},T.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,i=t._promise0,t=t._receiverAt(0);void 0===t&&(t=a),this._addCallbacks(e,n,i,t,null)},T.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),i=t._rejectionHandlerAt(e),r=t._promiseAt(e),e=t._receiverAt(e);void 0===e&&(e=a),this._addCallbacks(n,i,r,e,null)},T.prototype._addCallbacks=function(t,e,n,i,r){var a,o=this._length();return 65531<=o&&(o=0,this._setLength(0)),0===o?(this._promise0=n,this._receiver0=i,"function"==typeof t&&(this._fulfillmentHandler0=null===r?t:u.domainBind(r,t)),"function"==typeof e&&(this._rejectionHandler0=null===r?e:u.domainBind(r,e))):(this[2+(a=4*o-4)]=n,this[3+a]=i,"function"==typeof t&&(this[a]=null===r?t:u.domainBind(r,t)),"function"==typeof e&&(this[1+a]=null===r?e:u.domainBind(r,e))),this._setLength(o+1),o},T.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},T.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(o(),!1);var n=v(t,this);if(!(n instanceof T))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i!==this){n=i._bitField;if(0==(50397184&n)){var r=this._length();0<r&&i._migrateCallback0(this);for(var a=1;a<r;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else 0!=(33554432&n)?this._fulfill(i._value()):0!=(16777216&n)?this._reject(i._reason()):(n=new f("late cancellation observer"),i._attachExtraTrace(n),this._reject(n))}else this._reject(o())}},T.prototype._rejectCallback=function(t,e,n){var i=u.ensureErrorObject(t),r=i===t;r||n||!k.warnings()||(n="a promise was rejected with a non-error: "+u.classString(t),this._warn(n,!0)),this._attachExtraTrace(i,!!e&&r),this._reject(t)},T.prototype._resolveFromExecutor=function(t){var e,n;t!==g&&((e=this)._captureStackTrace(),this._pushContext(),n=!0,t=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)}),n=!1,this._popContext(),void 0!==t&&e._rejectCallback(t,!0))},T.prototype._settlePromiseFromHandler=function(t,e,n,i){var r;0==(65536&i._bitField)&&(i._pushContext(),e===p?n&&"number"==typeof n.length?r=$(t).apply(this._boundValue(),n):(r=x).e=new d("cannot .spread() a non-array: "+u.classString(n)):r=$(t).call(e,n),e=i._popContext(),0==(65536&i._bitField)&&(r===m?i._reject(n):r===x?i._rejectCallback(r.e,!1):(k.checkForgottenReturns(r,e,"",i,this),i._resolveCallback(r))))},T.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},T.prototype._followee=function(){return this._rejectionHandler0},T.prototype._setFollowee=function(t){this._rejectionHandler0=t},T.prototype._settlePromise=function(t,e,n,i){var r=t instanceof T,a=this._bitField,o=0!=(134217728&a);0!=(65536&a)?(r&&t._invokeInternalOnCancel(),n instanceof b&&n.isFinallyHandler()?(n.cancelPromise=t,$(e).call(n,i)===x&&t._reject(x.e)):e===s?t._fulfill(s.call(n)):n instanceof c?n._promiseCancelled(t):r||t instanceof y?t._cancel():n.cancel()):"function"==typeof e?r?(o&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof c?n._isResolved()||(0!=(33554432&a)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):r&&(o&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(i):t._reject(i))},T.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,i=t.receiver,t=t.value;"function"==typeof e?n instanceof T?this._settlePromiseFromHandler(e,i,t,n):e.call(i,t,n):n instanceof T&&n._reject(t)},T.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},T.prototype._settlePromise0=function(t,e,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,t,r,e)},T.prototype._clearCallbackDataAtIndex=function(t){t=4*t-4;this[2+t]=this[3+t]=this[t]=this[1+t]=void 0},T.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=o();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,0<(65535&e)&&(0!=(134217728&e)?this._settlePromises():_.settlePromises(this),this._dereferenceTrace())}},T.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return _.fatalError(t,u.isNode);0<(65535&e)?_.settlePromises(this):this._ensurePossibleRejectionHandled()}},T.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,a,e)}},T.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,a,e)}},T.prototype._settlePromises=function(){var t,e=this._bitField,n=65535&e;0<n&&(0!=(16842752&e)?(t=this._fulfillmentHandler0,this._settlePromise0(this._rejectionHandler0,t,e),this._rejectPromises(n,t)):(t=this._rejectionHandler0,this._settlePromise0(this._fulfillmentHandler0,t,e),this._fulfillPromises(n,t)),this._setLength(0)),this._clearCancellationData()},T.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},T.defer=T.pending=function(){return k.deprecated("Promise.defer","new Promise"),{promise:new T(g),resolve:r,reject:S}},u.notEnumerableProp(T,"_makeSelfResolutionError",o),E("./method")(T,g,v,l,k),E("./bind")(T,g,v,k),E("./cancel")(T,y,l,k),E("./direct_resolve")(T),E("./synchronous_inspection")(T),E("./join")(T,y,v,g,_,h),(T.Promise=T).version="3.5.4",E("./map.js")(T,y,l,v,g,k),E("./call_get.js")(T),E("./using.js")(T,l,v,n,g,k),E("./timers.js")(T,g,k),E("./generators.js")(T,l,g,v,c,k),E("./nodeify.js")(T),E("./promisify.js")(T,g),E("./props.js")(T,y,v,l),E("./race.js")(T,g,v,l),E("./reduce.js")(T,y,l,v,g,k),E("./settle.js")(T,y,k),E("./some.js")(T,y,l),E("./filter.js")(T,g),E("./each.js")(T,g),E("./any.js")(T),u.toFastProperties(T),u.toFastProperties(T.prototype),C({a:1}),C({b:2}),C({c:3}),C(1),C(function(){}),C(void 0),C(!1),C(new T(g)),k.setBounds(e.firstLineError,u.lastLineError),T}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(i,t,e){"use strict";t.exports=function(s,n,l,a,t){var o=i("./util");function e(t){var e=this._promise=new s(n);t instanceof s&&e._propagateFrom(t,3),e._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return o.isArray,o.inherits(e,t),e.prototype.length=function(){return this._length},e.prototype.promise=function(){return this._promise},e.prototype._init=function t(e,n){var i=l(this._values,this._promise);if(i instanceof s){var r=(i=i._target())._bitField;if(this._values=i,0==(50397184&r))return this._promise._setAsyncGuaranteed(),i._then(t,this._reject,void 0,this,n);if(0==(33554432&r))return 0!=(16777216&r)?this._reject(i._reason()):this._cancel();i=i._value()}null!==(i=o.asArray(i))?0!==i.length?this._iterate(i):-5===n?this._resolveEmptyArray():this._resolve(function(){switch(n){case-2:return[];case-3:return{};case-6:return new Map}}()):(i=a("expecting an array or an iterable object but got "+o.classString(i)).reason(),this._promise._rejectCallback(i,!1))},e.prototype._iterate=function(t){var e=this.getActualLength(t.length);this._length=e,this._values=this.shouldCopyValues()?new Array(e):this._values;for(var n=this._promise,i=!1,r=null,a=0;a<e;++a){var o=l(t[a],n),r=o instanceof s?(o=o._target())._bitField:null;i?null!==r&&o.suppressUnhandledRejections():null!==r?0==(50397184&r)?(o._proxy(this,a),this._values[a]=o):i=0!=(33554432&r)?this._promiseFulfilled(o._value(),a):0!=(16777216&r)?this._promiseRejected(o._reason(),a):this._promiseCancelled(a):i=this._promiseFulfilled(o,a)}i||n._setAsyncGuaranteed()},e.prototype._isResolved=function(){return null===this._values},e.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},e.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},e.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},e.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},e.prototype._promiseCancelled=function(){return this._cancel(),!0},e.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},e.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof s)t.cancel();else for(var e=0;e<t.length;++e)t[e]instanceof s&&t[e].cancel()}},e.prototype.shouldCopyValues=function(){return!0},e.prototype.getActualLength=function(t){return t},e}},{"./util":36}],24:[function(n,t,e){"use strict";t.exports=function(c,d){var _={},f=n("./util"),u=n("./nodeback"),h=f.withAppended,g=f.maybeWrapAsError,t=f.canEvaluate,p=n("./errors").TypeError,m={__isPromisified__:!0},e=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),v=function(t){return f.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function i(t){return!e.test(t)}function y(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function k(t,e,n,i){for(var r,a,o,s=f.inheritedDataKeys(t),l=[],c=0;c<s.length;++c){var d=s[c],u=t[d],h=i===v||v(d,u,t);"function"!=typeof u||y(u)||(r=t,a=d,o=e,(o=f.getDataPropertyOrDefault(r,a+o,m))&&y(o))||!i(d,u,t,h)||l.push(d,u)}return function(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i];if(n.test(r))for(var a=r.replace(n,""),o=0;o<t.length;o+=2)if(t[o]===a)throw new p("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(l,e,n),l}var b=function(t){return t.replace(/([$])/,"\\$")},w=t?void 0:function(r,a,t,e,n,o){var s=function(){return this}(),l=r;function i(){var t=a;a===_&&(t=this);var e=new c(d);e._captureStackTrace();var n="string"==typeof l&&this!==s?this[l]:r,i=u(e,o);try{n.apply(t,h(arguments,i))}catch(t){e._rejectCallback(g(t),!0,!0)}return e._isFateSealed()||e._setAsyncGuaranteed(),e}return"string"==typeof l&&(r=e),f.notEnumerableProp(i,"__isPromisified__",!0),i};function x(t,e,n,i,r){for(var a=new RegExp(b(e)+"$"),o=k(t,e,a,n),s=0,l=o.length;s<l;s+=2){var c,d=o[s],u=o[s+1],h=d+e;i===w?t[h]=w(d,_,d,u,e,r):(c=i(u,function(){return w(d,_,d,u,e,r)}),f.notEnumerableProp(c,"__isPromisified__",!0),t[h]=c)}return f.toFastProperties(t),t}c.promisify=function(t,e){if("function"!=typeof t)throw new p("expecting a function but got "+f.classString(t));if(y(t))return t;var n=void 0===(e=Object(e)).context?_:e.context,e=!!e.multiArgs,e=w(t,n,void 0,t,null,e);return f.copyDescriptors(t,e,i),e},c.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new p("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,i=e.suffix;"string"!=typeof i&&(i="Async");var r=e.filter;"function"!=typeof r&&(r=v);var a=e.promisifier;if("function"!=typeof a&&(a=w),!f.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=f.inheritedDataKeys(t),s=0;s<o.length;++s){var l=t[o[s]];"constructor"!==o[s]&&f.isClass(l)&&(x(l.prototype,i,r,a,n),x(l,i,r,a,n))}return x(t,i,r,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(f,t,e){"use strict";t.exports=function(n,t,i,r){var s,e=f("./util"),a=e.isObject,l=f("./es5");"function"==typeof Map&&(s=Map);var o,c,d=(c=0,function(t){o=t.size,c=0;var e=new Array(2*t.size);return t.forEach(u,e),e});function u(t,e){this[c]=t,this[c+o]=e,c++}function h(t){var e=!1;if(void 0!==s&&t instanceof s)r=d(t),e=!0;else for(var n=l.keys(t),i=n.length,r=new Array(2*i),a=0;a<i;++a){var o=n[a];r[a]=t[o],r[a+i]=o}this.constructor$(r),this._isMap=e,this._init$(void 0,e?-6:-3)}function _(t){var e=i(t);return a(e)?(t=e instanceof n?e._then(n.props,void 0,void 0,void 0,void 0):new h(e).promise(),e instanceof n&&t._propagateFrom(e,2),t):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}e.inherits(h,t),h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,e){var n;if(this._values[e]=t,++this._totalResolved>=this._length){if(this._isMap)n=function(t){for(var e=new s,n=t.length/2|0,i=0;i<n;++i){var r=t[n+i],a=t[i];e.set(r,a)}return e}(this._values);else{n={};for(var i=this.length(),r=0,a=this.length();r<a;++r)n[this._values[r+i]]=this._values[r]}return this._resolve(n),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return _(this)},n.props=_}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},i.prototype.push=function(t,e,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var a=this._capacity-1;this[r&a]=t,this[1+r&a]=e,this[2+r&a]=n,this._length=i},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,i){for(var r=0;r<i;++r)e[r+n]=t[r+0],t[r+0]=void 0}(this,this,e,this._front+this._length&e-1)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(c,d,u,h){var _=t("./util"),f=function(e){return e.then(function(t){return n(t,e)})};function n(t,e){var n=u(t);if(n instanceof c)return f(n);if(null===(t=_.asArray(t)))return h("expecting an array or an iterable object but got "+_.classString(t));var i=new c(d);void 0!==e&&i._propagateFrom(e,3);for(var r=i._fulfill,a=i._reject,o=0,s=t.length;o<s;++o){var l=t[o];(void 0!==l||o in t)&&c.cast(l)._then(r,a,void 0,i,null)}return i}c.race=function(t){return n(t,void 0)},c.prototype.race=function(){return n(this,void 0)}}},{"./util":36}],28:[function(f,t,e){"use strict";t.exports=function(a,t,r,e,o,s){var l=a._getDomain,c=f("./util"),d=c.tryCatch;function u(t,e,n,i){this.constructor$(t);t=l();this._fn=null===t?e:c.domainBind(t,e),void 0!==n&&(n=a.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function h(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function n(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+c.classString(e)):new u(t,e,n,i).promise()}function _(t){this.accum=t,this.array._gotAccum(t);t=e(this.value,this.array._promise);return t instanceof a?(this.array._currentCancellable=t)._then(i,void 0,void 0,this,void 0):i.call(this,t)}function i(t){var e=this.array,n=e._promise,i=d(e._fn);n._pushContext(),(i=void 0!==e._eachValues?i.call(n._boundValue(),t,this.index,this.length):i.call(n._boundValue(),this.accum,t,this.index,this.length))instanceof a&&(e._currentCancellable=i);t=n._popContext();return s.checkForgottenReturns(i,t,void 0!==e._eachValues?"Promise.each":"Promise.reduce",n),i}c.inherits(u,t),u.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof a&&this._currentCancellable.cancel(),this._initialValue instanceof a&&this._initialValue.cancel())},u.prototype._iterate=function(t){var e=(this._values=t).length,n=void 0!==this._initialValue?(r=this._initialValue,0):(r=a.resolve(t[0]),1);if(!(this._currentCancellable=r).isRejected())for(;n<e;++n)var i={accum:null,value:t[n],index:n,length:e,array:this},r=r._then(_,void 0,void 0,i,void 0);void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(h,h,void 0,r,this)},a.prototype.reduce=function(t,e){return n(this,t,e,null)},a.reduce=n}},{"./util":36}],29:[function(t,e,n){"use strict";var i,r,a,o,s,l,c,d=t("./util"),t=d.getNativePromise();t=d.isNode&&"undefined"==typeof MutationObserver?(i=$.setImmediate,r=Q.nextTick,d.isRecentNode?function(t){i.call($,t)}:function(t){r.call(Q,t)}):"function"==typeof t&&"function"==typeof t.resolve?(a=t.resolve(),function(t){a.then(t)}):"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==u?function(t){u(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(o=document.createElement("div"),l=!(s={attributes:!0}),c=document.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),l=!1}).observe(c,s),function(t){var e=new MutationObserver(function(){e.disconnect(),t()});e.observe(o,s),l||(l=!0,c.classList.toggle("foo"))}),e.exports=t},{"./util":36}],30:[function(a,t,e){"use strict";t.exports=function(t,e,n){var i=t.PromiseInspection;function r(t){this.constructor$(t)}a("./util").inherits(r,e),r.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},r.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},t.settle=function(t){return n.deprecated(".settle()",".reflect()"),new r(t).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(d,t,e){"use strict";t.exports=function(t,e,i){var n=d("./util"),r=d("./errors").RangeError,a=d("./errors").AggregateError,o=n.isArray,s={};function l(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(t,e){if((0|e)!==e||e<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new l(t),t=n.promise();return n.setHowMany(e),n.init(),t}n.inherits(l,e),l.prototype._init=function(){var t;this._initialized&&(0!==this._howMany?(this._init$(void 0,-5),t=o(this._values),!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))):this._resolve([]))},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(t){this._howMany=t},l.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},l.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(s),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new a,e=this.length();e<this._values.length;++e)this._values[e]!==s&&t.push(this._values[e]);return 0<t.length?this._reject(t):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(t){this._values.push(t)},l.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(t){t="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new r(t)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=c,t.prototype.some=function(t){return c(this,t)},t._SomePromiseArray=l}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},a=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},o=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return o.call(this._target())},t.prototype.isRejected=function(){return a.call(this._target())},t.prototype.isFulfilled=function(){return r.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),i.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(o,s){var l=t("./util"),c=l.errorObj,r=l.isObject,a={}.hasOwnProperty;return function(t,e){if(r(t)){if(t instanceof o)return t;var n=function(t){try{return t.then}catch(t){return c.e=t,c}}(t);if(n===c){e&&e._pushContext();var i=o.reject(n.e);return e&&e._popContext(),i}if("function"==typeof n){if(function(t){try{return a.call(t,"_promise0")}catch(t){return}}(t)){i=new o(s);return t._then(i._fulfill,i._reject,void 0,i,null),i}return function(t,e,n){var i=new o(s),r=i;n&&n._pushContext(),i._captureStackTrace(),n&&n._popContext();var a=!0,t=l.tryCatch(e).call(t,function(t){i&&(i._resolveCallback(t),i=null)},function(t){i&&(i._rejectCallback(t,a,!0),i=null)}),a=!1;return i&&t===c&&(i._rejectCallback(t.e,!0,!0),i=null),r}(t,n,e)}}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(i,r,o){var s=t("./util"),l=i.TimeoutError;function c(t){this.handle=t}c.prototype._resultCancelled=function(){clearTimeout(this.handle)};function a(t){return e(+this).thenReturn(t)}var e=i.delay=function(t,e){var n;return void 0!==e?(n=i.resolve(e)._then(a,null,null,t,void 0),o.cancellation()&&e instanceof i&&n._setOnCancel(e)):(n=new i(r),t=setTimeout(function(){n._fulfill()},+t),o.cancellation()&&n._setOnCancel(new c(t)),n._captureStackTrace()),n._setAsyncGuaranteed(),n};function n(t){return clearTimeout(this.handle),t}function d(t){throw clearTimeout(this.handle),t}i.prototype.delay=function(t){return e(t,this)},i.prototype.timeout=function(t,i){var r,a;t=+t;t=new c(setTimeout(function(){var t,e,n;r.isPending()&&(t=r,n=a,e="string"!=typeof(e=i)?e instanceof Error?e:new l("operation timed out"):new l(e),s.markAsOriginatingFromRejection(e),t._attachExtraTrace(e),t._reject(e),null!=n&&n.cancel())},t));return o.cancellation()?(a=this.then(),(r=a._then(n,d,void 0,t,void 0))._setOnCancel(t)):r=this._then(n,d,void 0,t,void 0),r}}},{"./util":36}],35:[function(o,t,e){"use strict";t.exports=function(u,h,_,e,t,f){var g=o("./util"),n=o("./errors").TypeError,i=o("./util").inherits,p=g.errorObj,m=g.tryCatch,r={};function c(t){setTimeout(function(){throw t},0)}function v(r,a){var o=0,s=r.length,l=new u(t);return function t(){if(s<=o)return l._fulfill();var e,n,i=(e=r[o++],(n=_(e))!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&n._setDisposable(e._getDisposer()),n);if(i instanceof u&&i._isDisposable()){try{i=_(i._getDisposer().tryDispose(a),r.promise)}catch(t){return c(t)}if(i instanceof u)return i._then(t,c,null,null,null)}t()}(),l}function y(t,e,n){this._data=t,this._promise=e,this._context=n}function a(t,e,n){this.constructor$(t,e,n)}function k(t){return y.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function b(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this._data},y.prototype.promise=function(){return this._promise},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():r},y.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();t=e!==r?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,t},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},i(a,y),a.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},b.prototype._resultCancelled=function(){for(var t=this.length,e=0;e<t;++e){var n=this[e];n instanceof u&&n.cancel()}},u.using=function(){var t=arguments.length;if(t<2)return h("you must pass at least 2 arguments to Promise.using");var e,a=arguments[t-1];if("function"!=typeof a)return h("expecting a function but got "+g.classString(a));var o=!0;2===t&&Array.isArray(arguments[0])?(t=(e=arguments[0]).length,o=!1):(e=arguments,t--);for(var n=new b(t),i=0;i<t;++i){var r,s=e[i];y.isDisposer(s)?(s=(r=s).promise())._setDisposable(r):(r=_(s))instanceof u&&(s=r._then(k,null,null,{resources:n,index:i},void 0)),n[i]=s}for(var l=new Array(n.length),i=0;i<l.length;++i)l[i]=u.resolve(n[i]).reflect();var c=u.all(l).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return p.e=n.error(),p;if(!n.isFulfilled())return void c.cancel();t[e]=n.value()}d._pushContext(),a=m(a);var i=o?a.apply(void 0,t):a(t),r=d._popContext();return f.checkForgottenReturns(i,r,"Promise.using",d),i}),d=c.lastly(function(){var t=new u.PromiseInspection(c);return v(n,t)});return(n.promise=d)._setOnCancel(n),d},u.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},u.prototype._isDisposable=function(){return 0<(131072&this._bitField)},u.prototype._getDisposer=function(){return this._disposer},u.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},u.prototype.disposer=function(t){if("function"==typeof t)return new a(t,this,e());throw new n}}},{"./errors":12,"./util":36}],36:[function(t,e,n){"use strict";var i,c=t("./es5"),r="undefined"==typeof navigator,a={e:{}},o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==$?$:void 0!==this?this:null;function s(){try{var t=i;return i=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function d(t,e,n){if(l(t))return t;n={value:n,configurable:!0,enumerable:!1,writable:!0};return c.defineProperty(t,e,n),t}var u=function(){function s(t){for(var e=0;e<r.length;++e)if(r[e]===t)return 1}var r=[Array.prototype,Object.prototype,Function.prototype];if(c.isES5){var l=Object.getOwnPropertyNames;return function(t){for(var e,n=[],i=Object.create(null);null!=t&&!s(t);){try{e=l(t)}catch(t){return n}for(var r=0;r<e.length;++r){var a,o=e[r];i[o]||(i[o]=!0,null!=(a=Object.getOwnPropertyDescriptor(t,o))&&null==a.get&&null==a.set&&n.push(o))}t=c.getPrototypeOf(t)}return n}}var a={}.hasOwnProperty;return function(t){if(s(t))return[];var e=[];t:for(var n in t)if(a.call(t,n))e.push(n);else{for(var i=0;i<r.length;++i)if(a.call(r[i],n))continue t;e.push(n)}return e}}(),h=/this\s*\.\s*\S+\s*=/;var _=/^[a-z$_][a-z$_0-9]*$/i;function f(t){try{return t+""}catch(t){return"[no string representation]"}}function g(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return g(t)&&c.propertyIsWritable(t,"stack")}var m="stack"in new Error?function(t){return p(t)?t:new Error(f(t))}:function(t){if(p(t))return t;try{throw new Error(f(t))}catch(t){return t}};function v(t){return{}.toString.call(t)}var y,k=function(t){return c.isArray(t)?t:null};"undefined"!=typeof Symbol&&Symbol.iterator&&(y="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],i=t[Symbol.iterator]();!(e=i.next()).done;)n.push(e.value);return n},k=function(t){return c.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?y(t):null});var b=void 0!==Q&&"[object process]"===v(Q).toLowerCase(),w=void 0!==Q&&void 0!==Q.env;var x,o={isClass:function(t){try{if("function"==typeof t){var e=c.names(t.prototype),n=c.isES5&&1<e.length,i=0<e.length&&!(1===e.length&&"constructor"===e[0]),e=h.test(t+"")&&0<c.names(t).length;if(n||i||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:u,getDataPropertyOrDefault:function(t,e,n){return c.isES5?null!=(e=Object.getOwnPropertyDescriptor(t,e))?null==e.get&&null==e.set?e.value:n:void 0:{}.hasOwnProperty.call(t,e)?t[e]:void 0},thrower:function(t){throw t},isArray:c.isArray,asArray:k,notEnumerableProp:d,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:g,canEvaluate:r,errorObj:a,tryCatch:function(t){return i=t,s},inherits:function(e,n){var i={}.hasOwnProperty;function t(){for(var t in this.constructor=e,(this.constructor$=n).prototype)i.call(n.prototype,t)&&"$"!==t.charAt(t.length-1)&&(this[t+"$"]=n.prototype[t])}return t.prototype=n.prototype,e.prototype=new t,e.prototype},withAppended:function(t,e){for(var n=t.length,i=new Array(n+1),r=0;r<n;++r)i[r]=t[r];return i[r]=e,i},maybeWrapAsError:function(t){return l(t)?new Error(f(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;var n=new e;function i(){return n.foo,1}return i(),i(),t},filledRange:function(t,e,n){for(var i=new Array(t),r=0;r<t;++r)i[r]=e+r+n;return i},toString:f,canAttachTrace:p,ensureErrorObject:m,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{d(t,"isOperational",!0)}catch(t){}},classString:v,copyDescriptors:function(t,e,n){for(var i=c.names(t),r=0;r<i.length;++r){var a=i[r];if(n(a))try{c.defineProperty(e,a,c.getDescriptor(t,a))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:b,hasEnvVariables:w,env:function(t){return w?Q.env[t]:void 0},global:o,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,e){return t.bind(e)}};o.isRecentNode=o.isNode&&(Q.versions&&Q.versions.node?x=Q.versions.node.split(".").map(Number):Q.version&&(x=Q.version.split(".").map(Number)),0===x[0]&&10<x[1]||0<x[0]),o.isNode&&o.toFastProperties(Q);try{throw new Error}catch(t){o.lastLineError=t}e.exports=o},{"./es5":13}]},{},[4])(4),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(40),n(13),n(200).setImmediate)},function(t,e,n){t.exports=n(201)},function(t,e,n){var r=n(0);t.exports=function(){var i={};return{getState:function(t){if(i[t])return i[t].method();var e,n={};for(e in i)i[e].internal||r.mixin(n,i[e].method(),!0);return n},registerProvider:function(t,e,n){i[t]={method:e,internal:n}},unregisterProvider:function(t){delete i[t]}}}},function(t,e){t.exports=function(a){var o={};function s(t,e,n){n=n||t;var i=a.config,r=a.templates;a.config[t]&&o[n]!=i[t]&&(e&&r[n]||(r[n]=a.date.date_to_str(i[t]),o[n]=i[t]))}return{initTemplates:function(){var t=a.locale.labels;t.gantt_save_btn=t.icon_save,t.gantt_cancel_btn=t.icon_cancel,t.gantt_delete_btn=t.icon_delete;var e=a.date,n=e.date_to_str,i=a.config,r=n(i.xml_date||i.date_format,i.server_utc),t=e.str_to_date(i.xml_date||i.date_format,i.server_utc);s("date_scale",!0,void 0,a.config,a.templates),s("date_grid",!0,"grid_date_format",a.config,a.templates),s("task_date",!0,void 0,a.config,a.templates),a.mixin(a.templates,{xml_format:void 0,format_date:r,xml_date:void 0,parse_date:t,progress_text:function(t,e,n){return""},grid_header_class:function(t,e){return""},task_text:function(t,e,n){return n.text},task_class:function(t,e,n){return""},task_end_date:function(t){return a.templates.task_date(t)},grid_row_class:function(t,e,n){return""},task_row_class:function(t,e,n){return""},timeline_cell_class:function(t,e){return""},scale_cell_class:function(t){return""},scale_row_class:function(t){return""},grid_indent:function(t){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(t){return"<div class='gantt_tree_icon gantt_folder_"+(t.$open?"open":"closed")+"'></div>"},grid_file:function(t){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(t){return"<div class='gantt_tree_icon gantt_"+(t.$open?"close":"open")+"'></div>"},grid_blank:function(t){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(t,e,n){return e&&a.isUnscheduledTask(e)&&a.config.show_unscheduled?a.templates.task_unscheduled_time(e):a.templates.grid_date_format(t,n)},task_time:function(t,e,n){return a.isUnscheduledTask(n)&&a.config.show_unscheduled?a.templates.task_unscheduled_time(n):a.templates.task_date(t)+" - "+a.templates.task_end_date(e)},task_unscheduled_time:function(t){return""},time_picker:n(i.time_picker),link_class:function(t){return""},link_description:function(t){var e=a.getTask(t.source),t=a.getTask(t.target);return"<b>"+e.text+"</b> &ndash;  <b>"+t.text+"</b>"},drag_link:function(t,e,n,i){t=a.getTask(t);var r=a.locale.labels,e="<b>"+t.text+"</b> "+(e?r.link_start:r.link_end)+"<br/>";return n&&(e+="<b> "+(n=a.getTask(n)).text+"</b> "+(i?r.link_start:r.link_end)+"<br/>"),e},drag_link_class:function(t,e,n,i){var r="";return t&&n&&(r=" "+(a.isLinkAllowed(t,n,e,i)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+r},tooltip_date_format:e.date_to_str("%Y-%m-%d"),tooltip_text:function(t,e,n){return"<b>Task:</b> "+n.text+"<br/><b>Start date:</b> "+a.templates.tooltip_date_format(t)+"<br/><b>End date:</b> "+a.templates.tooltip_date_format(e)}})},initTemplate:s}}},function(t,e,n){var o=n(4),c=n(0),d=n(41),i=n(14),s=n(1);t.exports=function(l){function a(t){return{target:t.target||t.srcElement,pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,metaKey:t.metaKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,altKey:t.altKey}}function t(n,i){this._obj=n,this._settings=i||{},o(this);var t=this.getInputMethods();this._drag_start_timer=null,l.attachEvent("onGanttScroll",c.bind(function(t,e){this.clearDragTimer()},this));for(var r={passive:!1},e=0;e<t.length;e++)c.bind(function(e){l.event(n,e.down,c.bind(function(t){e.accessor(t)&&(i.preventDefault&&i.selector&&s.closest(t.target,i.selector)&&t.preventDefault(),l.config.touch&&t.timeStamp&&+t.timeStamp<300||(this._settings.original_target=a(t),l.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(c.bind(function(){l.getState().lightbox||this.dragStart(n,t,e)},this),l.config.touch_drag)):this.dragStart(n,t,e)))},this),r),l.event(document.body,e.up,c.bind(function(t){e.accessor(t)&&this.clearDragTimer()},this),r)},this)(t[e])}return t.prototype={traceDragEvents:function(e,n){var i=c.bind(function(t){return this.dragMove(e,t,n.accessor)},this);c.bind(function(t){return this.dragScroll(e,t)},this);var r=c.bind(function(t){if(!this.config.started||!c.defined(this.config.updates_per_second)||d(this,this.config.updates_per_second)){var e=i(t);if(e)try{t&&t.preventDefault&&t.cancelable&&t.preventDefault()}catch(t){}return e}},this),a=this.config.mousemoveContainer||document.body,o={passive:!1},s=c.bind(function(t){return l.eventRemove(a,n.move,r,o),l.eventRemove(document.body,n.up,s,o),this.dragEnd(e)},this);l.event(a,n.move,r,o),l.event(document.body,n.up,s,o)},checkPositionChange:function(t){var e=t.x-this.config.pos.x,t=t.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(e),2)+Math.pow(Math.abs(t),2))>this.config.sensitivity},initDnDMarker:function(){var t=this.config.marker=document.createElement("div");t.className="gantt_drag_marker",t.innerHTML="Dragging object",document.body.appendChild(t)},backupEventTarget:function(t,e){var n;l.config.touch&&(t=(e=(n=e(t)).target||n.srcElement).cloneNode(!0),this.config.original_target=a(n),this.config.original_target.target=t,(this.config.backup_element=e).parentNode.appendChild(t),e.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(e))},getInputMethods:function(){var t=[];if(t.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(t){return t}}),l.config.touch){var e=!0;try{document.createEvent("TouchEvent")}catch(t){e=!1}e?t.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(t){return t.touches&&1<t.touches.length?null:t.touches[0]?{target:document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY),pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t}}):i.navigator.pointerEnabled?t.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(t){return"mouse"==t.pointerType?null:t}}):i.navigator.msPointerEnabled&&t.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t}})}return t},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(t,e,n){this.config&&this.config.started||(this.config={obj:t,marker:null,started:!1,pos:this.getPosition(e),sensitivity:4},this._settings&&c.mixin(this.config,this._settings,!0),this.traceDragEvents(t,n),l._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",l.config.touch&&this.dragMove(t,e,n.accessor))},dragMove:function(t,e,n){var i=n(e);if(!i)return!1;if(!this.config.marker&&!this.config.started){var r=this.getPosition(i);if(l.config.touch||this.checkPositionChange(r)){if(this.config.started=!0,(this.config.ignore=!1)===this.callEvent("onBeforeDragStart",[t,this.config.original_target]))return!(this.config.ignore=!0);this.backupEventTarget(e,n),this.initDnDMarker(),l._touch_feedback(),this.callEvent("onAfterDragStart",[t,this.config.original_target])}else this.config.ignore=!0}return!this.config.ignore&&(e.targetTouches&&!i.target?void 0:(i.pos=this.getPosition(i),this.config.marker.style.left=i.pos.x+"px",this.config.marker.style.top=i.pos.y+"px",this.callEvent("onDragMove",[t,i]),!0))},dragEnd:function(t){var e=this.config.backup_element;e&&e.parentNode&&e.parentNode.removeChild(e),l._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(t){var e=0,n=0;return t.pageX||t.pageY?(e=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:e,y:n}}},t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={date_to_str:function(t,n,i){return function(e){return t.replace(/%[a-zA-Z]/g,function(t){switch(t){case"%d":return n?i.date.to_fixed(e.getUTCDate()):i.date.to_fixed(e.getDate());case"%m":return n?i.date.to_fixed(e.getUTCMonth()+1):i.date.to_fixed(e.getMonth()+1);case"%j":return n?e.getUTCDate():e.getDate();case"%n":return n?e.getUTCMonth()+1:e.getMonth()+1;case"%y":return n?i.date.to_fixed(e.getUTCFullYear()%100):i.date.to_fixed(e.getFullYear()%100);case"%Y":return n?e.getUTCFullYear():e.getFullYear();case"%D":return n?i.locale.date.day_short[e.getUTCDay()]:i.locale.date.day_short[e.getDay()];case"%l":return n?i.locale.date.day_full[e.getUTCDay()]:i.locale.date.day_full[e.getDay()];case"%M":return n?i.locale.date.month_short[e.getUTCMonth()]:i.locale.date.month_short[e.getMonth()];case"%F":return n?i.locale.date.month_full[e.getUTCMonth()]:i.locale.date.month_full[e.getMonth()];case"%h":return n?i.date.to_fixed((e.getUTCHours()+11)%12+1):i.date.to_fixed((e.getHours()+11)%12+1);case"%g":return n?(e.getUTCHours()+11)%12+1:(e.getHours()+11)%12+1;case"%G":return n?e.getUTCHours():e.getHours();case"%H":return n?i.date.to_fixed(e.getUTCHours()):i.date.to_fixed(e.getHours());case"%i":return n?i.date.to_fixed(e.getUTCMinutes()):i.date.to_fixed(e.getMinutes());case"%a":return n?11<e.getUTCHours()?"pm":"am":11<e.getHours()?"pm":"am";case"%A":return n?11<e.getUTCHours()?"PM":"AM":11<e.getHours()?"PM":"AM";case"%s":return n?i.date.to_fixed(e.getUTCSeconds()):i.date.to_fixed(e.getSeconds());case"%W":return n?i.date.to_fixed(i.date.getUTCISOWeek(e)):i.date.to_fixed(i.date.getISOWeek(e));default:return t}})}},str_to_date:function(a,o,s){return function(t){for(var e=[0,0,1,0,0,0],n=t.match(/[a-zA-Z]+|[0-9]+/g),i=a.match(/%[a-zA-Z]/g),r=0;r<i.length;r++)switch(i[r]){case"%j":case"%d":e[2]=n[r]||1;break;case"%n":case"%m":e[1]=(n[r]||1)-1;break;case"%y":e[0]=+n[r]+(50<n[r]?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":e[3]=n[r]||0;break;case"%i":e[4]=n[r]||0;break;case"%Y":e[0]=n[r]||0;break;case"%a":case"%A":e[3]=e[3]%12+("am"===(n[r]||"").toLowerCase()?0:12);break;case"%s":e[5]=n[r]||0;break;case"%M":e[1]=s.locale.date.month_short_hash[n[r]]||0;break;case"%F":e[1]=s.locale.date.month_full_hash[n[r]]||0}return o?new Date(Date.UTC(e[0],e[1],e[2],e[3],e[4],e[5])):new Date(e[0],e[1],e[2],e[3],e[4],e[5])}}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={date_to_str:function(t,e,n){t=t.replace(/%[a-zA-Z]/g,function(t){switch(t){case"%d":return'"+to_fixed(date.get'+(e?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(e?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(e?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(e?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(e?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(e?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(e?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(e?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(e?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(e?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(e?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(e?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(e?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(e?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(e?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(e?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(e?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(e?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return t}});var i=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+t+'";');return function(t){return i(t,n.date.to_fixed,n.locale,n.date.getISOWeek,n.date.getWeek)}},str_to_date:function(t,e,n){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",r=t.match(/%[a-zA-Z]/g),a=0;a<r.length;a++)switch(r[a]){case"%j":case"%d":i+="set[2]=temp["+a+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+a+"]||1)-1;";break;case"%y":i+="set[0]=temp["+a+"]*1+(temp["+a+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+a+"]||0;";break;case"%i":i+="set[4]=temp["+a+"]||0;";break;case"%Y":i+="set[0]=temp["+a+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+a+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+a+"]||0;";break;case"%M":i+="set[1]=locale.date.month_short_hash[temp["+a+"]]||0;";break;case"%F":i+="set[1]=locale.date.month_full_hash[temp["+a+"]]||0;"}t="set[0],set[1],set[2],set[3],set[4],set[5]";e&&(t=" Date.UTC("+t+")");var o=new Function("date","locale","var set=[0,0,1,0,0,0]; "+i+" return new Date("+t+");");return function(t){return o(t,n.locale)}}};e.default=i},function(t,e,n){var a=n(207).default,o=n(206).default;t.exports=function(r){function i(){var e=!1;if("auto"===r.config.csp)try{new Function("result = false;")}catch(t){e=!0}else e=r.config.csp;return e}return{init:function(){for(var t=r.locale,e=t.date.month_short,n=t.date.month_short_hash={},i=0;i<e.length;i++)n[e[i]]=i;for(e=t.date.month_full,n=t.date.month_full_hash={},i=0;i<e.length;i++)n[e[i]]=i},date_part:function(t){var e=new Date(t);return t.setHours(0),this.hour_start(t),t.getHours()&&(t.getDate()<e.getDate()||t.getMonth()<e.getMonth()||t.getFullYear()<e.getFullYear())&&t.setTime(t.getTime()+36e5*(24-t.getHours())),t},time_part:function(t){return(t.valueOf()/1e3-60*t.getTimezoneOffset())%86400},week_start:function(t){var e=t.getDay();return r.config.start_on_monday&&(0===e?e=6:e--),this.date_part(this.add(t,-1*e,"day"))},month_start:function(t){return t.setDate(1),this.date_part(t)},quarter_start:function(t){this.month_start(t);var e=t.getMonth(),e=9<=e?9:6<=e?6:3<=e?3:0;return t.setMonth(e),t},year_start:function(t){return t.setMonth(0),this.month_start(t)},day_start:function(t){return this.date_part(t)},hour_start:function(t){return t.getMinutes()&&t.setMinutes(0),this.minute_start(t),t},minute_start:function(t){return t.getSeconds()&&t.setSeconds(0),t.getMilliseconds()&&t.setMilliseconds(0),t},_add_days:function(t,e){var n=new Date(t.valueOf());return n.setDate(n.getDate()+e),0<=e&&!t.getHours()&&n.getHours()&&(n.getDate()<=t.getDate()||n.getMonth()<t.getMonth()||n.getFullYear()<t.getFullYear())&&n.setTime(n.getTime()+36e5*(24-n.getHours())),n},add:function(t,e,n){var i=new Date(t.valueOf());switch(n){case"day":i=this._add_days(i,e);break;case"week":i=this._add_days(i,7*e);break;case"month":i.setMonth(i.getMonth()+e);break;case"year":i.setYear(i.getFullYear()+e);break;case"hour":i.setTime(i.getTime()+60*e*60*1e3);break;case"minute":i.setTime(i.getTime()+60*e*1e3);break;default:return this["add_"+n](t,e,n)}return i},add_quarter:function(t,e){return this.add(t,3*e,"month")},to_fixed:function(t){return t<10?"0"+t:t},copy:function(t){return new Date(t.valueOf())},date_to_str:function(t,e){var n=a;return i()&&(n=o),n.date_to_str(t,e,r)},str_to_date:function(t,e){var n=a;return i()&&(n=o),n.str_to_date(t,e,r)},getISOWeek:function(t){return r.date._getWeekNumber(t,!0)},_getWeekNumber:function(t,e){if(!t)return!1;var n=t.getDay();e&&0===n&&(n=7);e=new Date(t.valueOf());e.setDate(t.getDate()+(4-n));n=e.getFullYear(),n=Math.round((e.getTime()-new Date(n,0,1).getTime())/864e5);return 1+Math.floor(n/7)},getWeek:function(t){return r.date._getWeekNumber(t,r.config.start_on_monday)},getUTCISOWeek:function(t){return r.date.getISOWeek(t)},convert_to_utc:function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())},parseDate:function(t,e){return t&&!t.getFullYear&&("function"!=typeof e&&(e="string"!=typeof e||"parse_date"===e||"xml_date"===e?r.defined(r.templates.xml_date)?r.templates.xml_date:r.templates.parse_date:r.defined(r.templates[e])?r.templates[e]:r.date.str_to_date(e)),t=t?e(t):null),t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("string"==typeof t||"number"==typeof t)return t;var e,n="";for(e in t){var i="";t.hasOwnProperty(e)&&(i=e+"="+("string"==typeof t[e]?encodeURIComponent(t[e]):"number"==typeof t[e]?t[e]:encodeURIComponent(JSON.stringify(t[e]))),n.length&&(i="&"+i),n+=i)}return n}},function(t,e,n){var h=n(9),_=n(14),i=n(209).default;function a(t,e){var n={method:t};if(0===e.length)throw new Error("Arguments list of query is wrong.");if(1===e.length)return"string"==typeof e[0]?(n.url=e[0],n.async=!0):(n.url=e[0].url,n.async=e[0].async||!0,n.callback=e[0].callback,n.headers=e[0].headers),e[0].data?"string"!=typeof e[0].data?n.data=i(e[0].data):n.data=e[0].data:n.data="",n;switch(n.url=e[0],t){case"GET":case"DELETE":n.callback=e[1],n.headers=e[2];break;case"POST":case"PUT":e[1]?"string"!=typeof e[1]?n.data=i(e[1]):n.data=e[1]:n.data="",n.callback=e[2],n.headers=e[3]}return n}t.exports=function(u){return{cache:!0,method:"get",parse:function(t){return"string"!=typeof t?t:(t=t.replace(/^[\s]+/,""),"undefined"==typeof DOMParser||h.isIE?void 0!==_.ActiveXObject&&((e=new _.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e);var e},xmltop:function(t,e,n){if(void 0===e.status||e.status<400){var i=e.responseXML?e.responseXML||e:this.parse(e.responseText||e);if(i&&null!==i.documentElement&&!i.getElementsByTagName("parsererror").length)return i.getElementsByTagName(t)[0]}return-1!==n&&u.callEvent("onLoadXMLError",["Incorrect XML",e,n]),document.createElement("DIV")},xpath:function(t,e){if(e.nodeName||(e=e.responseXML||e),h.isIE)return e.selectNodes(t)||[];for(var n,i=[],r=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ANY_TYPE,null);n=r.iterateNext();)i.push(n);return i},query:function(t){return this._call(t.method||"GET",t.url,t.data||"",t.async||!0,t.callback,t.headers)},get:function(t,e,n){var i=a("GET",arguments);return this.query(i)},getSync:function(t,e){var n=a("GET",arguments);return n.async=!1,this.query(n)},put:function(t,e,n,i){var r=a("PUT",arguments);return this.query(r)},del:function(t,e,n){var i=a("DELETE",arguments);return this.query(i)},post:function(t,e,n,i){(1==arguments.length||2==arguments.length&&"function"==typeof e)&&(e="");var r=a("POST",arguments);return this.query(r)},postSync:function(t,e,n){e=null===e?"":String(e);var i=a("POST",arguments);return i.async=!1,this.query(i)},_call:function(a,o,s,l,c,d){return new u.Promise(function(t,e){var n=h.isIE?new _.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,i=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(l&&(n.onreadystatechange=function(){(4==n.readyState||i&&3==n.readyState)&&(200==n.status&&""!==n.responseText||u.callEvent("onAjaxError",[n]))&&setTimeout(function(){"function"==typeof c&&c.apply(_,[{xmlDoc:n,filePath:o}]),t(n),"function"==typeof c&&(n=c=null)},0)}),"GET"!=a||this.cache||(o+=(0<=o.indexOf("?")?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),n.open(a,o,l),d)for(var r in d)n.setRequestHeader(r,d[r]);else"POST"==a.toUpperCase()||"PUT"==a||"DELETE"==a?n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==a&&(s=null);if(n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(s),!l)return{xmlDoc:n,filePath:o}})},urlSeparator:function(t){return-1!=t.indexOf("?")?"&":"?"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(t,e){t.exports=function(){var n={};return{services:{},setService:function(t,e){n[t]=e},getService:function(t){return n[t]?n[t]():null},dropService:function(t){n[t]&&delete n[t]},destructor:function(){for(var t in n){var e;!n[t]||(e=n[t])&&e.destructor&&e.destructor()}n=null}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(t){var e,n=this;for(e in this.addExtension=function(t,e){n._extensions[t]=e},this.getExtension=function(t){return n._extensions[t]},this._extensions={},t)this._extensions[e]=t[e]}e.default=i},function(t,e){t.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(t,e,s){t.exports=function(t){var i=new function(){this.constants=s(214),this.version="7.0.11",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},r=new(s(213).default)(t);i.plugins=function(t){for(var e in t){var n;!t[e]||(n=r.getExtension(e))&&n(i)}},i.$services=s(212)(),i.config=s(211)(),i.ajax=s(210)(i),i.date=s(208)(i);var e=s(205)(i);i.$services.setService("dnd",function(){return e});var n=s(204)(i);i.$services.setService("templateLoader",function(){return n}),s(4)(i);var a=new(s(203));a.registerProvider("global",function(){var t={min_date:i._min_date,max_date:i._max_date,selected_task:null};return i.$data&&i.$data.tasksStore&&(t.selected_task=i.$data.tasksStore.getSelectedId()),t}),i.getState=a.getState,i.$services.setService("state",function(){return a});t=s(0);t.mixin(i,t),i.Promise=s(202),i.env=s(9),s(198)(i);t=s(192);i.dataProcessor=t.DEPRECATED_api,i.createDataProcessor=t.createDataProcessor,s(187)(i),s(179)(i),s(178)(i),s(172)(i),s(171)(i),s(170)(i),s(158)(i),s(157).default(i),s(156)(i),s(155)(i),s(154)(i),s(151)(i),s(150).default(i);var o=s(149).default();return i.i18n={addLocale:o.addLocale,setLocale:function(t){if("string"==typeof t){var e=(e=o.getLocale(t))||o.getLocale("en");i.locale=e}else if(t)if(i.locale)for(var n in t)t[n]&&"object"==typeof t[n]?(i.locale[n]||(i.locale[n]={}),i.mixin(i.locale[n],t[n],!0)):i.locale[n]=t[n];else i.locale=t},getLocale:o.getLocale},i.i18n.setLocale("en"),i}},function(t,e,n){n(24);var i=n(215);t.exports=function(t){t=i(t);return t.env.isNode||n(115)(t),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.getUndoStack=function(){return this._undoStack},r.prototype.getRedoStack=function(){return this._redoStack},r.prototype.clearUndoStack=function(){this._undoStack=[]},r.prototype.clearRedoStack=function(){this._redoStack=[]},r.prototype.updateConfigs=function(){var t=this._gantt;this.maxSteps=t.config.undo_steps||10,this.command.entity=t.config.undo_types,this.command.type=t.config.undo_actions,this.undoEnabled=!!t.config.undo,this.redoEnabled=!!t.config.redo},r.prototype.undo=function(){var t=this._gantt;if(this.updateConfigs(),this.undoEnabled){var e=this._pop(this._undoStack);if(e&&this._reorderCommands(e),!1!==t.callEvent("onBeforeUndo",[e])&&e)return this._applyAction(this.action.invert(e)),this._push(this._redoStack,t.copy(e)),void t.callEvent("onAfterUndo",[e]);t.callEvent("onAfterUndo",[null])}},r.prototype.redo=function(){var t=this._gantt;if(this.updateConfigs(),this.redoEnabled){var e=this._pop(this._redoStack);if(e&&this._reorderCommands(e),!1!==t.callEvent("onBeforeRedo",[e])&&e)return this._applyAction(e),this._push(this._undoStack,t.copy(e)),void t.callEvent("onAfterRedo",[e]);t.callEvent("onAfterRedo",[null])}},r.prototype.logAction=function(t){this._push(this._undoStack,t),this._redoStack=[]},r.prototype._push=function(t,e){var n=this._gantt;if(e.commands.length){var i=t===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(!1!==n.callEvent(i,[e])&&e.commands.length){for(t.push(e);t.length>this.maxSteps;)t.shift();return e}}},r.prototype._pop=function(t){return t.pop()},r.prototype._reorderCommands=function(t){var n={any:0,link:1,task:2},i={move:1,any:0};t.commands.sort(function(t,e){if("task"===t.entity&&"task"===e.entity)return t.type!==e.type?(i[e.type]||0)-(i[t.type]||0):"move"===t.type&&t.oldValue&&e.oldValue&&e.oldValue.parent===t.oldValue.parent?t.oldValue.$index-e.oldValue.$index:0;t=n[t.entity]||n.any;return(n[e.entity]||n.any)-t})},r.prototype._applyAction=function(o){var s,t=this.command.entity,l=this.command.type,c=this._gantt,d={};d[t.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},d[t.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},c.batchUpdate(function(){for(var t=0;t<o.commands.length;t++){s=o.commands[t];var e=d[s.entity][s.type],n=d[s.entity].get,i=d[s.entity].isExists;if(s.type===l.add)c[e](s.oldValue,s.oldValue.parent,s.oldValue.$index);else if(s.type===l.remove)c[i](s.value.id)&&c[e](s.value.id);else if(s.type===l.update){var r,a=c[n](s.value.id);for(r in s.value)r.startsWith("$")||r.startsWith("_")||(a[r]=s.value[r]);c[e](s.value.id)}else s.type===l.move&&c[e](s.value.id,s.value.$branch_index,s.value.parent)}})},r);function r(t){var o=this;this.maxSteps=10,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(t){return{commands:t?t.slice():[]}},invert:function(t){for(var e,n=o._gantt.copy(t),i=o.command,r=0;r<t.commands.length;r++){var a=n.commands[r]=i.invert(n.commands[r]);a.type!==i.type.update&&a.type!==i.type.move||(e=[a.oldValue,a.value],a.value=e[0],a.oldValue=e[1])}return n}},this.command={entity:null,type:null,create:function(t,e,n,i){var r=o._gantt;return{entity:i,type:n,value:r.copy(t),oldValue:r.copy(e||t)}},invert:function(t){var e=o._gantt.copy(t);return e.type=o.command.inverseCommands(t.type),e},inverseCommands:function(t){var e=o._gantt,n=o.command.type;switch(t){case n.update:return n.update;case n.remove:return n.add;case n.add:return n.remove;case n.move:return n.move;default:return e.assert(!1,"Invalid command "+t),null}}},this._undoStack=[],this._redoStack=[],this._gantt=t}e.Undo=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},l=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],i=(r.prototype.store=function(t,e,n){return void 0===n&&(n=!1),e===this._gantt.config.undo_types.task?this._storeTask(t,n):e===this._gantt.config.undo_types.link&&this._storeLink(t,n)},r.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},r.prototype.toggleIgnoreMoveEvents=function(t){this._ignoreMoveEvents=t||!1},r.prototype.startIgnore=function(){this._ignore=!0},r.prototype.stopIgnore=function(){this._ignore=!1},r.prototype.startBatchAction=function(){var t=this;this._timeout||(this._timeout=setTimeout(function(){t.stopBatchAction(),t._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},r.prototype.stopBatchAction=function(){var t;this._ignore||(t=this._undo,this._batchAction&&t.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null)},r.prototype.onTaskAdded=function(t){this._ignore||this._storeTaskCommand(t,this._undo.command.type.add)},r.prototype.onTaskUpdated=function(t){this._ignore||this._storeTaskCommand(t,this._undo.command.type.update)},r.prototype.onTaskMoved=function(t){var e;this._ignore||(t.$branch_index=this._gantt.getTaskIndex(t.id),e=this.getInitialTask(t.id),t.$branch_index===e.$branch_index&&this._gantt.getParent(t)===this._gantt.getParent(e)||this._storeEntityCommand(t,this.getInitialTask(t.id),this._undo.command.type.move,this._undo.command.entity.task))},r.prototype.onTaskDeleted=function(t){if(!this._ignore){if(this._storeTaskCommand(t,this._undo.command.type.remove),this._nestedTasks[t.id])for(var e=this._nestedTasks[t.id],n=0;n<e.length;n++)this._storeTaskCommand(e[n],this._undo.command.type.remove);if(this._nestedLinks[t.id])for(var i=this._nestedLinks[t.id],n=0;n<i.length;n++)this._storeLinkCommand(i[n],this._undo.command.type.remove)}},r.prototype.onLinkAdded=function(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.add)},r.prototype.onLinkUpdated=function(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.update)},r.prototype.onLinkDeleted=function(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.remove)},r.prototype.setNestedTasks=function(t,e){for(var n,i=this._gantt,r=[],a=this._getLinks(i.getTask(t)),o=0;o<e.length;o++)n=this.setInitialTask(e[o]),a=a.concat(this._getLinks(n)),r.push(n);var s={};for(o=0;o<a.length;o++)s[a[o]]=!0;var l=[];for(o in s)l.push(this.setInitialLink(o));this._nestedTasks[t]=r,this._nestedLinks[t]=l},r.prototype.setInitialTask=function(t,e){var n=this._gantt;return!e&&this._initialTasks[t]&&this._batchMode||((e=n.copy(n.getTask(t))).$index=n.getGlobalTaskIndex(t),e.$branch_index=n.getTaskIndex(t),this.setInitialTaskObject(t,e)),this._initialTasks[t]},r.prototype.getInitialTask=function(t){return this._initialTasks[t]},r.prototype.clearInitialTasks=function(){this._initialTasks={}},r.prototype.setInitialTaskObject=function(t,e){this._initialTasks[t]=e},r.prototype.setInitialLink=function(t,e){return this._initialLinks[t]&&this._batchMode||(this._initialLinks[t]=this._gantt.copy(this._gantt.getLink(t))),this._initialLinks[t]},r.prototype.getInitialLink=function(t){return this._initialLinks[t]},r.prototype.clearInitialLinks=function(){this._initialLinks={}},r.prototype._attachEvents=function(){function i(){e||(e=setTimeout(function(){e=null}),a.clearInitialTasks(),n.eachTask(function(t){a.setInitialTask(t.id)}),a.clearInitialLinks(),n.getLinks().forEach(function(t){a.setInitialLink(t.id)}))}function r(t){return n.copy(n.getTask(t))}var t,a=this,e=null,n=this._gantt;for(t in s)n.attachEvent(t,function(){return a.startIgnore(),!0}),n.attachEvent(s[t],function(){return a.stopIgnore(),!0});for(t=0;t<l.length;t++)n.attachEvent(l[t],function(){return a.startBatchAction(),!0});n.attachEvent("onParse",function(){a._undo.clearUndoStack(),a._undo.clearRedoStack(),i()}),n.attachEvent("onAfterTaskAdd",function(t,e){a.setInitialTask(t,!0),a.onTaskAdded(e)}),n.attachEvent("onAfterTaskUpdate",function(t,e){a.onTaskUpdated(e)}),n.attachEvent("onAfterTaskDelete",function(t,e){a.onTaskDeleted(e)}),n.attachEvent("onAfterLinkAdd",function(t,e){a.setInitialLink(t,!0),a.onLinkAdded(e)}),n.attachEvent("onAfterLinkUpdate",function(t,e){a.onLinkUpdated(e)}),n.attachEvent("onAfterLinkDelete",function(t,e){a.onLinkDeleted(e)}),n.attachEvent("onRowDragEnd",function(t,e){return a.onTaskMoved(r(t)),a.toggleIgnoreMoveEvents(),!0}),n.attachEvent("onBeforeTaskDelete",function(t){a.store(t,n.config.undo_types.task);var e=[];return i(),n.eachTask(function(t){e.push(t.id)},t),a.setNestedTasks(t,e),!0});var o=n.getDatastore("task");o.attachEvent("onBeforeItemMove",function(t,e,n){return a.isMoveEventsIgnored()||i(),!0}),o.attachEvent("onAfterItemMove",function(t,e,n){return a.isMoveEventsIgnored()||a.onTaskMoved(r(t)),!0}),n.attachEvent("onRowDragStart",function(t,e,n){return a.toggleIgnoreMoveEvents(!0),i(),!0}),n.attachEvent("onBeforeTaskDrag",function(t){return a.store(t,n.config.undo_types.task)}),n.attachEvent("onLightbox",function(t){return a.store(t,n.config.undo_types.task)}),n.attachEvent("onBeforeTaskAutoSchedule",function(t){return a.store(t.id,n.config.undo_types.task),!0}),n.ext.inlineEditors&&n.ext.inlineEditors.attachEvent("onEditStart",function(t){a.store(t.id,n.config.undo_types.task)})},r.prototype._storeCommand=function(t){var e=this._undo;e.updateConfigs(),e.undoEnabled&&(this._batchMode?this._batchAction.commands.push(t):(t=e.action.create([t]),e.logAction(t)))},r.prototype._storeEntityCommand=function(t,e,n,i){i=this._undo.command.create(t,e,n,i);this._storeCommand(i)},r.prototype._storeTaskCommand=function(t,e){t.$branch_index=this._gantt.getTaskIndex(t.id),this._storeEntityCommand(t,this.getInitialTask(t.id),e,this._undo.command.entity.task)},r.prototype._storeLinkCommand=function(t,e){this._storeEntityCommand(t,this.getInitialLink(t.id),e,this._undo.command.entity.link)},r.prototype._getLinks=function(t){return t.$source.concat(t.$target)},r.prototype._storeTask=function(t,e){var n=this;void 0===e&&(e=!1);var i=this._gantt;return this.setInitialTask(t,e),i.eachTask(function(t){n.setInitialTask(t.id)},t),!0},r.prototype._storeLink=function(t,e){return void 0===e&&(e=!1),this.setInitialLink(t,e),!0},r);function r(t,e){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=t,this._gantt=e,this._attachEvents()}e.Monitor=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(218),o=n(217);e.default=function(t){var d=new o.Undo(t),n=new a.Monitor(d,t);function u(t,e,n){t&&(t.id===e&&(t.id=n),t.parent===e&&(t.parent=n))}function h(t,e,n){t&&(t.source===e&&(t.source=n),t.target===e&&(t.target=n))}function i(t,e,n){for(var i,r,a,o=d,s=0;s<t.length;s++)for(var l=t[s],c=0;c<l.commands.length;c++)l.commands[c].entity===o.command.entity.task?(i=l.commands[c],r=e,a=n,u(i.value,r,a),u(i.oldValue,r,a)):l.commands[c].entity===o.command.entity.link&&(i=l.commands[c],r=e,a=n,h(i.value,r,a),h(i.oldValue,r,a))}function r(t,e,n){for(var i=d,r=0;r<t.length;r++)for(var a=t[r],o=0;o<a.commands.length;o++){var s=a.commands[o];s.entity===i.command.entity.link&&(s.value&&s.value.id===e&&(s.value.id=n),s.oldValue&&s.oldValue.id===e&&(s.oldValue.id=n))}}t.config.undo=!0,t.config.redo=!0,t.config.undo_types={link:"link",task:"task"},t.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},t.ext||(t.ext={}),t.ext.undo={undo:function(){return d.undo()},redo:function(){return d.redo()},getUndoStack:function(){return d.getUndoStack()},getRedoStack:function(){return d.getRedoStack()},clearUndoStack:function(){return d.clearUndoStack()},clearRedoStack:function(){return d.clearRedoStack()},saveState:function(t,e){return n.store(t,e,!0)}},t.undo=t.ext.undo.undo,t.redo=t.ext.undo.redo,t.getUndoStack=t.ext.undo.getUndoStack,t.getRedoStack=t.ext.undo.getRedoStack,t.clearUndoStack=t.ext.undo.clearUndoStack,t.clearRedoStack=t.ext.undo.clearRedoStack,t.attachEvent("onTaskIdChange",function(t,e){var n=d;i(n.getUndoStack(),t,e),i(n.getRedoStack(),t,e)}),t.attachEvent("onLinkIdChange",function(t,e){var n=d;r(n.getUndoStack(),t,e),r(n.getRedoStack(),t,e)}),t.attachEvent("onGanttReady",function(){d.updateConfigs()})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),n=(i.prototype.getNode=function(){var t=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",t._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},i.prototype.setViewport=function(t){return this._root=t,this},i.prototype.show=function(t,e){var n=this._gantt,i=document.body,r=this.getNode();return s.isChildOf(r,i)||(this.hide(),i.appendChild(r)),this._isLikeMouseEvent(t)&&(e=(i=this._calculateTooltipPosition(t)).top,t=i.left),r.style.top=e+"px",r.style.left=t+"px",n._waiAria.tooltipVisibleAttr(r),this},i.prototype.hide=function(){var t=this._gantt,e=this.getNode();return e&&e.parentNode&&e.parentNode.removeChild(e),t._waiAria.tooltipHiddenAttr(e),this},i.prototype.setContent=function(t){return this.getNode().innerHTML=t,this},i.prototype._isLikeMouseEvent=function(t){return!(!t||"object"!=typeof t)&&"clientX"in t&&"clientY"in t},i.prototype._getViewPort=function(){return this._root||document.body},i.prototype._calculateTooltipPosition=function(t){var e=this._gantt,n=this._getViewPortSize(),i=this.getNode(),r={top:0,left:0,width:i.offsetWidth,height:i.offsetHeight,bottom:0,right:0},a=e.config.tooltip_offset_x,o=e.config.tooltip_offset_y,i=document.body,e=s.getRelativeEventPosition(t,i),t=s.getNodePosition(i);e.y+=t.y,r.top=e.y,r.left=e.x,r.top+=o,r.left+=a,r.bottom=r.top+r.height,r.right=r.left+r.width;i=window.scrollY+i.scrollTop;return r.top<n.top-i?(r.top=n.top,r.bottom=r.top+r.height):r.bottom>n.bottom&&(r.bottom=n.bottom,r.top=r.bottom-r.height),r.left<n.left?(r.left=n.left,r.right=n.left+r.width):r.right>n.right&&(r.right=n.right,r.left=r.right-r.width),e.x>=r.left&&e.x<=r.right&&(r.left=e.x-r.width-a,r.right=r.left+r.width),e.y>=r.top&&e.y<=r.bottom&&(r.top=e.y-r.height-o,r.bottom=r.top+r.height),r},i.prototype._getViewPortSize=function(){var t=this._gantt,e=this._getViewPort(),n=e,i=window.scrollY+document.body.scrollTop,r=window.scrollX+document.body.scrollLeft,n=e===t.$task_data?(n=t.$task,r=i=0,s.getNodePosition(t.$task)):s.getNodePosition(n);return{left:n.x+r,top:n.y+i,width:n.width,height:n.height,bottom:n.y+n.height+i,right:n.x+n.width+r}},i);function i(t){this._gantt=t}e.Tooltip=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(42),o=n(1),r=n(3),a=n(220),n=(s.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},s.prototype.hideTooltip=function(){this.delayHide()},s.prototype.attach=function(i){var r=this,t=document.body,e=this._gantt;i.global||(t=e.$root);var a=null,e=function(t){var e=o.getTargetNode(t),n=o.closest(e,i.selector);o.isChildOf(e,r.tooltip.getNode())||(e=function(){a=n,i.onmouseenter(t,n)},a?n&&n===a?i.onmousemove(t,n):(i.onmouseleave(t,a),a=null,n&&n!==a&&e()):n&&e())};this.detach(i.selector),this._domEvents.attach(t,"mousemove",e),this._listeners[i.selector]={node:t,handler:e}},s.prototype.detach=function(t){t=this._listeners[t];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},s.prototype.tooltipFor=function(n){function i(t){var e=t;return document.createEventObject&&!document.createEvent&&(e=document.createEventObject(t)),e}var r=this;this._initDelayedFunctions(),this.attach({selector:n.selector,global:n.global,onmouseenter:function(t,e){e=n.html(t,e);e&&r.delayShow(i(t),e)},onmousemove:function(t,e){e=n.html(t,e);e?r.delayShow(i(t),e):(r.delayShow.$cancelTimeout(),r.delayHide())},onmouseleave:function(){r.delayShow.$cancelTimeout(),r.delayHide()}})},s.prototype._initDelayedFunctions=function(){var n=this,i=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=r.delay(function(t,e){!1===i.callEvent("onBeforeTooltip",[t])?n.tooltip.hide():(n.tooltip.setContent(e),n.tooltip.show(t))},i.config.tooltip_timeout||1),this.delayHide=r.delay(function(){n.delayShow.$cancelTimeout(),n.tooltip.hide()},i.config.tooltip_hide_timeout||1)},s);function s(t){this._listeners={},this.tooltip=new a.Tooltip(t),this._gantt=t,this._domEvents=i(),this._initDelayedFunctions()}e.TooltipManager=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(221);e.default=function(e){e.config.tooltip_timeout=30,e.config.tooltip_offset_y=20,e.config.tooltip_offset_x=10,e.config.tooltip_hide_timeout=30;var t=new i.TooltipManager(e);e.ext.tooltips=t,e.attachEvent("onGanttReady",function(){t.tooltipFor({selector:"["+e.config.task_attribute+"]:not(.gantt_task_row)",html:function(t){if(!e.config.touch||e.config.touch_tooltip){t=e.locate(t);if(e.isTaskExists(t)){t=e.getTask(t);return e.templates.tooltip_text(t.start_date,t.end_date,t)}return null}},global:!1})}),e.attachEvent("onDestroy",function(){t.destructor()}),e.attachEvent("onLightbox",function(){t.hideTooltip()}),e.attachEvent("onBeforeTooltip",function(){if(e.getState().link_source_id)return!1}),e.attachEvent("onGanttScroll",function(){t.hideTooltip()})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype._showAtCoordinates=function(t,e){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(t,e),this._gantt.callEvent("onQuickInfo",[null])},r.prototype._showForTask=function(t){var e,n=this._gantt;t===this._quickInfoBoxId&&n.utils.dom.isChildOf(this._quickInfoBox,document.body)||!n.config.show_quick_info||(this.hide(!0),e=this._getContainer(),(e=this._get_event_counter_part(t,6,e.xViewport,e.yViewport))&&(this._quickInfoBox=this._init_quick_info(t),this._quickInfoTask=t,this._quickInfoBox.className=this._prepare_quick_info_classname(t),this._fill_quick_data(t),this._show_quick_info(e,6),n.callEvent("onQuickInfo",[t])))},r.prototype._get_event_counter_part=function(t,e,n,i){var r=this._gantt,a=r.getTaskNode(t);if(!a&&!(a=r.getTaskRowNode(t)))return null;var o=0,e=e+a.offsetTop+a.offsetHeight,s=a;if(r.utils.dom.isChildOf(s,n))for(;s&&s!==n;)o+=s.offsetLeft,s=s.offsetParent;r=r.getScrollState();return s?{left:o,top:e,dx:o+a.offsetWidth/2-r.x>n.offsetWidth/2?1:0,dy:e+a.offsetHeight/2-r.y>i.offsetHeight/2?1:0,width:a.offsetWidth,height:a.offsetHeight}:null},r.prototype._createQuickInfoElement=function(){var t=this,e=this._gantt,n=document.createElement("div");n.className+="gantt_cal_quick_info",e._waiAria.quickInfoAttr(n);var i='<div class="gantt_cal_qi_title" '+e._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';return i+='<div class="gantt_cal_qi_controls">',i+="</div>",n.innerHTML=i,e.config.quick_info_detached&&(i=this._getContainer(),e.event(i.parent,"scroll",function(){t.hide()})),this._quickInfoBox=n},r.prototype._init_quick_info=function(t){var e=this._gantt,t=e.getTask(t);return"boolean"==typeof this._quickInfoReadonly&&e.isReadonly(t)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=e.isReadonly(t),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},r.prototype._prepare_quick_info_classname=function(t){var e=this._gantt,n=e.getTask(t),t="gantt_cal_quick_info",n=e.templates.quick_info_class(n.start_date,n.end_date,n);return n&&(t+=" "+n),t},r.prototype._fill_quick_data=function(t){var e=this._gantt,n=e.getTask(t);this._quickInfoBoxId=t;var i=null;if(this._quickInfoReadonly)for(var r=e.config.quickinfo_buttons,a={icon_delete:!0,icon_edit:!0},o=0;o<r.length;o++)this._quickInfoReadonly&&a[r[o]]||i.push(r[o]);else i=e.config.quickinfo_buttons;this.setContent({header:{title:e.templates.quick_info_title(n.start_date,n.end_date,n),date:e.templates.quick_info_date(n.start_date,n.end_date,n)},content:e.templates.quick_info_content(n.start_date,n.end_date,n),buttons:i})},r.prototype._appendAtCoordinates=function(t,e){var n=this._quickInfoBox,i=this._getContainer();n.parentNode&&"#document-fragment"!==n.parentNode.nodeName.toLowerCase()||i.parent.appendChild(n),n.style.left=t+"px",n.style.top=e+"px"},r.prototype._show_quick_info=function(t,e){var n,i,r,a,o,s,l,c=this._gantt,d=this._quickInfoBox;c.config.quick_info_detached?(o=this._getContainer(),d.parentNode&&"#document-fragment"!==d.parentNode.nodeName.toLowerCase()||o.parent.appendChild(d),n=d.offsetWidth,i=d.offsetHeight,r=c.getScrollState(),s=o.xViewport,a=o.yViewport,l=s.offsetWidth+r.x-n,o=t.top-r.y+i,s=t.top,o>a.offsetHeight/2&&(s=t.top-(i+t.height+2*e))<r.y&&o<=a.offsetHeight&&(s=t.top),s<r.y&&(s=r.y),l=Math.min(Math.max(r.x,t.left-t.dx*(n-t.width)),l),this._appendAtCoordinates(l,s)):(d.style.top="20px",1===t.dx?(d.style.right="auto",d.style.left="-300px",setTimeout(function(){d.style.left="10px"},1)):(d.style.left="auto",d.style.right="-300px",setTimeout(function(){d.style.right="10px"},1)),d.className+=" gantt_qi_"+(1===t.dx?"left":"right"),c.$root.appendChild(d))},r.prototype._qi_button_click=function(t){var e,n=this._gantt,i=this._quickInfoBox;t&&t!==i&&(-1!==(e=t.className).indexOf("_icon")?(i=this._quickInfoBoxId,n.$click.buttons[e.split(" ")[1].replace("icon_","")](i)):this._qi_button_click(t.parentNode))},r.prototype._getContainer=function(){var t=this._gantt,e=this._container||t.$task_data;return e&&e.offsetHeight&&e.offsetWidth?{parent:e,xViewport:t.$task,yViewport:t.$task_data}:(e=this._container||t.$grid_data)&&e.offsetHeight&&e.offsetWidth?{parent:e,xViewport:t.$grid,yViewport:t.$grid_data}:{parent:this._container||t.$layout,xViewport:t.$layout,yViewport:t.$layout}},r);function r(t){var h=this;this.show=function(t,e){void 0===e?h._showForTask(t):h._showAtCoordinates(t,e)},this.hide=function(t){var e=h._gantt,n=h._quickInfoBox;h._quickInfoBoxId=0;var i=h._quickInfoTask;if(h._quickInfoTask=null,n&&n.parentNode){if(e.config.quick_info_detached)return e.callEvent("onAfterQuickInfo",[i]),n.parentNode.removeChild(n);n.className+=" gantt_qi_hidden","auto"===n.style.right?n.style.left="-350px":n.style.right="-350px",t&&(n.style.left=n.style.right="",n.parentNode.removeChild(n)),e.callEvent("onAfterQuickInfo",[i])}},this.getNode=function(){return h._quickInfoBox||null},this.setContainer=function(t){t&&(h._container="string"==typeof t?document.getElementById(t):t)},this.setContent=function(t){var e=h._gantt,n={taskId:null,header:{title:"",date:""},content:"",buttons:e.config.quickinfo_buttons};(t=t||n).taskId||(t.taskId=n.taskId),t.header||(t.header=n.header),t.header.title||(t.header.title=n.header.title),t.header.date||(t.header.date=n.header.date),t.content||(t.content=n.content),t.buttons||(t.buttons=n.buttons);var i=(i=h.getNode())||h._createQuickInfoElement();t.taskId&&(h._quickInfoBoxId=t.taskId);var r=i.querySelector(".gantt_cal_qi_title"),a=r.querySelector(".gantt_cal_qi_tcontent"),o=r.querySelector(".gantt_cal_qi_tdate"),s=i.querySelector(".gantt_cal_qi_content"),n=i.querySelector(".gantt_cal_qi_controls");e._waiAria.quickInfoHeader(i,[t.header.title,t.header.date].join(" ")),a.innerHTML=t.header.title,o.innerHTML=t.header.date,t.header.title||t.header.date?r.style.display="":r.style.display="none",s.innerHTML=t.content;var l=t.buttons;l.length?n.style.display="":n.style.display="none";for(var c="",d=0;d<l.length;d++){var u=e._waiAria.quickInfoButtonAttrString(e.locale.labels[l[d]]);c+='<div class="gantt_qi_big_icon '+l[d]+'" title="'+e.locale.labels[l[d]]+'" '+u+"><div class='gantt_menu_icon "+l[d]+"'></div><div>"+e.locale.labels[l[d]]+"</div></div>"}n.innerHTML=c,e.eventRemove(i,"click",h._qiButtonClickHandler),e.eventRemove(i,"keypress",h._qiKeyPressHandler),e.event(i,"click",h._qiButtonClickHandler),e.event(i,"keypress",h._qiKeyPressHandler)},this._qiButtonClickHandler=function(t){t=t||event,h._qi_button_click(t.target||t.srcElement)},this._qiKeyPressHandler=function(t){var e=(t=t||event).which||event.keyCode;13!==e&&32!==e||setTimeout(function(){h._qi_button_click(t.target||t.srcElement)},1)},this._gantt=t}e.QuickInfo=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(223);e.default=function(i){i.ext||(i.ext={}),i.ext.quickInfo=new a.QuickInfo(i),i.config.quickinfo_buttons=["icon_delete","icon_edit"],i.config.quick_info_detached=!0,i.config.show_quick_info=!0,i.templates.quick_info_title=function(t,e,n){return n.text.substr(0,50)},i.templates.quick_info_content=function(t,e,n){return n.details||n.text},i.templates.quick_info_date=function(t,e,n){return i.templates.task_time(t,e,n)},i.templates.quick_info_class=function(t,e,n){return""},i.attachEvent("onTaskClick",function(t){return setTimeout(function(){i.ext.quickInfo.show(t)},0),!0});for(var t=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],r=function(){return i.ext.quickInfo.hide(),!0},e=0;e<t.length;e++)i.attachEvent(t[e],r);function n(){return i.ext.quickInfo.hide(),!(i.ext.quickInfo._quickInfoBox=null)}i.attachEvent("onEmptyClick",function(t){var e=!0,n=document.querySelector(".gantt_cal_quick_info");n&&i.utils.dom.isChildOf(t.target,n)&&(e=!1),e&&r()}),i.attachEvent("onGanttReady",n),i.attachEvent("onDestroy",n),i.event(window,"keydown",function(t){27===t.keyCode&&i.ext.quickInfo.hide()})}},function(t,e){t.exports=function(c){c.config.multiselect=!0,c.config.multiselect_one_level=!1,c._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var t=this.getSelected();return t.length?t[t.length-1]:null},setFirstSelected:function(t){this._first_selected_when_shift=t},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=c.config.multiselect_one_level;var t=this._active;this._active=c.config.select_task,this._active!=t&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(e){c.$data.tasksStore.silent(function(){var t=c.$data.tasksStore;e?t.select(e+""):t.unselect(null)})},getLastSelected:function(){var t=c.$data.tasksStore.getSelectedId();return t&&c.isTaskExists(t)?t:null},select:function(t,e){return!!(t&&c.callEvent("onBeforeTaskMultiSelect",[t,!0,e])&&c.callEvent("onBeforeTaskSelected",[t]))&&(this._selected[t]=!0,this.setLastSelected(t),this.afterSelect(t),c.callEvent("onTaskMultiSelect",[t,!0,e]),c.callEvent("onTaskSelected",[t]),!0)},toggle:function(t,e){this._selected[t]?this.unselect(t,e):this.select(t,e)},unselect:function(t,e){t&&c.callEvent("onBeforeTaskMultiSelect",[t,!1,e])&&(this._selected[t]=!1,this.getLastSelected()==t&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(t),c.callEvent("onTaskMultiSelect",[t,!1,e]),c.callEvent("onTaskUnselected",[t]))},isSelected:function(t){return!(!c.isTaskExists(t)||!this._selected[t])},getSelected:function(){var t,e=[];for(t in this._selected)this._selected[t]&&c.isTaskExists(t)?e.push(t):this._selected[t]=!1;return e.sort(function(t,e){return c.getGlobalTaskIndex(t)>c.getGlobalTaskIndex(e)?1:-1}),e},forSelected:function(t){for(var e=this.getSelected(),n=0;n<e.length;n++)t(e[n])},isSameLevel:function(t){if(!this._one_level)return!0;var e=this.getLastSelected();return!(e&&c.isTaskExists(e)&&c.isTaskExists(t)&&c.calculateTaskLevel(c.getTask(e))!=c.calculateTaskLevel(c.getTask(t)))},afterSelect:function(t){c.isTaskExists(t)&&(c.getDatastore("task")._quick_refresh=!0,c.getDatastore("link")._quick_refresh=!0,c.refreshTask(t),c.getDatastore("task")._quick_refresh=!1,c.getDatastore("link")._quick_refresh=!1)},doSelection:function(r){if(!this.isActive())return!1;if(c._is_icon_open_click(r))return!1;var a=c.locate(r);if(!a)return!1;if(!c.callEvent("onBeforeMultiSelect",[r]))return!1;var e=this.getSelected(),o=this.getFirstSelected(),s=!1,l=this.getLastSelected(),t=c.config.multiselect,n=function(){this.setFirstSelected(a),this.isSelected(a)||this.select(a,r),e=this.getSelected();for(var t=0;t<e.length;t++)e[t]!==a&&this.unselect(e[t],r)}.bind(this),i=function(){if(l){if(a){for(var t=c.getGlobalTaskIndex(this.getFirstSelected()),e=c.getGlobalTaskIndex(a),n=c.getGlobalTaskIndex(l),i=l;c.getGlobalTaskIndex(i)!==t;)this.unselect(i,r),i=n<t?c.getNext(i):c.getPrev(i);for(i=a;c.getGlobalTaskIndex(i)!==t;)this.select(i,r)&&!s&&(s=!0,o=i),i=e<t?c.getNext(i):c.getPrev(i)}}else l=a}.bind(this);return t&&(r.ctrlKey||r.metaKey)?(this.isSelected(a)||this.setFirstSelected(a),a&&this.toggle(a,r)):t&&r.shiftKey?(c.isTaskExists(this.getFirstSelected())&&null!==this.getFirstSelected()||this.setFirstSelected(a),(e.length?i:n)()):n(),this.isSelected(a)?this.setLastSelected(a):o?a==l&&this.setLastSelected(r.shiftKey?o:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var i=c.selectTask;c.selectTask=function(t){if(!t)return!1;var e=c._multiselect,n=t;return e.isActive()?(e.select(t,null)&&e.setLastSelected(t),e.setFirstSelected(e.getLastSelected())):n=i.call(this,t),n};var r=c.unselectTask;c.unselectTask=function(t){var e=c._multiselect,n=e.isActive();(t=t||e.getLastSelected())&&n&&(e.unselect(t,null),t==e.getLastSelected()&&e.setLastSelected(null),c.refreshTask(t),e.setFirstSelected(e.getLastSelected()));e=t;return n||(e=r.call(this,t)),e},c.toggleTaskSelection=function(t){var e=c._multiselect;t&&e.isActive()&&(e.toggle(t),e.setFirstSelected(e.getLastSelected()))},c.getSelectedTasks=function(){var t=c._multiselect;return t.isActive(),t.getSelected()},c.eachSelectedTask=function(t){return this._multiselect.forSelected(t)},c.isSelectedTask=function(t){return this._multiselect.isSelected(t)},c.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},c.attachEvent("onGanttReady",function(){var e=c.$data.tasksStore.isSelected;c.$data.tasksStore.isSelected=function(t){return c._multiselect.isActive()?c._multiselect.isSelected(t):e.call(this,t)}})}(),c.attachEvent("onTaskIdChange",function(t,e){var n=c._multiselect;if(!n.isActive())return!0;c.isSelectedTask(t)&&(n.unselect(t,null),n.select(e,null))}),c.attachEvent("onAfterTaskDelete",function(t,e){var n=c._multiselect;if(!n.isActive())return!0;n._selected[t]&&(n.unselect(t,null),n._selected[t]=!1,n.setLastSelected(n.getDefaultSelected())),n.forSelected(function(t){c.isTaskExists(t)||n.unselect(t,null)})}),c.attachEvent("onBeforeTaskMultiSelect",function(t,e,n){var i=c._multiselect;return!(e&&i.isActive()&&i._one_level)||i.isSameLevel(t)}),c.attachEvent("onTaskClick",function(t,e){return c._multiselect.doSelection(e)&&c.callEvent("onMultiSelect",[e]),!0})}},function(t,e){t.exports=function(r){function t(t){if(!r.config.show_markers)return!1;if(!t.start_date)return!1;var e=r.getState();if(!(+t.start_date>+e.max_date||(!t.end_date||+t.end_date<+e.min_date)&&+t.start_date<+e.min_date)){var n=document.createElement("div");n.setAttribute("data-marker-id",t.id);var i="gantt_marker";r.templates.marker_class&&(i+=" "+r.templates.marker_class(t)),t.css&&(i+=" "+t.css),t.title&&(n.title=t.title),n.className=i;e=r.posFromDate(t.start_date);return n.style.left=e+"px",n.style.height=Math.max(r.getRowTop(r.getVisibleTaskCount()),0)+"px",t.end_date&&(i=r.posFromDate(t.end_date),n.style.width=Math.max(i-e,0)+"px"),t.text&&(n.innerHTML="<div class='gantt_marker_content' >"+t.text+"</div>"),n}}function e(){var t;r.$task_data&&((t=document.createElement("div")).className="gantt_marker_area",r.$task_data.appendChild(t),r.$marker_area=t)}r._markers||(r._markers=r.createDatastore({name:"marker",initItem:function(t){return t.id=t.id||r.uid(),t}})),r.config.show_markers=!0,r.attachEvent("onBeforeGanttRender",function(){r.$marker_area||e()}),r.attachEvent("onDataRender",function(){r.$marker_area||(e(),r.renderMarkers())}),r.attachEvent("onGanttReady",function(){e(),r.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return r.$marker_area}}).addLayer(t)}),r.getMarker=function(t){return this._markers?this._markers.getItem(t):null},r.addMarker=function(t){return this._markers.addItem(t)},r.deleteMarker=function(t){return!!this._markers.exists(t)&&(this._markers.removeItem(t),!0)},r.updateMarker=function(t){this._markers.refresh(t)},r._getMarkers=function(){return this._markers.getItems()},r.renderMarkers=function(){this._markers.refresh()}}},function(t,e){t.exports=function(r){r.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new r.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var t;return(t=new(r.config.keyboard_navigation_cells?r.$keyboardNavigation.TaskCell:r.$keyboardNavigation.TaskRow)).isValid()||(t=t.fallback()),t},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var t=this.activeNode;return t&&!t.isValid()&&(t=t.fallback()),t},fromDomElement:function(t){for(var e=[r.$keyboardNavigation.TaskRow,r.$keyboardNavigation.TaskCell,r.$keyboardNavigation.HeaderCell],n=0;n<e.length;n++)if(e[n].prototype.fromDomElement){var i=e[n].prototype.fromDomElement(t);if(i)return i}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(t){var e=!0;this.activeNode&&this.activeNode.compareTo(t)&&(e=!1),this.isEnabled()&&(e&&this.blurNode(this.activeNode),this.activeNode=t,this.focusNode(this.activeNode,!e))},focusNode:function(t,e){t&&t.focus&&t.focus(e)},blurNode:function(t){t&&t.blur&&t.blur()},keyDownHandler:function(t){var e,n,i;r.$keyboardNavigation.isModal()||!this.isEnabled()||t.defaultPrevented||(e=this.globalNode,n=r.$keyboardNavigation.shortcuts.getCommandFromEvent(t),i=this.getActiveNode(),!1!==r.$keyboardNavigation.facade.callEvent("onKeyDown",[n,t])&&(i?i.findHandler(n)?i.doAction(n,t):e.findHandler(n)&&e.doAction(n,t):this.setDefaultNode()))},_timeout:null,awaitsFocus:function(){return null!==this._timeout},delay:function(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(r.bind(function(){this._timeout=null,t()},this),e||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(t,e){t.exports=function(l){!function(){var n=[];function t(){return!!n.length}function e(){setTimeout(function(){t()||l.$destroyed||l.focus()},1)}function i(t){l.eventRemove(t,"keydown",a),l.event(t,"keydown",a),n.push(t)}function r(){var t=n.pop();t&&l.eventRemove(t,"keydown",a),e()}function a(t){var e=t.currentTarget;e==n[n.length-1]&&l.$keyboardNavigation.trapFocus(e,t)}function o(){i(l.getLightbox())}l.attachEvent("onLightbox",o),l.attachEvent("onAfterLightbox",r),l.attachEvent("onLightboxChange",function(){r(),o()}),l.attachEvent("onAfterQuickInfo",function(){e()}),l.attachEvent("onMessagePopup",function(t){s=document.activeElement,i(t)}),l.attachEvent("onAfterMessagePopup",function(){r(),setTimeout(function(){s&&(s.focus(),s=null)},1)});var s=null;l.$keyboardNavigation.isModal=t}()}},function(t,e,n){t.exports=function(r){var i=n(1);r.$keyboardNavigation.TaskCell=function(t,e){var n;t||(n=r.getChildren(r.config.root_id))[0]&&(t=n[0]),this.taskId=t,this.columnIndex=e||0,r.isTaskExists(this.taskId)&&(this.index=r.getTaskIndex(this.taskId))},r.$keyboardNavigation.TaskCell.prototype=r._compose(r.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return r.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!r.getGridColumns()[this.columnIndex]},fallback:function(){var t=r.$keyboardNavigation.TaskRow.prototype.fallback.call(this),e=t;if(t instanceof r.$keyboardNavigation.TaskRow){for(var n=r.getGridColumns(),i=this.columnIndex;0<=i&&!n[i];)i--;n[i]&&(e=new r.$keyboardNavigation.TaskCell(t.taskId,i))}return e},fromDomElement:function(t){if(!r.config.keyboard_navigation_cells)return null;var e=r.locate(t);if(r.isTaskExists(e)){var n=0,t=i.locateAttribute(t,"data-column-index");return t&&(n=+t.getAttribute("data-column-index")),new r.$keyboardNavigation.TaskCell(e,n)}return null},getNode:function(){if(r.isTaskExists(this.taskId)&&r.isTaskVisible(this.taskId)){if(r.config.show_grid){var t=r.$grid.querySelector(".gantt_row["+r.config.task_attribute+"='"+this.taskId+"']");return t?t.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return r.getTaskNode(this.taskId)}},keys:{up:function(){var t=r.getPrev(this.taskId),e=t?new r.$keyboardNavigation.TaskCell(t,this.columnIndex):new r.$keyboardNavigation.HeaderCell(this.columnIndex);this.moveTo(e)},down:function(){var t=r.getNext(this.taskId);t&&this.moveTo(new r.$keyboardNavigation.TaskCell(t,this.columnIndex))},left:function(){0<this.columnIndex&&this.moveTo(new r.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var t=r.getGridColumns();this.columnIndex<t.length-1&&this.moveTo(new r.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var t=r.getGridColumns();this.moveTo(new r.$keyboardNavigation.TaskCell(this.taskId,t.length-1))},home:function(){this.moveTo(new r.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){r.getVisibleTaskCount()&&this.moveTo(new r.$keyboardNavigation.TaskCell(r.getTaskByIndex(r.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){r.getVisibleTaskCount()&&this.moveTo(new r.$keyboardNavigation.TaskCell(r.getTaskByIndex(0).id,this.columnIndex))}}}),r.$keyboardNavigation.TaskCell.prototype.bindAll(r.$keyboardNavigation.TaskRow.prototype.keys),r.$keyboardNavigation.TaskCell.prototype.bindAll(r.$keyboardNavigation.TaskCell.prototype.keys)}},function(t,e){t.exports=function(o){o.$keyboardNavigation.TaskRow=function(t){var e;t||(e=o.getChildren(o.config.root_id))[0]&&(t=e[0]),this.taskId=t,o.isTaskExists(this.taskId)&&(this.index=o.getTaskIndex(this.taskId))},o.$keyboardNavigation.TaskRow.prototype=o._compose(o.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return o.isTaskExists(this.taskId)&&-1<o.getTaskIndex(this.taskId)},fallback:function(){if(!o.getVisibleTaskCount()){var t=new o.$keyboardNavigation.HeaderCell;return t.isValid()?t:null}var e=-1;if(o.getTaskByIndex(this.index-1))e=this.index-1;else if(o.getTaskByIndex(this.index+1))e=this.index+1;else for(var n=this.index;0<=n;){if(o.getTaskByIndex(n)){e=n;break}n--}if(-1<e)return new o.$keyboardNavigation.TaskRow(o.getTaskByIndex(e).id)},fromDomElement:function(t){if(o.config.keyboard_navigation_cells)return null;t=o.locate(t);return o.isTaskExists(t)?new o.$keyboardNavigation.TaskRow(t):null},getNode:function(){if(o.isTaskExists(this.taskId)&&o.isTaskVisible(this.taskId))return o.config.show_grid?o.$grid.querySelector(".gantt_row["+o.config.task_attribute+"='"+this.taskId+"']"):o.getTaskNode(this.taskId)},focus:function(t){var e,n,i,r,a;t||(e=o.getTaskPosition(o.getTask(this.taskId)),n=o.config.row_height,i=o.getScrollState(),r=o.$task?o.$task.offsetWidth:i.inner_width,a=o.$grid_data||o.$task_data?(o.$grid_data||o.$task_data).offsetHeight:i.inner_height,e.top<i.y||e.top+n>i.y+a?o.scrollTo(null,e.top-5*n):o.config.scroll_on_click&&o.config.show_chart&&(e.left<i.x||e.left>i.x+r)&&o.scrollTo(e.left-o.config.task_scroll_offset)),o.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[t])},keys:{pagedown:function(){o.getVisibleTaskCount()&&this.moveTo(new o.$keyboardNavigation.TaskRow(o.getTaskByIndex(o.getVisibleTaskCount()-1).id))},pageup:function(){o.getVisibleTaskCount()&&this.moveTo(new o.$keyboardNavigation.TaskRow(o.getTaskByIndex(0).id))},up:function(){var t=o.getPrev(this.taskId),e=t?new o.$keyboardNavigation.TaskRow(t):new o.$keyboardNavigation.HeaderCell;this.moveTo(e)},down:function(){var t=o.getNext(this.taskId);t&&this.moveTo(new o.$keyboardNavigation.TaskRow(t))},"shift+down":function(){o.hasChild(this.taskId)&&!o.getTask(this.taskId).$open&&o.open(this.taskId)},"shift+up":function(){o.hasChild(this.taskId)&&o.getTask(this.taskId).$open&&o.close(this.taskId)},"shift+right":function(){var t;o.isReadonly(this)||(t=o.getPrevSibling(this.taskId),!o.isTaskExists(t)||o.isChildOf(this.taskId,t)||!(o.getTask(t).$open=!0)!==o.moveTask(this.taskId,-1,t)&&o.updateTask(this.taskId))},"shift+left":function(){var t;o.isReadonly(this)||(t=o.getParent(this.taskId),o.isTaskExists(t)&&!1!==o.moveTask(this.taskId,o.getTaskIndex(t)+1,o.getParent(t))&&o.updateTask(this.taskId))},space:function(t){o.isSelectedTask(this.taskId)?o.unselectTask(this.taskId):o.selectTask(this.taskId)},"ctrl+left":function(t){o.close(this.taskId)},"ctrl+right":function(t){o.open(this.taskId)},delete:function(t){o.isReadonly(this)||o.$click.buttons.delete(this.taskId)},enter:function(){o.isReadonly(this)||o.showLightbox(this.taskId)},"ctrl+enter":function(){o.isReadonly(this)||o.createTask({},this.taskId)}}}),o.$keyboardNavigation.TaskRow.prototype.bindAll(o.$keyboardNavigation.TaskRow.prototype.keys)}},function(t,e,n){t.exports=function(i){var r=n(1);i.$keyboardNavigation.HeaderCell=function(t){this.index=t||0},i.$keyboardNavigation.HeaderCell.prototype=i._compose(i.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!i.config.show_grid&&i.getVisibleTaskCount()||!i.getGridColumns()[this.index]&&i.getVisibleTaskCount())},fallback:function(){if(!i.config.show_grid)return i.getVisibleTaskCount()?new i.$keyboardNavigation.TaskRow:null;for(var t=i.getGridColumns(),e=this.index;0<=e&&!t[e];)e--;return t[e]?new i.$keyboardNavigation.HeaderCell(e):null},fromDomElement:function(t){var e=r.locateClassName(t,"gantt_grid_head_cell");if(e){for(var n=0;e&&e.previousSibling;)e=e.previousSibling,n+=1;return new i.$keyboardNavigation.HeaderCell(n)}return null},getNode:function(){return i.$grid_scale.childNodes[this.index]},keys:{left:function(){0<this.index&&this.moveTo(new i.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var t=i.getGridColumns();this.index<t.length-1&&this.moveTo(new i.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var t,e=i.getChildren(i.config.root_id);e[0]&&(t=e[0]),t&&(i.config.keyboard_navigation_cells?this.moveTo(new i.$keyboardNavigation.TaskCell(t,this.index)):this.moveTo(new i.$keyboardNavigation.TaskRow(t)))},end:function(){var t=i.getGridColumns();this.moveTo(new i.$keyboardNavigation.HeaderCell(t.length-1))},home:function(){this.moveTo(new i.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){document.activeElement.click()},"ctrl+enter":function(){i.isReadonly(this)||i.createTask({},this.taskId)}}}),i.$keyboardNavigation.HeaderCell.prototype.bindAll(i.$keyboardNavigation.HeaderCell.prototype.keys)}},function(t,e){t.exports=function(n){n.$keyboardNavigation.KeyNavNode=function(){},n.$keyboardNavigation.KeyNavNode.prototype=n._compose(n.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(t){n.$keyboardNavigation.dispatcher.setActiveNode(t)},compareTo:function(t){if(!t)return!1;for(var e in this){if(!!this[e]!=!!t[e])return!1;var n=!(!this[e]||!this[e].toString),i=!(!t[e]||!t[e].toString);if(i!=n)return!1;if(i&&n){if(t[e].toString()!=this[e].toString())return!1}else if(t[e]!=this[e])return!1}return!0},getNode:function(){},focus:function(){var t,e=this.getNode();!e||!1!==(t=n.$keyboardNavigation.facade).callEvent("onBeforeFocus",[e])&&e&&(e.setAttribute("tabindex","-1"),e.$eventAttached||(e.$eventAttached=!0,n.event(e,"focus",function(t){return t.preventDefault(),!1},!1)),e.focus&&e.focus(),t.callEvent("onFocus",[this.getNode()]))},blur:function(){var t=this.getNode();t&&(n.$keyboardNavigation.facade.callEvent("onBlur",[t]),t.setAttribute("tabindex","-1"))}})}},function(t,e){t.exports=function(i){i.$keyboardNavigation.GanttNode=function(){},i.$keyboardNavigation.GanttNode.prototype=i._compose(i.$keyboardNavigation.EventHandler,{focus:function(){i.focus()},blur:function(){},isEnabled:function(){return i.$container.hasAttribute("tabindex")},scrollHorizontal:function(t){var e=i.dateFromPos(i.getScrollState().x),n=i.getScale(),t=t<0?-n.step:n.step,e=i.date.add(e,t,n.unit);i.scrollTo(i.posFromDate(e))},scrollVertical:function(t){var e=i.getScrollState().y,n=i.config.row_height;i.scrollTo(null,e+(t<0?-1:1)*n)},keys:{"alt+left":function(t){this.scrollHorizontal(-1)},"alt+right":function(t){this.scrollHorizontal(1)},"alt+up":function(t){this.scrollVertical(-1)},"alt+down":function(t){this.scrollVertical(1)},"ctrl+z":function(){i.undo&&i.undo()},"ctrl+r":function(){i.redo&&i.redo()}}}),i.$keyboardNavigation.GanttNode.prototype.bindAll(i.$keyboardNavigation.GanttNode.prototype.keys)}},function(t,e,n){t.exports=function(s){var t;t=n(1),s.$keyboardNavigation.getFocusableNodes=t.getFocusableNodes,s.$keyboardNavigation.trapFocus=function(t,e){if(9!=e.keyCode)return!1;for(var n=s.$keyboardNavigation.getFocusableNodes(t),i=document.activeElement,r=-1,a=0;a<n.length;a++)if(n[a]==i){r=a;break}if(e.shiftKey){if(r<=0){var o=n[n.length-1];if(o)return o.focus(),e.preventDefault(),!0}}else if(r>=n.length-1){o=n[0];if(o)return o.focus(),e.preventDefault(),!0}return!1}}},function(t,e){t.exports=function(a){a.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(t){this._handlers||(this._handlers={});t=a.$keyboardNavigation.shortcuts.getHash(t);return this._handlers[t]},doAction:function(t,e){var n=this.findHandler(t);n&&!1!==a.$keyboardNavigation.facade.callEvent("onBeforeAction",[t,e])&&(n.call(this,e),e.preventDefault?e.preventDefault():e.returnValue=!1)},bind:function(t,e){this._handlers||(this._handlers={});for(var n=a.$keyboardNavigation.shortcuts,i=n.parse(t),r=0;r<i.length;r++)this._handlers[n.getHash(i[r])]=e},unbind:function(t){for(var e=a.$keyboardNavigation.shortcuts,n=e.parse(t),i=0;i<n.length;i++)this._handlers[e.getHash(n[i])]&&delete this._handlers[e.getHash(n[i])]},bindAll:function(t){for(var e in t)this.bind(e,t[e])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(t,e){t.exports=function(t){t.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(t){for(var e=[],n=this.getExpressions(this.trim(t)),i=0;i<n.length;i++){for(var r=this.getWords(n[i]),a=this.createCommand(),o=0;o<r.length;o++)this.commandKeys[r[o]]?a.modifiers[r[o]]=!0:this.specialKeys[r[o]]?a.keyCode=this.specialKeys[r[o]]:a.keyCode=r[o].charCodeAt(0);e.push(a)}return e},getCommandFromEvent:function(t){var e=this.createCommand();e.modifiers.shift=!!t.shiftKey,e.modifiers.alt=!!t.altKey,e.modifiers.ctrl=!!t.ctrlKey,e.modifiers.meta=!!t.metaKey,e.keyCode=t.which||t.keyCode,96<=e.keyCode&&e.keyCode<=105&&(e.keyCode-=48);t=String.fromCharCode(e.keyCode);return t&&(e.keyCode=t.toLowerCase().charCodeAt(0)),e},getHashFromEvent:function(t){return this.getHash(this.getCommandFromEvent(t))},getHash:function(t){var e,n=[];for(e in t.modifiers)t.modifiers[e]&&n.push(e);return n.push(t.keyCode),n.join(this.junctionChar)},getExpressions:function(t){return t.split(this.junctionChar)},getWords:function(t){return t.split(this.combinationChar)},trim:function(t){return t.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(t,e,n){t.exports=function(t){var _=n(4);!function(u){u.config.keyboard_navigation=!0,u.config.keyboard_navigation_cells=!1,u.$keyboardNavigation={},u._compose=function(){for(var t=Array.prototype.slice.call(arguments,0),e={},n=0;n<t.length;n++){var i,r=t[n];for(i in"function"==typeof r&&(r=new r),r)e[i]=r[i]}return e},n(236)(u),n(235)(u),n(234)(u),n(233)(u),n(232)(u),n(231)(u),n(230)(u),n(229)(u),n(228)(u),n(227)(u);var h=n(1);!function(){var o=u.$keyboardNavigation.dispatcher;function t(t){if(u.config.keyboard_navigation&&(u.config.keyboard_navigation_cells||!i(t)))return o.keyDownHandler(t)}function e(t){if(o.$preventDefault)return t.preventDefault(),u.$container.blur(),!1;o.awaitsFocus()||o.focusGlobalNode()}function n(){var t,e,n,i;!o.isEnabled()||(t=o.getActiveNode())&&((i=t.getNode())&&i.parentNode&&(e=i.parentNode.scrollTop,n=i.parentNode.scrollLeft),t.focus(!0),i&&i.parentNode&&(i.parentNode.scrollTop=e,i.parentNode.scrollLeft=n))}function i(t){return h.closest(t.target,".gantt_grid_editor_placeholder")}function r(t){if(!u.config.keyboard_navigation)return!0;if(!u.config.keyboard_navigation_cells&&i(t))return!0;var e,n=o.fromDomElement(t);n&&(o.activeNode instanceof u.$keyboardNavigation.TaskCell&&h.isChildOf(t.target,u.$task)&&(n=new u.$keyboardNavigation.TaskCell(n.taskId,o.activeNode.columnIndex)),e=n),e?o.isEnabled()?o.delay(function(){o.setActiveNode(e)}):o.activeNode=e:(o.$preventDefault=!0,setTimeout(function(){o.$preventDefault=!1},300))}o.isTaskFocused=function(t){var e=o.activeNode;return(e instanceof u.$keyboardNavigation.TaskRow||e instanceof u.$keyboardNavigation.TaskCell)&&e.taskId==t},u.attachEvent("onDataRender",function(){u.config.keyboard_navigation&&n()}),u.attachEvent("onGanttRender",function(){u.eventRemove(u.$root,"keydown",t),u.eventRemove(u.$container,"focus",e),u.eventRemove(u.$container,"mousedown",r),u.config.keyboard_navigation?(u.event(u.$root,"keydown",t),u.event(u.$container,"focus",e),u.event(u.$container,"mousedown",r),u.$container.setAttribute("tabindex","0")):u.$container.removeAttribute("tabindex")});var s=u.attachEvent("onGanttReady",function(){var a;u.detachEvent(s),u.$data.tasksStore.attachEvent("onStoreUpdated",function(t){var e;u.config.keyboard_navigation&&o.isEnabled()&&((e=o.getActiveNode())&&e.taskId==t&&n())}),u._smart_render&&(a=u._smart_render._redrawTasks,u._smart_render._redrawTasks=function(t,e){if(u.config.keyboard_navigation&&o.isEnabled()){var n=o.getActiveNode();if(n&&void 0!==n.taskId){for(var i=!1,r=0;r<e.length;r++)if(e[r].id==n.taskId&&e[r].start_date){i=!0;break}i||e.push(u.getTask(n.taskId))}}return a.apply(this,arguments)})});u.attachEvent("onAfterTaskAdd",function(t,e){return!u.config.keyboard_navigation||void(o.isEnabled()&&(n=0,(i=o.activeNode)instanceof u.$keyboardNavigation.TaskCell&&(n=i.columnIndex),i=u.config.keyboard_navigation_cells?u.$keyboardNavigation.TaskCell:u.$keyboardNavigation.TaskRow,o.setActiveNode(new i(t,n))));var n,i}),u.attachEvent("onTaskIdChange",function(t,e){if(!u.config.keyboard_navigation)return!0;var n=o.activeNode;return o.isTaskFocused(t)&&(n.taskId=e),!0});var a=setInterval(function(){u.config.keyboard_navigation&&(o.isEnabled()||o.enable())},500);function l(t){var e={gantt:u.$keyboardNavigation.GanttNode,headerCell:u.$keyboardNavigation.HeaderCell,taskRow:u.$keyboardNavigation.TaskRow,taskCell:u.$keyboardNavigation.TaskCell};return e[t]||e.gantt}function c(t){for(var e=u.getGridColumns(),n=0;n<e.length;n++)if(e[n].name==t)return n;return 0}u.attachEvent("onDestroy",function(){clearInterval(a)});var d={};_(d),u.mixin(d,{addShortcut:function(t,e,n){n=l(n);n&&n.prototype.bind(t,e)},getShortcutHandler:function(t,e){t=u.$keyboardNavigation.shortcuts.parse(t);if(t.length)return d.getCommandHandler(t[0],e)},getCommandHandler:function(t,e){e=l(e);if(e&&t)return e.prototype.findHandler(t)},removeShortcut:function(t,e){e=l(e);e&&e.prototype.unbind(t)},focus:function(t){var e,n=t?t.type:null,i=l(n);switch(n){case"taskCell":e=new i(t.id,c(t.column));break;case"taskRow":e=new i(t.id);break;case"headerCell":e=new i(c(t.column))}o.delay(function(){e?o.setActiveNode(e):(o.enable(),o.getActiveNode()?o.awaitsFocus()||o.enable():o.setDefaultNode())})},getActiveNode:function(){if(o.isEnabled()){var t=o.getActiveNode(),e=t instanceof u.$keyboardNavigation.GanttNode?"gantt":t instanceof u.$keyboardNavigation.HeaderCell?"headerCell":t instanceof u.$keyboardNavigation.TaskRow?"taskRow":t instanceof u.$keyboardNavigation.TaskCell?"taskCell":null,n=u.getGridColumns();switch(e){case"taskCell":return{type:"taskCell",id:t.taskId,column:n[t.columnIndex].name};case"taskRow":return{type:"taskRow",id:t.taskId};case"headerCell":return{type:"headerCell",column:n[t.index].name}}}return null}}),u.$keyboardNavigation.facade=d,u.ext.keyboardNavigation=d,u.focus=function(){d.focus()},u.addShortcut=d.addShortcut,u.getShortcutHandler=d.getShortcutHandler,u.removeShortcut=d.removeShortcut}()}(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(r){function a(){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!t||t!==document.body)}r.$services.getService("state").registerProvider("fullscreen",function(){return{fullscreen:a()}});var o={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},s={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},l=null;function c(t,e){e.width=t.width,e.height=t.height,e.top=t.top,e.left=t.left,e.position=t.position,e.zIndex=t.zIndex}var d=!1;function t(){var t,e,n,i;r.$container&&(a()?d&&(t="onExpand",n=r.ext.fullscreen.getFullscreenElement(),i=document.body,c(n.style,s),o={overflow:i.style.overflow,padding:i.style.padding||null,paddingTop:i.style.paddingTop||null,paddingRight:i.style.paddingRight||null,paddingBottom:i.style.paddingBottom||null,paddingLeft:i.style.paddingLeft||null},i.style.padding&&(i.style.padding="0"),i.style.paddingTop&&(i.style.paddingTop="0"),i.style.paddingRight&&(i.style.paddingRight="0"),i.style.paddingBottom&&(i.style.paddingBottom="0"),i.style.paddingLeft&&(i.style.paddingLeft="0"),i.style.overflow="hidden",n.style.width="100vw",n.style.height="100vh",n.style.top="0px",n.style.left="0px",n.style.position="absolute",n.style.zIndex=1,s.modified=!0,l=function(){for(var t=n.parentNode,e=[];t&&t.style;)e.push({element:t,originalPositioning:t.style.position}),t.style.position="static",t=t.parentNode;return e}()):d&&(d=!1,t="onCollapse",e=r.ext.fullscreen.getFullscreenElement(),i=document.body,s.modified&&(o.padding&&(i.style.padding=o.padding),o.paddingTop&&(i.style.paddingTop=o.paddingTop),o.paddingRight&&(i.style.paddingRight=o.paddingRight),o.paddingBottom&&(i.style.paddingBottom=o.paddingBottom),o.paddingLeft&&(i.style.paddingLeft=o.paddingLeft),i.style.overflow=o.overflow,o={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},c(s,e.style),s.modified=!1),l.forEach(function(t){t.element.style.position=t.originalPositioning}),l=null),setTimeout(function(){r.render()}),setTimeout(function(){r.callEvent(t,[r.ext.fullscreen.getFullscreenElement()])}))}function i(){return!(r.$container&&r.ext.fullscreen.getFullscreenElement()&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),0)))}r.ext.fullscreen={expand:function(){var t,e,n;i()||a()||!r.callEvent("onBeforeExpand",[this.getFullscreenElement()])||(d=!0,e=(t=document.body).webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],(n=t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen||t.requestFullscreen)&&n.apply(t,e))},collapse:function(){var t;i()||!a()||!r.callEvent("onBeforeCollapse",[this.getFullscreenElement()])||(t=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen)&&t.apply(document)},toggle:function(){i()||(a()?this.collapse():this.expand())},getFullscreenElement:function(){return r.$root}},r.expand=function(){r.ext.fullscreen.expand()},r.collapse=function(){r.ext.fullscreen.collapse()},r.attachEvent("onGanttReady",function(){r.event(document,"webkitfullscreenchange",t),r.event(document,"mozfullscreenchange",t),r.event(document,"MSFullscreenChange",t),r.event(document,"fullscreenChange",t),r.event(document,"fullscreenchange",t)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.create=function(t){return new r(t)},r.prototype.destructor=function(){this._domEvents.detachAll()},r.prototype.attach=function(n){var r=this;this._timeline=n;var a=this._gantt;this._domEvents.attach(n.$task,"mousedown",function(t){var e,n,i;a.config.drag_timeline&&(e=(i=a.config.drag_timeline).useKey,n=i.ignore,!1!==i.enabled&&(i=".gantt_task_line, .gantt_task_link",void 0!==n&&(i=n instanceof Array?n.join(", "):n),i&&a.utils.dom.closest(t.target,i)||e&&!0!==t[e]||r._startDrag(t)))}),this._domEvents.attach(document,"keydown",function(t){var e;!a.config.drag_timeline||(e=a.config.drag_timeline.useKey)&&!0===t[e]&&r._applyDndReadyStyles()}),this._domEvents.attach(document,"keyup",function(t){var e;!a.config.drag_timeline||(e=a.config.drag_timeline.useKey)&&!1===t[e]&&(r._clearDndReadyStyles(),r._stopDrag(t))}),this._domEvents.attach(document,"mouseup",function(t){r._stopDrag(t)}),this._domEvents.attach(a.$root,"mouseup",function(t){r._stopDrag(t)}),this._domEvents.attach(document,"mouseleave",function(t){r._stopDrag(t)}),this._domEvents.attach(a.$root,"mouseleave",function(t){r._stopDrag(t)}),this._domEvents.attach(a.$root,"mousemove",function(t){var e;a.config.drag_timeline&&((e=a.config.drag_timeline.useKey)&&!0!==t[e]||!0!==r._mouseDown||(r._trace.push({x:t.clientX,y:t.clientY}),e=r._countNewScrollPosition({x:t.clientX,y:t.clientY}),r._setScrollPosition(n,e),r._scrollState=e,r._startPoint={x:t.clientX,y:t.clientY}))})},r);function r(t){var r=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(10<=r._trace.length){for(var t=r._trace.slice(r._trace.length-10),e=[],n=1;n<t.length;n++)e.push({x:t[n].x-t[n-1].x,y:t[n].y-t[n-1].y});var i={x:0,y:0};return e.forEach(function(t){i.x+=t.x,i.y+=t.y}),{magnitude:Math.sqrt(i.x*i.x+i.y*i.y),angleDegrees:180*Math.atan2(Math.abs(i.y),Math.abs(i.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){r._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){r._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(t){var e=r._gantt;return{x:e.$ui.getView(t.$config.scrollX).getScrollState().position,y:e.$ui.getView(t.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(t){var e=r._calculateDirectionVector(),n=r._startPoint.x-t.x,t=r._startPoint.y-t.y;return e&&(e.angleDegrees<15?t=0:75<e.angleDegrees&&(n=0)),{x:r._scrollState.x+n,y:r._scrollState.y+t}},this._setScrollPosition=function(t,e){var n=r._gantt;requestAnimationFrame(function(){n.$ui.getView(t.$config.scrollX).scroll(e.x),n.$ui.getView(t.$config.scrollY).scroll(e.y)})},this._stopDrag=function(t){var e=r._gantt;if(r._trace=[],e.$root.classList.remove("gantt_noselect"),void 0!==r._originalReadonly&&(e.config.readonly=r._originalReadonly),void 0!==r._originAutoscroll&&(e.config.autoscroll=r._originAutoscroll),e.config.drag_timeline){e=e.config.drag_timeline.useKey;if(e&&!0!==t[e])return}r._mouseDown=!1},this._startDrag=function(t){var e=r._gantt;r._originAutoscroll=e.config.autoscroll,e.config.autoscroll=!1,e.$root.classList.add("gantt_noselect"),r._originalReadonly=e.config.readonly,e.config.readonly=!0,r._trace=[],r._mouseDown=!0;var n=r._getScrollPosition(r._timeline),e=n.x,n=n.y;r._scrollState={x:e,y:n},r._startPoint={x:t.clientX,y:t.clientY},r._trace.push(r._startPoint)},this._gantt=t,this._domEvents=t._createDomEventScope(),this._trace=[]}e.EventsManager=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(239);e.default=function(t){t.ext||(t.ext={}),t.ext.dragTimeline={create:function(){return i.EventsManager.create(t)}},t.config.drag_timeline={enabled:!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(3),n=(a.prototype.draw=function(){var t=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){t._viewPort.appendChild(t.getElement())});this._viewPort.appendChild(this.getElement())},a.prototype.clear=function(){var t=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){t._el.parentNode&&t._viewPort.removeChild(t._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},a.prototype.getElement=function(){return this._el},a.prototype.getViewPort=function(){return this._viewPort},a.prototype.setStart=function(t){var e=this._gantt;this._startPoint=t,this._startDate=e.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},a.prototype.setEnd=function(t){var e=this._gantt;this._endPoint=t,this._singleRow&&(t=e.config.row_height,this._endPoint.relative.top=Math.ceil(this._startPoint.relative.top/t)*t),this._endDate=e.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},a.prototype.setPosition=function(t){this._positionPoint=t},a.prototype.dragEnd=function(t){var e=this._gantt;t.relative.left<0&&(t.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,t]),this.setEnd(t),this._startDate.valueOf()>this._endDate.valueOf()&&(n=[this._endDate,this._startDate],this._startDate=n[0],this._endDate=n[1]),this.clear();var n=e.getTaskByTime(this._startDate,this._endDate),e=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,n,e)},a.prototype.getInBounds=function(){return this._singleRow},a.prototype._getTasksByTop=function(t,e){var n=this._gantt,i=t,r=e;e<t&&(i=e,r=t);for(var t=n.config.row_height,i=Math.ceil(i/t)-1,a=Math.ceil(r/t)-1,o=[],s=i;s<=a;s++)n.getTaskByIndex(s)&&o.push(n.getTaskByIndex(s));return o},a);function a(e,t){var s=this;this._el=document.createElement("div"),this.defaultRender=function(t,e){s._el||(s._el=document.createElement("div"));var n=s._el,i=s._gantt,r=Math.min(t.relative.top,e.relative.top),a=Math.max(t.relative.top,e.relative.top),o=Math.min(t.relative.left,e.relative.left),e=Math.max(t.relative.left,e.relative.left);return s._singleRow?(i=i.config.row_height,n.style.height=i+"px",n.style.top=(Math.ceil(r/i)-1)*i+"px"):(n.style.height=Math.abs(a-r)+"px",n.style.top=r+"px"),n.style.width=Math.abs(e-o)+"px",n.style.left=o+"px",n},this._gantt=t,this._viewPort=e.viewPort,this._el.classList.add(e.className),"function"==typeof e.callback&&(this._callback=e.callback),this.render=function(){var t;(t=e.render?e.render(s._startPoint,s._endPoint):s.defaultRender(s._startPoint,s._endPoint))!==s._el&&(s._el&&s._el.parentNode&&s._el.parentNode.removeChild(s._el),s._el=t),""!==e.className&&s._el.classList.add(e.className),s.draw()},r.isEventable(this._viewPort)||i(this._viewPort),this._singleRow=e.singleRow,this._useRequestAnimationFrame=e.useRequestAnimationFrame}e.SelectedRegion=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.attach=function(n,i){var r=this,e=this._gantt,t=n.getViewPort();this._originPosition=window.getComputedStyle(t).display,this._restoreOriginPosition=function(){t.style.position=r._originPosition},"static"===this._originPosition&&(t.style.position="relative");var a=e.$services.getService("state");a.registerProvider("clickDrag",function(){return{autoscroll:!1}});var o=null;this._domEvents.attach(t,"mousedown",function(t){o=null,e.utils.dom.closest(t.target,".gantt_task_line, .gantt_task_link")||(a.registerProvider("clickDrag",function(){return{autoscroll:r._mouseDown}}),i&&!0!==t[i]||(o=r._getCoordinates(t,n)))}),this._domEvents.attach(document.body,"mouseup",function(t){o=null,i&&!0!==t[i]||!0!==r._mouseDown||(r._mouseDown=!1,t=r._getCoordinates(t,n),n.dragEnd(t))}),this._domEvents.attach(t,"mousemove",function(t){if(!i||!0===t[i]){var e=null;if(!r._mouseDown&&o)return e=r._getCoordinates(t,n),void(5<Math.abs(o.relative.left-e.relative.left)&&o&&(r._mouseDown=!0,n.setStart(o),n.setPosition(o),n.setEnd(o),o=null));!0===r._mouseDown&&(e=r._getCoordinates(t,n),n.setEnd(e),n.render())}})},r.prototype.detach=function(){var t=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),t.$services.getService("state").unregisterProvider("clickDrag")},r.prototype.destructor=function(){this.detach()},r.prototype._getCoordinates=function(t,e){var n=e.getViewPort(),i=n.getBoundingClientRect(),e=t.clientX,t=t.clientY;return{absolute:{left:e,top:t},relative:{left:e-i.left+n.scrollLeft,top:t-i.top+n.scrollTop}}},r);function r(t){this._mouseDown=!1,this._gantt=t,this._domEvents=t._createDomEventScope()}e.EventsManager=i},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(242),o=n(241);e.default=function(n){n.ext||(n.ext={});var i={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},t=new a.EventsManager(n);n.ext.clickDrag=t,n.attachEvent("onGanttReady",function(){var t,e=r({viewPort:n.$task_data},i);n.config.click_drag&&(t=n.config.click_drag,e.render=t.render||i.render,e.className=t.className||i.className,e.callback=t.callback||i.callback,e.viewPort=t.viewPort||n.$task_data,e.useRequestAnimationFrame=(void 0===t.useRequestAnimationFrame?i:t).useRequestAnimationFrame,e.singleRow=(void 0===t.singleRow?i:t).singleRow,e=new o.SelectedRegion(e,n),n.ext.clickDrag.attach(e,t.useKey))}),n.attachEvent("onDestroy",function(){t.destructor()})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(243),r=n(240),a=n(238),o=n(237),s=n(226),l=n(225),c=n(224),d=n(222),n=n(219);e.default={click_drag:i.default,drag_timeline:r.default,fullscreen:a.default,keyboard_navigation:o,quick_info:c.default,tooltip:d.default,undo:n.default,marker:s,multiselect:l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(244),r=n(216),i=n(14).gantt=r(i.default);e.gantt=i,e.default=i}])}],r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0).default;function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i});