{"name":"3D色阶地图","version":"1.0.0","displayName":"3D色阶地图","displayNameKey":"","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wAAAAAzJ3zzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAB3RJTUUH5AoOAhk3y1dE3wAAABBjYU52AAAA1wAAAMgAAAAIAAAAALTK2QMAAIAASURBVHja7P13kJ3ZeeYJ/s45n7s+vU8ACW8KqEJ5w6qiJ2VapqWRuqVpo57ujp6Jmdnu3Z2YP3ZjQtsx0bsxG7EbHR2xO267W2qpjSRShhJJkSwWWSxvUEABBW/T++vv58/ZP76biUQVgEJVsSiRzCciA8jMe29+5rzfec3zPq8o7vw5wza2sY3bQv5VH8A2tvHXGdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF2wayjW3cBdsGso1t3AXbBrKNbdwF1l/1AfxVQAjx3h8AW2eZ3uX7O4w8NWZ7FupPIn5qDEQIgZACnWqSOMEYnf1CG7QxCDKjEYAxW43I3Fz8UsDNH8PGt0IgLYWUsvs+AcZsG81PAH46DEQI0jgh8kO8Qp5yXy+2YyMthbAVuVKB1CSbBmB7DkJJLMsCITCJIfEjEj9CRylpkqBsC6MNaZyQRgmdeos4DInjiFSnCCWwHBspZLZDbRvMjyV+4g1ECEESJ/SOD/HIL3yOyItpmgZhGuBHHb7wpV+h0azy2pvfpVAsIaWi7TeJkpD1VpUkjrGkjSUtLGEhsLBEntSkYMA2irKVpz+S5GWexo01hG9oLdapzi0ThQFxHKEcC2Vb2U4m5IcymO5mlb2XDS/PYEy22xmyHfC9nuM2Pj5EcefP/WQ/1gSYVOBWYnp/bR9WrsSY209pZISXTzxHwSsipSKfL2GMJgg6SCEZHd6BUhbzizfwgzZxEgMGx/XQWiOEQEmFEILengE0GhCYNMV1cihfEi90iNdCZAfWri7SWFkjjmLiJMxcMqVQlsXtAxuB0RqtU5SUpFqjNSRJgmUphJAoKbAsiRQCbSBO9LaR/JDxY28gQojsSSzeH3xnT9gUk0j8ZJodv/UERx54mndOvYQfdtACkiQCxGZMsvEZxhhyuQI9lX4KXhEhs4RfkiabH66UIkkSwiig1apj2w6O42LbDg8/+CxvvvMCCwvTjA5N4nU8REsjA0m6GrF2eZ52o0mrVstcu82DzjyyIIzYt2eC//w/+yxBFJH3PL7x3Gt86vH7iaKQd969SrGYR0rBUH+Fr/7Fy/hhihR3zCPc9tpl/9n4J7uW267gTfxYu1hCCuIwwlYOWmvSjcXbDaylVLi5HE4hx659T/DLf/uf8tVv/h6rjRXyuQIYg207d/z8OI5YXJrBGHOL4dxE5vwIIZBKIcIOvt/m/vseJ+h0WJyfAW2Ymb0KEqSlsIsOvYN99B7ZwS5Tof7uMmHdRycpxhiUrVC2RdgOcYUhl3d55smH+Pb3XmW9EbJrxzjtVpvzF6ZZW63T6oQIabO61qSnr0yapNx2E8myCRitMRiMNug0+5uY7LzSOMHJeViOjdH6r/r2/rXAj62BCCkImz47jx+i7/5R4naIiLMbbWKN0Qa7x8MUBKEVYtyUr3z9d6jW18h7hewzNnafO/0NIe5qQBsZK2M0aZqSmhTLtlmrLrNjYi+H9j/AmXNv4TjeRrBAGiUsBfNoNJayKewt4UoXJRyEkMRCE2OQIk/ZeFyNlzBLNtOyxpO//gTF0V5Kqp+J9SrKsWms+xTjBCkEYctHi8yYjTab7lZ2igadaLxcHkvZWDkLr1jALXjIbnxUGR5g9vxllq/M4JXyGL29k/xYulhCCKJOwP6njmM9XuTS8lkUCikUAFJKlLSIdUQYhRidgsl8D6Vu+vwCgezGERtfcO81jSSJMUZj2y75XIGeygCu4zG18yClYoVvPPefCMMgC8q3OD6imx82xqB1is4e4STdp7atFEEcMVKsMFLqQQqJEFByPVppTI/K4eUcmnFEgTw9bp7F6wEz5xYJqy0iP8JyLHSiQWQ7l+XajB7cRdpj6PgtrIJLpEJCHRLrCATc//hThBeanP3TV1i8Mo1S6qfe3fqxMxAhBHEUse/R+zn8m4/z/TPfxtEWrpfDGI1SNgZDnMYkSUw5XyGXL2Trs+tfR0lEGAckOqXTbpCkCUkckaYpRmssy35/MfE9MEYz2D9KsdiDFIIkiWm26qysL6KkZHx0ivXqMn7QQUp1s+5yu3PqGkxvroCSkqVmnf58kXYc4Vk2S606tlRZoG40Ugp0urFDGLSAslfCsz0KqojUkpQURZZiNkKTmAThCtZaq8RRlL0vzRIL2Y6jManh137tn3D2373Ea//+m5SH+7qv+enFj52BIMAkAneoRe/xYQqDY4iJAcJ6HZnPkfg+ptHG1Nu4fb0EPS616gqmHUCq0dfmyceS0iPHkH5Err8PISXGUhgMfhqyVl0mjqO7Gok2mqkdB6mUetEmpVZfww867JzcRxj4XLh8inaniW27JGmMkhZKqfd9pkCQGs3u3gF++YHH8WyHP3zzRX75wSe5vrbEo7v28z9+4w+pdbNrW3eijfQvCFKdok2K7iYstvyy62NltRhL2d0dKful1jeTE8YYpCV5Yv/nWPj2Rc58/zUcz/2p3kV+/GIQY5CWRWt1mcbbs6j8RbxnHiBZq6H6yiSNNuHcIvlaRHHnJHZ5irGhHahYkyQxKjeI9gNkoUiatjCAbrRwSiXsGHYfOMZpfZKF5Rlsy77j4pBCMjN3hXmVuXWFfJmxkR089eiXWFi8gVKKerOKY7skacLyyhytdp0kSTfrFpAtzCCOcJRFFASEgU9/ochkbx8jpRKDpTJJGhPGEZ7tbqHFZLHPRk1ESolEfmAKy2DQRhNFIVJIcvli5uqlCUJK2s0mV1oX+OJv/RLvfv/1e86I/aTir9xANnz/rLZw8/tuTHsLs2OjOBaHIQkBStlgb9QEFI6bI59X7Hv6ISId04o7CMdFaai21kl1SmzHxCKC6iwAen09S+Gur6GTmFMvnUdZNpay7mgcQgjiOOKZJ7/IQN8QrXaTVrvO6toir594nnfPv0kUh1iWTRSF9FYGmBzfQ5JESGkRhB0AlOWASVnvtDm27zDCyxGlmof2H+VGs0VkDIkd8NljT/CXZ08QB22CyEcg0CYL8rM4QRPFMVJIlLKQ3ZT0RnC+EQNtnI5ju+yY2IvjepSFx3pzDTuXAwRpmlAu97LSmCfXUyRq+wil4Kd0F/krdbGEEIRhRJpo8p5HajR+GGHSFMtSgCHVBikEUoAlFUpZ9I2O0HNYkhY0Mp/HObAT3WiT6+sjbrWJo4Bri1dJoqjLrdLd4FwgZbeSffsD2uRi3Ws1QUpJziswOryD4aEJ3jz5Au1OM0s5G4PjeBgMURhg2w75fAnPzaHTlKlSL1EQcGhkkpVOnev1de4fneJ6u04tCmn5LRwpEbZDpdRDsVBhdX0Ry3KQQrK0MkuzVcd1PIaHJuj4Laq1FaI4wmjd5YZJ4jhEKQulLNI0oVAosX/XfQjbYua1V2nGHQIdkSYJXr4ISUzqS/RrKSaO+WmuPv6VGUj2FI7ZtWeSI48d4kazTl8+z77REZqrNa7cWCTVkkrOpunH+EmK7HExOQGDijVWiMIgC4AF6DQlTiKiKERrjeO4t/j7H2bRfzgY0jSrwYyO7GBkcIIoDglDHyEElu1gWw5pmtDx26yuLbBeX8WSit3FPqphhy/uO8r1+hp9tsfF5QWOjE7y7voil2qrOEqhjcEYTTFfJp8vEicxvZUBPDdHmiaMDE+ipOLS1TOUS71onRLFEfXGOmEUsGN8Dx2/hefmEULgOC6tdoNGo4prOSipGO4bZXVpjunpS3Qa6+SiPtI3w8zH+OncPIC/IgORUhDGKTvH+vhH/8PfodCn+NarLzFeLnNoYidBHFNtdfju5fP8g09/ga+99TqXq6usRS3iNMz8Z7KnY+bPA2RsXSk23It7Oy3BrdXkjxKQZlkoQRyHaKPJ54qUihW01jRbdZIkwrZdyqUe+noG2Tm5j9fe+h5/8+gjXF1eQGrND65fYJdX5JHd+3jt0nnmwxYdnWBb9uZOoHXaLYZmrpCQEsd2AEEUBSDAUjY5L08+V6RQKON5eYr5Mleun6XTaWJZNlpnqenB/hGUnWX9bGWT9woUvRLXL5zk8vcuoi6mGJufagP55GIQcZM+fktp10CapoTNDpXCJNHqHCtzEZ+5/2lWVpbJS5cgjji7OMNIpcRfvPkSRdejHtRohwG2snCUi7nDXbvXnUIg0BgSnWSH1w14pVAoqe5oMBvf31o3AYHBsmwAgqBDs1UDMn/fcTzyuQK+32bOb+N5eR49/ix7xyaJ6i2aUcTxvceIooDBoUl6LZdc4FOvr1FvrtPptEiSANP9PCll929t0EI2dkyJ0Ro/aNPuNFlenUdKRRB2EGRFTxN2SNOUUrHCvn33U12eZ2n6GpSKDI7vxbIcrGIB4YufZrvYxF0N5L1cHeD9XB2zdRHdDKuN1pvFMJNmhTAhJFJIij0Vxu47wPjDk7xTX+PC/CxPiphW2GGy7whNqZmtr/PsgaN85/RbPH3wKCWvQD0MuxlMc9tjTdMUY3QWtCt1S5S/9Zi11qRG4yiLgUIFH1COhxIC32/R8luYNEGQuSN0jc4AlmVlxqU1URxu/HG0Tsl5eaRU9FT6qZT7EAj6egep1dcYGhxnZW2BNE1ptrKA/vkX/wydpoisAQXHdpheXyROIpRS9PcNMzq0gzSNUcomCDssrczS8dubAXqW0MhOMgj9zZ/pbgySJDGD/aP0VgZodxoYoL9/hKmR3Vz5wfeoWTFXv/Jn9I5PMJd/ASMFndEysg1GbE2T/HRClHb9/EZZGdgg+OkukzQrHgFk1ypjsFqOs5nVEFKiLAshRUZ20xohBZbrZJVr2yLfU8Qp51CuhSraqGGXNXuN9dYKcZLgWBYiNaAEaEMnirAdGwuJkBltosv3vv1JCEEYBRQLZXJuniD0abbrKKlI0xQhyILlri9fyJeJ44h/+PlfoZQkzPtt1v02B/sH8RyX03M3OLWyQBRHzMxfBZnR03Negc889fM0muvML06TzxVYW18iiiMmxnaTpjG+30ZKRbNdxxhNGIU0W7XMJUJkGbPuQ8ay7FvOyRidGUw365SkCVJIXNejWKiwY2IvSiqWV+dptRu02g3CyEcKSZomHD38GHknR6NZJUETREEWlOdLHNp/nHKxh9npS5w9/xbNpSVWX32LwsNHSV5+BwYrpNUGsr9M/sAhkudaEKc/1QE6gBXHcXbDulVVpSxsx8EpuLj5HF4pj110sQse0lNIRyGKMuP6GDBKYJTefKYLwChIhc4+VxpCK6KufbRJCdOAMAihkxWtXNvBGNAqiyWMFBRyuW7hu7tXyDvfJCEEQehzYM8xdk7u4+r1c4yP7cYYzczcVfp7h/C8HBhIdELeK2RPfq2xTcrq2jzz1RWWWw0+NTKCJGXQc1iurfLlZ36J0aFxrl0+TZJm8cBbb3+PXbsO49gu566cYWxgjPGxKRaXZllYmt6kj2y4YKlOuxSXjLaxlQSo0xTZraNk105gdZkAAK7KNvgkSVirLrO8Mke53EdPuZ/eykD33PLML93AGBgf3skb3/8L6rOz9I5O4Pb2oFJNs9HipStXKLgFTG+RxcUZVK1NcWgIZSAKI+ycB+st7IFeTFtDpO963X9aIMaP/10jlaTQX8EpeVgVB/IS7RkSKyEUEbGIiNKQ1GSEvDiNNqu1GdW8ywil++Oua7XZvgoIZHcTkDcD6Q/p5b6vCi0EYRTyxMOfY+/UEf7kG7/D0vIs5VIvOyf2kqQJluVQra9Sa6wju25MrVmlbLv8w099CbCYWVkg73qM9PWiteHU9Ut869I7uG6OXUM7ONg7wEM7pvjW2VMcmZzi+IGHGMq5/O53vsqfnH0D1U0WuE4u60LsNjGFUcBg/ygD/SMkSdylsmcBvR92aLXqNFu1Lofs1muxQT/Z2g+/UX8JAp/+/mEG+kbYv+coMk6ZXrjKQmuF5dOnUa2QVApEKYdutFGVEnqthjYae2ocx3KIrsxmae28S/jWOezdEyQ3FnGfPIRslElfaYL7IbjzP6Gwer8wjrAkHenTTBqEJiBJI9JUYxLTXdxZ7WAj7FZC3RKsdn98K8St/241ho9iGGmaZXCEENn7u8RDrVMuXnknczEOPcLQwBjTs5c5d+kkjuNhCYEjFEWZNSg1gg67RqdQyuK8tsgpi5YULGnNUqPFWqNK38R+Hiv2cvLsG9yYu0KPTph84GGWG+v0LDuMF3vYu+8Qx3Yf4apQWFIShD5LK3O0WnWkVEghmNpxgAeOPsm7777O4vIMVjNE5D2SK3Oo0X6OPfIs5f4Bvvn8H2bXdwtZMtVJ1qTVdcWElBhj8NwcD9z/KUwQUgsafP87X6WzsIipFHCG+nGERSoinJyHcD20p1GeR6zBGehH2W7Gu+r4qME+0noLYVvZk8xRCO2hb4SgPtQt+omFdT25BjE3n+7d9Kkt1HsWvelmeTaTql0X6OM9Yu7EdxJdfhFAnEQU82X6+0aIu4Fxpdy3SQBM0oT16go9lX5GhiY5tO84Hb/Ji298h0cHRikoFyHAc13Ori/xdz/9i1Rjzb/7/le5Nn8VIRVKSFw3x87JvfQJweFDj6AR9Jb72KXga2+/mrlOSrFeW2FhvY/nT77CTHMNjCGfK/LgsU+R8/LMzF9FC7Bsh29/7ys06lVsoUiqDURTEU1f4+CePaRRxOtvfY8g9CnkS0RxhE5TLMumWKgwMDhKqVCh3aiRyxWI04RKoQdZzPP89/8ct1KBZgtl2diVChiIoigzJui6zmm2o0cx2CpzpY3GhDEi76FnFhF5L/u+6MCcxMx2IC/hp5unCIDlCOeuT3kpBGnXXZJCEMTx5u8sqVDyo0lrbfjnSRRvUiOyX5CJIeiUUqGMITOGqR0HWFyeQQhBziuwsrZAq9PMUpfGEIU+5y+f5PCBBynkS7RadSa7scjO3gH279rNC+dPM1Qo01MoEizP05sv4ew5hms7hFGA5+Y4duRxSsUK1eoKK+uLOHGI2nuUd+dnePLBZ1leuMZ/On+C525c4NrqIn4cZg8Uy8Z2XV4/8yJBp03qKiK/gwwScrkCuu1j53Kkvk/v0CiPffZv8Oa5V+jpG6Tc08elq2cY6B9lasd+RoZ30Gk1MM0Oy6vzLFw9h1Us4BMTL69jBsoUC2WE65HoJkYKjJIQJ5DqLLBWErRBKIVJ0sz9zXXT43GSGYploVs+spRDt31kyYMOYG27Vhuw7rYDCCFoRyElyyYV0I5jpgaGcUX2hKp2WtQDf3NX+SBsFNTSNCZNU4rFCkPjo7T9FpBlcQb6RujrHcp6FiybanWFcrmXK9fPsrg6j2c5xDrFlhaesvADH0tIUJJ8rsSlK2c4f/EklXIfXqHMzz78aaxmlbcvnUcZ6M3nuXzlDNdXVhgp9nKpsUoQ+riuh227/OV3/5DBgVGOH32SKOzwvStneOnsG/QWKzzfrnP/0ScZw2atvsr4jv3s3XUYv9OiFbQ4eeVtqvU1HMsmQWJZDohuB183BS0RVGdn+A//6p/z+b/1D9k5dZAwDdkzcYB2p8ns6gw3TrxJQEJjZgZhwOnrxRIF4jDExDG246LDFmiNSVKQAmEpdDNLPqCsLFums98RZUVFsZEo8COErUAZjO8jB3tJmz6yWMTM6J/2zO4tuGMdRAhBFEd8dv997N95gJKBleoqD08doL+nh6X1ZX7nledZ7bTIWXZGs74LsjgiIUkTSoUKh/Yfx7FdOn6rq1mV+eBXb5zHsR2GBid47oU/BrK6hW3ZTFQGeHjnXq6vr7Beq/GpHXt5cNdeXjh/mh/MXyMW2TEcP/YUfT1DnL98ircuneHEjQtUpKLgenR0wqn5afpsl2W/xXSjiq0U2miMMTi2w+Vr71Iu9bJ75yH6+0YQZDUGKSR7du7n4le/wtr8DSoH93FuYYVqwVDzm+yo9OEpi2YUMNXTQz1tE6QabAsTJwjPIa02sGwbnSRcf+ctTk+fptGpk16ZI8hJVE+J5Nos9lAfQmdP/ajeIFEGlc+T2naW+kZku4UxCGWBkpg4vqnpJSUmihGOjQ5ChOtkQbkxpEEH4TiYhRiMBFtgiBCRC80009vc3kEAsKSUmz0Bt6B74e8f38uBGHqWFlDXLjHYDmkcO46lHFp+C5IEpERKRVZPNhtvJ2OSZo+jOIkpFSpM7diPAeYXb7C4PEMcR9330t1dEnp6Bjl15hWSNMmIfVrjWjaPTuzGdhzGy70cHhxlz/AYa0Gb4/sOctmvc2l1EdeymBzbzaWrZ1ivLnNj/iq2lESWw1KUVZQNhuuAEpKCl7ul188YQz5X4vTZ13EcD9u2kULhedlx/N4f/Esmd+/kS1/4OW7cuEgkNYWSyzOlHg5N7OTa/CxCSp7auZfvnnmTeWeJS8114i7pklQThwFC56mU+7D78lmbrpmj1D9AlEQYy8rcz3YLaQukNmBJUr+D1jE68LGVwiRJ5kbZFgiJibLvN64lqQZPYfwwe40tIBVQA9Y8zGWJIw/AtMBKFcxYmGQ7vbsVVieKyNn2zZ90aRNpFFIamaT02hvsCppExRIXX3ye/l/+DcL+XoLVecJCCdey0HFE0KiC1lhSdQUTJBt7dZxE7Nl1iP17jvLWqRep1lY2C2Vetz88a111ePTBzzC/cJ3l1XlsKxNjMBhSo7GFpNdysRzNYKmCTA3/8eXv8V9/8RcoOF53FxP84LVv0lPu58DeYwhgrbrM2vrSTVGHTdauec/Ot9W42Xz9zsldCLImKSkk2A4vXX6FVqOG7bgUfY9KvsTCwgxBo4YGLnt5vnz8ab768rdpLs+gwwDtSOJGk4GRCY7/0q9SD5rgh7jKYfLYcbz+PkhS4r5dJI4kKa9i9/eQc/OEnqS9uoqby4Njcfn6ORzdTQXbdhZ4pxE4AmELcCSmkyIdhUliZLmAuZGgFwOYzSNTQKUI40ILhBgAUpDbW8dWiKf/7/+dOTF/AyklRgBSIWwHncT0TO7ln8kepl59jmp1naTdwn3wUeZcF1muUI1j2p02nXKFxsRO6knEcmMVjKHRrKJ1RjO3LJuHjn2KpdU53n7npc0+8NsRA4cGxigWKyhlcfXaWZItqd3RXJm87eBamY+ttWa5WWfnwBDXqiusdtrYSpGmyeaumM8X2TG+l96eQV4/8fwHttICaJ0yOb6X3bsO0m43mZ2/ylp1abO+EcdZL/oG8U8CX953lIFSBZ2mLLfqpGnK/sk9tKOYC36HucuXCUVMsamZeuhR3r74BqutVUy3ci5kRo+xpIXBYImMRqtsGykVQwNjOK6HH3R45tEv8fLbz3P2le9jRxo50YfwXeIXFqGiET0KkbezxrBSjmR+BTXQD6cEph2De7vEyjat5HYQ/6+//Jr53XMnaIcBnpCUpU2fBhtDOUk5dP4slTMnMbk8Ukp0p43SGuN3ULkcVtBBH3+SHzz7eV6/dpqqJSnkClTKfaRpurnAO36LhaVpHNu96wHFSYRju/zcF36D51/8MxqtGkpmiyXWaZf6fbOGpqTKqtxKYXWTBxtFNikljUaVY/c9Tj5X5M2TL5D38miTsQZuczkIQ5/duw6yd+oIP3j1m5txk6XsLs/r/eIOhsxdEwKcbmbPloooiYm0Jufm0AikEAhtaIQtojjCtTdIlxmXK04ihJD0Vvrp7R1CSoFJNeViD+utdYJrs9j9PbjlMs2gwfLF80htkFaZ9LUQsx5l2SuxoSXcPS3DrTr+25vEPcPqkyV+ee8zqMYCztsvU56+grUwT9ppo2wHo1NMqbzJh1K5PKZQRH/65wg7HXQYIMZ3s9rfy8J0gqVhtdZiYWWmKw6QQQqF63qb8plbewU3AkshBLGBTz3+Zc5dPMFadZl8rrC5GzjS2hSM3qzadwPrTVoKN6U44zhiZHgHD9//NCfPvEKSpgQpGN0lCGKQm1XqTAfr/mNPY0nJ9176WqbBa1kYnRKlKa7rcTthNQGkJguY4zRrqd04JwkE7frmaw1gdWnqulvHMUaT8/JM9u9haWWWJx78LP2VQb554uvUrlwl7vjQUyR85zzW5DCyr4yopogFgVkTJM0WBCarfG9QGt57gNtG8ZEg/m+/+3XzzqVpCgryFlR0m76xQfqunkJ/4yuYUqW7mMhWURhgvvjLzH/m1zj30smMy6YNoscldAxaaiIdgy1oJg0MhpbfpOM36fhtWo0asdbZTkBWS9mQuVFSYglBX88gU7sOcfHyO9Qaa3hObnMxfRiYrjDcyNAE+XyZsf5+ovoMIR7tKCKMUxphgtYGhERZDkendpOoAqtrC5x85wd4Xp7RoTEcJbly/QKWdedW3M2LuvUY3vObm2mM7HspM0WUfL7E3/uV/wNrrVVef+t5VpZmaaoEsbCOdF2EJYkvz2LtGEbm88R/vo5pkVW8JduZp08I1hvXFnELRRoG6sYwqz1K7Tz7dz/E4DM+9qlXMXGUpRKlBMsmlA5hs403MkyqDVGjSVoPUQgUYGODEhTdwSyusYYxvQJnwuXE/FsczOfI2y5hmrBUWyeOYx7YsZuW7/PG7FXm1xZpdZocPvAgV6+fo95Y3ywI3gliQ75myz4ihSSJQ65eO0OUpBz82V/jF/kezbUbaK+PNOfSEr3ECLT20VYPfSv/AWNXmBn52+yqfIa+Yg7X8Xjr3KnbFpbfF9OYu1Fpbv5mgykQRhGu43Hs4COcPPsq566eotquIZXEUQ5RnCDKRdJmGy1A2xLRSSEB4d6k3WwbxycDy+vKTGZJWnBsRVBvcropeeBn/nPGFq7B3DRpEkHgY5SN+2f/jslzbzNeqqD2HmL6+Be58PoZhLNFaMyA7mRZIK01aRQzdHgIS7k8snM3BSdP0ctxaXGWtU6Lp3cfohZ0aKQRi9fapEnMhUun2LfnvqyavHSrysgtC9NodBoRpylCOV3/K0sCKMulNDCK67isd2J8u4wX1+gZfJpmbZ6xfBkpUtLUZmzyAa5eaZPKZei8SiPZzfdfvsJcrU1gXDwvd4sMKUAUhVkNh5tZLqWsW8TijMkCf7jJ6k3SmEKhvElFr1+7zgvnXiDn5nF7e5BGZK5gqtGOhQwTHM/D8hw6qwFJO0a5H53JsI17g7X1qbxBMZeWAqlYO3kK69ATmE//Kr1zF7D9JqJRQ1y9gNw5xcKuB4jXVlk5fwltDEmc0UZMtzlKuTYCgeflkFIStHz2Tx5BuhaNVgNPWcxU13hi3yH+04mX2Dc0xpGxHXzr4mly+SKNVo1mq0bOK3QbrkSWztSaRGfGZwwYK0++Z4yjO/eBv9xN4xocy6Zsp+x11xhJzlKp/xkqXUE7FSJt6Bt/nIHBMZYXTjMw8ABuaYRd2LxkjfMHF1usrsyybu1Gl1pYQZUo7NBVyd6Me6cm9yK7Ciip1jSaVRrNGmkaZUkNY1BSkc8XMVrT6jQQCHbt2M/+Pcc49e6rhM0mYRTywP1PEUcR9bBBlMQkUUgax3xqeAehr5jYP8zr7WU+d+QAwouJTcpzP3iHODE/7W0bnxju3FGoU27oPNPubsx6Sk/lCIVDo3iNVfJ7HqPkCqbdITq9/eRcm8EC6Dgl7PgAuMU8o0f3sLa2xPXZi5myX2Tw5yPO1A06DvnGuVN4lsW1lSVqnTaz9TXsjo2SWf+15+bo6x3irVMvEicxRlgIZWN5eXpKvdhK4tguR/thB9OMeq8wnL7WDeoNCoEMfOx2s9un4qCVQ5qGVCrDGKBZWyCf7yHsLGQNVmj6r/0OXw58ykN56tYoC3GJi+FerjfBlgAGaVLcfA8HDzzC1asn8dt1XMuwZ9chUq3pdDL6TLNVY3x0F1EckaYxtu2Q8woUC2XePv0yyyuzzC/coFwo4yYFypU+hnLDWI6LjmMojDI2OMGN1Q6iXOH6wnk+XdzHxIEx3r1yHcu2iZOQ7RTtJwPxK//id+/ovYotSZHUgIkijJRI24YoYuzALpatKm+feolSsUJPoZ/+/ABJGhOlETExS80FLk2fuVktB4RQ2JZNolNcZRGlyebOg2HTbdBGs3N8L72VPhzHo12dYaigGPUiRvQMxXQd24QMJddx4zUSIzAqt5kCzuqGEi3UZtusMClC5fEKu6ivncby9pPPO8ThCsruA1FE+6eRaRNjMnE2KaChBllx9mKJFKkjcqZDmhvljXA3S0kZtzzKWidlZuEGY4Oj9FQGmJ2/itutXdTqq7Q7LWzLoVAosbq2iB90KBZKGAOpTjA6E8GWUmb6wiqbcPXw6C7aUcRDU4c4XV3mF/N7+LM/eonPP3OUP/rzFzh17gbFQj4rqv6U6ld9UrirgdzyQthsvzRao1yb3oPj3KhdYWbpKjOzV4mTCEvZ6O70JdN1L7bWPm4KwJnNYuF7n31bDyhOEobKBT7z0KM8XpynvPwcavVEdkTKRUiLRNiYbmENc2vEevvnqkGnEcry0DrOfH1pZfR5o7M45j0NEYoYaRJE3KY9+UtMO4cx6+cYz8UUo3lMsMrV8X/Aa40hnnvpmxTyJYqFSlYA7GpnOY6btQM3axSLFcLQ7zKU5W0LmMYYLCk51DeMjhNGyj0sthoM5gfoLHYYUAM8/60TBLU67VYzGxvnONnEtw9QZhcbY+HYMrnKfNzmhZ88iF/5F79j6I4Eu7d3dOMAA52gzdTxI7RzAX/+nd9/z2rcGBf20QayZDcty0xFSYzQCeMVly889AjPeO8iVk8ggjXisIWWXne3+xCpYLG5xWzWCcTGDI3bfI6hG3ckHZrDn+Ptws/y1ZdexSXg8fEcQznBpVrC+dWIWpCi9c1q/sY1UFIx0D+CUhadTovHH/4sJ069xHptORN6UwpLZWolWmviNFNcSYzBVhZJmqKkIExiLCnxyDPqjuI0LGQTVi7PsTIzR6oTbM/dHPWWHQM3dQRENo1KSoGSkihK0EbjdClH2/HMTVhSqIwwaKmbGlF3QRrHOLaL7blYwiLn5nnr2qtEcYjjbBU6/jhPI0EUhyRJ3O21sDBScWktYOY7L/DCQJ4Dgw9zuEczWVmhuPwCaQpY3qYowgeL1G5RYjFbf3QHuVGTgl3ClqBy/aysLRP7Vdo4/Mn5WvdFAkcplMiG9yj1/hBvZW0xW/RJzOlzbzI4NEHf4Bhh0GZ+cYb1Vg0pBDnHY6BvuCs41yIIfRzLzq6HsjK3l5hr0RWsnKJYKTM8PslobYrqlSVmL1wmikNEl3goldxUrY+ThKH+Mm0/pN0O2DXZj+s6zMwuYZAk6fY+sgErN16h13hU55ZITXrnDr+uO9Q7PESUS/HjNrmBAlfmzrF/7Ahz89dpdRqbtBD4qLPDBVonTI7tYXR4B1EUUGuukyQRQpCNTbNLvN3u8HbH8Oyhz/Ps7jGc5juI+nXSoJ25W9LeOPCb57S14HlbmM0UcfZtdycREpkGtHMTXN/5D9CteRbjHK1E4gofT2bawKlOSJMQYec208zvhd3VzlKWzerKLF4UMFnpY8nALzz2eYpRh/VWnfLYPpbjiBvTFygWyoRRyJXrZ29RnRcIXOWCgGbcoK6r2J7N/i8dpX/vKNUbS6RRStT2CTs+tbU1hBT4zQ6Pff5R0jTkhVfO8AtffpKjh3bxg5ff4MU3LnP1xiqO88EF0Z8GqBu71W+nlmH3/kMII/AbrSzN+x6kSYKOU0SvTVRKOHntdV569zlurF3m4rUzxEm0OQYtTVNSnW4OuYRbhdZuRXeu+OZ3Ao1muDhOjxjAU3nG2EVPNEi/GSW3XiC34FEOeikHvSy8ts7Fq/0sJ4fxJg5SrFjYjkTpNkoaRBpBGkOaZIN0tAYdg05AJwgdg44QOs4UR3SKMiHCJCA3YicDykb5S0RLJ4lrVxl32siRx0isCk6+j1ALSj2jDI/tp1pdBJ3ckpjYCikEfhzx+OReHh/dSbPTZsixOT48zJePPsxYpZeRQpEz62vkcgXWa6sM9o9Qq6/iB51M2O59nykzwW1lWKrP0XCamFGFHHFwdhSo7BpkoH8UZSRBaji0byehH3L67DU+/+zD7NszSalUYmW1zvnLs7ius20ggMo/9cBvX52/QGGgwsGJozSXq5sDVbKNINOqGt03xeiBKWQqGBmcQDuGUqkHKRWWY+M4HpVKPwN9I1TKmdBys1XvCi1IojhEp1mxbCNjZYzOtKC6BbZM8SO72Sv1BS4tnKYRrVPsqdCRDQpDJYZ7J1g6vUhcT0jWEwSKTlswPwtXr7pcW52iae1Fl3bRsvdjSuOI0ih2qQc7l0PlCojKOLIwgCz2YSp7SCv7Sct7cHIOVi5Ps+dJQncI2TgPSIyQWSAvJL2qxSBrjMQX2cM1jhVWuK+wxvjQCM8Ohxz15ugUD7HcCkjD1m3dLMjOMYointl3hL5CkflGjb5Cid58gUIux3feeZVTSwuMD03wg1e/wdUb5wmCzi3q7beDQGBJi1Sk+NqnZZo0aLCuV6FfsufBowxN9HL08ASRFKSpZtfYMH/6tecoFWyuza5xbXoJ17G3DQQQ/f/d3zNaa/orQxwYPkLeKpBXeZTMtlghs8JYNVlnpnkdWzms11doNGv09gxgWVbWWmoMQeijTbaLlEu9FHJF/KCDbTuZfGaaUG+s0Wo3sCwbx3Y3FQCDsJOJFui0qw9lkZDw7NGfR1yzWFyawc17CF9Ba0uE0w2uhYA0FSSx6faWZD/L5zW5nKbSYygVY1zX0Gx7kEYIJWi1HcLIIk0NI0Md8jmb/sJe9t6/g2FepHXxX+O4AySmD795kjSskv11hUSjhEZg0EmMERJpQjq5Xfyg5x/xtdPX8JurCHmrArQAUgwFafHk2G5GBwZ5/folKrkCXzh8P34cc3L6CmeaTQYHRojjaDMmW6+uUG+sZ4qP3FS6lHIjE7YlN7+ZfBAkaUJv3wBHDj6MkyQM9QyhLJu4HRD5irPfPsHc6ydZX29iu+6HmuP+kwxR+G//lgFIddctUhau7eFaNray0d0nfKvTYFPZZMPn7gopb9K/t9wYYwzlYi+WZXVVDytIKamUevG6Ep1r60scO/wopWIPL772l5SKFZIkpt1pEkYB9eY6KrJ4dNdnMZcFK9OL2DkbYcmbSo7vZdaKjeEyGxOUul+p2QzCM+2uTJhAyOw9mZwoYBIePNDLz3/2fvYd2stbb/0+Fa9DsWeU1bUVOq3nMLlh3Hgep36KNCFz1SqTEFSJVD9z7lFqaZ4/m/G4Onsdz3FuMsS2HK9CkOiUVhxScXPEaUqYxBhjcG0ny5sJQW9lgEK+RE+lHyklxXyZl974NkoqbDtTZw9CP3NvtUYoG4lBmGSz9yaDxA86PPLgMwz2j7E+P8vY+BS5YonJkSmu/uA83/iXv0OjVs3UMbcqaIp7T3T+JEH8l//7vzRCwHLQYbXToupnPeZBmnB+JRNJyCYYbbC1YGsd425Iu2OGpezq5rLRAJf5t0HY4eihR7Mdxm+zvr6UjQuwHRzboVzspe03Ebbg0dHPsvT6Aq3VBqEfEkdR1rT0Aa5AlrntdolsEeu4ZTrZFigJf/8Xj9Pf49DX08uff+9dxofzBEHAxWvLNIIa1ZbD3n0JOwbmKbgdLMdiOjhOJT7H0L5+/rfLFS5ffBmTaoxQJHG8OeZ569TcjXyAEjJb2HcYJJokMVprkjQhnyvyxMOfo1pf7Wb5MjlYKRVtv0V/uYJKWjQiw1zdp9NpkCQhUijSqI1OQ770xd+iE7T5znf/AJnEWNLgKJvJ8X0U6kWS+ZClCzdYmZvPelikIElF5tqZtHstfzqsRfw/v/lV0wkDOmnMjdUVPNvGsyyurq/w/ctnKbm5rNfh4/6hWzRoM65WmibYtsORgw/huTlOnHqRTtDezN/bttNtvEqIOhETA1MMqnFckcONPYI1n+UbiyhHfWBW9wOPD0i0obfkMDVeIYxSekouzU5CGKUINL1llxPn1umEMbIrOO26GQ/K72gcR9Db69Owi4hhG6tHEUYdUivBj9uEUcDiysxHcF3E5vStVKdEUdjtkzGbFXjPyyFQ7B4b57/Y20Bc/zOuOQ+wJMboGBfHtpgPcsS5Mb5QuU66+CaX8p9iXedY6yiqtUUcDAU3j+eV0QuGt373u5n4XBhw5PG9WI7ixvklij05rr87g/1TkOmyLsxN89qVC/ydpz/Putdkvd0iX6psMqh/WKe/dccxxpAmIW6uwGc/9Tc4efoVpmcv47oZtRzYVCiv1lbYmP1xcfEdLphTYASu8nhgz5NM5Hcyc/Ya9sfMuhhASUGtFfHa6QXoTrUymzGO6O4ACte5mXlL0ixgdjyFMbC8WkaZFDMXEloglSCODQ/+wtPMcY0rN86Rc/NIdafJt7frbjJdUfHMFfTcHEmSdWpKIRGWIooiWu06B/YfJyoOMMo6vdH3shmMKESkaYsynaCPvtpFCpWHeHowYq02TavosXDgZzi32sCJQr56+mWq3z6NauU5OKWYn0/Z1/MOe//GP+Zb/9sfsXrtApoRpBKkSfqJLMy/LlC5Bw/9dsPvUCkUmK2u8ebMFeIkpuZ3qAYdrB8SnTrVmjjJqsuul0dYNnsn9lKuDPDKW89RKlS2KKJokiQbYaZNV2VeG4w22I7N+PhO+ntHIG8YKIxSu7aOsH44xymEwLEtbEthKYXV/VcpiaXUbV5/a1lFKQ1KIKzuqDchkKmi5dfo2C2Gx8dp+jUCP1NYycSrN2g3Gq3TLQE3XRrK7XWJN6CNIee6PHr80/SxRr7YR87NIRtX0FYxUzyRDg4RRVMnVTliOUDvwH309Exi1t7GVN/Ci64wlNdUnCp93m6s0g5GKnVkZZhn/qv/luHD9zM0OUA9KFFbrhF32iB+sjVKRen/+JtGCkkUR91eBpXdJCGxNiQs7wApJEmasDEo8qaSyZYYxRg0hv1uhcem9lEuD3CpXsPYihHH49rSDK9OXyBREokg1VnfQ7FUJox8xgZ2IZWgHbTIewUKqkxuuUTjUgNcIAF8bqG5iC7L0qRpl50uN35x6wu7uOvOc5sH+p0EJ+72GTrJjLyyt4dwsk0tXmWlukB1dTXTydIp+VwRz83Rajc2SYthFCC74tgbM0FuB6MTfubhhzhermHPfINhsYJ8T4tXFvModOqTrzzGyI4v02rO02ktkrSvIXWI7Q3TXP0Okeylmo6xFE6wFvZw9NOP0q43cUYOIfIDhPYIX////jGv/oc/xc55H8j9+nGFKj55/Lcl4FjZHG9J1tQjxd0nDJluWrdUrOC4HkbrzRmBsCE8F2IpmzCJeXrqAE/tOcSukQluLF6nsbZIxXXwQ59rtVWEUsRJxPEjT/Hg3qfx6nnKoh/nSp5cp0CuWaIc9BO8G9K50UEaCQGQglCiqy3cDSijhFRLVL6CkU4mxC2sTLQ5iTOVw7Qrv6kzA9+ow9z6RTbEciNT1+WhpVGcDQO9h911Y76JTrO5KbqRYq04ONUc/SNDFIaK6K4ww4PHPkWcROzeeZAkTWh3mjzxyOfxvEwEI4qCbOZH0i3Gdr+01gipeOv8GXbte4LH7LOkrXlQLrcnbgqkLBD6i7SqbxN25tBGE4scKYrYCFyrRY+9xqhzlV2587gzX6ew+jzSydNiiKJa48Ybb3LxzBqOq35iM1yWuR0t5APOdkPT6sjBh8nn8lRra5lRyWwnsq0sCxWEPleuvYtrO1ycmebLRx5hZn6G63Mz3L//IJ60WG02sZQiNgalFJcvniHsCRnyJ1h5YwWvkiNaybJQgQ5QtkJ5G09RQxolENPN14KOYvZ/ai/lPodicpVOx9CKepEipRP1UW9kWls6BctRhJ2EuNMhadUxadSlJG4UECzcgXGIGsStFjrVWMVe+vYNsXZ9kdRvIpW8xVC27i7GaKJOjJv36B3tx1YO9h6LtdUlyroH1VL0TPShhmyMNpw8/RKLK3N85lO/wMToFIV8iXyuSLNZxbIddkzs7TZmpbcM5PH9FqvrS+y97wu44SJhfRajPMRtY5xst4/884TtjMV8c2a7IY00trBJjSQ12Vx2YYFlF7AFuAt/ir7wx1TlXlZujDB+cIq1G9Obo7t/0iB6/09/50OeViZRUy718OiDn2FlbYGTp19GCEGxUKG/d4iV9UXC0GdyfA/5YoU49CknmrwlWV1fJjGannKFk/M3KHUnP61FHWxp4Ycddu85yNM7fo7Vk8uszS4TdgIgI9xt8BBNV6S5MjGE7dlYKqt0V1djhoY1jz1j0z/zv5CrvkYk+xAmITA91JnCCJtE5FGmQ0A/VbOH2eoEQVom6GiUMmgj6Bu0uG/iDIvqKd76yxkQksfun2ci9y6X2p+iI8e4+sYV0jBGKIlONWmSYikLqbJ+joGdw0w+OkUoO7x79i3OrZygFTRwLY+cVaAdNEmIEQiUygiOlrLp6x0kTRMWlzLBbt0tBuZyRVzHzQq5mO5c834++8QX2TP3/6N/8Ws4SmEsb3P24p3u4+2LG4I7y7pnO6jI9VDt/zI3zFOkcczv/os/pTq/gu05P3Gu1oce4pnVEgytdoMbs5cYGZok5xUIo4BWu0GtvrY5z+LK1XfJ6ezJHuuUOEm6/dqCZG6GnONQbwcIATkhMaTkNbDYZkVeYt66zujunRTzAyxdnKe2UEXZijRKGDk4Rq6nyNToEr2rf45JQ5TQVHfsYzUYJzx1Edu7jraK2CIGoMQKFTOXnYfRGCERaFItOdI3ScdUWFcHcGSAF81hK83Q8st45nOo+57F8+Co+NfY/hKj5is0J/4uxvtNzn7tByhHYVuSvY8fgoKgWW3QTGt0Sg2+f+FrXLp6BuOkWNIh52TaXO2kgXQULjkga9mNdVYsbM5fzYzGskGA3Z3PEoQdfL+1uc8JMs3kJ8dtdhdb6MH96KhJ0l7J+uAtr5s2f++iN3fwFO7qWHeVbZokl7/FwEhAVD6KJTVeMU8chBgD0pI/MSISH2oH2Ygrdozv5eC+B7h87V0uXD6FZdm3pGeN1mgp6ZleI7dSR1iZj6qk2JT6vBng3zo5FjLxuDRJkZbEVg6O61J2elFJ1tQUthOGJxS5znl06GNZabfBFgQxSSIYHUr51GPZz2+2ad0mSBcCnaZ4haPs3vMIaeRTrc6yvLLI/sNf5vLVs6TN7+NZVbSx0MLFSAdJTJoKzlr/kCutx0j8GGush6v181yZf5047GAUxFE2HsHxXIS5e3DvKQtXKFzLIkqSrJ+9qxTZTmOSLUe/4dJsbgKpz+GRHqZ6XXb3OuyxVyilq6RrZ0jjAGEXuGXVfszaljQxygRMj/1Tfv/PS1z63vdJU3ALOfx6457isx8HqNyT9//2vb88o3dok+LYLq7j0VsZoKfSz+ra4qZ/vJG2LC7VUXGCH8dIIQi7s0XSNCWIomyOt+thOy627ZCmSWZsbo5cvrBZak7TFD/qEGifVCUUimVyqo0Vr4LlonEwwkILCy08tPSIUpc9OyOUujVIFd3Wp5tfIEjxI4e+kaeZOvQl8qUBnPw4+fIuenuHicI5Op11hFXofo4GJFIYhpJXmLDfZk/uFVz9BqGTUuyfwtfQbqzg5YooZd9TXPelvfdRcT0e332Aa6tLfHb3If7RU5+nIC2uVVfppAnqDuwFoxxm6wHvLrV5a67BiRXBIkOMj++n4kDSuAEmRZgEk8YIafNxoIWFEQ752uv0uasUj/8yxb4SraUFOu0UpX4yuq5uMZD3Z3Hef5JSSILIZ2F5hjRN8IM2/X3DDA9N4IcdSsXKps/srNRxEsPBfXvxg4CJkVFAUCoWOLhnL32VflbWV4iiCNu2yeUKm+Q6pTIlxigKb9ZHMMRJRCuooRyHspVgEr87Hm5jyE9WL3Edw76dER/0IBNd7azdB/8myhklDOoI41NbnwEj6LRrpNEsndZMttBv8R0kKIecWMcTawybWQ6mZzkm3qWw8zNMm1HC5somE/juxyEoOh7XGms4jsNcu84vPvA478xPs3NohGroc3V1Edeyb+u9CAyupXAthZA2jVhyftXnrbkWcvB+du1/CqlsKO/G8sqk7cUsAJfvn4+49VPveLzGYCwPU9rB0JDF2J5hapdf543Xmjie9xNTYd+MQYzJFt9NAmBWvd1gjW6+jqx11FIWa9UljDGsrM4zOrKTsZGd3XncTaSyWL68wlilzD/9rX/Mv//Tr/DMo08wu7hMMe/y6P0PkGrD7/3xH/EXzz+HMWmmH2V0FiZqTalYoVSsdFOZKe1OK6sDKEG9E9A/MoVdvwhpmGWx+PCEOmM0ysqzNPsSWn8HIcvYjkscLGCwQfZh4mksdbtKfebHJ3T5VUKAJSiYBg8s/S9UBp/gws5P88LbrxCFnTsaiSArpJa9HINRxKCTZyxfQhnDN068ym89/QXytrOpXn+7BS2FJOxqdCkh0UmEKyUdVeHNRh+YB7g8U2O9tsrDh3+Gn5maxMx8hzDxEdLOGMfv6cQ0OukykXnP3xQgBSbqUD/8X6CO/iY3/vCfc/3Eaaz8w2ACflJUVqyNtKTn5amUekl1iut43VqIYm7hGnEav78d14DVFXJznGKX/hBTq68RhB0G+kbZMT5Fa36epdV18rkSbT/g2y8+z89/5nP4QcDc4iJXpm9g2/amKOfGBFylJO1OC8uyNgWde3r6qdZW8f0OURJT9VMGvAGUv3QH2sa9QQhN1LnIxuKL2mYLRX0asBDiVsr6Le/fouaIgRCPHr3KEwNt5sKIjt/BUXcuumrAVhaXV5dwpeTC8jxhFPE/v/wdIlvxH0+9Sj30ydnObc9TCEEnaDPWfUgFoU+n02RwYIwo7BDHEX/wF79PEEVoJNdeOUGyP8/h/p9jylqA6nlivwbSYjO7JSR2rofEX8uKvsrrdklqjI4hjVGVSa6/+jx9b/0Be/fdx9fMBFG7Ta7woXM/f21hGWNod5pMju1mcGCMhaVp/KDNscOP0fFbXLx6uhuAb+TKs6GZ2fRVhzSNKeQG2DN1mBszl7gxe5lafZWZwnVGFtaQjRaNVg3HtgjCgL6eCqPDw1y6fpWB3j4sS91+gA83+xiMNlTra3iuR84rYHVHKjT9AD+NGatMYLenP9aFEJvdg6IrAHGb3eLePgiVtKiP/yInxP28+M6Jm4ow5k4GBonRXG+sZdypbo8MxqCkZMVvoe7AbNiY3DU+uosnH/kCb59+iRuzlxkdmmR5ZY7puSsYncWMOSdbuNpI/v3ZDgXL8Oj4AJ/e/Qvs7TmPak9ngX+wRmvv3+VSy2KPPk8umCGuXsWYFMtysErDYFK0DmhVq5TcBZovPEet/gjj9x2iev3ST0xNRAz+9//ADA2MUciXMMbw7vk3EUJQKvYwNrKTgf4RXnnzuYzuYDLdpqxRymatuoySGemuv3eYYrHCyNBEpiyIxrzyNp35Odx8Hp1m/e62ZdHu+IiuokY26zzarNxvkBQ3bj7cJDoao9/XxhonCSN9/Uw6VZLWEkI5pCnkvISfeaaFZZkf6c0yQmIlTRaGfoH/x9kB1hcvkssVMcgPlAvZGNtwixO1JVV129ijOzt9z9Rhxkd2cWP2EjNzVzMqvBRdyaX3K7Vkw1nBj2IKtuDX7hugkneRcY2BvOL55RIvX5pntCj48r4K9xfrOASs5A5zYTXEihvsK0dUgjnMjqd546t/wu//sctjj7h877Uc8ieEDm899uBnuHrjPMur8zRbNTwvjxCSZrtOGAUM9o9SLJQBsC2HwYFRCrlMFvTgvgc4deYV2p0my6vzTM9d5tqN81TKfWgMPX6L/r4RqvU1wihAdHleQkiSMOlq1KbkPY9Y62yKbhRRyOU2ZyRu8MPanU52Y6XEsTNOkh8EKKVYWF0mzcGg10Pqr2EJici9N6D+EaErVuclVaZ2PkPHb2G7ReLOWubT34XHtdFw9r7f3sXCN3pMLl97l/MXTzIxtpsHjz3FuYtvE4T+Zjz5XuiuHlnRtUiN4HffXqRoO1gGCpZFLcqm5674Lv/6jVV6C5KhQpGZ1nWqnQQpBXkR8KUHHuXL/btZrPdQLrQwnVWieCd5N0GbH/84xAqjgDgOWVqexfMK3YeVxnU8llbm+MGr32R4cBzbdoijkDD0uXbj/GbX36MPfob5xRvZIBudIIUkTdNsqOS1Nfz1BibngmWwwhTHzSGFoHe0D89xGBkc4uTZMwz1D7Baq3L04CFeffsEfhCwd+cu/CBgtbrO5596GiEEjVaTC1evUGs0eOi+o7T9Dp6XZ8+OnayurXBsso9L77xAszHfDYp/tMO+BZpU5qmsv8zP5hUjew8z6rQ5Fx3mxbdfI+c6cJd45qPAmIzIWCr0oJTCc3Pdvn+N+AC2rTagRBZP7i8PcmxkkurqOutETI2M0W977J/Yxf/4/Nd4c2mNouPgWhI/aNO2XZYLD3Jt9hLzzSJ95RprrQI33fEPSer8awhrfvEGK2sLWYqVrHtt46LrLgGx2aoRBJ1N18eybYqFMq1WHa1Trt04j1IWlXJft9LbJtIJA9VVhKWoP7QbIwRjp26wS3jERvPFZz7N55/9DEpILly5zKlz75Ivl9k/NcXkyCj/6nf/LT/76c9y4eoVvvH95/mHv/63sW2bS9euslar8d2XX+LJBx9iuVrlxTfe4De+9FnazR6S9iqPPv5FvvX1//U97N0f5Y0yYOXY5/+A3eYlCpGPV/57zBx4msbSOQK/0a1D/HD6vjeGCB05+BDXpy9w8swr+EHnjqoqt0MUx3zhgUcYzRe5ZE8zYAkGShXwQ9ab9SyF79qkccTkxF4O7z+OMYb773uIuXcXaRUPMjkyz9nrbpeqA2kSo6y/hgG7uFlo/SD/27o+fQG3O0k2q5LvYWRoksXlWYzRDA2Ok8QRqU5ptRsU8iV0t3fd8/JcunqGIOxg2y7zSzeQIpt4KyyFNJCW86TlPNoY4lKO+nyD1FbsndpNzvVYr1XpLZcZGx5hbn2VdqdDqjU7x8cpF4uMDA7S19NDvdlkZmGe3kqF6fk53jl/lqGBAUYHBnhk9yCLs5cB6IQpAwNlcEoIvQak3cekzY9yyowxBi3zCAEdPI7WvsqIu5tXDv8q3zhxEituow3dWeofzxXZcEeb7Tr5fIn5penNRMa9GWCWQWwmEUdKZR6/7xh+ktBst/BNi/nFBQLfh5yDVBa1tWWW56dprK+g/JiGVWDkgd2M3zjFt39Qxy5mLdql/j6aa9UfyfXeei02dStud+4GdJwQJwm2YyMt665GosrPPvLbWmscx2Vq50HyucLmrPLB/hGuTZ9nZv5qt90zodmqEUUh84vTzC1co91pZjcZsLpzMTYOMldt41bbANirDSrzVfKeS5ykWJZNrFMuTV8niROm5+fw8jkuXLnCcy+9yC998Uv8ybf/kma7zdOPPLrZB7FWrW4G7S0/IGmvIZTLW1dmuDAzz/5Dx/nWy68QO70cPWiBVGhvCJm0sn7qOxbGtuw2m/WKj7lwt/RlWkoxqqchCWkNPIlbHKBYHsLv1DZVST7WbiJgZWWeYqHCQw88TRj61Bvrd5QdunXNdJnUS3O8cPkcXzn5Kq9fv8Sr1y9xZnmWi9UVAjRJNw0fJgE35q+y3l7nwtXT7Dv4KMPFiM6ZV6m5j9BcXEA5CrfXJWyEH+saflgkUYROMmUduaXYLYQgjRN6JwZ5+u//MiM7d1BbWiVsdxDqzjut6Ps//10TRgFPPPx5CvkSL772TeI4my2YUT+czcadTDeWzQmvNynO77+xRgj6Ly3gtMKbFiolUmWLLwxDpFJIpch7HvVmg2KxSLPVxnUcbMui1cmMq7+3j1Y7GyegtcFxbOLuU2AjCBUy60vXOhM22DU2wBf+1sNUnAh76WXCiZ/Bm/4znKUfoL2B9xTFRJbb36gBJD6m6wIJaXf9+I+/82gkSgfU6aFmSvg99/Pd4BivvvU8ynKwlH1XzasPwsa1+MKzf5Pzl05xfebiB07m2orU6M15Jml34M9GZtHqkiU3kBl0drmOHnmGntp5xOmLvLO2l/XTV0msDolMUK3cj2y0tBCC4V07kLYkDRPWF5aJwuAmI0RLTL5B/6cGGZw8wuyfXqK5vI6077yLKO+JY79tWQ7Xpi9QyBfp6xtmbuEatuV09WUVlmVTKfXR8VuZUFxX6eSukIL8ehu7E2K6RoEx3WYljaUyF4xUEwUBjrKIgzCjaicpaRTjKAtbSDqtdiaSkOrMbYtipAEbiS0ltpBYJqMF2FKh4oieniIPlZ8nP/s1VHsWGdeJ+x/E2CVEe4aNxY/IjMMpDKBsL1NQHHsK11LYuV6EjtFJ0C2ifbwbLbo9JnkZ0k+V8fgCtcHPsaQHOLxrima7kU2s+ogulxCZ8sjS8iy7dx2iWl/9UJ+nNhRSyKYHKyGxRFaZfy9usi0M12cuIE1Cz67jnH3uNFILItGC1EYm8tYJux/+ot0qQXOXczFas++Xj9NzdIyxh3aTy3ksnZ/ZskMIUrlEdfkSq8stkjm9+cC+45/P2LyCNI3p7Rlk986DXLx6GttyGBvZQRRFWJaFY3skacyN2Us0m7UP9G+NENh+iFv3bw4a2TzjDcrELUJCW0Zc3hpYC27X3Xj7vy2FoOXHfO5T9/ObR2oEa9cQK2+gDUgM0eTP4rkeYuZbJHEAaYgafpgT8jGK6RplV/FqYwjZvE7Rc9k1OsGO5T9CtOdAeR958b73yA0SJTRXkzFaY19mXk7x5y99j6jbCPWRP9sYdk3up1iscPbCWz+SLJJSimanRX9lmGfHP8Nz/5/fwx0pkjahPr++GRR/WIguUTVr0LOQSm2qc75fD02RRHX0wDwDv/lz1GemSd5YwV7owYhs7LcxCUnhGnLYw5F7SS8E8AHVgE2qiWXZrNdWABjsH0VJxcraIssr8yiZtcOWy70cv+9JTp97g2pt5a5GIowhzrtERe9HmkASIlPxOLkyzexLKQcPfJaf3b8Xd+0t0iSkpl1eXhvkwNAvM8kMloTn/aP87y9dwSbCs6AermKETRRWObRvhN8++hRy5htoLNIk+LhH2B3tYNBGsl9cJlj5D5wQf4dGx6fguZuj8LYulNstivefezbnfcfEHlbXl/D9Nvl88Y5MhR/K9UYQxzE9xQqTk7uwd5d4/Dd+gamH7yMOIy48/xYv/v7XcPIfrm9dCEEcRRTLZaRQRGmIshWN5SbKslC2tSVu2xALbIEy+FGMbAaojp15TtKAkSBDjJUgnDxmJdN7+aDtzbrZHmqwLZtqbZW19aVNXpTVbdgRQuDaHitrCzSaVZS6h3HI2iDSD3tzxOaGcy8DFLa2em68L4k7LCiXq2HCnFVluPcBZldqHD7wELI0wb/5w68zlfcZLVcYqRR5cW4RgUZYOToGcm5Ghc85FZaXr/LynENv8Uu4ffuYXPwDZOt6V9j6wzZjWoi0k/XBC4kQikAWyafrHC4ucnbn/VRnToC0Ud2HjzEpSRx33SeFVHffuS3L5sQ7L7Fv930oy8pGXH+CMGQJhuGhSSbKozSWFoj7AgLZRg04pDmN+AgFw8gP2HFgPzs/e5ilmTnsOCVY9RkYHiOJI1bmFoiDENt1MoELJUjiddxdO1C2Iq4HCN/uigYCRqDtDtggVRHTSrMC0Adcnvf1g2xt+9zIHGUZLM2RAw8yPXs5IxHeQ3ak++YP9ZWp+GVqJJt5/Du+NitObvjeqU7RRnPsvse5//AjjPQPMTowzEvnzvO9S8tcXVjg+vR52qmiGsKNRsr55RZpGmfK6MYgu2a54ejFGt6c7/DmMuweGWVn+2XQ0ZZM1+3OWb7/eDHIcJmkcoBw/EsYtx/SEIlBo6i0zrBz6n78kc9Qqy5mA0OlheUUGRk/hFvoJ9IQhS3kXVwWpRStdh3XzTM+spPF5ZkPFah/OGS0oEKxzNE9x+npGyTn5ClUenjxW18ljSOuPf8uraUmyv4Q4n4GDn3uMey9LtfFVRZZpGW1oNfB9Avc4SI7du3Fsm2Wrs+Ry+cIQh/bWcV59ECmZXx5BVUtbB4nBlJ3BVESWGoEs6jfO0Ts3gzklqPc+J/R5LwC/b2DTM9ewbI+GUW9jOulqZR7M4aq3+rKat5UHNmKKAroKfdlXYZhwMH9x5naeYD+3iFs22VxZY5zF0/S8VsUXIdWYrHkS5QwKClwVMYNE5tm8X5IAZbt4vttUmHxyECIaM1gpHOHeFEg0gCRhggdIUyCSHyM14e/+zdI+o7hLL0AOiIt7kTnx0jKe7ErkwzZHfobbzI09RhWZSej5RwP7Bzj0+7b7FLLDPQN0j92hKX1VYxObhuwii6nrZAvsnvnQa7dOJ/NLOmOWWODiLlVDuljQEpJ4LdZWp1DdEL27r+fd8+/yVtf+woL168QzglEZO45UBdCkoYBI5+eYL6wSrNRx3M9jCPwlU/H7lCjSsNrsGNoH+OWQ6XkkkQNBsZtHn36af7ZM19m7dIKM1frKJVJURkRkXqrqEoRFfRhqnG2g3wAPnAbEEISRQHHjjxOqlOSJN4cMLkhEfpxJ9uJrmiushwOH3gwI9oBfugzPXsJ3+9k8jldN1CIzPd86rEv4vuZpKdt2eyZOsKLr36TOIm7+l6aIOhkbiJgCbCtrG5oNjlPH9Dph0AnIcXecQ5NjMLK76KcPEanpEmU0cC3JiBMQtx/HG2XAYmI69kMEgyqs5AJ4eVGcGe+jnZ7u+K8Xnd2ScIR02Y0OMMDskLerGGtxxSFj0CT5PcwPf73uDHfw+Ly3ObOcIusq06QaBYWr5OkCZ//zK9y4uxJ2u0GaeyDSRBCIUxCHLZRG2RGnXabp8QHXpPbrZG+3iGK/QNcmz7P5TMncC0bZTxMYD5cfVYIUuNz9btf5+Df/w1O197MYhcDSmRT0ITjEJqY1eQ6v/krT3D6xDX27cpxoXOd3kKZtN7iwPgeXtGz3bsi0bIDVop0i5jlez+mDzSQbJSAy4XL7zA+spMnHvk8a+tLXL72LmmaiTDce8X2PUbRRZzEpGlCqVCht2eA77/0F2idsn/PUe4/8gSLyzN4bo5UpywsTdPx2wz1j+I6Hq+8+RyWsnAdj0azRqNVJQj9zb6Sre7FPTAL3gcpwE9Sju/azWfSr8PAcZa8vThE9IQ30CsnwMpvjgsQcZs4vwNpItT6GXB7ECZGO32IuIFTO4s/9eugY5zVNzDSBd3tt5EWgeijREDFtDCWhRGKSBewpOJk5Vf5ynMvsx6AbbuAzhq2kmhT79jK9VAs9BAHLa5PX+SJw0f5rft7ePvKOnFuktDY9BQK1GLFmRszxO2VrN6VK5MGdTAxUjnde//BSYEkidHG0K5XWZHzjO7ZR72+nm1uoY2JzIeotxowAqSP7nQIOp3s4Su2vqI77kFLWoWAqBTS7u3w1MT9UC0x1NfLt3/wAsGiuznexmiDtnywJZICtNN7cq/uyUA2LkQQtLl87SyzC9eYGJ3ivkOPEEUhq+uLrFdXsCwrK9QZfUux63YXWetMYtN0NZrGhndQLJRRymJpeQ7PzXzKsxdOkMsV2L3zEI1mlUK+xLHDj1GtraC15tS7r2VTrBD4QYdr0xe6yvDuzev9sV1Bg5EO4fI75B/axfPNffynF94kpwy/8vBjfGowJlw4gbQ97FwPwnFh9SXak7+Cs/Iqcv0qCDsTnCtOklQO4Ky/jQxWMJtDNjdWgIY0JNIpynIwSdTVDAaZn6Su81zp5CiYNib1EdLCsj0KPWP09Q6hSJjKB4zYTRaDAmcHnmB69gKfPaDZX3mTpDlHKHKImmbV9DM1epxZuY9IQ79qMRtPce76FXSwjkGgLPeODVpRHDIxOsUTj3yeG3NX2DGxF+KExdoiVpiQSIGIuzJA1gcHw1vXi7RDqguz6JUaxXIvnUa9K9G65RgkJInmpbmrTMtV/GrK4M59/JsXv8XYbIi92otUIjM4UozlI3MehA4mTsC+t2P6EKomWXZpg7M1PDjOww88w9kLJ5iZu4JSFmma4jguURRsLswNmZ+tqUrPzZHrymwWC2XiOGJpJZvO2um21WaUFYnWaTZktBuE57p0/CDodF29m4nsT4o9KoA4TdlT1qz5hmriIkQ28fafPLWHZ9RrrOUOMx/YyLBKcfJxyvWTqGtfQbpl0GnmSqVZTJI13qts99jajSgsLHcXPf0HWZj+PuWeSSynn+rCq7SHnuAH6RGuNGzqoSZKYgaKeXYMDtKjl9jTegEVLDKq57BMiBaK62IvN5ik7Yxzf3GVXY3vb8Yu0qSQBqzTB0JSNlXOqIc4aT3JjbDM0tJ12rV5VLdgfHtek+HhI09SqPTSWV8n8DucnztH463TSAFqbRSzkmaP4Xt2sSDS7xK1Vxm87xiT/9nPc+nSKWzbfd8xGCCMY2zbpt1pMbX3CPlOyDu/933sah9ewcJogaFNXLqBNTqAtT6OXgw+CQNhcxHGccSOiX309w7yxskXsJSFbTtM7TiQDXRRmczn0uocjWaNOI42Y5cwDNi7+wijwzu4dPUMftDerNDLbirz/UWgTbGbTOsJNnepHxWdWghBmGYPQyWykQdhCv0e/PqRCu/UcrxyeRajE/YO9/FfHRX0+udJVk6DtSG5s0XpegvVRQhJHDUZnniGct8DzF77S+LYZ9e+XyJJFcsLpwjqp4jSGr7s44Z9EEspBsMruCKirNdwpQapSIS7WXK1TIg0Ce3U7vaN2Fnj1pZjschUaFIsbO3jp4JL4gCn3Ge56PeyOn8Ov9PAdrzb1lNazTqH9t2PqnY4deVtSv0DRO9eRth51HQfxk8yP/WeIDGmQ5ieRkhJ3Gpy/B//I5bzKc311dsyg2X3obiRaR0rDpK75nHxhdMkaYxtecRymbSyhDM6hbhcwvjRPR/Th5T96VKrHZd9u49w9sIJUp0yPDjOgX0P0GhWuXT1DK1Og0Z9nYHeESo9/Qz0DdPbM8jQ4BilYg/5XJHF5RkWl2c2h0/eecjnLX/9Hl/3ycDKtAo208CWBD8xvDLdYGa9kT1tLYeVZoc35gPKQwcZ6etFNq9t6QF5fwOTEII0CegffpA0Xmd57jtYMiI1OfKFAYrlCZr1izgqoqQixvV1RtIbVFRAToQI5ZAIh3RTAyz7/BSLWLhddfpscYlbvgw6qwAhMKTCwVKKCbHI7vAEI06AHvs0iw2fuLOesbRvkVnNlOcHR3fQXl8jECnKCJKFJZTbC8s2dKvY97CyAIWmhpFVhLRIkxgTREw8+gira4tYyn5fQmjL/osUktX2OijJ3snD1BZXCdsBolCHosay7j29u3nPP8wCyXaPkJ2T+ygVexgZmsDz8sRJxOmzr9NuN5FS4vtZ99+Fq6eRUuE4DvlckTiJ6esZZHV9kdW1RXJeoTvI88ejqeZ9Xeom4y/lXe9m9bs7Pm01jHgj2Mlue54hHZAoL5u1ftvPNSjLxe/UaTcu4zi9SKuAFJr11QvYKqRQGqGxvkwquw1X4uYRCWNuS8bZ0P76IPH6m//XGJPR811H8JB+Fbe2QnHfL/FuYxeLM2dIo1Y24q3LinbdPD35CouN0wjHRq/WQQpEYGfysPdQjNv8+0IQR1WS1hpYHiqXo3r9OgdShbAsojDAdr07CnQYDDkvz7pdJTYRhz/9GJdefoMVf41cfgDhW5g0vKf07gY+9A4ipcraSG2bIOhgyJqslLIYGZ6kUu6l3WkAmWTQRo95EHRIkqQ7yrh9W5/yxxXvF1IwJAb25JpZ3SRuIhL/rsVFISw6reukaYCQFsYk+O1pIn+WTvMGUbiClPZtRO9++NiYOBmJHKNqlanwbdxcEWfgMC1RJIkC0iQmDH3KlX7GBya4fO4UqpgjWVgBkyKbZWh9mPqHIg59Dn/mKEc++zl6hsZZnZsmDnzCNOKhL/8iftihUVu7axOWMQZLWIROSDVaZ9/UYRJdpaUTnFovJog/hMv3EQxECEmSRKxXV5gY383YyE4WV+YQQuJ3WuTzRQ7ufYDZ+asEob950HQVFTfmXKRpktHmlfWx6yh/3WAw2JbD9fUW7q4vsctawmpdxyiHuw2VEKJbW9qMTVSWDFAWP8pmr83jwRDjYCvYE7/DrvgM+coofZMPMjY6RaI1B/Yeo7O2xszcFZzeCvG1OYTrIatFCNJ7XoxCSIz2aTJDfucElYN7mXn1VYSUNK5eJ12pMrhzN707drC2Mv+e4aTvh0KR5lJWglX2jD6MqnmsXVnC9pwPdRk/grr7Brs2E5rbXOxkXWS+3+aR488yOryDcxffpuM3GR+dIgg6dPw2uVyBcqmXOAqZmb/C6toinpf/idlNoBufCMPTT/wsQ+EFPtf8t5ju8MsfV2hh4eoWraEv0Rl4mE5pL39xZpHzV9+meWMWVNZFGp65iPJ6kdfKWTr1nuJFgxA2SbxIurNNVGuiJobg1FWEncWncasFSrDvb/4y/Y8e58w7ryCFQlnWHbOXwgiMZYgbEYf0EdbPzTF35Rq2c+/Umw+9g2zFBh9LKWtzwH0m9jDbVdTQ9PYMUq2t0u40Mtq84zI9c4laY419u+8j5+WpNtY+kcBbbDJnN4I4cY837GP8TZG1DgwN7eSx8Tyfqv6vkHS6QfqPLzKGSoIfaYLIZXj6d7mytMbJmsSu15GVIqblk66vo+iFVfXh+kCMRNvriAo4+TK2skgWMk0DjEG5LsqyWTnxNlYux86HHiWOQpIkIgqDzXLC+w5ag8opluNF9u8/hr/QpN1s3FOnJXyE8Qe3nNMWJvBWSKmYmbuy5ftM8MzobOa6Y7ukOuH02dd56pEvMLd4nbSrm/XDgjaGxHR7CZTCRhLGUdYEZFmbKvM/bAggTjQ7Bgc4vPr7mKCKsPMfW039R4v30k2ylWaQ2P1T2G6F1vQay+ulzBgAYVvoZivbSeIus+JeWStCQBpDWUOioeKSrKzd4p4ZrbMxEOUK1//8G0RxxMhDx3FHp6i2qyzMXSdNYhw3mzKwuSYFkIAq2ZyunWD/IwfpfLdFHEf3tN4+scfahqbvrW252RWL4wjLsml3miyuzuPYLp2k/UMzEGMMnrKYKvSwe2CYl69eoNdy+PyxJ1hp1Pju5bM0tjChf+gQkrSzwvCOHlr1+JO6xB/14LiFO7b1mptuj4TuDlpQGQOANABpI5wSVmUcb+512n6dZXscWe9ghIDUoJsBwnagdrchPLeDRKcdKIBJNMKz0bVm1gl4y+Szbnzn5Vi+cJ7lhRmsaosdzz7Dffc/ysr6EguzVzFaYzvOJhnTYJCpJPRCarkGo/t2cfXkuzg59wN7VD7Rfd8YiONwU9xsY4rrgb3HsCyn+3S3iO7Rmu/pUgtBMwx4bN8+9vQM8Odn3sRxbJ48fD9jA0P09/TSUvD1C++Qs+0f+k6ijcF1bN65dp0fjBzl0XFNsvAafNK7yCZt5W7nYyCNurMLAZNAEt00GWlnv8v1I0igs4JRHpQmiQp7CbWN11lBGlhJy6yZHCqoQcHBzKaYxRQ57kFHdJuU7jH+QGJkBxwBfnfwaztA3K5X3BiMlDh9vZAkhAurXPy9/8j8K6+x+4tf4OjRx1mvr7K8OEMchV01Tiub+mUE+cEy7XSJNEkQIofh7mOsP1YMctv7JLJqd6avZdi5Yz89/UPU62u4tsfPfP7XWVia4eqNc8RJxNziDVKdoD6EhtPd/74kSGKOj+1gLWzzxuw1hG3xtx7+FH/46gsYrdk1Os4PrpzD+4T6JCQQG8npuSq7dx2i3wNa06DuoZf/I8Eg4la2G8itPaTiZm9Kl95CaRzCeqat61RIxz9NPPAwMlfBSmpEPffRHPw0QSeEwcOkxUnaSQ7pLzHz5gtMVeaJl2/wbjjKCb0D1agjPAd9KYIlG9FxIRQfLh9hJMZpQSlGWg5oTbqwlsUf74XWiLyHNdRHulrDdHxULke0us7i629Qu36DSt8go7v20ts/RL5YRgiI45g0jakurzBR3oWlFesLSzju3csNP1QDyUYoxJSLPeya3MeOHfsw7YD29Rl2HLiPo8ce58SpF7l6/SwAQeAjZaYbm+o0m++xOSM8K3BtnRl+TxAgEeSFxYWVRZACS0oC3+fa0gKtOGS102K+VUN9QlOQhBBYKqsXna/bPDnh4TXOoZV71zTvR7zq2czFyS9gE6Bbi5kyvVSgo6w3RceIxMff/bdZZweuDZY/h5l4lrnFBLn0Js1mSsM9jFvsx3Mn+ObvfQNX2hwaiWlNzxHWp4m1zciIR7Oe8nowzuVkAKtRR9ge5nwEkYDkQxoHIvPGygnGaiNLJdK1Grp5GzmejAyI6i0jK0WSxTWIMhdWWBbKcQmXV1l59yxrywv4K6vYKHoq/QyPTtI7MIKxYXr9MjuH9pC3CqwuLCClvK2ajE7Tj+5ibU2tbfzfcVwO73oQZVvMzV3jxuxl/PlFOm+cYeadt2kce5jK/ikO7HuAIPJZW10gjiPKpV4sy6YTtGm3GiDAc3NdUmIbIeTtsxS3Wy7GYCvFqZU5lMxUOVKt+c6Vc9i2zWJjFV1b+sR2D4A0iUhNysDIfob7h5C1r3T9+U+gyQyBJWIW1gV+6W9xYPAM6cyLmKCOLu4gzY+R5scQUuEpn9fORgwO7ubAWA+Up5j9wfPc33OFF1+NcfJV/i//1/+B9ZpEM0RZeQwO/xwTu0f4xp/8NqXCPGmiCRPDoqkgwhAkmKrBtD4chWPLQsoIlPkUItGNP1rvjz+ym5u1KhfzmCjGBOEt3DaDQToOdm8Z4oT6tetUr15D5lwsy6ZYrLDj8ccZeepJrr1zhoGdPRwbepLLb58m9INbGgGN1uTL5fcbyHsFAt6bY85IYWk2ErnbNJWmCXFXfbGUK/L26Zdpxz62tFBC4hVLmDDm/Nf/glE+i9PfSy6R7J86mk2H1Zpms8pw7wgRKUkcUcyV0BiU47C6vsT6ysKmVtMHL5ps7vtWRfT8Ru5bqUxE+xPMYuVLQ4xMHuHhvpADy/+Ogj+LFp/E7rGRX5IMLv8hZ/RevnMy4IEjT5E/fB9JlOBOfw0qUywXP4NYP8/+/UtcPr+K4QQnv/ltIEd+Vz9zK/N86Wfuox26pBh2T+1nbEcvWhQJgphEF+krQRyl1BOXRSpYUQSOhVnWkBhw751WcssZiCh7r7bAaEzbzzrbbmcgtkLmPYwfQvyeQuTGy91MrVJ19dWwFelKjZWT51l57Q36H3yA/b/489T9FmsX1zn47ENcfukdWvU6tuOAgDhIGNg/fKuBbFTJ0zTBcTLOSxRlc8+lygZxJklMziuQzxVZqy6TpAG9lX76+0awbYemn6lO2KY7FCdJN0cYW45Lrb6GCBoE567h2R6FR4/SiTqkfkD65nkmP/0sYqSPuatniM5cRuVz7LvvIfr33c87p1/GdXP39OR/72s2DcJ8MnX7rPPSZ9++B3l8osTI0h8yvnCRQTvAx/shGscGweSmUoVODW65n+O71vlXf3SdM9+5yN/8jRkK+59F9hzG0T79c7/P9d3/nN63/3sqc98k6R1lec0wPhISxRb1Rkxfuca5d18lCDWuV2CgF5bm30XZRXK5HPmcIA5S1tIiDe0h0zVMKDHTUcbk/NAwoAXGTUCnCM/GtH1MqhHvHaEoAG0QnotwbNLl9SzpIbYYkjFgKYRjQ5d5bLImJUwYYhXySClZe+Mkr124xO4vf5HK4d0kHcX9lac5+fUXCFpthFLYjs3ls9+6KfsjhSQIO4yNTlEq9XD5ymnyuSK799zHzMxl/HaWdhseHGdwcAyA3r4hfL9FsVihXasSRyHXW9eI/TbKtrN72FU12aCbWI6TjQfIFYhrdYLIx7ZdrATanZDZy+dwvb1IDHG9iUoMdtWnWlr5K2Px3tOtNlnPR6c2x4M7IobcGSI0HXLIH5rCvMGYGIxBSJm1ksY+0nJJtcGc+jc8/gv/DVeeq3L6uefZkzvAjkMHuXLyFN7YcYrrL9KcvZT56qEh1dBTsanWYpTykMk53j15hvOXQtodxVOH81ybcSmXXGprK0yN5qg2fRbSErG0sK+n6GkNbeAjiU9mMQX5FBPFyN4c6Ur1DgXGbHeShVw3y+W/fyiRAeE6Gc06NdnuIiXECdrPFD611tiFPCZKuPzv/wB3agc9X3ycuRaY7n0SSFLdxCqCtVGTCKOA0dFdjJaHWZ27wbGjTyCFZP6tt5jau5fA0ly7cpaB3iGur89Qu3KVEVnG2TfJ5YVLBAvLSNfG7e3dVAjZCKo2l7XoHnC3o1Ba1mb/h45jEAKnUMC2bLSJicOAB77wczSJmJ2+jOP+9R0OKZVD3i2zsF7lG/UHeHbnQUbO/0/ID0GMuzs0iDyW04vBJo2qxMrDHn0Mf+ZN8jkPoU9xKDdP/6//M07/2/+a+bNn2GVe5MzXzmKPHsVtnmffAwfoPf43qF19DimhXJLcmIkplxRKJnTaAcurAROjCik9/PYqOhG4jgThEMeGOVPJWmmvkxESnY/iWrEl/hCYJELmRtCN6PYdiCZb8LKUx4QZDf79E1qzHWazhN5lTpgwgiTdjFeM1qAkVr4AtqJdr2GWYmgahCUziSDRhJKNNTm5l9nZK4wP72T3/mO88p0/oXH6PCPnL1F+9BhXfvB9bnzv++x89hkOHjyK4+ZI0hhXWsycfItcIcHt6cFzc+DYN/WszMYF0Nl/dbeyqmTG0en+ng01bq27/PFu1T1JEcZQW19m5KEHWTcdWveg6PijhpSSIAz49AOP0Zd3WF6ZBWnh3PhjJCkpTnds9EfBhpi2AJOSmgI79/wd9h78DH5Q48bl53hhvkjPWJ79Yzu4fs3DK0t6zvy/aQUOnZkaC/c/gXRu0Fm8isg7OK5iV+kar6zH2LakXJTMLMSMDFnECcSJoN2B3Tty+L7B8xyC0FAuCtJY004UC7IHWY/RnQQc+TEy1wJEDE7mBgk8pF9GSOf9NSNjMl5WzkM3WpCm7zcQKRGuvSlRKoTMNqlOsGlgt4yTNAZruB/lWOiazgwHMDrFuCHK9bD09BJHjjyM6+Y4cekNUmHIlyssvPEWtYIh19tLPLvE5W98k/z5s+SO7oehCkYbnFw+i1W6FBJ5i6JU90jS7g6ykYFQMjuQLIe7GWSZVHdT9d3qZ5JgOx7TZ07RlBGHjj3O5bkLrK8tYTs3lUT+Ko3FGEMSBwjg3Xe+yz95dJQvu68QrM5ScB2MdD+icWRPQKHjjNiuM2E00nXQDaKwiSoM0ztyiPLyq7z82jyVp/YRDXyKcf/PqUXLBJGFXL7C7EsrJFqijSGft/HCWbzQYrUm8BxQSrC4HPPgsRwdXxNGmjjWTI5ZNNsa24ZqXTM67BCFKY3UYV0UULUoK7h/5DxoVkg0Tgw6QXg2tBVCOwjLxhifTb9NAKlB5DyEpdDNzs0H7Jb4Qzh2Fn9siqULSHUW0POeXUlrpOcge0qYMMWs665rJzG6A8UEoV2sS9/9DvnladTOEWRPGYUk0il2LofjuIRdS3XzJUwYkYQBtuzNLNzcVNIVmwfMLfaRcWjEphYT3eGUmViuuJklSzKxOLpcf5Om2UnYFmsrC5z/y2+w54tfoNZYJ00TdJpks9i7PSc/ekPJ2AGF8gS5fAWN5KWozM9ODDEc/s/EQn3Iybvi5j9pBNIhLk5B7wGcZI147RLs/lVWkjLt6TMsLbUJvHFi7bL08jeZKVeo8FWsvQ7VlocfNCgVLdI4Jk0NtiUo5KBQcmkFWVPb6KBDFBvqTc3IoEWro2n7BtsWDPZbLCwluK4gSQ35vKRTj1iKK7SFh1ytfkxycrZ4KWtMGiF78rCarRUlBom53tUo3kL/L+Qyj+S28YdBeE62vjZ2FykwQZS5WFtdXZElj9RACVnyMNUEGoDKqvqpaCGKCjoOlu3lMUnSHXwjSbuCUcaY7tPrZl4YKTeLN0abLaqBdBVKbh70hj2Q6u7WlgWWKIlJdTYeTKnNEzJJmgWeG9XTpCtSLCBXKLHwxjvsuu8499/3OJ1mA2Ep4ijkxswloijEtp3uub8/TX3zGt6art76/YaE0YZ13+l9G+9NU41OEz6/b4De1e/TxxpmtYNZb5E6VnZ+d10f3RvffbAIHWXaWAjwekm9Iey9X2L2+d9n1e/h+GPHmT77PNdCxd6Hj3Ct78sU1t/EjOzF5Ic49fof8rNfKBBri2qtQZpCT1my4c1KCfmcJJ8TVOsJqYZSUVKtZQXackmyXktpNjW9FUU+JwhCjeMoLCWwLEEUaGadXuKGwJ0PPlit5C6TfbOLo5H0kPoRIsxj1uNsVJ8YBylI9QKGCIzK4o9iPlvw0e2ankQ3/ti4vN34ww8z9129xxU0BtlfASUwVQ0JYGchgbY7yLwLyxaWMZnV3nIaW5mQtz0xsj+6mXE0N3eMmx9yM7aQEhPHmzsGqc52EPemLL1Jkuy/KvMbTZpmRqVURj5TNm9/9+tY40PY/T3IdsThR5/mvsOPcGPuCq1GjQ0iJBikUBhAm3TzUCzb2ZyWmySZQWidIqWiUumn2apl7oxUmzNSNoS9NyqtGwLRnuPSM3qIsqnxWft1OgkoT5IiiY28g3F0HyhGI5JO97pLhElJ8hMIZZP2HyNIXbSGnZ23eeX6OqdPnefpPVcQ1Yi4ZWidW8buvIHyL5MW90HaxHUiCrkSYZhSa2ikhJwnSZOMkaCUwPMkniepTkcoCaWCZHo+oVySWEoQRZpaI2Vq0t5UIwpCTS4nERikpZm/4qIv1jDtNMsW3cVAdBIj1R36NQxZ62sdlBiCusGYjf6RFEuOo2Q/UXoBnTaRbg6Rc9Hr9Wz9vPdvWzLLYJktD25jsvjj1oW5Gc+owd7MtV+9adBGh1CKEKKAaFldD/JOJ3k7pbXNoPrWHeTmE+PW95sN8er3HPjmqt1Akm2Lm6IASdrtPMoMhCRFpyk6jonDkGh+gTef/zo9A0P0D40zse9+pFIsr84D0O40kQgqpV7cXIGW32RpcZokTnBsh1Klh0azhm057NpxAFdYFPc+QL1dI00SUp2Spilap8wtXCeKAoTM5Ph37thPb6WHxyYqjC2/RCtKSWQOjNhshb2tYegYkcYY5RL1PYixClAaJ5U53PYV/FYHqz7L8um3KeQlfccV1fUOgyMV3EKBastQLiqW51ZxrCUilef8m2fBT+mZKuK50GhqWh1NkoBlCcJQbz53PFdgW7BWTXEdSbGgmF/0GR60iBNDGBvaHc3UDoeOr7EtQatjGOyTVOuS/397Zxpr2ZXd9d8eznCnd99Yc5Xtsl2eu9PdTjo9pB0IEYQGAkoCAgQIhCI+IL7xDZAQk0BCSIhRgpAEkjRJQ9Oh0x23e3a726Ynz0NV2TW+evNw53vO2QMf9rlDlavKLtsVV9tvSU+3zq07nHvOXntN/7X+T51c5MKTCtnu4dM3Cs49yewiWWsXb3P0tZqUpiHVYvofBkFCou5jaJ9B1KJQ4O0OrqKJpXtV9o6EbKkAY0O268o1aiyyWUfOVKDn8G0f3CuvsL4DdYEYJJCrq4VYU9ZjrAhT5z09tma84Kd/4BU/2JYxCCK4VCML4plgbUYWQ4qxKfSmdMPGQXxIC4syhtFxggC2zpxh5evfpv7wQ/jNXe76yY+halWW9i3St0P6vmDrzEmaPuH+ez7MYNhn/74jzNXnOHXuRZRU9PI+T3/+98JM4CP7yLd3SOfnqe5b4qMPfSr03ntPo95ERRGpFey+fJbTfo57Dx5jsP84eu3bqP4lkFcCEkMGShQ9bO0YxfwHETgqokMtP8ny6ZPEzSX2yRf40UsZM3XJMNMc2q8ZmITtXThyUCBx9PuWfQuKVqbQacygb3EywZIzPyuJtKDTdbQ7lkpFEEeCnVYYUZQkgkoqcR46XUe9JogiWFk3fOihNATomacwcPiAptN1xLFgc8exb97z2Peb/Pvfu52ZZoFOr4+aCcMXLL/4K/cSH3qAL/+XL7B94eK1lWTqfaKkNAgZJQsiJlYncLUW3ua4XreMY6dh+2V6tywrhOneEj8cgnl9V6N3DrnQRCQat5rDECjrjV71kfUEtjV4cTUFmfqw0W4+jsSv6B0QJVXBlIZcRnbjKSuafpJmG5nbsuo5fl0RYpDwnT4EWqO6iXUhizGKWZwvKY5FgAZECQjILqzw3NrnUUcPIGONOriI2r+A3dxg5fNfp/mnHyGebXLpzCu4QY48uMCg2wbnSXRMr9MmGjZw3T79WDMUhie/+QXmjhwj156t7haFcHTOnKf7xW/x/Ccf5vAnZ/nk3UfwWavkP5y+lBJhM1w8h6ndjlt8iMr292nITWIxREYxW5f6HJdr5M06VipErCiKjOaMotMx9PqWpYWErPDBKqgQNEfKszVwZJlDCE+9JpEKdtuWLPPUq+HeOedRCmoVSa0qGAwcvb7j4L6IooB2x7J/sQzQ+54kDgH6xUsFcawQwtIvUr703UXSqnljRH3531JJzv6ff8qf+Uf/lBcfvJeNM+fQ12OMEAJbFOT9AVIr4mq13FwMUjWQW3V8K0faGazYRiAZB/BCBAtSLtQRR6YbDMMGf0WsJKRELcyGNbjpA1hSSDAFvp4hVRPRC5NjXq8go8U7bnLyl5u+6WKLGO2QU0o0fSajbBViktaden4aremNCX7k2ILYiYUaKZkU5f+7seVyJgyCQAXFSWZmkDpGpgkqqaBUROY8OkqwzjLY2UHEYbBd7JtEcYIbZhSFQVWSwGIkBCpNEEKy8swzbGyvou44hB/mxPU6srDEjRlqCw12Tp5mt1pwgB6GqaEMQiKKDqZ+B4MP/H2EgGj7aeL+OaLZOo4q1nqs19RmUgYDU2YGBdZ5GnXJypqhMJ6lBU2vH+KKkYcrRACyZrknTQTNGYVzwcXKC09jZHk9SCmoViVpImm1HUURAvTdtsUTAvSdiyF2WZhTpEkI7quVgn1zOe3eHK9dqlBJ3JvAW3q8V1R0m/Nrlu/+u3/ATONTgfHX26s7oEJg8oL5Y0e57499gvXTr3HqiacCGmOUEi1A5CmxuhfrNjDuPI4hwivQuoSXTGVKrcP3h5fXPiCUHSoJcq6BHzp8K7hXeIXzbah7RB7DUIP018lijyyYm/yk0c0ZbxOjSuVoAU+T2ZTkPd65skfET/jgXHCfmMb7G4tQepwG9ibwfggdOAs9lAG8COdUVuSDCxeyaz7L8XEUeBAJVth7X6I+QSZJgDREYWZTmBJvQuGyTCYErXOISOMLg9YRUbVKvT6HiAv6Psd3+zipSGOH6YaLIrwBkUIJORFmQLHv4+R3/Hl2X/wWLTPH8eNNfFRH+hwrYorC4ZwnjWFn15fcKMFK1KqSjU2DABbmFa22I0kEhfHj0zTGk+WOek1Rq0qM8ey0LIUJFqUoPM6FzHk1FVQqggsrFq08czMhQG/UFEpJisLS7Wbcf6JKGhvwlke/d5T+wNHJGqgbIOL0SGLRItYOoVO6rQGeyrWXmvAUVnPH3Dl++e5lTt/3Z9h351/iid/4DHrUryFGiwq03I+UTYxbxpp1REWFoN1MeSl5gc+K18Uf3hnUfBNZi3HrRYDJyDDgwckeoh5DLwInQkbtGr8wmKkrU2nTQXm58EMxpjRzTHmFqsxkWgc6LDq0nsQ1PvQxj3cdY8cK4EvCTgCUAmvLXTN8n7el9ZJTPidAYRCRGscyI3/W9QMsWsQRfjCcvHek1HnJcDtt4ZQKAZ73GC1oVmZYWJzjmfPP4XsDXBxRTSP6z7/E8j13cuToMfKNc4ikXg6UM7SGCWLoOJScJeqcZHB2hvShv4dq/4ja+mMMsoRIQxQJBkNHpCEvLUKkBWubhjSVzDQUK2sZlTQogdZBkYaZpz/w7F+UVFPBMPPsti1xJKjXJINh2PFjLUgSidaS7R2DQ6PjiOWVLrcdhljlbLZSlndqPFwz/PaXD/L4D2NeXVkgLwRSujdpPSYLKBYthHA0m1WeeaWBVu6q1mMkDskdMyeRF1cYbq9ypPEIBQma109m9BQIImJ1J479ONmBwuJlEXwiRbjPrvQsrsBrqYVmuP9bPqR3k5BF9ekAFVdhTY8NxNVdrKANU1msMmKfNiHOT0681HBPqRSRxPcs9nQfubqEnx2A74bCqJtokZDBGuCCIgkdZh1558taiQ9w+CwPpzGKQYpifI7e2mBlXPl6rYPyShle70oLotU4hYzzY5MspAg7jfeISAXlkzKcW0kznc7McOHl57gYRcRL8/R7fahUqKqCQc/x1d/9Cvf/418izQ22vYKIazhVp7H9BLo6pDlX5dx6yvcePcPHLr7IPQ8cROiY/sASReEaZnlY+L2+G8cPWzuWmbokTQStjqVeUwyHnjQVZLnHOo+1ntmmIo6CQvUHfryv5IVHa4hiQZoK0tiyvWt58vRDfPOVGnawzic+2OYHr1heW61yoXec33hswGa7SqQ8SWyIIwI26U0rh0BiUHRIEwGqznZbo5XFX6MF13tBrIbcdZul6xf50OFz/PofPI7zhxHiaoo5aqgrELKK6tWgb/Bxga9kULP43iYeg/BTbppziCRGLTTxhcNv+5KiWuFcF2oWYRPEQI+pqycDW6/Q0VFg7a8cWFz6/n4q6B6/RQr8wGGfbuOWC8gcghSxWUGLGCEMRB4vbEjvKRWmbCvwziBUPGkPdXZSlDQmPC1HFsROXmdtWPyurK1oPa65BOsWUn0ijiYXt1S8kfKHGoyfWKsyWeDzIrxOSaQXqCTGWxuQpLMLVOwQBaws7/Lf//Vn+eW/+yvMx89h1l+EpElSSRAb36e/pTmYGe544FNs1+qowXdRqqA/kNQqEueCglRSSZZ5FuYUWe7Z2rHsW1RICb2+Z2EuBNl1Jckyx2Do8Q6aDYnWgm7PlfCQkMEa3bp6VVCrCl45m7C84WkP6uy0FVF0mN9/6jB4RxI5tLT0soRGtQi3wIsbsBphEXgUsegibJ/mnKZvGvSHkmpir6pkwb1SLMz0ObBQ0O6Coc6ZzSVi7a6pVBNFcSMYByJLEMMUdj0RKUKtYf06IRumwRbIuRlEowJtW1bPQXiJEx1EQ0MvBiOD1+NBitKnf51+iCmXY6RD03WMEYRk9H7rEbHAX3LY5/qQj9LAHpRDuhpiuYn5SguxWoWhgljhVnLcqSF0BaKqIVUwdPi+C9mHMm/NaJLeGLYSvjf0DugwLqaMHUQJcx7FKX6YhSKSFBNIzqhjTRAsiAyDz7BuUqw0NriFSoVziPTYt5W1Cqkd0O8aKrWEUydb/No/+U0uZsdRd/5JcAZfDLCygvGKWj3mwzPf4fb4BfrzP81w9icYdnvUaoq8cGM9z3JPs6HodB3dnmNpQVMUHmMCXMT74JL1Bw5jPHEsmG0GJVrbdGRDx0xdYQwhXhGAiBhmEf/qt+7kq88/RJZDmjiUMMTaEEceVy5EJTzOifHxjYpHEss23uYszsdsthvXJRIVBIDk7fs7JDFo5dnYTdnc1UTKv0kFHcF0PMigMEJUidWdJOpBhKgBBd551PwsIpKhel4wiaFji6gk0NWXGQw5zjDBZRXxK6jKL39OT6VSADSIioTc4zZzRHrF0DBP0Miuxy8buJSgdw7jn7SYr+xgn+igtg8ht5qYx7covriFOr+A2KiGQN/Y8cDhsUKPAn5TBtTGhIU8OtVy5/dlsSigPBkrmIijCYwmL8KV0ApfmHKaBvjcjCf7BYi0GkMdZDUhzQfkRWA8qtUTltcMj/3m/+LCmQ2Gh38B0TwGZhCyNE6gIs0c53Cnv8TA1ejOPEwjyRhmYMtzsS4oyE7LkuWOpQVFr+/G5abRrcrLol6aCGYbgk4/4rPfOIJxAU7ifej6ND7mD793Gxu7Ca1uBCisE+WtFvgrrMTbR7QJEtFCCMtMs8LyZu368YcIYMwTR3sUBiqp57VLNbJCIm4gMfB6cSFWETUS9QBaHA7V80OzwX3amj4Hh3YHkecXEb2onMgyVpBRPaO8A3KU9hqZr6k2VyFAS/xmge8UiEQgIoE7l+FeMxRf28G93Alu05U4PR++jViAdiAUfrc8i1gglMafF9jneviuQYgYMVQBK1OMaiJTad8RnN7aoCDDPFiAseKKEuJi8FkedgdTum0jKzFyIU2JgdI6YMJG7Z6FQSRxyMSVKWY/zMB5omqCHvbJi7BLO+vQWlKrJ3z5dx/nsd/+Ip25T6CaxyDvIV0GRT/szDYnO/cUyeLtRPO3MRwapFJYL5BCUKsJNjYD9GZhTrPbDkU75/y4E9UYMNbTqCsadcH6TsTJlcO0elUqKfzg9GEqKex0q6SpYFhEtHsSrW7mADuBwKDpkMQCqets7MZE+tqWwHlBojPuOprRGwjiWHLqQu1G5ktf93zAApJI3k4SfQDOJbjni7D2ppu8vED04pC9mhI9wQcBEdCNYEvjtYWOQAwaOLkBOISWuFN9iu9tQRzDvZLiW1vYZztBIRRv3DwzXUWcpswYHesS7u4cPnJjF2tcRBQhiyUjXRYQLUQRvihKBSl/zyglXJhyx6+E1HLpZo0q8lgXrIYqA3PngivlXKjep/Fk21YK1xvghCCualS7T2EFYlTv9KEgt75VYe3iFk9+5rf50J/9RRYXEwoj0LHGFAYfz1IkB8if/z76+A6DoUfYAVlflBknzca2I00UzRnJqTM5tYokzz1KC/LcM8w8g4Hn0H7FbMPz7GsRppBkrs7TrzZ5bfMYWkn+36kjfPqj52j1KphCIKY5R99h8Ui0GCJcl0ZT0isa9AaSNL56gD6KP5Zm+uybN+y0PLmJeW2lSvSG8ceNKIkvA/YULviyxMDrY++rWCzpKYPbSOJ3c9yLBWJ5DsU87swQ3T5ClN+GcBHEHr9ugltjK/BcjH2mE1yuRNwQF91IR153PPUnIoWIRBkLqEkhsozPvfN450Phb5iPXyOUHGeifB7qHCKNp2AvXG5B7KQo6Y0JAb2xQTHTktNuBJ/uDfBKk8QC+n2sn6S3lQqQjl7PsLS/zksvt/n1f/k7tKK7kWmD1d0KVBZIiktU179KU3dQSZ3caGaOfxyO/kkasw2wA1ZXu1TikNptd1xI8VpPEgmKwlMUlsI4Fuckm62UR5+cQ0cWS5WdXpPCaZ47f5jCRFin+Pazs0SRe8uxxZu5maH+0cbbjLnZmO1uA+uundwVQFEIjh/qEmmPFI61nSqbb2B13pqUdykCYt40VF9Ll4aOLuspvrmFWxkgqhrdPYLvuUCda+aRvTpctCGDpEc1BCYW4x3flRzSz+LXRVjgekRRLC6LJfA+xA5ZjojjqcJhaW2yfAJms2WtxYZCox9ZGOeR8Qh6XyKIbegwk2kChRkXNV1vgI9japHD9jIcZeDvII5D0c06ifQ5zntWVjM2vvsZ9t9b5Yd/sM0v/fId6MWH6C58iLVqnbpepbUY8e2tmJ2tFr/y4CMMmgP0oR1O3OURnKTbNczNVmi1CtIZSa9f0MurqEixf8nxz3/jNn7wUoNGzdEplkjwWAtIRb1q+NrTxzBWkN5QLeOtLcJEtsBY5ucaPLNSQ4k3iD+85cTRLsMMalX40QsN8kKSxOYdsiBXyA3+fq1aB+G8pXhtC38xD1XJUdZhdIKibB1b0yFFO01VcbMuuASGFY8FXgAAFwxJREFUHvc9j0yq+ANZwN84P1UcnBQgx4F4mW0aQ2KyPGS30mTsmo1PWTCpoo/SvoKgDCVMWsRl1V2pYLW6fUhTUmGwgywomfd4L4jIyAeCYa9PWj/E4gMPUjshOfwTEZ1qhSMfHbC6cJjPvdgjG7b44WaXmirAF+xai/UJ55/ucN9FzelBhY8cnCFbOoyQf0A1zmjLcsySMZzbPMal3Qq//VXLi2dqNGoW72FgagwKUHI0LCNch3d+R369CBwRbeII0lqN9Z3k+vGHE6RRxvHDQ7p9mJ1RvHyuhlL+5q2rGxRNIeBchBd5sAZXjeGmyop/1CeuPbI3g1cdSAkJhFGfiQ0nM7IgslkvjYsYZ7n8MAuviaKQrSqr5OHJ4IKN6ydlB6BQCjfitog0PusjK0moqfSHUJuhQs6wZ8YI1Lw34MQnf4r5+w9wrHOG2Y//Kb724jLDwS6fu5Sy2rP0+orhE9uc7cRolZJqQdcHoGUShQarjaLB8kWHrlRYuTRgvat56La/yNnNbxAVl2jUKpy9ILi0VeP81gIXt2xZLxjdKX9V9+HmN1xKlMhD/NGQDO0M7a4kjsy14w+jONDsstg0bLc8wyLlwlqFWPubYz3egmgEEI0AhW/w6ndDq71DqBTRk7AucX2LcHpSrBxlq3ITXCxCDCLGVfQ8KItWkIfegFHfu6Csoo9AkCMApSiLk1KWNRZbFiBNqKnsq1C1A4rclmSThnpzFn7iER7bPoM+fIyvXtxgNYmIK/v40qUwe1hIkENPM/ElzM2jxr31ZZ5EuDD7wluQFb61ZXhx0OHe+C/ws/Of4/OPJ9T1CrlN0cKEuMK924spFAgj0QE3YLap2WjNUFgYZdevlFH9444DXZTyJLFndbvKTjcijW+2K/jm5foNU7eCBCQArMf41dBIg0rhuIMZGyyKAm8NIorGjVdAmCY/yBBaj+OKgNNS41Zg73LAIWIdxv7rSRWdSE3qJkqFcTO5QVVT4nyHfuaQUuCKgtrh/aylTZ7NFJXGPPQyUqXxxlOPQk+Ih7KLsOyPKZuFyiM8oaYSFkcIbGZSRSvKOW22SIZ/my8/8VUWmwvkNkJKfwsox+g2yTL+MDSbM5zcriGFf4P4w3D30S55IahW4PTLNYwRiOTWsSA3Z3rzzRBBKDZqEabxndeIl6tIOwstD0OPqCmQHhHLUJV3Ht/rh7qMLrNQxoZYJRahKessCJuCUfhdhxDl+wobFI7QFSkSjc8znCuImgmVokcowEt8AZVjJ9hsbVLXkgiIdDRWiAA3G1FvwqDI6WQDMlOQG8OgKOgM++QmUNlNi3We2GuOPHwfz6y8QkVaOlmFvBDjhNytIAJHTAutPdVajfXdlEi568Qfkko05I5DGYNMoLXk1MVbK/6Am8wP8o7L6MIFfgHIY9RgH+4pR8RxWE1C0dB5zHILd6lAbM+hGh4/DIT2ghgKgVvNcGf6cFohq4v4Sw6sgFRhXm7hlzLUkToiKtPFxsEa6PwIqiMZ2AwnNHmvx6G772V47BhrrTUSVSYBrrIyPJ5IKj5w9E7qaYXzWxsYb6lEMUfmFji9vspmr0PuzJg+rihyDiweYegMWyurxEiUdLcYYZVAYBFuQK0i8KpBq6vQylyj/8NTGMnBZpeFWUO7K+gNU86t3lrxB/y4Kci0CKb6mT1SNeGcL3tADJg2KIFUM8heA/d4FrBfKscXWQCrCUL9pnCTz+x7vLcIn0A9xjy5iRMF7tur+J5B+/2Y7zhe0BF1k7N09DjxTz3CD3rbxFpfc/MLIGJPJDV/+oEP84HDt/Hc+TOc2lzlI8fu5Pal/bxw8Rz/9vE/ZDgo0CVUP4pi9h04wqnVV0n6GieKW2qHnfxAyVr2AHcdeYrOsE6WiWtyBoX4A47t66KVIIkcF9Zr7HajEtS4pyDvvIyqoyMUvpaT5y3hb8hkckY0hUKevh8yHIt2Df9DMGoXeVcSOs80eBG4FDPf5IGHP4k7dDtPm27oauP68y+UVLSzPkIKoihiodkkSkMXY2YKojgmjWNcvwMipJWFJ0y8HxT4jrllnWLhHU42eXX3YexuhTi6Nrw9xHUFH763jXOOOBK8cqGBdYLrXsSb+wuuOJ6Gu79X5Fq1mdFvl1MHbwSHUSWEekYSsgR20lbgPUkU4e5/gKe2V4lVHfUGU+MFYKxlvlpnpbXDf/7GH/Kx2+9mtd/h7OYaxxf3EyuNcXY8X0wIQZZnCCmo2IRhJw9dmbegBfFApCyXdudDPeSN8FeRZXlrHkSXD97d4+T5WonefXvWQ4jJMEIxbgn3Uyjw8nzHWdBw9pMW8vBjRtN13lsK8kZyowvLEa6Qm06BC5QUdHuGvqpT23eAvLV7GZL4Wl8tpaRf5Py3J79OZgoeP/MymSmw3hMrRaw0/SJHSzWZk4Fga3uFA+lBNgbPk9Srr+/RuUXEA5E0l7VeX/2FHh0pfvexO/n5j61wx+EVljfTEn/1Fr/be7RWZHlBURi0UtiyiU7KwEEjpSwHHkKkNVqr8LxSRElyWdxY5GWhuH7bp2/B/egWEQ8khNTwYLL7CCnJel0WfyLm8C/9HC88+/9IK9U3x1uCRxBQu8Y5ZNmq7Cgp565ITQkEuc+5d+YhLv3vl9jeWi8JUX/8b5sQUEkCWrw3VG95kqkQAikFra0W99x3Bz/z0w/x/Etn+MRHH+Lkqxe449hBzl1c49jhfZw+u8yD997Bb332K+zsdtBacd9P/QIzCwdxpgidGVHCpVef4bXnv3OrerS3iAggA/qXV6e9g7gacelHTzE8c5Hb736AIs/eFH+JKD/IeY8aj20Nz6urvN/j0VJzbuMkRz9yIkyMfA8oB4QNu9vXdPr6bSlHlhf8/CMf4W//zT9Hq93jztsP8TMf+wBFUfB3/safpTcY8qt//dP0Bxm/+tc+zWCQ8bGffIBBb4COYqqNeXSUoOOUqPyrNuaAWzbku4VEcMVVCovT+RwdaZ77zd+iPoCZ2QWsKfnF36T4NzgeiUIxiDP6ixlHTtxJkb05ZfxxECk9Wr0dhffBerR7XFhepz8Y8sqrF3nt7ArVSsoffu17NBs1vvz17zPTqPLo17/PbLPOsy+8RpwGnvRR3CKEHD+OikzvrxjkHROB93kgW2n3WP/Wd9n/5/4425urVKr1dxQmIYTA2DBudea+RdZ+sM2NKOGPg7yd6+V9iCe+9d1nyfKCeq3C733+G3gPX38iotcbUqtV6PUG1GoVut0+jXqVbn9IksQURU5rawUIA8wBtB7S3loN/363L86PowgE3md4Z9HVGssnX2R262FO3PdhXjv1PFH8zsQIQgiMKZhrLtKoN9E6Jqolk9T0e8PTetsSGJYjkiTGleOohIAsK4jjiCzLx49JEjPMcuJowmh76odfQZVt1iMxRYHS0Z6L9dbE48kDLERKfH/I0//236PW28wt7ccUxdt2gYJyGBbm93Po0B30zJCT517g4tkzRNGtxbJ1s2X0W12JU/OXPfoygxv4B8PrL3/ftR4hTJ3MijBxst11tDuOVsdhnQod5u/2j/9xlDA8IQsBdzmLSxSG0//3C9z7q3+DjbXlspNZIqUoJzi++QU9Ui7rDPv3HeHVldP08x46l/iBff04zfe4aKUw1pImEUVhUUphrSsR0oLhMCeK1Hh6ilISYwz1WoVWu0dzpjZ57PTL4y5JFFEYOH4k49BijrXhuksJpy8kbLaiPQW5cSmHWVBOYyT0z+tqhfb58/ROneW+B3+K9eWzWGfJsyF5PkRHk8nN1yPngUC1rXVMrVInihOqlTq5zxDbFoZuPOHlvS5SCLr9IX/rr/wp8sKQJjEH9s1jjMG5UJjN84L/8j++SJYbnHXcc/dRfvEXPsGzL7zKT37oHnZ2O1QrKYNhTpJEtNs9Duyf53f+99c49eoytWrEP/s7F7j/+IBBJvEeZmqW//nYAv/wPx3Zc7FuXMKkDO9zpgMB7yw6rfDy5/4P3QsXWVo4yMGlo5y4+4Mcue1ujCnGLkGeZxRFPibpmWRRBM45bj92D3cff4CjR+6i1dlhMOgGuH27KMe8vtvX4I/qUofrcfbCGncfP0y3N+DY4SWiSHPk0BLVSoJznvm5Bh//yfs5uH+eC8vrJJHmvhO3sb6xy8996sOsrG3zx3/mQ6yt7/AnHvkwq2vb3Hf3MYphMZ7F1e4qegNJbyDp9sPcZSn3XKy3JN4XeMpRQeMnCYMisoLzz/0ItTSHkBK3ssWxex7kAx/8GMNOJxDh7GyQZ4GQZ3t7nTwPXY9KKfIiQ8cxK7urbO2uI5VCS42saMzOLQpUvGnX2RNpzcbmLl/5xg/Yv2+eR7/xfZI45tkXXqNer5BlBavrO/T7Q7K8QAjJUz98iXanzwP33s5/+LXf59CBBf7Tr/8++5fm+A//7f9y711Hefyp50hrFYz1VFLHbMOQFYE/pVmzRFGIc/Yq6Tck5RxX3ya3L/K6rdx7RBRR/dmPBMbVSDP4wUsMX36Nxb/8aeThJbJnT3LovgcRzTpimFNtzmGcJcsHDPpd8mzI7bfdw2Z/m5X1i8RRjLMOIoF5dBN3dvjWecl/DEUIQWEMthxm7kZTUqYgVmkSh+enslcjazyZ7zHi0CwBErEuYxXBX/2FTR68s0+WB4cqiR1f+s4sX/tec8+C3LiIQCw5BmqNm8FDb3scRpV6Xw7gLgw6TshMTiw8g1fOcsZbojuPMPjWD0kP7KNxx21Uq3UaM7OI5jzLWxdp91topUNmRgK5w7dvXTTvzZKRFYlHK3VqTxIl5st7j5qKy9J0ROhaIhem9zEf3medLccTeH7tC/suQ3V7D1p60tjtKciNiiiLhK9vJg1T6VWaTIZpWxumoCQRutkoGVc96f4lhIXIh5FG7UuX2DEFSEl052FUkiCnUcdK4Ls2zCt+n2WwoEznjg8mz+d5gdaSwlikELjSSiTxKA0erE9hDJHWFMYQR5osN1Qr8fhz6rK4nGoQ8DIQrO4pyFsQT3aN//CIahI6EF0Y/OCGGbJWMrR2+4HmoZbiOr0w0jSNkVqjpEREEVEJegwxTimSYD2y4Gq93xTkahKSGfvZbXVZWpilP8yoJDGFMZxfXifSGmMsM40q+/fNsba+w/6lOS6tbXHPXUu8fOo8WuvQTn3PDGIpmeKkkbgzPfylwZ6C3JgIPC7ATK6RSpLVyniOsB8WYV7X0hwiTXDL62FaZJrgVjYBgdBlRdc5iFTYuYor4OxCQNtczsnyPhYpBf1BwSMf/yBpEpMXBffefYxOd0Cr3eO//o8voiPFbqvLX/zFn+Xo4SUa9Sora9vMzzYojOF3Pvd1nnnuNLWZCvpnFpGLCZgAtxepws5F5Bf67zeP9p0QX8YgV8F6CBGGZJfRox9mUBjkTA2hFa7dQ1TTQNTTG4Sux9GUeh+G1E1osi8Xt1284Zm9fyQE4M+/dIZaraxxxBHOOYwxJEnERz54gtlmnadfeJXZZp2XT51nfrbOS6fOMdOokSbRhOOm8PiuCdzvPYPvmXHfyJ4FuSEpxw75SZFwLD6wVYlKGhCiUuL6wxCXzNRBCly7i6xXQ1difximpkgxNu1jkp8rFcT64GK9RxC8b1e896RJzNrGDp/9/W9y+7GD/PpnHqXZqNHu9NnZ7fCt7zyL844LF9f5zf/5GMsrGxw6sMjyygavnL7I08+dplpJcSbw0Ii6whchxSUq5Zhbv6cgNygCj8FzFVi7D9MZJ9PgPb43CErTqIF1uE4ffXhfIBkdZlOsV+HjRJgYd/nnSkLs0bah83dPymEWmktrW3gPr51bDfPJyq7BSpqUr1Ssb+5wcWWDSGsuXBo9blIpM10UjuKra8HFsiNSEIE93wcl9hTkzcsI6GbgKsSSeI9IopKoJ+xErjeASCMbVXxR4AdZGI86zANLVb06fi9SlsPrrmCzUSKY/OH7D4N1PRmlfwGSQKTIdHFkhFpQSlHVCoEgSQJpUloG80CIFc/0sK92y08ejdmVewpyYxIunBCBpemyIcajIQtJPKZ28+UcX5EmyEY1uFuFQTZqgYHV2tJilB+hVSAgvYoF8W0T5oDtZbAuk9ejc8NjrzcgiSOikm3IIxhmGcZYlFYYY6lW0jEtTqbVZfy0I7qaGL+nIDcmDkEFJeYwfg3BaOcKXCWykgQWKmPxhcH1h8hGFVlJsFutEMTXUuzaNsCEySp0/Ywp48biCTtcywTzH+3FIG8k1jl+/pGPcPbCKmcvrCGFwDrH/Sdu4/DBRS6ubHDHsYN87fEfBZIkIfhb+7vcV83JyjGuqfQ8tlPh0Z3KnoLcmAQrouVhrN2BK/BYopqG45Ja2ucFslFFJBGu1UUkMSKJQz1kRFMNkwyWvCKDNSIK2i32srtvQqQU9Po59504RpJEnHz1Ivffcxtnz6/yc5/6MMeO7KNSNkzttjp88zvPsdSs8MdmhxyKDXnJ19jQno6VfGmnspfmvXGxyJJB9cpVK6sVyqFKkxRvowZKYVtdZDUNRcTeIFiPEQ0c18hgCaBw+F3DO0Ta954WQeCsPPnqRYrCoKRkaWGWOI745neeAeALjz0JQrC900Hp4A5nDnpW0reCvpP0rMCUzGF7FuSGJWSypFhAimWc7wIqUCVUkjEozvWHYSbTTD3Atts95EwN73yYOB9HE/0STIL7kThKEiEX8vN7AfobinWOaq3KD589hfOeOIl44qnn0Vqxur7Nv/mPn2WY5bzwyjkurWxQSWOG1tOzkjixeBcm7GvhaRk5RtvtyQ1L8H2kaGJ9B+E9aBWKhC5kQEYpXjlTA2PxvT7y4CLkBrI8pH5hKoMVhfeOiuWxQCQSt1vAwL3vQIpvVaQUdLp9ALSSRNUE72F7px0SXFKw2+oSl3gt4+FfXGiyGFmsLwlegeVMkcq9IP1tiEPL20AoiuIsslId1zG882WKNwpWI8vxwxw5U8MNs8C5mMQTi6BU4GAcjcb04M4O8Bs5biV7Oyf5vhQl5ZhTfpTh0mVKWIiQHBn1r2sBG4ViObt8cF0iPWqvkv52xaLlIaxfQyR6kpWyFt8bhKxWNR1X1GWjFgL0UdaKkoQ0KiHyhQ11j50C8+WtkLlSJXvwnrxpuZonOnJ9s6zAWEccabSWOBeUYSa+fLbysAhcLnsK8rbEI9AosYCv9ENbrDH43OAGGXKmhqymmEsbgRaukuDWtkK6V6sJ3XVcko7aAHvwnbKIVVUTt2tP3pYEgGPGTz98P5/86IP8xmceZbfVQ2vFn7gv58CMoyiHNiTa89yy4rtn9J5n+/YkoHuV2IeqLAUS0EjibY7PMuRMHaE1rtVDpCW5T3cQ+kXUhCo4pHgJnYJC4DfL/oQ95XjnxIfpKA9/8AQCwU9/5H4GvSGxFsxVPYmGNPLlH8zW3ov0B++GeIeIUsRqBbszRFRVmJflFHKugqhHuG4bUUtBTIEUhRjDSkQaQ+YwT+zgN4tQGIxvTZqDH1sRgX7i3MU1PvTQXTz/8hmidNSqO+5QKJEqk2a4PQV5R8QHKEhGWNwyJUkeRBYx5pkW7myBun8WX1j8cFAqyyhtKxCVGL9TYJ/tICK5F3PcBHHOk8QRj37t+3zzO8/S6w9Ik4jceFbbYlRyAiA2grV2yYS8N7ThHZTLep8DrXRg3RWIRQUo7GAXcUQiFyugLSSK+O5j2Gc6mG9vB8vh9m7JzRTnPErJy1p5oysMdlGWnvYU5GbLSGkMgAdZpnMjDxWPaCqEjXCre+ncd1OuxIiOWm/2XKybLaMLr2HEfT7qu6Il8DsOz3APiPguy7V60fYU5I9KrsabqKcO9uz4LSl7CvJuyp5S3PKyVwfZkz25juwpyJ7syXVkT0H2ZE+uI3sKsid7ch35//rnRjpLl0NzAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEwLTE0VDAyOjI1OjQzKzAwOjAwUdcJ2QAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMC0xNFQwMjoyNTo0MyswMDowMCCKsWUAAAAASUVORK5CYII=","iconCss":"","description":"","externalJs":[],"externalCss":[],"assets":{"images":{}},"configuration":{},"i18nResources":{"zh-CN":{},"zh-TW":{},"en-US":{}},"capabilities":{"dataBinding":{"dataRoles":[{"name":"values","displayNameKey":"数值","kind":"value"},{"name":"province","displayNameKey":"省份","kind":"grouping"}],"dataViewMappings":[{"plain":{"required":[{"values":{"min":1},"province":{"min":1}}]}}],"conditions":[{"province":{"max":1}}]},"options":{"visual":[{"displayName":"自定义属性","properties":[{"name":"showPieces","type":"Boolean","displayName":"是否采用分段填充","defaultValue":true},{"name":"showVisualMap","type":"Boolean","displayName":"是否显示分段图例","defaultValue":true},{"name":"textColor","type":"Color","displayName":"图例字体颜色","defaultValue":"#ffffff"},{"name":"pieces","type":"LongText","displayName":"分段颜色","defaultValue":"[{\"gt\": 10000,\"label\": \">10000\"},{\"gte\": 1000,\"lte\": 10000,\"label\": \"1000 - 10000\"},{\"gte\": 100,\"lt\": 1000,\"label\": \"100 - 999\"},{\"gte\": 1,\"lt\": 100,\"label\": \"1 - 99\"},{\"lte\": 0,\"label\": \"0\"}]"},{"name":"piecesColor","type":"Palette","displayName":"调色板","inheritFrom":"dashboard.palette"},{"name":"mapColor","type":"Color","displayName":"地图填充颜色","defaultValue":"#2d8080"},{"name":"borderColor","type":"Color","displayName":"地图边界颜色","defaultValue":"rgba(147, 235, 248, 1)"},{"name":"distance","type":"Integer","displayName":"视角距离","defaultValue":95},{"name":"alpha","type":"Integer","displayName":"X轴旋转角度","defaultValue":55},{"name":"beta","type":"Integer","displayName":"Y轴旋转角度","defaultValue":5}]},{"type":"interaction"},{"type":"title"},{"type":"appearance"}]},"actions":[{"type":"focus"},{"type":"export"},{"type":"filter"},{"type":"sort"},{"type":"rank"},{"type":"convertVisual"},{"type":"annotation"}],"analysis":[]},"jsContent":"!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.WynVisualClass=e():t.WynVisualClass=e()}(window,function(){return i={},r.m=n=[function(t,e){var s={\"[object Function]\":1,\"[object RegExp]\":1,\"[object Date]\":1,\"[object Error]\":1,\"[object CanvasGradient]\":1,\"[object CanvasPattern]\":1,\"[object Image]\":1,\"[object Canvas]\":1},l={\"[object Int8Array]\":1,\"[object Uint8Array]\":1,\"[object Uint8ClampedArray]\":1,\"[object Int16Array]\":1,\"[object Uint16Array]\":1,\"[object Int32Array]\":1,\"[object Uint32Array]\":1,\"[object Float32Array]\":1,\"[object Float64Array]\":1},u=Object.prototype.toString,n=Array.prototype,o=n.forEach,h=n.filter,i=n.slice,c=n.map,d=n.reduce,r={};function f(t){if(null==t||\"object\"!=typeof t)return t;var e=t,n=u.call(t);if(\"[object Array]\"===n){if(!S(t)){e=[];for(var i=0,r=t.length;i<r;i++)e[i]=f(t[i])}}else if(l[n]){if(!S(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(i=0,r=t.length;i<r;i++)e[i]=f(t[i])}}}else if(!s[n]&&!S(t)&&!w(t))for(var o in e={},t)t.hasOwnProperty(o)&&(e[o]=f(t[o]));return e}function p(t,e,n){if(!x(e)||!x(t))return n?f(e):t;for(var i in e){var r,a;e.hasOwnProperty(i)&&(r=t[i],!x(a=e[i])||!x(r)||_(a)||_(r)||w(a)||w(r)||b(a)||b(r)||S(a)||S(r)?!n&&i in t||(t[i]=f(e[i])):p(r,a,n))}return t}function a(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function g(){return r.createCanvas()}var m;function v(t,e,n){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function y(t,e){var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}function _(t){return\"[object Array]\"===u.call(t)}function x(t){var e=typeof t;return\"function\"==e||!!t&&\"object\"==e}function b(t){return!!s[u.call(t)]}function w(t){return\"object\"==typeof t&&\"number\"==typeof t.nodeType&&\"object\"==typeof t.ownerDocument}r.createCanvas=function(){return document.createElement(\"canvas\")};var T=\"__ec_primitive__\";function S(t){return t[T]}function M(t){var n=_(t);this.data={};var i=this;function e(t,e){n?i.set(t,e):i.set(e,t)}t instanceof M?t.each(e):t&&v(t,e)}M.prototype={constructor:M,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=y(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}},e.$override=function(t,e){\"createCanvas\"===t&&(m=null),r[t]=e},e.clone=f,e.merge=p,e.mergeAll=function(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=p(n,t[i],e);return n},e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.defaults=a,e.createCanvas=g,e.getContext=function(){return m=m||g().getContext(\"2d\")},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},e.inherits=function(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);(t.prototype.constructor=t).superClass=e},e.mixin=function(t,e,n){a(t=\"prototype\"in t?t.prototype:t,e=\"prototype\"in e?e.prototype:e,n)},e.isArrayLike=function(t){if(t)return\"string\"!=typeof t&&\"number\"==typeof t.length},e.each=v,e.map=function(t,e,n){if(t&&e){if(t.map&&t.map===c)return t.map(e,n);for(var i=[],r=0,a=t.length;r<a;r++)i.push(e.call(n,t[r],r,t));return i}},e.reduce=function(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===d)return t.reduce(e,n,i);for(var r=0,a=t.length;r<a;r++)n=e.call(i,n,t[r],r,t);return n}},e.filter=function(t,e,n){if(t&&e){if(t.filter&&t.filter===h)return t.filter(e,n);for(var i=[],r=0,a=t.length;r<a;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}},e.find=function(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]},e.bind=y,e.curry=function(t){var e=i.call(arguments,1);return function(){return t.apply(this,e.concat(i.call(arguments)))}},e.isArray=_,e.isFunction=function(t){return\"function\"==typeof t},e.isString=function(t){return\"[object String]\"===u.call(t)},e.isObject=x,e.isBuiltInObject=b,e.isTypedArray=function(t){return!!l[u.call(t)]},e.isDom=w,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,n){return null!=t?t:null!=e?e:n},e.slice=function(){return Function.call.apply(i,arguments)},e.normalizeCssArray=function(t){if(\"number\"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:\"function\"==typeof t.trim?t.trim():t.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")},e.setAsPrimitive=function(t){t[T]=!0},e.isPrimitive=S,e.createHashMap=function(t){return new M(t)},e.concatArray=function(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];for(var r=t.length,i=0;i<e.length;i++)n[i+r]=e[i];return n},e.noop=function(){}},function(t,e,n){n(5).__DEV__;var m=n(68),v=n(0),l=n(22),y=n(11),h=n(87),c=n(34),s=n(131),d=n(144),f=n(19),u=n(240),p=n(241),i=n(243),r=n(13),a=n(14),g=n(74),_=n(23),x=n(2),b=n(4),w=n(29).throttle,o=n(244),T=n(245),S=n(246),M=n(247),A=n(248),I=n(249);n(145);var C=n(96),D=v.assert,E=v.each,L=v.isFunction,P=v.isObject,N=r.parseClassType,O={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},R=\"__flagInMainProcess\",k=\"__optionUpdated\",z=/^[a-zA-Z0-9_]+$/;function B(i,r){return function(t,e,n){r||!this._disposed?(t=t&&t.toLowerCase(),c.prototype[i].call(this,t,e,n)):this.id}}function F(){c.call(this)}function V(t,e,n){n=n||{},\"string\"==typeof e&&(e=ht[e]),this.id,this.group,this._dom=t;var i=this._zr=m.init(t,{renderer:n.renderer||\"canvas\",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=w(v.bind(i.flush,i),17),(e=v.clone(e))&&p(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new f;var r,a,o,s,l=this._api=(a=(r=this)._coordSysMgr,v.extend(new d(r),{getCoordinateSystems:v.bind(a.getCoordinateSystems,a),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return r._model.getComponent(e.mainType,e.index);t=t.parent}}}));function u(t,e){return t.__prio-e.__prio}h(ut,u),h(ot,u),this._scheduler=new M(this,l,ot,ut),c.call(this,this._ecEventProcessor=new it),this._messageCenter=new F,this._initEvents(),this.resize=v.bind(this.resize,this),this._pendingActions=[],i.animation.on(\"frame\",this._onframe,this),s=this,(o=i).on(\"rendered\",function(){s.trigger(\"rendered\"),!o.animation.isFinished()||s[k]||s._scheduler.unfinished||s._pendingActions.length||s.trigger(\"finished\")}),v.setAsPrimitive(this)}F.prototype.on=B(\"on\",!0),F.prototype.off=B(\"off\",!0),F.prototype.one=B(\"one\",!0),v.mixin(F,c);var G=V.prototype;function H(t,e,n){if(this._disposed)this.id;else{var i,r=this._model,a=this._coordSysMgr.getCoordinateSystems();e=b.parseFinder(r,e);for(var o=0;o<a.length;o++){var s=a[o];if(s[t]&&null!=(i=s[t](r,e,n)))return i}}}G._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[k]){var e=this[k].silent;this[R]=!0,W(this),U.update.call(this),this[R]=!1,this[k]=!1,q.call(this,e),Y.call(this,e)}else if(t.unfinished){var n=1,i=this._model,r=this._api;t.unfinished=!1;do{var a=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),X(this,i),t.performVisualTasks(i),$(this,this._model,0,\"remain\"),n-=new Date-a}while(0<n&&t.unfinished);t.unfinished||this._zr.flush()}}},G.getDom=function(){return this._dom},G.getZr=function(){return this._zr},G.setOption=function(t,e,n){var i,r,a,o;this._disposed?this.id:(P(e)&&(n=e.lazyUpdate,i=e.silent,e=e.notMerge),this[R]=!0,this._model&&!e||(r=new u(this._api),a=this._theme,(o=this._model=new s).scheduler=this._scheduler,o.init(null,null,a,r)),this._model.setOption(t,st),n?(this[k]={silent:i},this[R]=!1):(W(this),U.update.call(this),this._zr.flush(),this[k]=!1,this[R]=!1,q.call(this,i),Y.call(this,i)))},G.setTheme=function(){console.error(\"ECharts#setTheme() is DEPRECATED in ECharts 3.0\")},G.getModel=function(){return this._model},G.getOption=function(){return this._model&&this._model.getOption()},G.getWidth=function(){return this._zr.getWidth()},G.getHeight=function(){return this._zr.getHeight()},G.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},G.getRenderedCanvas=function(t){if(y.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get(\"backgroundColor\"),this._zr.painter.getRenderedCanvas(t)},G.getSvgDataURL=function(){if(y.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return v.each(e,function(t){t.stopAnimation(!0)}),t.painter.toDataURL()}},G.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;E(e,function(t){n.eachComponent({mainType:t},function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)})});var a=\"svg\"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL(\"image/\"+(t&&t.type||\"png\"));return E(i,function(t){t.group.ignore=!1}),a}this.id},G.getConnectedDataURL=function(r){if(this._disposed)this.id;else if(y.canvasSupported){var a=\"svg\"===r.type,o=this.group,s=Math.min,l=Math.max;if(ft[o]){var u=1/0,h=1/0,c=-1/0,d=-1/0,f=[],n=r&&r.pixelRatio||1;v.each(dt,function(t,e){var n,i;t.group===o&&(n=a?t.getZr().painter.getSvgDom().innerHTML:t.getRenderedCanvas(v.clone(r)),i=t.getDom().getBoundingClientRect(),u=s(i.left,u),h=s(i.top,h),c=l(i.right,c),d=l(i.bottom,d),f.push({dom:n,left:i.left,top:i.top}))});var t=(c*=n)-(u*=n),e=(d*=n)-(h*=n),i=v.createCanvas(),p=m.init(i,{renderer:a?\"svg\":\"canvas\"});if(p.resize({width:t,height:e}),a){var g=\"\";return E(f,function(t){var e=t.left-u,n=t.top-h;g+='<g transform=\"translate('+e+\",\"+n+')\">'+t.dom+\"</g>\"}),p.painter.getSvgRoot().innerHTML=g,r.connectedBackgroundColor&&p.painter.setBackgroundColor(r.connectedBackgroundColor),p.refreshImmediately(),p.painter.toDataURL()}return r.connectedBackgroundColor&&p.add(new x.Rect({shape:{x:0,y:0,width:t,height:e},style:{fill:r.connectedBackgroundColor}})),E(f,function(t){var e=new x.Image({style:{x:t.left*n-u,y:t.top*n-h,image:t.dom}});p.add(e)}),p.refreshImmediately(),i.toDataURL(\"image/\"+(r&&r.type||\"png\"))}return this.getDataURL(r)}},G.convertToPixel=v.curry(H,\"convertToPixel\"),G.convertFromPixel=v.curry(H,\"convertFromPixel\"),G.containPixel=function(t,r){if(!this._disposed){var a,e=this._model;return t=b.parseFinder(e,t),v.each(t,function(t,i){0<=i.indexOf(\"Models\")&&v.each(t,function(t){var e,n=t.coordinateSystem;n&&n.containPoint?a|=!!n.containPoint(r):\"seriesModels\"!==i||(e=this._chartsMap[t.__viewId])&&e.containPoint&&(a|=e.containPoint(r,t))},this)},this),!!a}this.id},G.getVisual=function(t,e){var n=this._model,i=(t=b.parseFinder(n,t,{defaultMainType:\"series\"})).seriesModel.getData(),r=t.hasOwnProperty(\"dataIndexInside\")?t.dataIndexInside:t.hasOwnProperty(\"dataIndex\")?i.indexOfRawIndex(t.dataIndex):null;return null!=r?i.getItemVisual(r,e):i.getVisual(e)},G.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},G.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var U={prepareAndUpdate:function(t){W(this),U.update.call(this,t)},update:function(t){var e,n,i=this._model,r=this._api,a=this._zr,o=this._coordSysMgr,s=this._scheduler;i&&(s.restoreData(i,t),s.performSeriesTasks(i),o.create(i,r),s.performDataProcessorTasks(i,t),X(this,i),o.update(i,r),Q(i),s.performVisualTasks(i,t),J(this,i,r,t),n=i.get(\"backgroundColor\")||\"transparent\",y.canvasSupported?a.setBackgroundColor(n):(e=l.parse(n),n=l.stringify(e,\"rgb\"),0===e[3]&&(n=\"transparent\")),tt(i,r))},updateTransform:function(r){var a,i,o=this._model,s=this,l=this._api;o&&(a=[],o.eachComponent(function(t,e){var n,i=s.getViewOfComponentModel(e);i&&i.__alive&&(!i.updateTransform||(n=i.updateTransform(e,o,l,r))&&n.update)&&a.push(i)}),i=v.createHashMap(),o.eachSeries(function(t){var e,n=s._chartsMap[t.__viewId];(!n.updateTransform||(e=n.updateTransform(t,o,l,r))&&e.update)&&i.set(t.uid,1)}),Q(o),this._scheduler.performVisualTasks(o,r,{setDirty:!0,dirtyMap:i}),$(s,o,0,r,i),tt(o,this._api))},updateView:function(t){var e=this._model;e&&(_.markUpdateMethod(t,\"updateView\"),Q(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),J(this,this._model,this._api,t),tt(e,this._api))},updateVisual:function(t){U.update.call(this,t)},updateLayout:function(t){U.update.call(this,t)}};function W(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),K(t,\"component\",e,n),K(t,\"chart\",e,n),n.plan()}function j(e,n,i,r,t){var a,o,s,l=e._model;function u(t){t&&t.__alive&&t[n]&&t[n](t.__model,l,e._api,i)}r?((a={})[r+\"Id\"]=i[r+\"Id\"],a[r+\"Index\"]=i[r+\"Index\"],a[r+\"Name\"]=i[r+\"Name\"],o={mainType:r,query:a},t&&(o.subType=t),null!=(s=i.excludeSeriesId)&&(s=v.createHashMap(b.normalizeToArray(s))),l&&l.eachComponent(o,function(t){s&&null!=s.get(t.id)||u(e[\"series\"===r?\"_chartsMap\":\"_componentsMap\"][t.__viewId])},e)):E(e._componentsViews.concat(e._chartsViews),u)}function X(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,n[t.__viewId])})}function Z(e,t){var n=e.type,i=e.escapeConnect,r=rt[n],a=r.actionInfo,o=(s=(a.update||\"update\").split(\":\")).pop(),s=null!=s[0]&&N(s[0]);this[R]=!0;var l=[e],u=!1;e.batch&&(u=!0,l=v.map(e.batch,function(t){return(t=v.defaults(v.extend({},t),e)).batch=null,t}));var h,c=[],d=\"highlight\"===n||\"downplay\"===n;E(l,function(t){(h=(h=r.action(t,this._model,this._api))||v.extend({},t)).type=a.event||h.type,c.push(h),d?j(this,o,t,\"series\"):s&&j(this,o,t,s.main,s.sub)},this),\"none\"===o||d||s||(this[k]?(W(this),U.update.call(this,e),this[k]=!1):U[o].call(this,e)),h=u?{type:a.event||n,escapeConnect:i,batch:c}:c[0],this[R]=!1,t||this._messageCenter.trigger(h.type,h)}function q(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Z.call(this,n,t)}}function Y(t){t||this.trigger(\"updated\")}function K(t,e,r,a){for(var o=\"component\"===e,s=o?t._componentsViews:t._chartsViews,l=o?t._componentsMap:t._chartsMap,u=t._zr,h=t._api,n=0;n<s.length;n++)s[n].__alive=!1;function i(t){var e,n=\"_ec_\"+t.id+\"_\"+t.type,i=l[n];i||(e=N(t.type),(i=new(o?g.getClass(e.main,e.sub):_.getClass(e.sub))).init(r,h),l[n]=i,s.push(i),u.add(i.group)),t.__viewId=i.__id=n,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},o||a.prepareView(i,t,r,h)}o?r.eachComponent(function(t,e){\"series\"!==t&&i(e)}):r.eachSeries(i);for(n=0;n<s.length;){var c=s[n];c.__alive?n++:(o||c.renderTask.dispose(),u.remove(c.group),c.dispose(r,h),s.splice(n,1),delete l[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function Q(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function J(t,e,n,i){var r,a,o,s,l;r=t,a=e,o=n,s=i,E(l||r._componentsViews,function(t){var e=t.__model;t.render(e,a,o,s),nt(e,t)}),E(t._chartsViews,function(t){t.__alive=!1}),$(t,e,0,i),E(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function $(a,t,e,o,s){var l,n,i,r,u,h=a._scheduler;t.eachSeries(function(t){var e=a._chartsMap[t.__viewId];e.__alive=!0;var n,i,r=e.renderTask;h.updatePayload(r,o),s&&s.get(t.uid)&&r.dirty(),l|=r.perform(h.getPerformArgs(r)),e.group.silent=!!t.get(\"silent\"),nt(t,e),n=e,i=t.get(\"blendMode\")||null,n.group.traverse(function(t){t.isGroup||t.style.blend!==i&&t.setStyle(\"blend\",i),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle(\"blend\",i)})})}),h.unfinished|=l,i=t,r=(n=a)._zr.storage,u=0,r.traverse(function(t){u++}),u>i.get(\"hoverLayerThreshold\")&&!y.node&&i.eachSeries(function(t){var e;t.preventUsingHoverLayer||(e=n._chartsMap[t.__viewId]).__alive&&e.group.traverse(function(t){t.useHoverLayer=!0})}),T(a._zr.dom,t)}function tt(e,n){E(lt,function(t){t(e,n)})}G.resize=function(t){var e,n,i;this._disposed?this.id:(this._zr.resize(t),e=this._model,this._loadingFX&&this._loadingFX.resize(),e&&(n=e.resetOption(\"media\"),i=t&&t.silent,this[R]=!0,n&&W(this),U.update.call(this),this[R]=!1,q.call(this,i),Y.call(this,i)))},G.showLoading=function(t,e){var n,i;this._disposed?this.id:(P(t)&&(e=t,t=\"\"),t=t||\"default\",this.hideLoading(),ct[t]&&(n=ct[t](this._api,e),i=this._zr,this._loadingFX=n,i.add(n)))},G.hideLoading=function(){this._disposed?this.id:(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},G.makeActionFromEvent=function(t){var e=v.extend({},t);return e.type=at[t.type],e},G.dispatchAction=function(t,e){this._disposed?this.id:(P(e)||(e={silent:!!e}),rt[t.type]&&this._model&&(this[R]?this._pendingActions.push(t):(Z.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&y.browser.weChat&&this._throttledZrFlush(),q.call(this,e.silent),Y.call(this,e.silent))))},G.appendData=function(t){var e;this._disposed?this.id:(e=t.seriesIndex,this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0)},G.on=B(\"on\",!1),G.off=B(\"off\",!1),G.one=B(\"one\",!1);var et=[\"click\",\"dblclick\",\"mouseover\",\"mouseout\",\"mousemove\",\"mousedown\",\"mouseup\",\"globalout\",\"contextmenu\"];function nt(t,e){var n=t.get(\"z\"),i=t.get(\"zlevel\");e.group.traverse(function(t){\"group\"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))})}function it(){this.eventInfo}G._initEvents=function(){E(et,function(u){function t(t){var e,n,i,r,a,o,s=this.getModel(),l=t.target;\"globalout\"===u?n={}:l&&null!=l.dataIndex?n=(e=l.dataModel||s.getSeriesByIndex(l.seriesIndex))&&e.getDataParams(l.dataIndex,l.dataType,l)||{}:l&&l.eventData&&(n=v.extend({},l.eventData)),n&&(i=n.componentType,r=n.componentIndex,\"markLine\"!==i&&\"markPoint\"!==i&&\"markArea\"!==i||(i=\"series\",r=n.seriesIndex),o=(a=i&&null!=r&&s.getComponent(i,r))&&this[\"series\"===a.mainType?\"_chartsMap\":\"_componentsMap\"][a.__viewId],n.event=t,n.type=u,this._ecEventProcessor.eventInfo={targetEl:l,packedEvent:n,model:a,view:o},this.trigger(u,n))}t.zrEventfulCallAtLast=!0,this._zr.on(u,t,this)},this),E(at,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},G.isDisposed=function(){return this._disposed},G.clear=function(){this._disposed?this.id:this.setOption({series:[]},!0)},G.dispose=function(){var e,n;this._disposed?this.id:(this._disposed=!0,b.setAttribute(this.getDom(),mt,\"\"),e=this._api,n=this._model,E(this._componentsViews,function(t){t.dispose(n,e)}),E(this._chartsViews,function(t){t.dispose(n,e)}),this._zr.dispose(),delete dt[this.id])},v.mixin(V,c),it.prototype={constructor:it,normalizeQuery:function(t){var e,s,l,u={},h={},c={};return v.isString(t)?(e=N(t),u.mainType=e.main||null,u.subType=e.sub||null):(s=[\"Index\",\"Name\",\"Id\"],l={name:1,dataIndex:1,dataType:1},v.each(t,function(t,e){for(var n=!1,i=0;i<s.length;i++){var r,a=s[i],o=e.lastIndexOf(a);0<o&&o===e.length-a.length&&(\"data\"!==(r=e.slice(0,o))&&(u.mainType=r,u[a.toLowerCase()]=t,n=!0))}l.hasOwnProperty(e)&&(h[e]=t,n=!0),n||(c[e]=t)})),{cptQuery:u,dataQuery:h,otherQuery:c}},filter:function(t,e,n){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,a=i.packedEvent,o=i.model,s=i.view;if(!o||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,o,\"mainType\")&&h(l,o,\"subType\")&&h(l,o,\"index\",\"componentIndex\")&&h(l,o,\"name\")&&h(l,o,\"id\")&&h(u,a,\"name\")&&h(u,a,\"dataIndex\")&&h(u,a,\"dataType\")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,a));function h(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},afterTrigger:function(){this.eventInfo=null}};var rt={},at={},ot=[],st=[],lt=[],ut=[],ht={},ct={},dt={},ft={},pt=+new Date,gt=+new Date,mt=\"_echarts_instance_\";function vt(t){ft[t]=!1}var yt=vt;function _t(t){return dt[b.getAttribute(t,mt)]}function xt(t,e){ht[t]=e}function bt(t){st.push(t)}function wt(t,e){Mt(ot,t,e,1e3)}function Tt(t,e,n){\"function\"==typeof e&&(n=e,e=\"\");var i=P(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,D(z.test(i)&&z.test(e)),rt[i]||(rt[i]={action:n,actionInfo:t}),at[e]=i}function St(t,e){Mt(ut,t,e,3e3,\"visual\")}function Mt(t,e,n,i,r){(L(e)||P(e))&&(n=e,e=i);var a=M.wrapStageHandler(n,r);return a.__prio=e,a.__raw=n,t.push(a),a}function At(t,e){ct[t]=e}St(2e3,o),bt(p),wt(900,i),At(\"default\",S),Tt({type:\"highlight\",event:\"highlight\",update:\"highlight\"},v.noop),Tt({type:\"downplay\",event:\"downplay\",update:\"downplay\"},v.noop),xt(\"light\",A),xt(\"dark\",I);e.version=\"4.8.0\",e.dependencies={zrender:\"4.3.1\"},e.PRIORITY=O,e.init=function(t,e,n){var i=_t(t);if(i)return i;var r,a,o=new V(t,e,n);function s(t,e){for(var n=0;n<t.length;n++){t[n][a]=e}}return o.id=\"ec_\"+pt++,dt[o.id]=o,b.setAttribute(t,mt,o.id),r=o,a=\"__connectUpdateStatus\",E(at,function(t,e){r._messageCenter.on(e,function(t){if(ft[r.group]&&0!==r[a]){if(t&&t.escapeConnect)return;var e=r.makeActionFromEvent(t),n=[];E(dt,function(t){t!==r&&t.group===r.group&&n.push(t)}),s(n,0),E(n,function(t){1!==t[a]&&t.dispatchAction(e)}),s(n,2)}})}),o},e.connect=function(e){var t;return v.isArray(e)&&(t=e,e=null,E(t,function(t){null!=t.group&&(e=t.group)}),e=e||\"g_\"+gt++,E(t,function(t){t.group=e})),ft[e]=!0,e},e.disConnect=vt,e.disconnect=yt,e.dispose=function(t){\"string\"==typeof t?t=dt[t]:t instanceof V||(t=_t(t)),t instanceof V&&!t.isDisposed()&&t.dispose()},e.getInstanceByDom=_t,e.getInstanceById=function(t){return dt[t]},e.registerTheme=xt,e.registerPreprocessor=bt,e.registerProcessor=wt,e.registerPostUpdate=function(t){lt.push(t)},e.registerAction=Tt,e.registerCoordinateSystem=function(t,e){f.register(t,e)},e.getCoordinateSystemDimensions=function(t){var e=f.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},e.registerLayout=function(t,e){Mt(ut,t,e,1e3,\"layout\")},e.registerVisual=St,e.registerLoading=At,e.extendComponentModel=function(t){return r.extend(t)},e.extendComponentView=function(t){return g.extend(t)},e.extendSeriesModel=function(t){return a.extend(t)},e.extendChartView=function(t){return _.extend(t)},e.setCanvasCreator=function(t){v.$override(\"createCanvas\",t)},e.registerMap=function(t,e,n){C.registerMap(t,e,n)},e.getMap=function(t){var e=C.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}},e.dataTool={};var It=n(147);!function(){for(var t in It)It.hasOwnProperty(t)&&(e[t]=It[t])}()},function(t,e,n){var m=n(0),a=n(132),i=n(22),r=n(15),s=n(8),o=n(10),l=n(69),u=n(43);e.Image=u;var h=n(35);e.Group=h;var c=n(36);e.Text=c;var d=n(137);e.Circle=d;var f=n(229);e.Sector=f;var p=n(230);e.Ring=p;var g=n(139);e.Polygon=g;var v=n(141);e.Polyline=v;var y=n(90);e.Rect=y;var _=n(142);e.Line=_;var x=n(233);e.BezierCurve=x;var b=n(234);e.Arc=b;var w=n(235);e.CompoundPath=w;var T=n(92);e.LinearGradient=T;var S=n(236);e.RadialGradient=S;var M=n(9);e.BoundingRect=M;var A=n(93);e.IncrementalDisplayable=A;var I=n(91),C=Math.max,D=Math.min,E={},L=1,P=\"emphasis\",N=\"normal\",O=1,R={},k={};function z(t,e){k[t]=e}function B(t,e,n,i){var r=a.createFromString(t,e);return n&&(\"center\"===i&&(n=F(n,r.getBoundingRect())),G(r,n)),r}function F(t,e){var n=e.width/e.height,i=t.height*n,r=i<=t.width?t.height:(i=t.width)/n;return{x:t.x+t.width/2-i/2,y:t.y+t.height/2-r/2,width:i,height:r}}var V=a.mergePath;function G(t,e){var n;t.applyTransform&&(n=t.getBoundingRect().calculateTransform(e),t.applyTransform(n))}var H=I.subPixelOptimize;function U(t){return null!=t&&\"none\"!==t}var W=m.createHashMap(),j=0;function X(t){var e,n,i,r,a=t.__hoverStl;a&&!t.__highlighted&&(e=t.__zr,n=t.useHoverLayer&&e&&\"canvas\"===e.painter.type,t.__highlighted=n?\"layer\":\"plain\",t.isGroup||!e&&t.useHoverLayer||(r=(i=t).style,n&&(r=(i=e.addHover(t)).style),lt(r),n||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var i=t.style;for(var r in e)null!=e[r]&&(n[r]=i[r]);n.fill=i.fill,n.stroke=i.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}(i),r.extendFrom(a),Z(r,a,\"fill\"),Z(r,a,\"stroke\"),st(r),n||(t.dirty(!1),t.z2+=L)))}function Z(t,e,n){!U(e[n])&&U(t[n])&&(t[n]=function(t){if(\"string\"!=typeof t)return t;var e=W.get(t);return e||(e=i.lift(t,-.1),j<1e4&&(W.set(t,e),j++)),e}(t[n]))}function q(t){var e,n,i,r=t.__highlighted;r&&(t.__highlighted=!1,t.isGroup||(\"layer\"===r?t.__zr&&t.__zr.removeHover(t):(e=t.style,(n=t.__cachedNormalStl)&&(lt(e),t.setStyle(n),st(e)),null!=(i=t.__cachedNormalZ2)&&t.z2-i===L&&(t.z2=i))))}function Y(t,e,n){var i,r=N,a=N;t.__highlighted&&(r=P,i=!0),e(t,n),t.__highlighted&&(a=P,i=!0),t.isGroup&&t.traverse(function(t){t.isGroup||e(t,n)}),i&&t.__highDownOnUpdate&&t.__highDownOnUpdate(r,a)}function K(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,q(t),X(t))}function Q(t){et(this,t)||this.__highByOuter||Y(this,X)}function J(t){et(this,t)||this.__highByOuter||Y(this,q)}function $(t){this.__highByOuter|=1<<(t||0),Y(this,X)}function tt(t){(this.__highByOuter&=~(1<<(t||0)))||Y(this,q)}function et(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function nt(t,e){var n,i=!1===e;t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,i&&!t.__highDownDispatcher||(t[n=i?\"off\":\"on\"](\"mouseover\",Q)[n](\"mouseout\",J),t[n](\"emphasis\",$)[n](\"normal\",tt),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!i)}function it(t,e,n,i,r){return rt(t,e,i,r),n&&m.extend(t,n),t}function rt(t,e,n,i){var r,a;(n=n||E).isRectText&&(n.getTextPosition?r=n.getTextPosition(e,i):\"outside\"===(r=e.getShallow(\"position\")||(i?null:\"inside\"))&&(r=\"top\"),t.textPosition=r,t.textOffset=e.getShallow(\"offset\"),null!=(a=e.getShallow(\"rotate\"))&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=m.retrieve2(e.getShallow(\"distance\"),i?null:5));var o,s,l=e.ecModel,u=l&&l.option.textStyle,h=function(t){var e;for(;t&&t!==t.ecModel;){var n=(t.option||E).rich;if(n)for(var i in e=e||{},n)n.hasOwnProperty(i)&&(e[i]=1);t=t.parentModel}return e}(e);if(h)for(var c in o={},h){h.hasOwnProperty(c)&&(s=e.getModel([\"rich\",c]),at(o[c]={},s,u,n,i))}return t.rich=o,at(t,e,u,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function at(t,e,n,i,r,a){n=!r&&n||E,t.textFill=ot(e.getShallow(\"color\"),i)||n.color,t.textStroke=ot(e.getShallow(\"textBorderColor\"),i)||n.textBorderColor,t.textStrokeWidth=m.retrieve2(e.getShallow(\"textBorderWidth\"),n.textBorderWidth),r||(a&&(t.insideRollbackOpt=i,st(t)),null==t.textFill&&(t.textFill=i.autoColor)),t.fontStyle=e.getShallow(\"fontStyle\")||n.fontStyle,t.fontWeight=e.getShallow(\"fontWeight\")||n.fontWeight,t.fontSize=e.getShallow(\"fontSize\")||n.fontSize,t.fontFamily=e.getShallow(\"fontFamily\")||n.fontFamily,t.textAlign=e.getShallow(\"align\"),t.textVerticalAlign=e.getShallow(\"verticalAlign\")||e.getShallow(\"baseline\"),t.textLineHeight=e.getShallow(\"lineHeight\"),t.textWidth=e.getShallow(\"width\"),t.textHeight=e.getShallow(\"height\"),t.textTag=e.getShallow(\"tag\"),a&&i.disableBox||(t.textBackgroundColor=ot(e.getShallow(\"backgroundColor\"),i),t.textPadding=e.getShallow(\"padding\"),t.textBorderColor=ot(e.getShallow(\"borderColor\"),i),t.textBorderWidth=e.getShallow(\"borderWidth\"),t.textBorderRadius=e.getShallow(\"borderRadius\"),t.textBoxShadowColor=e.getShallow(\"shadowColor\"),t.textBoxShadowBlur=e.getShallow(\"shadowBlur\"),t.textBoxShadowOffsetX=e.getShallow(\"shadowOffsetX\"),t.textBoxShadowOffsetY=e.getShallow(\"shadowOffsetY\")),t.textShadowColor=e.getShallow(\"textShadowColor\")||n.textShadowColor,t.textShadowBlur=e.getShallow(\"textShadowBlur\")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow(\"textShadowOffsetX\")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow(\"textShadowOffsetY\")||n.textShadowOffsetY}function ot(t,e){return\"auto\"!==t?t:e&&e.autoColor?e.autoColor:null}function st(t){var e,n,i,r,a,o,s=t.textPosition,l=t.insideRollbackOpt;l&&null==t.textFill&&(n=l.autoColor,i=l.isRectText,o=!(a=!1!==(r=l.useInsideStyle)&&(!0===r||i&&s&&\"string\"==typeof s&&0<=s.indexOf(\"inside\")))&&null!=n,(a||o)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),a&&(t.textFill=\"#fff\",null==t.textStroke&&(t.textStroke=n,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),o&&(t.textFill=n)),t.insideRollback=e}function lt(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function ut(t,e,n,i,r,a){var o,s,l,u;\"function\"==typeof r&&(a=r,r=null),i&&i.isAnimationEnabled()?(o=t?\"Update\":\"\",s=i.getShallow(\"animationDuration\"+o),l=i.getShallow(\"animationEasing\"+o),\"function\"==typeof(u=i.getShallow(\"animationDelay\"+o))&&(u=u(r,i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null)),\"function\"==typeof s&&(s=s(r)),0<s?e.animateTo(n,s,u||0,l,a,!!a):(e.stopAnimation(),e.attr(n),a&&a())):(e.stopAnimation(),e.attr(n),a&&a())}function ht(t,e,n,i,r){ut(!0,t,e,n,i,r)}function ct(t,e,n){return e&&!m.isArrayLike(e)&&(e=l.getLocalTransform(e)),n&&(e=r.invert([],e)),s.applyTransform([],t,e)}function dt(t,e,n,i,r,a,o,s){var l,u=n-t,h=i-e,c=o-r,d=s-a,f=c*h-u*d;if((l=f)<=1e-6&&-1e-6<=l)return!1;var p=t-r,g=e-a,m=(p*h-u*g)/f;if(m<0||1<m)return!1;var v=(p*d-c*g)/f;return!(v<0||1<v)}z(\"circle\",d),z(\"sector\",f),z(\"ring\",p),z(\"polygon\",g),z(\"polyline\",v),z(\"rect\",y),z(\"line\",_),z(\"bezierCurve\",x),z(\"arc\",b),e.Z2_EMPHASIS_LIFT=L,e.CACHED_LABEL_STYLE_PROPERTIES={color:\"textFill\",textBorderColor:\"textStroke\",textBorderWidth:\"textStrokeWidth\"},e.extendShape=function(t){return o.extend(t)},e.extendPath=function(t,e){return a.extendFromString(t,e)},e.registerShape=z,e.getShapeClass=function(t){if(k.hasOwnProperty(t))return k[t]},e.makePath=B,e.makeImage=function(t,n,i){var r=new u({style:{image:t,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(t){var e;\"center\"===i&&(e={width:t.width,height:t.height},r.setStyle(F(n,e)))}});return r},e.mergePath=V,e.resizePath=G,e.subPixelOptimizeLine=function(t){return I.subPixelOptimizeLine(t.shape,t.shape,t.style),t},e.subPixelOptimizeRect=function(t){return I.subPixelOptimizeRect(t.shape,t.shape,t.style),t},e.subPixelOptimize=H,e.setElementHoverStyle=K,e.setHoverStyle=function(t,e){nt(t,!0),Y(t,K,e)},e.setAsHighDownDispatcher=nt,e.isHighDownDispatcher=function(t){return!(!t||!t.__highDownDispatcher)},e.getHighlightDigit=function(t){var e=R[t];return null==e&&O<=32&&(e=R[t]=O++),e},e.setLabelStyle=function(t,e,n,i,r,a,o){var s,l=(r=r||E).labelFetcher,u=r.labelDataIndex,h=r.labelDimIndex,c=r.labelProp,d=n.getShallow(\"show\"),f=i.getShallow(\"show\");(d||f)&&(l&&(s=l.getFormattedLabel(u,\"normal\",null,h,c)),null==s&&(s=m.isFunction(r.defaultText)?r.defaultText(u,r):r.defaultText));var p=d?s:null,g=f?m.retrieve2(l?l.getFormattedLabel(u,\"emphasis\",null,h,c):null,s):null;null==p&&null==g||(it(t,n,a,r),it(e,i,o,r,!0)),t.text=p,e.text=g},e.modifyLabelStyle=function(t,e,n){var i=t.style;e&&(lt(i),t.setStyle(e),st(i)),i=t.__hoverStl,n&&i&&(lt(i),m.extend(i,n),st(i))},e.setTextStyle=it,e.setText=function(t,e,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,rt(t,e,r,i)},e.getFont=function(t,e){var n=e&&e.getModel(\"textStyle\");return m.trim([t.fontStyle||n&&n.getShallow(\"fontStyle\")||\"\",t.fontWeight||n&&n.getShallow(\"fontWeight\")||\"\",(t.fontSize||n&&n.getShallow(\"fontSize\")||12)+\"px\",t.fontFamily||n&&n.getShallow(\"fontFamily\")||\"sans-serif\"].join(\" \"))},e.updateProps=ht,e.initProps=function(t,e,n,i,r){ut(!1,t,e,n,i,r)},e.getTransform=function(t,e){for(var n=r.identity([]);t&&t!==e;)r.mul(n,t.getLocalTransform(),n),t=t.parent;return n},e.applyTransform=ct,e.transformDirection=function(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),a=ct(a=[\"left\"===t?-i:\"right\"===t?i:0,\"top\"===t?-r:\"bottom\"===t?r:0],e,n);return Math.abs(a[0])>Math.abs(a[1])?0<a[0]?\"right\":\"left\":0<a[1]?\"bottom\":\"top\"},e.groupTransition=function(t,e,i,n){var r,a;function o(t){var e={position:s.clone(t.position),rotation:t.rotation};return t.shape&&(e.shape=m.extend({},t.shape)),e}t&&e&&(a={},t.traverse(function(t){!t.isGroup&&t.anid&&(a[t.anid]=t)}),r=a,e.traverse(function(t){var e,n;t.isGroup||!t.anid||(e=r[t.anid])&&(n=o(t),t.attr(o(e)),ht(t,n,i,t.dataIndex))}))},e.clipPointsByRect=function(t,i){return m.map(t,function(t){var e=t[0],e=C(e,i.x);e=D(e,i.x+i.width);var n=t[1],n=C(n,i.y);return[e,n=D(n,i.y+i.height)]})},e.clipRectByRect=function(t,e){var n=C(t.x,e.x),i=D(t.x+t.width,e.x+e.width),r=C(t.y,e.y),a=D(t.y+t.height,e.y+e.height);if(n<=i&&r<=a)return{x:n,y:r,width:i-n,height:a-r}},e.createIcon=function(t,e,n){var i=(e=m.extend({rectHover:!0},e)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf(\"image://\")?(i.image=t.slice(8),m.defaults(i,n),new u(e)):B(t.replace(\"path://\",\"\"),e,n,\"center\")},e.linePolygonIntersect=function(t,e,n,i,r){for(var a=0,o=r[r.length-1];a<r.length;a++){var s=r[a];if(dt(t,e,n,i,s[0],s[1],o[0],o[1]))return!0;o=s}},e.lineLineIntersect=dt},function(t,e,n){var p=n(0);var i=/^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/;function o(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return 10<=t/Math.pow(10,e)&&e++,e}e.linearMap=function(t,e,n,i){var r=e[1]-e[0],a=n[1]-n[0];if(0==r)return 0==a?n[0]:(n[0]+n[1])/2;if(i)if(0<r){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*a+n[0]},e.parsePercent=function(t,e){switch(t){case\"center\":case\"middle\":t=\"50%\";break;case\"left\":case\"top\":t=\"0%\";break;case\"right\":case\"bottom\":t=\"100%\"}return\"string\"==typeof t?t.replace(/^\\s+|\\s+$/g,\"\").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},e.round=function(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t},e.asc=function(t){return t.sort(function(t,e){return t-e}),t},e.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},e.getPrecisionSafe=function(t){var e=t.toString(),n=e.indexOf(\"e\");if(0<n){var i=+e.slice(n+1);return i<0?-i:0}var r=e.indexOf(\".\");return r<0?0:e.length-1-r},e.getPixelPrecision=function(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),a=Math.round(n(Math.abs(e[1]-e[0]))/i),o=Math.min(Math.max(-r+a,0),20);return isFinite(o)?o:20},e.getPercentWithPrecision=function(t,e,n){if(!t[e])return 0;var i=p.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var r=Math.pow(10,n),a=p.map(t,function(t){return(isNaN(t)?0:t)/i*r*100}),o=100*r,s=p.map(a,function(t){return Math.floor(t)}),l=p.reduce(s,function(t,e){return t+e},0),u=p.map(a,function(t,e){return t-s[e]});l<o;){for(var h=Number.NEGATIVE_INFINITY,c=null,d=0,f=u.length;d<f;++d)u[d]>h&&(h=u[d],c=d);++s[c],u[c]=0,++l}return s[e]/r},e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},e.isRadianAroundZero=function(t){return-1e-4<t&&t<1e-4},e.parseDate=function(t){if(t instanceof Date)return t;if(\"string\"!=typeof t)return null==t?new Date(NaN):new Date(Math.round(t));var e=i.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return\"Z\"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)},e.quantity=function(t){return Math.pow(10,o(t))},e.quantityExponent=o,e.nice=function(t,e){var n=o(t),i=Math.pow(10,n),r=t/i,a=e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10;return t=a*i,-20<=n?+t.toFixed(n<0?-n:0):t},e.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},e.reformIntervals=function(t){t.sort(function(t,e){return function t(e,n,i){return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(e.close[i]-n.close[i]==(i?-1:1)||!i&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,a=t[i].close,o=0;o<2;o++)r[o]<=e&&(r[o]=e,a[o]=o?1:1-n),e=r[o],n=a[o];r[0]===r[1]&&a[0]*a[1]!=1?t.splice(i,1):i++}return t},e.isNumeric=function(t){return 0<=t-parseFloat(t)}},function(t,e,n){var c=n(0),i=n(11),d=c.each,s=c.isObject,r=c.isArray,l=\"series\\0\";function f(t){return t instanceof Array?t:null==t?[]:[t]}function o(t){return s(t)&&t.id&&0===(t.id+\"\").indexOf(\"\\0_ec_\\0\")}var a=0;function p(t,e){return t&&t.hasOwnProperty(e)}e.normalizeToArray=f,e.defaultEmphasis=function(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var a=n[i];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}},e.TEXT_STYLE_OPTIONS=[\"fontStyle\",\"fontWeight\",\"fontSize\",\"fontFamily\",\"rich\",\"tag\",\"color\",\"textBorderColor\",\"textBorderWidth\",\"width\",\"height\",\"lineHeight\",\"align\",\"verticalAlign\",\"baseline\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\",\"textShadowColor\",\"textShadowBlur\",\"textShadowOffsetX\",\"textShadowOffsetY\",\"backgroundColor\",\"borderColor\",\"borderWidth\",\"borderRadius\",\"padding\"],e.getDataItemValue=function(t){return!s(t)||r(t)||t instanceof Date?t:t.value},e.isDataItemOption=function(t){return s(t)&&!(t instanceof Array)},e.mappingToExists=function(t,r){r=(r||[]).slice();var a=c.map(t||[],function(t,e){return{exist:t}});return d(r,function(t,e){if(s(t)){for(var n=0;n<a.length;n++)if(!a[n].option&&null!=t.id&&a[n].exist.id===t.id+\"\")return a[n].option=t,void(r[e]=null);for(n=0;n<a.length;n++){var i=a[n].exist;if(!(a[n].option||null!=i.id&&null!=t.id||null==t.name||o(t)||o(i)||i.name!==t.name+\"\"))return a[n].option=t,void(r[e]=null)}}}),d(r,function(t,e){if(s(t)){for(var n=0;n<a.length;n++){var i=a[n].exist;if(!a[n].option&&!o(i)&&null==t.id){a[n].option=t;break}}n>=a.length&&a.push({option:t})}}),a},e.makeIdAndName=function(t){var o=c.createHashMap();d(t,function(t,e){var n=t.exist;n&&o.set(n.id,t)}),d(t,function(t,e){var n=t.option;c.assert(!n||null==n.id||!o.get(n.id)||o.get(n.id)===t,\"id duplicates: \"+(n&&n.id)),n&&null!=n.id&&o.set(n.id,t),t.keyInfo||(t.keyInfo={})}),d(t,function(t,e){var n=t.exist,i=t.option,r=t.keyInfo;if(s(i)){if(r.name=null!=i.name?i.name+\"\":n?n.name:l+e,n)r.id=n.id;else if(null!=i.id)r.id=i.id+\"\";else for(var a=0;r.id=\"\\0\"+r.name+\"\\0\"+a++,o.get(r.id););o.set(r.id,t)}})},e.isNameSpecified=function(t){var e=t.name;return!(!e||!e.indexOf(l))},e.isIdInner=o,e.compressBatches=function(t,e){var n={},i={};return r(t||[],n),r(e||[],i,n),[a(n),a(i)];function r(t,e,n){for(var i=0,r=t.length;i<r;i++)for(var a=t[i].seriesId,o=f(t[i].dataIndex),s=n&&n[a],l=0,u=o.length;l<u;l++){var h=o[l];s&&s[h]?s[h]=null:(e[a]||(e[a]={}))[h]=1}}function a(t,e){var n,i=[];for(var r in t){t.hasOwnProperty(r)&&null!=t[r]&&(e?i.push(+r):(n=a(t[r],!0)).length&&i.push({seriesId:r,dataIndex:n}))}return i}},e.queryDataIndex=function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?c.isArray(t.dataIndex)?c.map(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?c.isArray(t.name)?c.map(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0},e.makeInner=function(){var e=\"__\\0ec_inner_\"+a+++\"_\"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}},e.parseFinder=function(s,l,u){var t;c.isString(l)&&((t={})[l+\"Index\"]=0,l=t);var e=u&&u.defaultMainType;!e||p(l,e+\"Index\")||p(l,e+\"Id\")||p(l,e+\"Name\")||(l[e+\"Index\"]=0);var h={};return d(l,function(t,e){var n,i,r,a,o,t=l[e];\"dataIndex\"!==e&&\"dataIndexInside\"!==e?(i=(n=e.match(/^(\\w+)(Index|Id|Name)$/)||[])[1],r=(n[2]||\"\").toLowerCase(),!i||!r||null==t||\"index\"===r&&\"none\"===t||u&&u.includeMainTypes&&c.indexOf(u.includeMainTypes,i)<0||(a={mainType:i},\"index\"===r&&\"all\"===t||(a[r]=t),o=s.queryComponents(a),h[i+\"Models\"]=o,h[i+\"Model\"]=o[0])):h[e]=t}),h},e.setAttribute=function(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n},e.getAttribute=function(t,e){return t.getAttribute?t.getAttribute(e):t[e]},e.getTooltipRenderMode=function(t){return\"auto\"===t?i.domSupported?\"html\":\"richText\":t||\"html\"},e.groupData=function(t,n){var i=c.createHashMap(),r=[];return c.each(t,function(t){var e=n(t);(i.get(e)||(r.push(e),i.set(e,[]))).push(t)}),{keys:r,buckets:i}}},function(t,n,e){(function(t){var e;\"undefined\"!=typeof window?e=window.__DEV__:void 0!==t&&(e=t.__DEV__),void 0===e&&(e=!0),n.__DEV__=e}).call(this,e(209))},function(t,e,n){var f=n(0),g=n(9),m=n(3).parsePercent,v=n(7),p=f.each,i=[\"left\",\"right\",\"top\",\"bottom\",\"width\",\"height\"],a=[[\"width\",\"left\",\"right\"],[\"height\",\"top\",\"bottom\"]];function r(h,c,d,f,p){var g=0,m=0;null==f&&(f=1/0),null==p&&(p=1/0);var v=0;c.eachChild(function(t,e){var n,i,r,a,o=t.position,s=t.getBoundingRect(),l=c.childAt(e+1),u=l&&l.getBoundingRect();v=\"horizontal\"===h?(n=s.width+(u?-u.x+s.x:0),f<(i=g+n)||t.newline?(g=0,i=n,m+=v+d,s.height):Math.max(v,s.height)):(r=s.height+(u?-u.y+s.y:0),p<(a=m+r)||t.newline?(g+=v+d,m=0,a=r,s.width):Math.max(v,s.width)),t.newline||(o[0]=g,o[1]=m,\"horizontal\"===h?g=i+d:m=a+d)})}var o=r,s=f.curry(r,\"vertical\"),l=f.curry(r,\"horizontal\");function y(t,e,n){n=v.normalizeCssArray(n||0);var i=e.width,r=e.height,a=m(t.left,i),o=m(t.top,r),s=m(t.right,i),l=m(t.bottom,r),u=m(t.width,i),h=m(t.height,r),c=n[2]+n[0],d=n[1]+n[3],f=t.aspect;switch(isNaN(u)&&(u=i-s-d-a),isNaN(h)&&(h=r-l-c-o),null!=f&&(isNaN(u)&&isNaN(h)&&(i/r<f?u=.8*i:h=.8*r),isNaN(u)&&(u=f*h),isNaN(h)&&(h=u/f)),isNaN(a)&&(a=i-s-u-d),isNaN(o)&&(o=r-l-h-c),t.left||t.right){case\"center\":a=i/2-u/2-n[3];break;case\"right\":a=i-u-d}switch(t.top||t.bottom){case\"middle\":case\"center\":o=r/2-h/2-n[0];break;case\"bottom\":o=r-h-c}a=a||0,o=o||0,isNaN(u)&&(u=i-d-a-(s||0)),isNaN(h)&&(h=r-c-o-(l||0));var p=new g(a+n[3],o+n[0],u,h);return p.margin=n,p}function u(e,n){return n&&e&&p(i,function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}e.LOCATION_PARAMS=i,e.HV_NAMES=a,e.box=o,e.vbox=s,e.hbox=l,e.getAvailableSize=function(t,e,n){var i=e.width,r=e.height,a=m(t.x,i),o=m(t.y,r),s=m(t.x2,i),l=m(t.y2,r);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=i),(isNaN(o)||isNaN(parseFloat(t.y)))&&(o=0),(isNaN(l)||isNaN(parseFloat(t.y2)))&&(l=r),n=v.normalizeCssArray(n||0),{width:Math.max(s-a-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}},e.getLayoutRect=y,e.positionElement=function(t,e,n,i,r){var a,o,s,l,u,h=!r||!r.hv||r.hv[0],c=!r||!r.hv||r.hv[1],d=r&&r.boundingMode||\"all\";(h||c)&&(\"raw\"===d?o=\"group\"===t.type?new g(0,0,+e.width||0,+e.height||0):t.getBoundingRect():(o=t.getBoundingRect(),t.needLocalTransform()&&(a=t.getLocalTransform(),(o=o.clone()).applyTransform(a))),e=y(f.defaults({width:o.width,height:o.height},e),n,i),s=t.position,l=h?e.x-o.x:0,u=c?e.y-o.y:0,t.attr(\"position\",\"raw\"===d?[l,u]:[s[0]+l,s[1]+u]))},e.sizeCalculable=function(t,e){return null!=t[a[e][0]]||null!=t[a[e][1]]&&null!=t[a[e][2]]},e.mergeLayoutParam=function(l,u,t){f.isObject(t)||(t={});var h=t.ignoreSize;f.isArray(h)||(h=[h,h]);var e=i(a[0],0),n=i(a[1],1);function i(t,e){var n={},i=0,r={},a=0;if(p(t,function(t){r[t]=l[t]}),p(t,function(t){c(u,t)&&(n[t]=r[t]=u[t]),d(n,t)&&i++,d(r,t)&&a++}),h[e])return d(u,t[1])?r[t[2]]=null:d(u,t[2])&&(r[t[1]]=null),r;if(2!==a&&i){if(2<=i)return n;for(var o=0;o<t.length;o++){var s=t[o];if(!c(n,s)&&c(l,s)){n[s]=l[s];break}}return n}return r}function c(t,e){return t.hasOwnProperty(e)}function d(t,e){return null!=t[e]&&\"auto\"!==t[e]}function r(t,e,n){p(t,function(t){e[t]=n[t]})}r(a[0],l,e),r(a[1],l,n)},e.getLayoutParams=function(t){return u({},t)},e.copyLayoutParams=u},function(t,e,n){var h=n(0),l=n(16),d=n(3);var i=h.normalizeCssArray,r=/([&<>\"'])/g,a={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"};function c(t){return null==t?\"\":(t+\"\").replace(r,function(t,e){return a[e]})}function f(t,e){return\"{\"+t+(null==e?\"\":e)+\"}\"}var p=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\"];function g(t,e){return\"0000\".substr(0,e-(t+=\"\").length)+t}var o=l.truncateText;e.addCommas=function(t){return isNaN(t)?\"-\":(t=(t+\"\").split(\".\"))[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g,\"$1,\")+(1<t.length?\".\"+t[1]:\"\")},e.toCamelCase=function(t,e){return t=(t||\"\").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},e.normalizeCssArray=i,e.encodeHTML=c,e.formatTpl=function(t,e,n){h.isArray(e)||(e=[e]);var i=e.length;if(!i)return\"\";for(var r=e[0].$vars||[],a=0;a<r.length;a++){var o=p[a];t=t.replace(f(o),f(o,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];t=t.replace(f(p[l],s),n?c(u):u)}return t},e.formatTplSimple=function(n,t,i){return h.each(t,function(t,e){n=n.replace(\"{\"+e+\"}\",i?c(t):t)}),n},e.getTooltipMarker=function(t,e){var n=(t=h.isString(t)?{color:t,extraCssText:e}:t||{}).color,i=t.type,e=t.extraCssText,r=t.renderMode||\"html\",a=t.markerId||\"X\";return n?\"html\"===r?\"subItem\"===i?'<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+c(n)+\";\"+(e||\"\")+'\"></span>':'<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+c(n)+\";\"+(e||\"\")+'\"></span>':{renderMode:r,content:\"{marker\"+a+\"|}  \",style:{color:n}}:\"\"},e.formatTime=function(t,e,n){\"week\"!==t&&\"month\"!==t&&\"quarter\"!==t&&\"half-year\"!==t&&\"year\"!==t||(t=\"MM-dd\\nyyyy\");var i=d.parseDate(e),r=n?\"UTC\":\"\",a=i[\"get\"+r+\"FullYear\"](),o=i[\"get\"+r+\"Month\"]()+1,s=i[\"get\"+r+\"Date\"](),l=i[\"get\"+r+\"Hours\"](),u=i[\"get\"+r+\"Minutes\"](),h=i[\"get\"+r+\"Seconds\"](),c=i[\"get\"+r+\"Milliseconds\"]();return t=t.replace(\"MM\",g(o,2)).replace(\"M\",o).replace(\"yyyy\",a).replace(\"yy\",a%100).replace(\"dd\",g(s,2)).replace(\"d\",s).replace(\"hh\",g(l,2)).replace(\"h\",l).replace(\"mm\",g(u,2)).replace(\"m\",u).replace(\"ss\",g(h,2)).replace(\"s\",h).replace(\"SSS\",g(c,3))},e.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},e.truncateText=o,e.getTextBoundingRect=function(t){return l.getBoundingRect(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)},e.getTextRect=function(t,e,n,i,r,a,o,s){return l.getBoundingRect(t,e,n,i,r,s,a,o)},e.windowOpen=function(t,e){var n;\"_blank\"===e||\"blank\"===e?((n=window.open()).opener=null,n.location=t):window.open(t,e)}},function(t,e){var i=\"undefined\"==typeof Float32Array?Array:Float32Array;function r(t){return Math.sqrt(a(t))}var n=r;function a(t){return t[0]*t[0]+t[1]*t[1]}var o=a;function s(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var l=s;function u(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var h=u;e.create=function(t,e){var n=new i(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},e.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},e.len=r,e.length=n,e.lenSquare=a,e.lengthSquare=o,e.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},e.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.normalize=function(t,e){var n=r(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},e.distance=s,e.dist=l,e.distanceSquare=u,e.distSquare=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t},e.applyTransform=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e,n){var i,r,a,o,s=n(8),l=n(15),u=s.applyTransform,h=Math.min,c=Math.max;function d(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}d.prototype={constructor:d,union:function(t){var e=h(t.x,this.x),n=h(t.y,this.y);this.width=c(t.x+t.width,this.x+this.width)-e,this.height=c(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(i=[],r=[],a=[],o=[],function(t){var e,n;t&&(i[0]=a[0]=this.x,i[1]=o[1]=this.y,r[0]=o[0]=this.x+this.width,r[1]=a[1]=this.y+this.height,u(i,i,t),u(r,r,t),u(a,a,t),u(o,o,t),this.x=h(i[0],r[0],a[0],o[0]),this.y=h(i[1],r[1],a[1],o[1]),e=c(i[0],r[0],a[0],o[0]),n=c(i[1],r[1],a[1],o[1]),this.width=e-this.x,this.height=n-this.y)}),calculateTransform:function(t){var e=t.width/this.width,n=t.height/this.height,i=l.create();return l.translate(i,i,[-this.x,-this.y]),l.scale(i,i,[e,n]),l.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof d||(t=d.create(t));var e=this,n=e.x,i=e.x+e.width,r=e.y,a=e.y+e.height,o=t.x,s=t.x+t.width,l=t.y,u=t.y+t.height;return!(i<o||s<n||a<l||u<r)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new d(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},d.create=function(t){return new d(t.x,t.y,t.width,t.height)},t.exports=d},function(t,e,n){var i=n(54),a=n(0),s=n(45),l=n(225),y=n(127).prototype.getCanvasPattern,r=Math.abs,_=new s(!0);function o(t){i.call(this,t),this.path=null}o.prototype={constructor:o,type:\"path\",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var n,i=this.style,r=this.path||_,a=i.hasStroke(),o=i.hasFill(),s=i.fill,l=i.stroke,u=o&&!!s.colorStops,h=a&&!!l.colorStops,c=o&&!!s.image,d=a&&!!l.image;i.bind(t,this,e),this.setTransform(t),this.__dirty&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(t,s,n)),h&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,l,n))),u?t.fillStyle=this._fillGradient:c&&(t.fillStyle=y.call(s,t)),h?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=y.call(l,t));var f,p=i.lineDash,g=i.lineDashOffset,m=!!t.setLineDash,v=this.getGlobalScale();r.setScale(v[0],v[1],this.segmentIgnoreThreshold),this.__dirtyPath||p&&!m&&a?(r.beginPath(t),p&&!m&&(r.setLineDash(p),r.setLineDashOffset(g)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o&&(null!=i.fillOpacity?(f=t.globalAlpha,t.globalAlpha=i.fillOpacity*i.opacity,r.fill(t),t.globalAlpha=f):r.fill(t)),p&&m&&(t.setLineDash(p),t.lineDashOffset=g),a&&(null!=i.strokeOpacity?(f=t.globalAlpha,t.globalAlpha=i.strokeOpacity*i.opacity,r.stroke(t),t.globalAlpha=f):r.stroke(t)),p&&m&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new s},getBoundingRect:function(){var t,e=this._rect,n=this.style,i=!e;if(i&&(t=(t=this.path)||(this.path=new s),this.__dirtyPath&&(t.beginPath(),this.buildPath(t,this.shape,!1)),e=t.getBoundingRect()),this._rect=e,n.hasStroke()){var r,a,o=this._rectWithStroke||(this._rectWithStroke=e.clone());return(this.__dirty||i)&&(o.copy(e),r=n.lineWidth,a=n.strokeNoScale?this.getLineScale():1,n.hasFill()||(r=Math.max(r,this.strokeContainThreshold||4)),1e-10<a&&(o.width+=r/a,o.height+=r/a,o.x-=r/a/2,o.y-=r/a/2)),o}return e},contain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var a=this.path.data;if(r.hasStroke()){var o=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(1e-10<s&&(r.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),l.containStroke(a,o/s,t,e)))return!0}if(r.hasFill())return l.contain(a,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate(\"shape\",t)},attrKV:function(t,e){\"shape\"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):i.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(a.isObject(t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<r(t[0]-1)&&1e-10<r(t[3]-1)?Math.sqrt(r(t[0]*t[3]-t[2]*t[1])):1}},o.extend=function(r){function t(t){o.call(this,t),r.style&&this.style.extendFrom(r.style,!1);var e=r.shape;if(e){this.shape=this.shape||{};var n=this.shape;for(var i in e)!n.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(n[i]=e[i])}r.init&&r.init.call(this,t)}for(var e in a.inherits(t,o),r)\"style\"!==e&&\"shape\"!==e&&(t.prototype[e]=r[e]);return t},a.inherits(o,i),t.exports=o},function(t,e){var n={},n=\"object\"==typeof wx&&\"function\"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:\"undefined\"==typeof document&&\"undefined\"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:\"undefined\"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},n=t.match(/Firefox\\/([\\d.]+)/),i=t.match(/MSIE\\s([\\d.]+)/)||t.match(/Trident\\/.+?rv:(([\\d.]+))/),r=t.match(/Edge\\/([\\d.]+)/),a=/micromessenger/i.test(t);n&&(e.firefox=!0,e.version=n[1]);i&&(e.ie=!0,e.version=i[1]);r&&(e.edge=!0,e.version=r[1]);a&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement(\"canvas\").getContext,svgSupported:\"undefined\"!=typeof SVGRect,touchEventsSupported:\"ontouchstart\"in window&&!e.ie&&!e.edge,pointerEventsSupported:\"onpointerdown\"in window&&(e.edge||e.ie&&11<=e.version),domSupported:\"undefined\"!=typeof document}}(navigator.userAgent);t.exports=n},function(t,e,n){var i=n(0),r=n(11),a=n(4).makeInner,o=n(25),s=o.enableClassExtend,l=o.enableClassCheck,u=n(222),h=n(223),c=n(224),d=n(237),f=i.mixin,p=a();function g(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function m(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&\"object\"==typeof t?t[e[i]]:null));i++);return null==t&&n&&(t=n.get(e)),t}function v(t,e){var n=p(t).getParent;return n?n.call(t,e):t.parentModel}g.prototype={constructor:g,init:null,mergeOption:function(t){i.merge(this.option,t,!0)},get:function(t,e){return null==t?this.option:m(this.option,this.parsePath(t),!e&&v(this,t))},getShallow:function(t,e){var n=this.option,i=null==n?n:n[t],r=!e&&v(this,t);return null==i&&r&&(i=r.getShallow(t)),i},getModel:function(t,e){var n;return new g(null==t?this.option:m(this.option,t=this.parsePath(t)),e=e||(n=v(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(i.clone(this.option))},setReadOnly:function(t){},parsePath:function(t){return\"string\"==typeof t&&(t=t.split(\".\")),t},customizeGetParent:function(t){p(this).getParent=t},isAnimationEnabled:function(){if(!r.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},s(g),l(g),f(g,u),f(g,h),f(g,c),f(g,d),t.exports=g},function(t,e,n){var o=n(0),r=n(12),a=n(56),i=n(25),s=i.enableClassManagement,l=i.parseClassType,u=n(4).makeInner,h=n(6),c=n(238),d=u(),f=r.extend({type:\"component\",id:\"\",name:\"\",mainType:\"\",subType:\"\",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){r.call(this,t,e,n,i),this.uid=a.getUID(\"ec_cpt_model\")},init:function(t,e,n,i){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?h.getLayoutParams(t):{},r=e.getTheme();o.merge(t,r.get(this.mainType)),o.merge(t,this.getDefaultOption()),n&&h.mergeLayoutParam(t,i,n)},mergeOption:function(t,e){o.merge(this.option,t,!0);var n=this.layoutMode;n&&h.mergeLayoutParam(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=d(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&e.push(i),n=n.superClass}for(var r={},a=e.length-1;0<=a;a--)r=o.merge(r,e[a],!0);t.defaultOption=r}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+\"Index\",!0),id:this.get(t+\"Id\",!0)})}});s(f,{registerWhenExtend:!0}),a.enableSubTypeDefaulter(f),a.enableTopologicalTravel(f,function(t){var e=[];o.each(f.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=o.map(e,function(t){return l(t).main}),\"dataset\"!==t&&o.indexOf(e,\"dataset\")<=0&&e.unshift(\"dataset\");return e}),o.mixin(f,c),t.exports=f},function(t,e,n){n(5).__DEV__;var w=n(0),i=n(11),r=n(7),T=r.formatTime,S=r.encodeHTML,M=r.addCommas,A=r.getTooltipMarker,I=n(4),a=n(13),o=n(143),s=n(94),l=n(6),u=l.getLayoutParams,h=l.mergeLayoutParam,c=n(95).createTask,d=n(26),f=d.prepareSource,p=d.getSource,C=n(37).retrieveRawValue,g=I.makeInner(),m=a.extend({type:\"series.__base__\",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:\"itemStyle.color\",visualBorderColorAccessPath:\"itemStyle.borderColor\",layoutMode:null,init:function(t,e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=c({count:y,reset:_}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),f(this);var r=this.getInitialData(t,n);b(r,this),this.dataTask.context.data=r,g(this).dataBeforeProcessed=r,v(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?u(t):{},r=this.subType;a.hasClass(r)&&(r+=\"Series\"),w.merge(t,e.getTheme().get(this.subType)),w.merge(t,this.getDefaultOption()),I.defaultEmphasis(t,\"label\",[\"show\"]),this.fillDataTextStyle(t.data),n&&h(t,i,n)},mergeOption:function(t,e){t=w.merge(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&h(this.option,t,n),f(this);var i=this.getInitialData(t,e);b(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,g(this).dataBeforeProcessed=i,v(this)},fillDataTextStyle:function(t){if(t&&!w.isTypedArray(t))for(var e=[\"show\"],n=0;n<t.length;n++)t[n]&&t[n].label&&I.defaultEmphasis(t[n],\"label\",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=E(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return g(this).data},setData:function(t){var e,n=E(this);n&&((e=n.context).data!==t&&n.modifyOutputEnd&&n.setOutputEnd(t.count()),e.outputData=t,n!==this.dataTask&&(e.data=t)),g(this).data=t},getSource:function(){return p(this)},getRawData:function(){return g(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(r,h,t,c){var d=this,e=\"html\"===(c=c||\"html\")?\"<br/>\":\"\\n\",f=\"richText\"===c,p={},g=0;function n(t){return{renderMode:c,content:S(M(t)),style:p}}var m=this.getData(),a=m.mapDimension(\"defaultedTooltip\",!0),i=a.length,o=this.getRawValue(r),s=w.isArray(o),v=m.getItemVisual(r,\"color\");w.isObject(v)&&v.colorStops&&(v=(v.colorStops[0]||{}).color),v=v||\"transparent\";var l=(1<i||s&&!i?function(t){var l=w.reduce(t,function(t,e,n){var i=m.getDimensionInfo(n);return t|(i&&!1!==i.tooltip&&null!=i.displayName)},0),u=[];function e(t,e){var n,i,r,a,o,s=m.getDimensionInfo(e);s&&!1!==s.otherDims.tooltip&&(n=s.type,i=\"sub\"+d.seriesIndex+\"at\"+g,a=\"string\"==typeof(r=A({color:v,type:\"subItem\",renderMode:c,markerId:i}))?r:r.content,(o=(l?a+S(s.displayName||\"-\")+\": \":\"\")+S(\"ordinal\"===n?t+\"\":\"time\"===n?h?\"\":T(\"yyyy/MM/dd hh:mm:ss\",t):M(t)))&&u.push(o),f&&(p[i]=v,++g))}a.length?w.each(a,function(t){e(C(m,r,t),t)}):w.each(t,e);var n=l?f?\"\\n\":\"<br/>\":\"\",i=n+u.join(n||\", \");return{renderMode:c,content:i,style:p}}(o):n(i?C(m,r,a[0]):s?o[0]:o)).content,u=d.seriesIndex+\"at\"+g,y=A({color:v,type:\"item\",renderMode:c,markerId:u});p[u]=v,++g;var _=m.getName(r),x=this.name;I.isNameSpecified(this)||(x=\"\"),x=x?S(x)+(h?\": \":e):\"\";var b=\"string\"==typeof y?y:y.content;return{html:h?b+x+l:x+b+(_?S(_)+\": \"+l:l),markers:p}},isAnimationEnabled:function(){if(i.node)return!1;var t=this.getShallow(\"animation\");return t&&this.getData().count()>this.getShallow(\"animationThreshold\")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var i=this.ecModel;return o.getColorFromPalette.call(this,t,e,n)||i.getColorFromPalette(t,e,n)},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get(\"progressive\")},getProgressiveThreshold:function(){return this.get(\"progressiveThreshold\")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function v(t){var n,e,i,r=t.name;I.isNameSpecified(t)||(t.name=(n=t.getRawData(),e=n.mapDimension(\"seriesName\",!0),i=[],w.each(e,function(t){var e=n.getDimensionInfo(t);e.displayName&&i.push(e.displayName)}),i.join(\" \")||r))}function y(t){return t.model.getRawData().count()}function _(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),x}function x(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function b(e,n){w.each(e.CHANGABLE_METHODS,function(t){e.wrapMethod(t,w.curry(D,n))})}function D(t){var e=E(t);e&&e.setOutputEnd(this.count())}function E(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i,r=n.currentTask;return!r||(i=r.agentStubMap)&&(r=i.get(t.uid)),r}}w.mixin(m,s),w.mixin(m,o),t.exports=m},function(t,e){var n=\"undefined\"==typeof Float32Array?Array:Float32Array;function i(){var t=new n(6);return r(t),t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=i,e.identity=r,e.copy=a,e.mul=function(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t},e.translate=function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},e.rotate=function(t,e,n){var i=e[0],r=e[2],a=e[4],o=e[1],s=e[3],l=e[5],u=Math.sin(n),h=Math.cos(n);return t[0]=i*h+o*u,t[1]=-i*u+o*h,t[2]=r*h+s*u,t[3]=-r*u+h*s,t[4]=h*a+u*l,t[5]=h*l-u*a,t},e.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t},e.invert=function(t,e){var n=e[0],i=e[2],r=e[4],a=e[1],o=e[3],s=e[5],l=n*o-a*i;return l?(l=1/l,t[0]=o*l,t[1]=-a*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-o*r)*l,t[5]=(a*r-n*s)*l,t):null},e.clone=function(t){var e=i();return a(e,t),e}},function(t,e,n){var g=n(9),L=n(89),i=n(0),r=i.getContext,u=i.extend,P=i.retrieve2,N=i.retrieve3,a=i.trim,s={},l=0,h=5e3,O=/\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g,c=\"12px sans-serif\",o={};function R(t,e){var n=t+\":\"+(e=e||c);if(s[n])return s[n];for(var i=(t+\"\").split(\"\\n\"),r=0,a=0,o=i.length;a<o;a++)r=Math.max(f(i[a],e).width,r);return h<l&&(l=0,s={}),l++,s[n]=r}function m(t,e,n){return\"right\"===n?t-=e:\"center\"===n&&(t-=e/2),t}function v(t,e,n){return\"middle\"===n?t-=e/2:\"bottom\"===n&&(t-=e),t}function d(t,e,n){var i=e.textPosition,r=e.textDistance,a=n.x,o=n.y,r=r||0,s=n.height,l=n.width,u=s/2,h=\"left\",c=\"top\";switch(i){case\"left\":a-=r,o+=u,h=\"right\",c=\"middle\";break;case\"right\":a+=r+l,o+=u,c=\"middle\";break;case\"top\":a+=l/2,o-=r,h=\"center\",c=\"bottom\";break;case\"bottom\":a+=l/2,o+=s+r,h=\"center\";break;case\"inside\":a+=l/2,o+=u,h=\"center\",c=\"middle\";break;case\"insideLeft\":a+=r,o+=u,c=\"middle\";break;case\"insideRight\":a+=l-r,o+=u,h=\"right\",c=\"middle\";break;case\"insideTop\":a+=l/2,o+=r,h=\"center\";break;case\"insideBottom\":a+=l/2,o+=s-r,h=\"center\",c=\"bottom\";break;case\"insideTopLeft\":a+=r,o+=r;break;case\"insideTopRight\":a+=l-r,o+=r,h=\"right\";break;case\"insideBottomLeft\":a+=r,o+=s-r,c=\"bottom\";break;case\"insideBottomRight\":a+=l-r,o+=s-r,h=\"right\",c=\"bottom\"}return(t=t||{}).x=a,t.y=o,t.textAlign=h,t.textVerticalAlign=c,t}function k(t,e,n,i,r){if(!e)return\"\";var a=(t+\"\").split(\"\\n\");r=y(e,n,i,r);for(var o=0,s=a.length;o<s;o++)a[o]=_(a[o],r);return a.join(\"\\n\")}function y(t,e,n,i){(i=u({},i)).font=e;n=P(n,\"...\");i.maxIterations=P(i.maxIterations,2);var r=i.minChar=P(i.minChar,0);i.cnCharWidth=R(\"国\",e);var a=i.ascCharWidth=R(\"a\",e);i.placeholder=P(i.placeholder,\"\");for(var o=t=Math.max(0,t-1),s=0;s<r&&a<=o;s++)o-=a;var l=R(n,e);return o<l&&(n=\"\",l=0),o=t-l,i.ellipsis=n,i.ellipsisWidth=l,i.contentWidth=o,i.containerWidth=t,i}function _(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return\"\";if((s=R(t,i))<=n)return t;for(var a=0;;a++){if(s<=r||a>=e.maxIterations){t+=e.ellipsis;break}var o=0===a?function(t,e,n,i){for(var r=0,a=0,o=t.length;a<o&&r<e;a++){var s=t.charCodeAt(a);r+=0<=s&&s<=127?n:i}return a}(t,r,e.ascCharWidth,e.cnCharWidth):0<s?Math.floor(t.length*r/s):0,s=R(t=t.substr(0,o),i)}return\"\"===t&&(t=e.placeholder),t}function z(t){return R(\"国\",t)}function f(t,e){return o.measureText(t,e)}function x(t,e,n,i,r){null!=t&&(t+=\"\");var a=P(i,z(e)),o=t?t.split(\"\\n\"):[],s=o.length*a,l=s,u=!0;if(n&&(l+=n[0]+n[2]),t&&r){u=!1;var h=r.outerHeight,c=r.outerWidth;if(null!=h&&h<l)t=\"\",o=[];else if(null!=c)for(var d=y(c-(n?n[1]+n[3]:0),e,r.ellipsis,{minChar:r.minChar,placeholder:r.placeholder}),f=0,p=o.length;f<p;f++)o[f]=_(o[f],d)}return{lines:o,height:s,outerHeight:l,lineHeight:a,canCacheByTextString:u}}function b(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=\"\"),!t)return n;for(var i,r=O.lastIndex=0;null!=(i=O.exec(t));){var a=i.index;r<a&&B(n,t.substring(r,a)),B(n,i[2],i[1]),r=O.lastIndex}r<t.length&&B(n,t.substring(r,t.length));var o=n.lines,s=0,l=0,u=[],h=e.textPadding,c=e.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;h&&(null!=d&&(d-=h[1]+h[3]),null!=f&&(f-=h[0]+h[2]));for(var p=0;p<o.length;p++){for(var g=o[p],m=0,v=0,y=0;y<g.tokens.length;y++){var _=(D=g.tokens[y]).styleName&&e.rich[D.styleName]||{},x=D.textPadding=_.textPadding,b=D.font=_.font||e.font,w=D.textHeight=P(_.textHeight,z(b));if(x&&(w+=x[0]+x[2]),D.height=w,D.lineHeight=N(_.textLineHeight,e.textLineHeight,w),D.textAlign=_&&_.textAlign||e.textAlign,D.textVerticalAlign=_&&_.textVerticalAlign||\"middle\",null!=f&&s+D.lineHeight>f)return{lines:[],width:0,height:0};D.textWidth=R(D.text,b);var T,S,M,A,I=_.textWidth,C=null==I||\"auto\"===I;\"string\"==typeof I&&\"%\"===I.charAt(I.length-1)?(D.percentWidth=I,u.push(D),I=0):(C&&(I=D.textWidth,(S=(T=_.textBackgroundColor)&&T.image)&&(S=L.findExistImage(S),L.isImageReady(S)&&(I=Math.max(I,S.width*w/S.height)))),I+=M=x?x[1]+x[3]:0,null!=(A=null!=d?d-v:null)&&A<I&&(!C||A<M?(D.text=\"\",D.textWidth=I=0):(D.text=k(D.text,A-M,b,c.ellipsis,{minChar:c.minChar}),D.textWidth=R(D.text,b),I=D.textWidth+M))),v+=D.width=I,_&&(m=Math.max(m,D.lineHeight))}g.width=v,s+=g.lineHeight=m,l=Math.max(l,v)}n.outerWidth=n.width=P(e.textWidth,l),n.outerHeight=n.height=P(e.textHeight,s),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(p=0;p<u.length;p++){var D,E=(D=u[p]).percentWidth;D.width=parseInt(E,10)/100*l}return n}function B(t,e,n){for(var i=\"\"===e,r=e.split(\"\\n\"),a=t.lines,o=0;o<r.length;o++){var s,l,u=r[o],h={styleName:n,text:u,isLineHolder:!u&&!i};o?a.push({tokens:[h]}):1===(l=(s=(a[a.length-1]||(a[0]={tokens:[]})).tokens).length)&&s[0].isLineHolder?s[0]=h:!u&&l&&!i||s.push(h)}}o.measureText=function(t,e){var n=r();return n.font=e||c,n.measureText(t)},e.DEFAULT_FONT=c,e.$override=function(t,e){o[t]=e},e.getWidth=R,e.getBoundingRect=function(t,e,n,i,r,a,o,s){return o?(u=i,h=b(t,{rich:o,truncate:s,font:e,textAlign:l=n,textPadding:r,textLineHeight:a}),c=h.outerWidth,d=h.outerHeight,f=m(0,c,l),p=v(0,d,u),new g(f,p,c,d)):function(t,e,n,i,r,a,o){var s=x(t,e,r,a,o),l=R(t,e);r&&(l+=r[1]+r[3]);var u=s.outerHeight,h=m(0,l,n),c=v(0,u,i),d=new g(h,c,l,u);return d.lineHeight=s.lineHeight,d}(t,e,n,i,r,a,s);var l,u,h,c,d,f,p},e.adjustTextX=m,e.adjustTextY=v,e.calculateTextPosition=d,e.adjustTextPositionOnRect=function(t,e,n){return d({},{textPosition:t,textDistance:n},e)},e.truncateText=k,e.getLineHeight=z,e.measureText=f,e.parsePlainText=x,e.parseRichText=b,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+\"px\",t.fontFamily||\"sans-serif\"].join(\" \");return e&&a(e)||t.textFont||t.font}},function(t,e,n){n(5).__DEV__;var T=n(0),i=n(12),r=n(38),a=n(57),o=n(37),s=o.defaultDimValueGetters,l=o.DefaultDataProvider,u=n(59).summarizeDimensions,h=n(148),c=T.isObject,d=\"undefined\",f={float:typeof Float64Array==d?Array:Float64Array,int:typeof Int32Array==d?Array:Int32Array,ordinal:Array,number:Array,time:Array},p=typeof Uint32Array==d?Array:Uint32Array,g=typeof Int32Array==d?Array:Int32Array,m=typeof Uint16Array==d?Array:Uint16Array;function A(t){return 65535<t._rawCount?p:m}var v=[\"hasItemOption\",\"_nameList\",\"_idList\",\"_invertedIndicesMap\",\"_rawData\",\"_chunkSize\",\"_chunkCount\",\"_dimValueGetter\",\"_count\",\"_rawCount\",\"_nameDimIdx\",\"_idDimIdx\"],y=[\"_extent\",\"_approximateExtent\",\"_rawExtent\"];function _(e,n){T.each(v.concat(n.__wrappedMethods||[]),function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e.__wrappedMethods=n.__wrappedMethods,T.each(y,function(t){e[t]=T.clone(n[t])}),e._calculationInfo=T.extend(n._calculationInfo)}function x(t,e){t=t||[\"x\",\"y\"];for(var n={},i=[],r={},a=0;a<t.length;a++){var o=t[a];T.isString(o)?o=new h({name:o}):o instanceof h||(o=new h(o));var s=o.name;o.type=o.type||\"float\",o.coordDim||(o.coordDim=s,o.coordDimIndex=0),o.otherDims=o.otherDims||{},i.push(s),(n[s]=o).index=a,o.createInvertedIndices&&(r[s]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=u(this),this._invertedIndicesMap=r,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput}var b=x.prototype;function E(t,e,n,i,r){var a=f[e.type],o=i-1,s=e.name,l=t[s][o];if(l&&l.length<n){for(var u=new a(Math.min(r-o*n,n)),h=0;h<l.length;h++)u[h]=l[h];t[s][o]=u}for(var c=i*n;c<r;c+=n)t[s].push(new a(Math.min(r-c,n)))}function L(r){var a=r._invertedIndicesMap;T.each(a,function(t,e){var n=r._dimensionInfos[e].ordinalMeta;if(n){t=a[e]=new g(n.categories.length);for(var i=0;i<t.length;i++)t[i]=-1;for(i=0;i<r._count;i++)t[r.get(e,i)]=i}})}function w(t,e,n){var i,r,a,o,s,l,u;return null!=e&&(r=t._chunkSize,a=Math.floor(n/r),o=n%r,s=t.dimensions[e],(l=t._storage[s][a])&&(i=l[o],(u=t._dimensionInfos[s].ordinalMeta)&&u.categories.length&&(i=u.categories[i]))),i}function I(t){return t}function C(t){return t<this._count&&0<=t?this._indices[t]:-1}function S(t,e){var n=t._idList[e];return null==n&&(n=w(t,t._idDimIdx,e)),null==n&&(n=\"e\\0\\0\"+e),n}function M(t){return T.isArray(t)||(t=[t]),t}function D(t,e){var n=t.dimensions,i=new x(T.map(n,t.getDimensionInfo,t),t.hostModel);_(i,t);for(var r=i._storage={},a=t._storage,o=0;o<n.length;o++){var s=n[o];a[s]&&(0<=T.indexOf(e,s)?(r[s]=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=function(t){var e=t.constructor;return e===Array?t.slice():new e(t)}(t[n]);return e}(a[s]),i._rawExtent[s]=P(),i._extent[s]=null):r[s]=a[s])}return i}function P(){return[1/0,-1/0]}b.type=\"list\",b.hasItemOption=!0,b.getDimension=function(t){return\"number\"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},b.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},b.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},b.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return!0===e?(i||[]).slice():i&&i[e]},b.initData=function(t,e,n){(a.isInstance(t)||T.isArrayLike(t))&&(t=new l(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=s[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=s.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},b.getProvider=function(){return this._rawData},b.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=n),this._initDataFromProvider(n,i)},b.appendValues=function(t,e){for(var n=this._chunkSize,i=this._storage,r=this.dimensions,a=r.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),u=this._chunkCount,h=0;h<a;h++){o[v=r[h]]||(o[v]=P()),i[v]||(i[v]=[]),E(i,this._dimensionInfos[v],n,u,l),this._chunkCount=i[v].length}for(var c=new Array(a),d=s;d<l;d++){for(var f=d-s,p=Math.floor(d/n),g=d%n,m=0;m<a;m++){var v=r[m],y=this._dimValueGetterArrayRows(t[f]||c,v,f,m);i[v][p][g]=y;var _=o[v];y<_[0]&&(_[0]=y),y>_[1]&&(_[1]=y)}e&&(this._nameList[d]=e[f])}this._rawCount=this._count=l,this._extent={},L(this)},b._initDataFromProvider=function(t,e){if(!(e<=t)){for(var n,i=this._chunkSize,r=this._rawData,a=this._storage,o=this.dimensions,s=o.length,l=this._dimensionInfos,u=this._nameList,h=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=0;p<s;p++){c[A=o[p]]||(c[A]=P());var g=l[A];0===g.otherDims.itemName&&(n=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p),a[A]||(a[A]=[]),E(a,g,i,f,e),this._chunkCount=a[A].length}for(var m=new Array(s),v=t;v<e;v++){m=r.getItem(v,m);for(var y,_,x,b,w,T=Math.floor(v/i),S=v%i,M=0;M<s;M++){var A,I=a[A=o[M]][T],C=this._dimValueGetter(m,A,v,M);I[S]=C;var D=c[A];C<D[0]&&(D[0]=C),C>D[1]&&(D[1]=C)}r.pure||(y=u[v],m&&null==y&&(null!=m.name?u[v]=y=m.name:null==n||(x=a[_=o[n]][T])&&(y=x[S],(b=l[_].ordinalMeta)&&b.categories.length&&(y=b.categories[y]))),null==(w=null==m?null:m.id)&&null!=y&&(d[y]=d[y]||0,0<d[w=y]&&(w+=\"__ec__\"+d[y]),d[y]++),null!=w&&(h[v]=w))}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},L(this)}},b.count=function(){return this._count},b.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array){r=new e(n);for(var i=0;i<n;i++)r[i]=t[i]}else r=new e(t.buffer,0,n)}else for(var r=new(e=A(this))(this.count()),i=0;i<r.length;i++)r[i]=i;return r},b.get=function(t,e){if(!(0<=e&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return n[t][i][r]},b.getByRawIndex=function(t,e){if(!(0<=e&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var i=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return n[i][r]},b._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return this._storage[t][n][i]},b.getValues=function(t,e){var n=[];T.isArray(t)||(e=t,t=this.dimensions);for(var i=0,r=t.length;i<r;i++)n.push(this.get(t[i],e));return n},b.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},b.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=P();if(!e)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var a=(i=n)[0],o=i[1],s=0;s<r;s++){var l=this._getFast(t,this.getRawIndex(s));l<a&&(a=l),o<l&&(o=l)}return i=[a,o],this._extent[t]=i},b.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},b.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},b.getCalculationInfo=function(t){return this._calculationInfo[t]},b.setCalculationInfo=function(t,e){c(t)?T.extend(this._calculationInfo,t):this._calculationInfo[t]=e},b.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,i=this.count();n<i;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},b.getMedian=function(t){var n=[];this.each(t,function(t,e){isNaN(t)||n.push(t)});var e=[].concat(n).sort(function(t,e){return t-e}),i=this.count();return 0===i?0:i%2==1?e[(i-1)/2]:(e[i/2]+e[i/2-1])/2},b.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?-1:n},b.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},b.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var a=(i+r)/2|0;if(e[a]<t)i=1+a;else{if(!(e[a]>t))return a;r=a-1}}return-1},b.indicesOfNearest=function(t,e,n){var i=[];if(!this._storage[t])return i;null==n&&(n=1/0);for(var r=1/0,a=-1,o=0,s=0,l=this.count();s<l;s++){var u=e-this.get(t,s),h=Math.abs(u);h<=n&&((h<r||h===r&&0<=u&&a<0)&&(r=h,a=u,o=0),u===a&&(i[o++]=s))}return i.length=o,i},b.getRawIndex=I,b.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},b.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||w(this,this._nameDimIdx,e)||\"\"},b.getId=function(t){return S(this,this.getRawIndex(t))},b.each=function(t,e,n,i){\"use strict\";if(this._count){\"function\"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;for(var r=(t=T.map(M(t),this.getDimension,this)).length,a=0;a<this.count();a++)switch(r){case 0:e.call(n,a);break;case 1:e.call(n,this.get(t[0],a),a);break;case 2:e.call(n,this.get(t[0],a),this.get(t[1],a),a);break;default:for(var o=0,s=[];o<r;o++)s[o]=this.get(t[o],a);s[o]=a,e.apply(n,s)}}},b.filterSelf=function(t,e,n,i){\"use strict\";if(this._count){\"function\"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this,t=T.map(M(t),this.getDimension,this);for(var r=this.count(),a=new(A(this))(r),o=[],s=t.length,l=0,u=t[0],h=0;h<r;h++){var c=this.getRawIndex(h);if(0===s)f=e.call(n,h);else if(1===s)var d=this._getFast(u,c),f=e.call(n,d,h);else{for(var p=0;p<s;p++)o[p]=this._getFast(u,c);o[p]=h,f=e.apply(n,o)}f&&(a[l++]=c)}return l<r&&(this._indices=a),this._count=l,this._extent={},this.getRawIndex=this._indices?C:I,this}},b.selectRange=function(t){\"use strict\";if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var i=e.length;if(i){var r=this.count(),a=new(A(this))(r),o=0,s=e[0],l=t[s][0],u=t[s][1],h=!1;if(!this._indices){var c=0;if(1===i){for(var d=this._storage[e[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){(l<=(b=p[m])&&b<=u||isNaN(b))&&(a[o++]=c),c++}h=!0}else if(2===i){for(var d=this._storage[s],v=this._storage[e[1]],y=t[e[1]][0],_=t[e[1]][1],f=0;f<this._chunkCount;f++)for(var p=d[f],x=v[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var b=p[m],w=x[m];(l<=b&&b<=u||isNaN(b))&&(y<=w&&w<=_||isNaN(w))&&(a[o++]=c),c++}h=!0}}if(!h)if(1===i)for(m=0;m<r;m++){var T=this.getRawIndex(m);(l<=(b=this._getFast(s,T))&&b<=u||isNaN(b))&&(a[o++]=T)}else for(m=0;m<r;m++){for(var S=!0,T=this.getRawIndex(m),f=0;f<i;f++){var M=e[f];((b=this._getFast(n,T))<t[M][0]||b>t[M][1])&&(S=!1)}S&&(a[o++]=this.getRawIndex(m))}return o<r&&(this._indices=a),this._count=o,this._extent={},this.getRawIndex=this._indices?C:I,this}}},b.mapArray=function(t,e,n,i){\"use strict\";\"function\"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n),r},b.map=function(t,e,n,i){\"use strict\";n=n||i||this;var r=D(this,t=T.map(M(t),this.getDimension,this));r._indices=this._indices,r.getRawIndex=r._indices?C:I;for(var a=r._storage,o=[],s=this._chunkSize,l=t.length,u=this.count(),h=[],c=r._rawExtent,d=0;d<u;d++){for(var f=0;f<l;f++)h[f]=this.get(t[f],d);h[l]=d;var p=e&&e.apply(n,h);if(null!=p){\"object\"!=typeof p&&(o[0]=p,p=o);for(var g=this.getRawIndex(d),m=Math.floor(g/s),v=g%s,y=0;y<p.length;y++){var _=t[y],x=p[y],b=c[_],w=a[_];w&&(w[m][v]=x),x<b[0]&&(b[0]=x),x>b[1]&&(b[1]=x)}}}return r},b.downSample=function(t,e,n,i){for(var r=D(this,[t]),a=r._storage,o=[],s=Math.floor(1/e),l=a[t],u=this.count(),h=this._chunkSize,c=r._rawExtent[t],d=new(A(this))(u),f=0,p=0;p<u;p+=s){u-p<s&&(s=u-p,o.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/h),y=m%h;o[g]=l[v][y]}var _=n(o),x=this.getRawIndex(Math.min(p+i(o,_)||0,u-1)),b=x%h;(l[Math.floor(x/h)][b]=_)<c[0]&&(c[0]=_),_>c[1]&&(c[1]=_),d[f++]=x}return r._count=f,r._indices=d,r.getRawIndex=C,r},b.getItemModel=function(t){var e=this.hostModel;return new i(this.getRawDataItem(t),e,e&&e.ecModel)},b.diff=function(e){var n=this;return new r(e?e.getIndices():[],this.getIndices(),function(t){return S(e,t)},function(t){return S(n,t)})},b.getVisual=function(t){var e=this._visual;return e&&e[t]},b.setVisual=function(t,e){if(c(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},b.setLayout=function(t,e){if(c(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},b.getLayout=function(t){return this._layout[t]},b.getItemLayout=function(t){return this._itemLayouts[t]},b.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?T.extend(this._itemLayouts[t]||{},e):e},b.clearItemLayouts=function(){this._itemLayouts.length=0},b.getItemVisual=function(t,e,n){var i=this._itemVisuals[t],r=i&&i[e];return null!=r||n?r:this.getVisual(e)},b.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{},r=this.hasItemVisual;if(this._itemVisuals[t]=i,c(e))for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a],r[a]=!0);else i[e]=n,r[e]=!0},b.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};function N(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType}b.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,\"group\"===e.type&&e.traverse(N,e)),this._graphicEls[t]=e},b.getItemGraphicEl=function(t){return this._graphicEls[t]},b.eachItemGraphicEl=function(n,i){T.each(this._graphicEls,function(t,e){t&&n&&n.call(i,t,e)})},b.cloneShallow=function(t){var e,n;return t||(e=T.map(this.dimensions,this.getDimensionInfo,this),t=new x(e,this.hostModel)),t._storage=this._storage,_(t,this),this._indices?(n=this._indices.constructor,t._indices=new n(this._indices)):t._indices=null,t.getRawIndex=t._indices?C:I,t},b.wrapMethod=function(t,e){var n=this[t];\"function\"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(T.slice(arguments)))})},b.TRANSFERABLE_METHODS=[\"cloneShallow\",\"downSample\",\"map\"],b.CHANGABLE_METHODS=[\"filterSelf\",\"selectRange\"],t.exports=x},function(t,e,n){var i=n(0),u=n(2),h=n(9),a=n(16).calculateTextPosition,r=u.extendShape({type:\"triangle\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,a=e.height/2;t.moveTo(n,i-a),t.lineTo(n+r,i+a),t.lineTo(n-r,i+a),t.closePath()}}),o=u.extendShape({type:\"diamond\",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,a=e.height/2;t.moveTo(n,i-a),t.lineTo(n+r,i),t.lineTo(n,i+a),t.lineTo(n-r,i),t.closePath()}}),s=u.extendShape({type:\"pin\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,a=Math.max(r,e.height),o=r/2,s=o*o/(a-o),l=i-a+o+s,u=Math.asin(s/o),h=Math.cos(u)*o,c=Math.sin(u),d=Math.cos(u),f=.6*o,p=.7*o;t.moveTo(n-h,l+s),t.arc(n,l,o,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+h-c*f,l+s+d*f,n,i-p,n,i),t.bezierCurveTo(n,i-p,n-h+c*f,l+s+d*f,n-h,l+s),t.closePath()}}),l=u.extendShape({type:\"arrow\",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,a=e.y,o=i/3*2;t.moveTo(r,a),t.lineTo(r+o,a+n),t.lineTo(r,a+n/4*3),t.lineTo(r-o,a+n),t.lineTo(r,a),t.closePath()}}),c={line:u.Line,rect:u.Rect,roundRect:u.Rect,square:u.Rect,circle:u.Circle,diamond:o,pin:s,arrow:l,triangle:r},d={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var a=Math.min(n,i);r.x=t,r.y=e,r.width=a,r.height=a},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},f={};i.each(c,function(t,e){f[e]=new t});var p=u.extendShape({type:\"symbol\",shape:{symbolType:\"\",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=a(t,e,n),r=this.shape;return r&&\"pin\"===r.symbolType&&\"inside\"===e.textPosition&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i,r=e.symbolType;\"none\"!==r&&(i=(i=f[r])||f[r=\"rect\"],d[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n))}});function g(t,e){var n,i;\"image\"!==this.type&&(n=this.style,(i=this.shape)&&\"line\"===i.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||\"#fff\"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1))}e.createSymbol=function(t,e,n,i,r,a,o){var s,l=0===t.indexOf(\"empty\");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf(\"image://\")?u.makeImage(t.slice(8),new h(e,n,i,r),o?\"center\":\"cover\"):0===t.indexOf(\"path://\")?u.makePath(t.slice(7),{},new h(e,n,i,r),o?\"center\":\"cover\"):new p({shape:{symbolType:t,x:e,y:n,width:i,height:r}})).__isEmptyBrush=l,s.setColor=g,s.setColor(a),s}},function(t,e,n){var o=n(0),s={};function i(){this._coordinateSystems=[]}i.prototype={constructor:i,create:function(i,r){var a=[];o.each(s,function(t,e){var n=t.create(i,r);a=a.concat(n||[])}),this._coordinateSystems=a},update:function(e,n){o.each(this._coordinateSystems,function(t){t.update&&t.update(e,n)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},i.register=function(t,e){s[t]=e},i.get=function(t){return s[t]},t.exports=i},function(t,e,n){n(5).__DEV__;var m=n(0),i=n(253),r=n(76),a=n(75),v=n(3),o=n(77),y=o.prepareLayoutBarSeries,_=o.makeColumnLayout,x=o.retrieveColumnLayout,T=n(9);function s(t,e){var n,i,r,a=t.type,o=e.getMin(),s=e.getMax(),l=t.getExtent();\"ordinal\"===a?n=e.getCategories().length:(i=e.get(\"boundaryGap\"),m.isArray(i)||(i=[i||0,i||0]),\"boolean\"==typeof i[0]&&(i=[0,0]),i[0]=v.parsePercent(i[0],1),i[1]=v.parsePercent(i[1],1),r=l[1]-l[0]||Math.abs(l[0])),\"dataMin\"===o?o=l[0]:\"function\"==typeof o&&(o=o({min:l[0],max:l[1]})),\"dataMax\"===s?s=l[1]:\"function\"==typeof s&&(s=s({min:l[0],max:l[1]}));var u=null!=o,h=null!=s;null==o&&(o=\"ordinal\"===a?n?0:NaN:l[0]-i[0]*r),null==s&&(s=\"ordinal\"===a?n?n-1:NaN:l[1]+i[1]*r),null!=o&&isFinite(o)||(o=NaN),null!=s&&isFinite(s)||(s=NaN),t.setBlank(m.eqNaN(o)||m.eqNaN(s)||\"ordinal\"===a&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(0<o&&0<s&&!u&&(o=0),o<0&&s<0&&!h&&(s=0));var c,d,f,p,g=e.ecModel;return g&&\"time\"===a&&(c=y(\"bar\",g),m.each(c,function(t){d|=t.getBaseAxis()===e.axis}),d&&(f=_(c),o=(p=function(t,e,n,i){var r=n.axis.getExtent(),a=r[1]-r[0],o=x(i,n.axis);if(void 0===o)return{min:t,max:e};var s=1/0;m.each(o,function(t){s=Math.min(t.offset,s)});var l=-1/0;m.each(o,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,h=e-t,c=h/(1-(s+l)/a)-h;return{min:t-=s/u*c,max:e+=l/u*c}}(o,s,e,f)).min,s=p.max)),{extent:[o,s],fixMin:u,fixMax:h}}function S(n){var e,i=n.getLabelModel().get(\"formatter\"),r=\"category\"===n.type?n.scale.getExtent()[0]:null;return\"string\"==typeof i?(e=i,i=function(t){return t=n.scale.getLabel(t),e.replace(\"{value}\",null!=t?t:\"\")}):\"function\"==typeof i?function(t,e){return null!=r&&(e=t-r),i(l(n,t),e)}:function(t){return n.scale.getLabel(t)}}function l(t,e){return\"category\"===t.type?t.scale.getLabel(e):e}function u(t){var e=t.get(\"interval\");return null==e?\"auto\":e}n(254),n(152),e.getScaleExtent=s,e.niceScaleExtent=function(t,e){var n=s(t,e),i=n.extent,r=e.get(\"splitNumber\");\"log\"===t.type&&(t.base=e.get(\"logBase\"));var a=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:r,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:\"interval\"===a||\"time\"===a?e.get(\"minInterval\"):null,maxInterval:\"interval\"===a||\"time\"===a?e.get(\"maxInterval\"):null});var o=e.get(\"interval\");null!=o&&t.setInterval&&t.setInterval(o)},e.createScaleByModel=function(t,e){if(e=e||t.get(\"type\"))switch(e){case\"category\":return new i(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case\"value\":return new r;default:return(a.getClass(e)||r).create(t)}},e.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(0<n&&0<i||n<0&&i<0)},e.makeLabelFormatter=S,e.getAxisRawValue=l,e.estimateLabelUnionRect=function(t){var e=t.model,n=t.scale;if(e.get(\"axisLabel.show\")&&!n.isBlank()){var i,r,a=\"category\"===t.type,o=n.getExtent(),s=a?n.count():(i=n.getTicks()).length,l=t.getLabelModel(),u=S(t),h=1;40<s&&(h=Math.ceil(s/40));for(var c,d,f,p,g,m,v,y,_=0;_<s;_+=h){var x=u(i?i[_]:o[0]+_),b=l.getTextRect(x),w=(c=b,d=l.get(\"rotate\")||0,0,f=d*Math.PI/180,p=c.plain(),g=p.width,m=p.height,v=g*Math.cos(f)+m*Math.sin(f),y=g*Math.sin(f)+m*Math.cos(f),new T(p.x,p.y,v,y));r?r.union(w):r=w}return r}},e.getOptionCategoryInterval=u,e.shouldShowAllLabels=function(t){return\"category\"===t.type&&0===u(t.getLabelModel())}},function(t,e,n){var i=n(34);e.Dispatcher=i;var o=n(11),r=n(122),s=r.isCanvasEl,l=r.transformCoordWithViewport,a=\"undefined\"!=typeof window&&!!window.addEventListener,u=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,h=[];function c(t,e,n,i){return n=n||{},i||!o.canvasSupported?d(t,e,n):o.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):d(t,e,n),n}function d(t,e,n){if(o.domSupported&&t.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(s(t)){var a=t.getBoundingClientRect();return n.zrX=i-a.left,void(n.zrY=r-a.top)}if(l(h,t,i,r))return n.zrX=h[0],void(n.zrY=h[1])}n.zrX=n.zrY=0}function f(t){return t||window.event}var p=a?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=c,e.getNativeEvent=f,e.normalizeEvent=function(t,e,n){if(null!=(e=f(e)).zrX)return e;var i,r=e.type;r&&0<=r.indexOf(\"touch\")?(i=\"touchend\"!==r?e.targetTouches[0]:e.changedTouches[0])&&c(t,i,e,n):(c(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3);var a=e.button;return null==e.which&&void 0!==a&&u.test(e.type)&&(e.which=1&a?1:2&a?3:4&a?2:0),e},e.addEventListener=function(t,e,n,i){a?t.addEventListener(e,n,i):t.attachEvent(\"on\"+e,n)},e.removeEventListener=function(t,e,n,i){a?t.removeEventListener(e,n,i):t.detachEvent(\"on\"+e,n)},e.stop=p,e.isMiddleOrRightButtonOnMouseUpDown=function(t){return 2===t.which||3===t.which},e.notLeftMouse=function(t){return 1<t.which}},function(t,e,n){var i=n(125),h={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function c(t){return(t=Math.round(t))<0?0:255<t?255:t}function d(t){return t<0?0:1<t?1:t}function f(t){return t.length&&\"%\"===t.charAt(t.length-1)?c(parseFloat(t)/100*255):c(parseInt(t,10))}function p(t){return t.length&&\"%\"===t.charAt(t.length-1)?d(parseFloat(t)/100):d(parseFloat(t))}function s(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function g(t,e,n){return t+(e-t)*n}function m(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function v(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var y=new i(20),r=null;function _(t,e){r&&v(r,e),r=y.put(t,r||e.slice())}function x(t,e){if(t){e=e||[];var n=y.get(t);if(n)return v(e,n);var i,r=(t+=\"\").replace(/ /g,\"\").toLowerCase();if(r in h)return v(e,h[r]),_(t,e),e;if(\"#\"===r.charAt(0))return 4===r.length?0<=(i=parseInt(r.substr(1),16))&&i<=4095?(m(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),_(t,e),e):void m(e,0,0,0,1):7===r.length?0<=(i=parseInt(r.substr(1),16))&&i<=16777215?(m(e,(16711680&i)>>16,(65280&i)>>8,255&i,1),_(t,e),e):void m(e,0,0,0,1):void 0;var a=r.indexOf(\"(\"),o=r.indexOf(\")\");if(-1!==a&&o+1===r.length){var s=r.substr(0,a),l=r.substr(a+1,o-(a+1)).split(\",\"),u=1;switch(s){case\"rgba\":if(4!==l.length)return void m(e,0,0,0,1);u=p(l.pop());case\"rgb\":return 3!==l.length?void m(e,0,0,0,1):(m(e,f(l[0]),f(l[1]),f(l[2]),u),_(t,e),e);case\"hsla\":return 4!==l.length?void m(e,0,0,0,1):(l[3]=p(l[3]),b(l,e),_(t,e),e);case\"hsl\":return 3!==l.length?void m(e,0,0,0,1):(b(l,e),_(t,e),e);default:return}}m(e,0,0,0,1)}}function b(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=p(t[1]),r=p(t[2]),a=r<=.5?r*(i+1):r+i-r*i,o=2*r-a;return m(e=e||[],c(255*s(o,a,n+1/3)),c(255*s(o,a,n)),c(255*s(o,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function a(t,e,n){if(e&&e.length&&0<=t&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),a=Math.ceil(i),o=e[r],s=e[a],l=i-r;return n[0]=c(g(o[0],s[0],l)),n[1]=c(g(o[1],s[1],l)),n[2]=c(g(o[2],s[2],l)),n[3]=d(g(o[3],s[3],l)),n}}var o=a;function l(t,e,n){if(e&&e.length&&0<=t&&t<=1){var i=t*(e.length-1),r=Math.floor(i),a=Math.ceil(i),o=x(e[r]),s=x(e[a]),l=i-r,u=w([c(g(o[0],s[0],l)),c(g(o[1],s[1],l)),c(g(o[2],s[2],l)),d(g(o[3],s[3],l))],\"rgba\");return n?{color:u,leftIndex:r,rightIndex:a,value:i}:u}}var u=l;function w(t,e){if(t&&t.length){var n=t[0]+\",\"+t[1]+\",\"+t[2];return\"rgba\"!==e&&\"hsva\"!==e&&\"hsla\"!==e||(n+=\",\"+t[3]),e+\"(\"+n+\")\"}}e.parse=x,e.lift=function(t,e){var n=x(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,255<n[i]?n[i]=255:t[i]<0&&(n[i]=0);return w(n,4===n.length?\"rgba\":\"rgb\")}},e.toHex=function(t){var e=x(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=a,e.fastMapToColor=o,e.lerp=l,e.mapToColor=u,e.modifyHSL=function(t,e,n,i){if(t=x(t))return t=function(t){if(t){var e,n,i,r,a,o=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.min(o,s,l),h=Math.max(o,s,l),c=h-u,d=(h+u)/2;0==c?n=e=0:(n=d<.5?c/(h+u):c/(2-h-u),i=((h-o)/6+c/2)/c,r=((h-s)/6+c/2)/c,a=((h-l)/6+c/2)/c,o===h?e=a-r:s===h?e=1/3+i-a:l===h&&(e=2/3+r-i),e<0&&(e+=1),1<e&&--e);var f=[360*e,n,d];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=(r=e,(r=Math.round(r))<0?0:360<r?360:r)),null!=n&&(t[1]=p(n)),null!=i&&(t[2]=p(i)),w(b(t),\"rgba\");var r},e.modifyAlpha=function(t,e){if((t=x(t))&&null!=e)return t[3]=d(e),w(t,\"rgba\")},e.stringify=w},function(t,e,n){var a=n(0).each,i=n(35),r=n(56),o=n(25),s=n(4),l=n(2),u=n(95).createTask,h=n(46),c=s.makeInner(),d=h();function f(){this.group=new i,this.uid=r.getUID(\"viewChart\"),this.renderTask=u({plan:v,reset:y}),this.renderTask.context={view:this}}var p=f.prototype={type:\"chart\",init:function(t,e){},render:function(t,e,n,i){},highlight:function(t,e,n,i){m(t.getData(),i,\"emphasis\")},downplay:function(t,e,n,i){m(t.getData(),i,\"normal\")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function g(t,e,n){if(t&&(t.trigger(e,n),t.isGroup&&!l.isHighDownDispatcher(t)))for(var i=0,r=t.childCount();i<r;i++)g(t.childAt(i),e,n)}function m(e,t,n){var i=s.queryDataIndex(e,t),r=t&&null!=t.highlightKey?l.getHighlightDigit(t.highlightKey):null;null!=i?a(s.normalizeToArray(i),function(t){g(e.getItemGraphicEl(t),n,r)}):e.eachItemGraphicEl(function(t){g(t,n,r)})}function v(t){return d(t.model)}function y(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,a=e.pipelineContext.progressiveRender,o=t.view,s=r&&c(r).updateMethod,l=a?\"incrementalPrepareRender\":s&&o[s]?s:\"render\";return\"render\"!==l&&o[l](e,n,i,r),_[l]}p.updateView=p.updateLayout=p.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},o.enableClassExtend(f,[\"dispose\"]),o.enableClassManagement(f,{registerWhenExtend:!0}),f.markUpdateMethod=function(t,e){c(t).updateMethod=e};var _={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};t.exports=f},function(t,e,n){var i=n(0),f=i.each,p=i.isString;function r(t,e){return!!e&&e===t.getCalculationInfo(\"stackedDimension\")}e.enableDataStack=function(t,n,e){var i,r,a,o,s,l,u,h=(e=e||{}).byIndex,c=e.stackedCoordDimension,d=!(!t||!t.get(\"stack\"));return f(n,function(t,e){p(t)&&(n[e]=t={name:t}),d&&!t.isExtraCoord&&(h||i||!t.ordinalMeta||(i=t),r||\"ordinal\"===t.type||\"time\"===t.type||c&&c!==t.coordDim||(r=t))}),!r||h||i||(h=!0),r&&(a=\"__\\0ecstackresult\",o=\"__\\0ecstackedover\",i&&(i.createInvertedIndices=!0),s=r.coordDim,l=r.type,u=0,f(n,function(t){t.coordDim===s&&u++}),n.push({name:a,coordDim:s,coordDimIndex:u,type:l,isExtraCoord:!0,isCalculationCoord:!0}),u++,n.push({name:o,coordDim:o,coordDimIndex:u,type:l,isExtraCoord:!0,isCalculationCoord:!0})),{stackedDimension:r&&r.name,stackedByDimension:i&&i.name,isStackedByIndex:h,stackedOverDimension:o,stackResultDimension:a}},e.isDimensionStacked=r,e.getStackedDimension=function(t,e){return r(t,e)?t.getCalculationInfo(\"stackResultDimension\"):e}},function(t,e,n){n(5).__DEV__;var a=n(0),i=\".\",o=\"___EC__COMPONENT__CONTAINER___\";function s(t){var e={main:\"\",sub:\"\"};return t&&(t=t.split(i),e.main=t[0]||\"\",e.sub=t[1]||\"\"),e}var r=0;function l(t,e){var n=a.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function u(t,e,n){return this.superClass.prototype[e].apply(t,n)}e.parseClassType=s,e.enableClassExtend=function(t,e){(t.$constructor=t).extend=function(t){function e(){t.$constructor?t.$constructor.apply(this,arguments):n.apply(this,arguments)}var n=this;return a.extend(e.prototype,t),e.extend=this.extend,e.superCall=l,e.superApply=u,a.inherits(e,this),e.superClass=n,e}},e.enableClassCheck=function(t){var e=[\"__\\0is_clz\",r++,Math.random().toFixed(3)].join(\"_\");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}},e.enableClassManagement=function(n,t){t=t||{};var i,r={};return n.registerClass=function(t,e){var n;return e&&(n=e,a.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType \"'+n+'\" illegal'),(e=s(e)).sub?e.sub!==o&&(function(t){var e=r[t.main];e&&e[o]||((e=r[t.main]={})[o]=!0);return e}(e)[e.sub]=t):r[e.main]=t),t},n.getClass=function(t,e,n){var i=r[t];if(i&&i[o]&&(i=e?i[e]:null),n&&!i)throw new Error(e?\"Component \"+t+\".\"+(e||\"\")+\" not exists. Load it first.\":t+\".type should be specified.\");return i},n.getClassesByMainType=function(t){t=s(t);var n=[],e=r[t.main];return e&&e[o]?a.each(e,function(t,e){e!==o&&n.push(t)}):n.push(e),n},n.hasClass=function(t){return t=s(t),!!r[t.main]},n.getAllClassMainTypes=function(){var n=[];return a.each(r,function(t,e){n.push(e)}),n},n.hasSubTypes=function(t){t=s(t);var e=r[t.main];return e&&e[o]},n.parseClassType=s,!t.registerWhenExtend||(i=n.extend)&&(n.extend=function(t){var e=i.call(this,t);return n.registerClass(e,t.type)}),n},e.setReadOnly=function(t,e){}},function(t,e,n){n(5).__DEV__;var i=n(4),r=i.makeInner,m=i.getDataItemValue,a=n(0),o=a.createHashMap,g=a.each,s=a.map,v=a.isArray,y=a.isString,_=a.isObject,x=a.isTypedArray,l=a.isArrayLike,u=a.extend,c=(a.assert,n(57)),h=n(58),b=h.SOURCE_FORMAT_ORIGINAL,w=h.SOURCE_FORMAT_ARRAY_ROWS,T=h.SOURCE_FORMAT_OBJECT_ROWS,S=h.SOURCE_FORMAT_KEYED_COLUMNS,d=h.SOURCE_FORMAT_UNKNOWN,f=h.SOURCE_FORMAT_TYPED_ARRAY,M=h.SERIES_LAYOUT_BY_ROW,A={Must:1,Might:2,Not:3},I=r();function p(t){if(t){var i=o();return s(t,function(t,e){if(null==(t=u({},_(t)?t:{name:t})).name)return t;t.name+=\"\",null==t.displayName&&(t.displayName=t.name);var n=i.get(t.name);return n?t.name+=\"-\"+n.count++:i.set(t.name,{count:1}),t})}}function C(t,e,n,i){if(null==i&&(i=1/0),e===M)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else for(var a=n[0]||[],r=0;r<a.length&&r<i;r++)t(a[r],r)}function D(t){var e=t.option;if(!e.data)return t.ecModel.getComponent(\"dataset\",e.datasetIndex||0)}function E(t,e,n,i,r,a){var o,s,l,u;if(x(t))return A.Not;if(i&&(u=i[a],_(u)?(s=u.name,l=u.type):y(u)&&(s=u)),null!=l)return\"ordinal\"===l?A.Must:A.Not;if(e===w)if(n===M){for(var h=t[a],c=0;c<(h||[]).length&&c<5;c++)if(null!=(o=g(h[r+c])))return o}else for(c=0;c<t.length&&c<5;c++){var d=t[r+c];if(d&&null!=(o=g(d[a])))return o}else if(e===T){if(!s)return A.Not;for(c=0;c<t.length&&c<5;c++){if((f=t[c])&&null!=(o=g(f[s])))return o}}else if(e===S){if(!s)return A.Not;if(!(h=t[s])||x(h))return A.Not;for(c=0;c<h.length&&c<5;c++)if(null!=(o=g(h[c])))return o}else if(e===b)for(c=0;c<t.length&&c<5;c++){var f=t[c],p=m(f);if(!v(p))return A.Not;if(null!=(o=g(p[a])))return o}function g(t){var e=y(t);return null!=t&&isFinite(t)&&\"\"!==t?e?A.Might:A.Not:e&&\"-\"!==t?A.Must:void 0}return A.Not}e.BE_ORDINAL=A,e.detectSourceFormat=function(t){var e=t.option.source,n=d;if(x(e))n=f;else if(v(e)){0===e.length&&(n=w);for(var i=0,r=e.length;i<r;i++){var a=e[i];if(null!=a){if(v(a)){n=w;break}if(_(a)){n=T;break}}}}else if(_(e)){for(var o in e)if(e.hasOwnProperty(o)&&l(e[o])){n=S;break}}else if(null!=e)throw new Error(\"Invalid data\");I(t).sourceFormat=n},e.getSource=function(t){return I(t).source},e.resetSourceDefaulter=function(t){I(t).datasetMap=o()},e.prepareSource=function(t){var e,n=t.option,i=n.data,r=x(i)?f:b,a=!1,o=n.seriesLayoutBy,s=n.sourceHeader,l=n.dimensions,u=D(t);u&&(i=(e=u.option).source,r=I(u).sourceFormat,a=!0,o=o||e.seriesLayoutBy,null==s&&(s=e.sourceHeader),l=l||e.dimensions);var h=function(t,e,n,i,r){if(!t)return{dimensionsDefine:p(r)};var a,o;{var s;e===w?(\"auto\"===i||null==i?C(function(t){null!=t&&\"-\"!==t&&(y(t)?null==o&&(o=1):o=0)},n,t,10):o=i?1:0,r||1!==o||(r=[],C(function(t,e){r[e]=null!=t?t:\"\"},n,t)),a=r?r.length:n===M?t.length:t[0]?t[0].length:null):e===T?r=r||function(t){var e,n=0;for(;n<t.length&&!(e=t[n++]););if(e){var i=[];return g(e,function(t,e){i.push(e)}),i}}(t):e===S?r||(r=[],g(t,function(t,e){r.push(e)})):e===b&&(s=m(t[0]),a=v(s)&&s.length||1)}return{startIndex:o,dimensionsDefine:p(r),dimensionsDetectCount:a}}(i,r,o,s,l);I(t).source=new c({data:i,fromDataset:a,seriesLayoutBy:o,sourceFormat:r,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:n.encode})},e.makeSeriesEncodeForAxisCoordSys=function(n,t,e){var a={},i=D(t);if(!i||!n)return a;var o,r,s=[],l=[],u=t.ecModel,h=I(u).datasetMap,c=i.uid+\"_\"+e.seriesLayoutBy;n=n.slice(),g(n,function(t,e){_(t)||(n[e]={name:t}),\"ordinal\"===t.type&&null==o&&(r=p(n[o=e])),a[t.name]=[]});var d=h.get(c)||h.set(c,{categoryWayDim:r,valueWayDim:0});function f(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function p(t){var e=t.dimsDef;return e?e.length:1}return g(n,function(t,e){var n,i=t.name,r=p(t);null==o?(n=d.valueWayDim,f(a[i],n,r),f(l,n,r),d.valueWayDim+=r):o===e?(f(a[i],0,r),f(s,0,r)):(n=d.categoryWayDim,f(a[i],n,r),f(l,n,r),d.categoryWayDim+=r)}),s.length&&(a.itemName=s),l.length&&(a.seriesName=l),a},e.makeSeriesEncodeForNameBased=function(t,l,u){var e={};if(!D(t))return e;var h,c=l.sourceFormat,d=l.dimensionsDefine;c!==T&&c!==S||g(d,function(t,e){\"name\"===(_(t)?t.name:t)&&(h=e)});var n,i=function(){for(var t={},e={},n=[],i=0,r=Math.min(5,u);i<r;i++){var a=E(l.data,c,l.seriesLayoutBy,d,l.startIndex,i);n.push(a);var o=a===A.Not;if(o&&null==t.v&&i!==h&&(t.v=i),null!=t.n&&t.n!==t.v&&(o||n[t.n]!==A.Not)||(t.n=i),s(t)&&n[t.n]!==A.Not)return t;o||(a===A.Might&&null==e.v&&i!==h&&(e.v=i),null!=e.n&&e.n!==e.v||(e.n=i))}function s(t){return null!=t.v&&null!=t.n}return s(t)?t:s(e)?e:null}();return i&&(e.value=i.v,n=null!=h?h:i.n,e.itemName=[n],e.seriesName=[n]),e},e.guessOrdinal=function(t,e){return E(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}},function(t,e,n){var f=n(0),p=n(17),g=n(47),m=n(58).SOURCE_FORMAT_ORIGINAL,v=n(59).getDimensionTypeByAxis,y=n(4).getDataItemValue,_=n(19),x=n(252).getCoordSysInfoBySeries,b=n(57),w=n(24).enableDataStack,T=n(26).makeSeriesEncodeForAxisCoordSys;function i(t,e,n){n=n||{},b.isInstance(t)||(t=b.seriesDataToSource(t));var i,r=e.get(\"coordinateSystem\"),a=_.get(r),o=x(e);o&&(i=f.map(o.coordSysDims,function(t){var e,n={name:t},i=o.axisMap.get(t);return i&&(e=i.get(\"type\"),n.type=v(e)),n})),i=i||(a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||[\"x\",\"y\"]);var s,l,u=g(t,{coordDimensions:i,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?f.curry(T,i,e):null});o&&f.each(u,function(t,e){var n=t.coordDim,i=o.categoryAxisMap.get(n);i&&(null==s&&(s=e),t.ordinalMeta=i.getOrdinalMeta()),null!=t.otherDims.itemName&&(l=!0)}),l||null==s||(u[s].otherDims.itemName=0);var h=w(e,u),c=new p(u,e);c.setCalculationInfo(h);var d=null!=s&&function(t){if(t.sourceFormat===m){var e=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!f.isArray(y(e))}}(t)?function(t,e,n,i){return i===s?n:this.defaultDimValueGetter(t,e,n,i)}:null;return c.hasItemOption=!1,c.initData(t,null,d),c}t.exports=i},function(t,e,n){var i=n(8),r=i.create,x=i.distSquare,A=Math.pow,I=Math.sqrt,a=1e-8,C=I(3),b=r(),w=r(),T=r();function D(t){return-a<t&&t<a}function f(t){return a<t||t<-a}function S(t,e,n,i,r){var a=1-r;return a*a*(a*t+3*r*e)+r*r*(r*i+3*a*n)}function y(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}e.cubicAt=S,e.cubicDerivativeAt=function(t,e,n,i,r){var a=1-r;return 3*(((e-t)*a+2*(n-e)*r)*a+(i-n)*r*r)},e.cubicRootAt=function(t,e,n,i,r,a){var o,s,l,u,h,c,d,f,p,g,m,v,y=i+3*(e-n)-t,_=3*(n-2*e+t),x=3*(e-t),b=t-r,w=_*_-3*y*x,T=_*x-9*y*b,S=x*x-3*_*b,M=0;return D(w)&&D(T)?D(_)?a[0]=0:0<=(g=-x/_)&&g<=1&&(a[M++]=g):D(o=T*T-4*w*S)?(m=-(s=T/w)/2,0<=(g=-_/y+s)&&g<=1&&(a[M++]=g),0<=m&&m<=1&&(a[M++]=m)):0<o?(h=w*_+1.5*y*(-T-(l=I(o))),0<=(g=(-_-((u=(u=w*_+1.5*y*(-T+l))<0?-A(-u,1/3):A(u,1/3))+(h=h<0?-A(-h,1/3):A(h,1/3))))/(3*y))&&g<=1&&(a[M++]=g)):(c=(2*w*_-3*y*T)/(2*I(w*w*w)),d=Math.acos(c)/3,g=(-_-2*(f=I(w))*(p=Math.cos(d)))/(3*y),m=(-_+f*(p+C*Math.sin(d)))/(3*y),v=(-_+f*(p-C*Math.sin(d)))/(3*y),0<=g&&g<=1&&(a[M++]=g),0<=m&&m<=1&&(a[M++]=m),0<=v&&v<=1&&(a[M++]=v)),M},e.cubicExtrema=function(t,e,n,i,r){var a,o,s,l,u=6*n-12*e+6*t,h=9*e+3*i-3*t-9*n,c=3*e-3*t,d=0;return D(h)?f(u)&&0<=(s=-c/u)&&s<=1&&(r[d++]=s):D(a=u*u-4*h*c)?r[0]=-u/(2*h):0<a&&(l=(-u-(o=I(a)))/(2*h),0<=(s=(-u+o)/(2*h))&&s<=1&&(r[d++]=s),0<=l&&l<=1&&(r[d++]=l)),d},e.cubicSubdivide=function(t,e,n,i,r,a){var o=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,u=(s-o)*r+o,h=(l-s)*r+s,c=(h-u)*r+u;a[0]=t,a[1]=o,a[2]=u,a[3]=c,a[4]=c,a[5]=h,a[6]=l,a[7]=i},e.cubicProjectPoint=function(t,e,n,i,r,a,o,s,l,u,h){var c,d,f,p,g,m=.005,v=1/0;b[0]=l,b[1]=u;for(var y=0;y<1;y+=.05)w[0]=S(t,n,r,o,y),w[1]=S(e,i,a,s,y),(p=x(b,w))<v&&(c=y,v=p);v=1/0;for(var _=0;_<32&&!(m<1e-4);_++)d=c-m,f=c+m,w[0]=S(t,n,r,o,d),w[1]=S(e,i,a,s,d),p=x(w,b),0<=d&&p<v?(c=d,v=p):(T[0]=S(t,n,r,o,f),T[1]=S(e,i,a,s,f),g=x(T,b),f<=1&&g<v?(c=f,v=g):m*=.5);return h&&(h[0]=S(t,n,r,o,c),h[1]=S(e,i,a,s,c)),I(v)},e.quadraticAt=y,e.quadraticDerivativeAt=function(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))},e.quadraticRootAt=function(t,e,n,i,r){var a,o,s,l,u=t-2*e+n,h=2*(e-t),c=t-i,d=0;return D(u)?f(h)&&0<=(s=-c/h)&&s<=1&&(r[d++]=s):D(a=h*h-4*u*c)?0<=(s=-h/(2*u))&&s<=1&&(r[d++]=s):0<a&&(l=(-h-(o=I(a)))/(2*u),0<=(s=(-h+o)/(2*u))&&s<=1&&(r[d++]=s),0<=l&&l<=1&&(r[d++]=l)),d},e.quadraticExtremum=function(t,e,n){var i=t+n-2*e;return 0==i?.5:(t-e)/i},e.quadraticSubdivide=function(t,e,n,i,r){var a=(e-t)*i+t,o=(n-e)*i+e,s=(o-a)*i+a;r[0]=t,r[1]=a,r[2]=s,r[3]=s,r[4]=o,r[5]=n},e.quadraticProjectPoint=function(t,e,n,i,r,a,o,s,l){var u,h=.005,c=1/0;b[0]=o,b[1]=s;for(var d=0;d<1;d+=.05){w[0]=y(t,n,r,d),w[1]=y(e,i,a,d),(v=x(b,w))<c&&(u=d,c=v)}c=1/0;for(var f=0;f<32&&!(h<1e-4);f++){var p=u-h,g=u+h;w[0]=y(t,n,r,p),w[1]=y(e,i,a,p);var m,v=x(w,b);0<=p&&v<c?(u=p,c=v):(T[0]=y(t,n,r,g),T[1]=y(e,i,a,g),m=x(T,b),g<=1&&m<c?(u=g,c=m):h*=.5)}return l&&(l[0]=y(t,n,r,u),l[1]=y(e,i,a,u)),I(c)}},function(t,e){var s=\"\\0__throttleOriginMethod\",l=\"\\0__throttleRate\",u=\"\\0__throttleType\";function h(t,n,i){var r,a,o,s,l,u=0,h=0,c=null;function d(){h=(new Date).getTime(),c=null,t.apply(o,s||[])}n=n||0;function e(){r=(new Date).getTime(),o=this,s=arguments;var t=l||n,e=l||i;l=null,a=r-(e?u:h)-t,clearTimeout(c),e?c=setTimeout(d,t):0<=a?d():c=setTimeout(d,-a),u=r}return e.clear=function(){c&&(clearTimeout(c),c=null)},e.debounceNextCall=function(t){l=t},e}e.throttle=h,e.createOrUpdate=function(t,e,n,i){var r=t[e];if(r){var a=r[s]||r,o=r[u];if(r[l]!==n||o!==i){if(null==n||!i)return t[e]=a;(r=t[e]=h(a,n,\"debounce\"===i))[s]=a,r[u]=i,r[l]=n}return r}},e.clear=function(t,e){var n=t[e];n&&n[s]&&(t[e]=n[s])}},function(t,e){t.exports={legend:{selector:{all:\"全选\",inverse:\"反选\"}},toolbox:{brush:{title:{rect:\"矩形选择\",polygon:\"圈选\",lineX:\"横向选择\",lineY:\"纵向选择\",keep:\"保持选择\",clear:\"清除选择\"}},dataView:{title:\"数据视图\",lang:[\"数据视图\",\"关闭\",\"刷新\"]},dataZoom:{title:{zoom:\"区域缩放\",back:\"区域缩放还原\"}},magicType:{title:{line:\"切换为折线图\",bar:\"切换为柱状图\",stack:\"切换为堆叠\",tiled:\"切换为平铺\"}},restore:{title:\"还原\"},saveAsImage:{title:\"保存为图片\",lang:[\"右键另存为图片\"]}},series:{typeNames:{pie:\"饼图\",bar:\"柱状图\",line:\"折线图\",scatter:\"散点图\",effectScatter:\"涟漪散点图\",radar:\"雷达图\",tree:\"树图\",treemap:\"矩形树图\",boxplot:\"箱型图\",candlestick:\"K线图\",k:\"K线图\",heatmap:\"热力图\",map:\"地图\",parallel:\"平行坐标图\",lines:\"线图\",graph:\"关系图\",sankey:\"桑基图\",funnel:\"漏斗图\",gauge:\"仪表盘图\",pictorialBar:\"象形柱图\",themeRiver:\"主题河流图\",sunburst:\"旭日图\"}},aria:{general:{withTitle:\"这是一个关于“{title}”的图表。\",withoutTitle:\"这是一个图表，\"},series:{single:{prefix:\"\",withName:\"图表类型是{seriesType}，表示{seriesName}。\",withoutName:\"图表类型是{seriesType}。\"},multiple:{prefix:\"它由{seriesCount}个图表系列组成。\",withName:\"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，\",withoutName:\"第{seriesId}个系列是一个{seriesType}，\",separator:{middle:\"；\",end:\"。\"}}},data:{allData:\"其数据是——\",partialData:\"其中，前{displayCnt}项是——\",withName:\"{name}的数据是{value}\",withoutName:\"{value}\",separator:{middle:\"，\",end:\"\"}}}}},function(t,e,n){function i(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1}var r=n(0),f=r.each,a=r.map,o=n(3),s=o.linearMap,l=o.getPixelPrecision,p=o.round,u=n(255),h=u.createAxisTicks,c=u.createAxisLabels,d=u.calculateCategoryInterval,g=[0,1];function m(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}i.prototype={constructor:i,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return n<=t&&t<=i},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return l(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&\"ordinal\"===i.type&&m(n=n.slice(),i.count()),s(t,g,n,e)},coordToData:function(t,e){var n=this._extent,i=this.scale;this.onBand&&\"ordinal\"===i.type&&m(n=n.slice(),i.count());var r=s(t,n,g,e);return this.scale.scale(r)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=h(this,e).ticks,i=a(n,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this);return function(t,e,n,i){var r=e.length;if(!t.onBand||n||!r)return;var a,o,s=t.getExtent();{var l,u,h;1===r?(e[0].coord=s[0],a=e[1]={coord:s[0]}):(l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l,f(e,function(t){t.coord-=u/2}),h=t.scale.getExtent(),o=1+h[1]-e[r-1].tickValue,a={coord:e[r-1].coord+u*o},e.push(a))}var c=s[0]>s[1];d(e[0].coord,s[0])&&(i?e[0].coord=s[0]:e.shift());i&&d(s[0],e[0].coord)&&e.unshift({coord:s[0]});d(s[1],a.coord)&&(i?a.coord=s[1]:e.pop());i&&d(a.coord,s[1])&&e.push({coord:s[1]});function d(t,e){return t=p(t),e=p(e),c?e<t:t<e}}(this,i,e.get(\"alignWithLabel\"),t.clamp),i},getMinorTicksCoords:function(){if(\"ordinal\"===this.scale.type)return[];var t=this.model.getModel(\"minorTick\").get(\"splitNumber\");0<t&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return a(e,function(t){return a(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},getViewLabels:function(){return c(this).labels},getLabelModel:function(){return this.model.getModel(\"axisLabel\")},getTickModel:function(){return this.model.getModel(\"axisTick\")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return d(this)}},t.exports=i},function(t,e,n){function i(t,e){this.opt=e,this.axisModel=t,d(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new M.Group;var n=new M.Group({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n}var r=n(0),w=r.retrieve,d=r.defaults,T=r.extend,x=r.each,S=n(7),M=n(2),b=n(12),a=n(3),A=a.isRadianAroundZero,I=a.remRadian,f=n(18).createSymbol,o=n(15),p=n(8).applyTransform,g=n(20).shouldShowAllLabels,C=Math.PI;i.prototype={constructor:i,hasBuilder:function(t){return!!s[t]},add:function(t){s[t].call(this)},getGroup:function(){return this.group}};var s={axisLine:function(){var t,e,a,n,o,s,i,r,l,u,h=this.opt,c=this.axisModel;c.get(\"axisLine.show\")&&(t=this.axisModel.axis.getExtent(),e=this._transform,a=[t[0],0],n=[t[1],0],e&&(p(a,a,e),p(n,n,e)),o=T({lineCap:\"round\"},c.getModel(\"axisLine.lineStyle\").getLineStyle()),this.group.add(new M.Line({anid:\"line\",subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:n[0],y2:n[1]},style:o,strokeContainThreshold:h.strokeContainThreshold||5,silent:!0,z2:1})),s=c.get(\"axisLine.symbol\"),i=c.get(\"axisLine.symbolSize\"),\"number\"==typeof(r=c.get(\"axisLine.symbolOffset\")||0)&&(r=[r,r]),null!=s&&(\"string\"==typeof s&&(s=[s,s]),\"string\"!=typeof i&&\"number\"!=typeof i||(i=[i,i]),l=i[0],u=i[1],x([{rotate:h.rotation+Math.PI/2,offset:r[0],r:0},{rotate:h.rotation-Math.PI/2,offset:r[1],r:Math.sqrt((a[0]-n[0])*(a[0]-n[0])+(a[1]-n[1])*(a[1]-n[1]))}],function(t,e){var n,i,r;\"none\"!==s[e]&&null!=s[e]&&(n=f(s[e],-l/2,-u/2,l,u,o.stroke,!0),i=t.r+t.offset,r=[a[0]+i*Math.cos(h.rotation),a[1]-i*Math.sin(h.rotation)],n.attr({rotation:t.rotate,position:r,silent:!0,z2:11}),this.group.add(n))},this)))},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=function(t,e,n){var i=e.axis,r=e.getModel(\"axisTick\");if(!r.get(\"show\")||i.scale.isBlank())return;for(var a=r.getModel(\"lineStyle\"),o=n.tickDirection*r.get(\"length\"),s=y(i.getTicksCoords(),t._transform,o,d(a.getLineStyle(),{stroke:e.get(\"axisLine.lineStyle.color\")}),\"ticks\"),l=0;l<s.length;l++)t.group.add(s[l]);return s}(this,t,e);!function(t,e,n){if(g(t.axis))return;var i=t.get(\"axisLabel.showMinLabel\"),r=t.get(\"axisLabel.showMaxLabel\");n=n||[];var a=(e=e||[])[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],h=n[1],c=n[n.length-1],d=n[n.length-2];!1===i?(m(a),m(u)):v(a,o)&&(i?(m(o),m(h)):(m(a),m(u)));!1===r?(m(s),m(c)):v(l,s)&&(r?(m(l),m(d)):(m(s),m(c)))}(t,function(u,h,c){var d=h.axis;if(!w(c.axisLabelShow,h.get(\"axisLabel.show\"))||d.scale.isBlank())return;var f=h.getModel(\"axisLabel\"),p=f.get(\"margin\"),t=d.getViewLabels(),e=(w(c.labelRotate,f.get(\"rotate\"))||0)*C/180,g=E(c.rotation,e,c.labelDirection),m=h.getCategories&&h.getCategories(!0),v=[],y=L(h),_=h.get(\"triggerEvent\");return x(t,function(t,e){var n=t.tickValue,i=t.formattedLabel,r=t.rawLabel,a=f;m&&m[n]&&m[n].textStyle&&(a=new b(m[n].textStyle,f,h.ecModel));var o=a.getTextColor()||h.get(\"axisLine.lineStyle.color\"),s=[d.dataToCoord(n),c.labelOffset+c.labelDirection*p],l=new M.Text({anid:\"label_\"+n,position:s,rotation:g.rotation,silent:y,z2:10});M.setTextStyle(l.style,a,{text:i,textAlign:a.getShallow(\"align\",!0)||g.textAlign,textVerticalAlign:a.getShallow(\"verticalAlign\",!0)||a.getShallow(\"baseline\",!0)||g.textVerticalAlign,textFill:\"function\"==typeof o?o(\"category\"===d.type?r:\"value\"===d.type?n+\"\":n,e):o}),_&&(l.eventData=D(h),l.eventData.targetType=\"axisLabel\",l.eventData.value=r),u._dumbGroup.add(l),l.updateTransform(),v.push(l),u.group.add(l),l.decomposeTransform()}),v}(this,t,e),n),function(t,e,n){var i=e.axis,r=e.getModel(\"minorTick\");if(!r.get(\"show\")||i.scale.isBlank())return;var a=i.getMinorTicksCoords();if(!a.length)return;for(var o=r.getModel(\"lineStyle\"),s=n.tickDirection*r.get(\"length\"),l=d(o.getLineStyle(),d(e.getModel(\"axisTick\").getLineStyle(),{stroke:e.get(\"axisLine.lineStyle.color\")})),u=0;u<a.length;u++)for(var h=y(a[u],t._transform,s,l,\"minorticks_\"+u),c=0;c<h.length;c++)t.group.add(h[c])}(this,t,e)},axisName:function(){var t,e,n,i,r,a,o,s,l,u,h,c,d,f,p,g,m,v,y,_=this.opt,x=this.axisModel,b=w(_.axisName,x.get(\"name\"));b&&(t=x.get(\"nameLocation\"),e=_.nameDirection,n=x.getModel(\"nameTextStyle\"),i=x.get(\"nameGap\")||0,a=(r=this.axisModel.axis.getExtent())[0]>r[1]?-1:1,o=[\"start\"===t?r[0]-a*i:\"end\"===t?r[1]+a*i:(r[0]+r[1])/2,P(t)?_.labelOffset+e*i:0],null!=(l=x.get(\"nameRotate\"))&&(l=l*C/180),P(t)?s=E(_.rotation,null!=l?l:_.rotation,e):(s=function(t,e,n,i){var r,a,o=I(n-t.rotation),s=i[0]>i[1],l=\"start\"===e&&!s||\"start\"!==e&&s;r=A(o-C/2)?(a=l?\"bottom\":\"top\",\"center\"):A(o-1.5*C)?(a=l?\"top\":\"bottom\",\"center\"):(a=\"middle\",o<1.5*C&&C/2<o?l?\"left\":\"right\":l?\"right\":\"left\");return{rotation:o,textAlign:r,textVerticalAlign:a}}(_,t,l||0,r),null!=(u=_.axisNameAvailableWidth)&&(u=Math.abs(u/Math.sin(s.rotation)),isFinite(u)||(u=null))),h=n.getFont(),d=(c=x.get(\"nameTruncate\",!0)||{}).ellipsis,f=w(_.nameTruncateMaxWidth,c.maxWidth,u),p=null!=d&&null!=f?S.truncateText(b,f,h,d,{minChar:2,placeholder:c.placeholder}):b,g=x.get(\"tooltip\",!0),(v={componentType:m=x.mainType,name:b,$vars:[\"name\"]})[m+\"Index\"]=x.componentIndex,y=new M.Text({anid:\"name\",__fullText:b,__truncatedText:p,position:o,rotation:s.rotation,silent:L(x),z2:1,tooltip:g&&g.show?T({content:b,formatter:function(){return b},formatterParams:v},g):null}),M.setTextStyle(y.style,n,{text:p,textFont:h,textFill:n.getTextColor()||x.get(\"axisLine.lineStyle.color\"),textAlign:n.get(\"align\")||s.textAlign,textVerticalAlign:n.get(\"verticalAlign\")||s.textVerticalAlign}),x.get(\"triggerEvent\")&&(y.eventData=D(x),y.eventData.targetType=\"axisName\",y.eventData.name=b),this._dumbGroup.add(y),y.updateTransform(),this.group.add(y),y.decomposeTransform())}},D=i.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+\"Index\"]=t.componentIndex,e},E=i.innerTextLayout=function(t,e,n){var i,r=I(e-t),a=A(r)?(i=0<n?\"top\":\"bottom\",\"center\"):A(r-C)?(i=0<n?\"bottom\":\"top\",\"center\"):(i=\"middle\",0<r&&r<C?0<n?\"right\":\"left\":0<n?\"left\":\"right\");return{rotation:r,textAlign:a,textVerticalAlign:i}};var L=i.isLabelSilent=function(t){var e=t.get(\"tooltip\");return t.get(\"silent\")||!(t.get(\"triggerEvent\")||e&&e.show)};function m(t){t&&(t.ignore=!0)}function v(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var r=o.identity([]);return o.rotate(r,r,-t.rotation),n.applyTransform(o.mul([],r,t.getLocalTransform())),i.applyTransform(o.mul([],r,e.getLocalTransform())),n.intersect(i)}}function P(t){return\"middle\"===t||\"center\"===t}function y(t,e,n,i,r){for(var a=[],o=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;o[0]=u,s[o[1]=0]=u,s[1]=n,e&&(p(o,o,e),p(s,s,e));var h=new M.Line({anid:r+\"_\"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:i,z2:2,silent:!0});a.push(h)}return a}t.exports=i},function(t,e){var n={};e.register=function(t,e){n[t]=e},e.get=function(t){return n[t]}},function(t,e){function n(t){this._$handlers={},this._$eventProcessor=t}var u=Array.prototype.slice;function r(t,e,n,i,r,a){var o,s,l=t._$handlers;if(\"function\"==typeof n&&(r=i,i=n,n=null),!i||!e)return t;o=n,s=t._$eventProcessor,null!=o&&s&&s.normalizeQuery&&(o=s.normalizeQuery(o)),n=o,l[e]||(l[e]=[]);for(var u=0;u<l[e].length;u++)if(l[e][u].h===i)return t;var h={h:i,one:a,query:n,ctx:r||t,callAtLast:i.zrEventfulCallAtLast},c=l[e].length-1,d=l[e][c];return d&&d.callAtLast?l[e].splice(c,0,h):l[e].push(h),t}n.prototype={constructor:n,one:function(t,e,n,i){return r(this,t,e,n,i,!0)},on:function(t,e,n,i){return r(this,t,e,n,i,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,a=n[t].length;r<a;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var i=arguments,r=i.length;3<r&&(i=u.call(i,1));for(var a=e.length,o=0;o<a;){var s=e[o];if(n&&n.filter&&null!=s.query&&!n.filter(t,s.query))o++;else{switch(r){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,i[1]);break;case 3:s.h.call(s.ctx,i[1],i[2]);break;default:s.h.apply(s.ctx,i)}s.one?(e.splice(o,1),a--):o++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var i=arguments,r=i.length;4<r&&(i=u.call(i,1,i.length-1));for(var a=i[i.length-1],o=e.length,s=0;s<o;){var l=e[s];if(n&&n.filter&&null!=l.query&&!n.filter(t,l.query))s++;else{switch(r){case 1:l.h.call(a);break;case 2:l.h.call(a,i[1]);break;case 3:l.h.call(a,i[1],i[2]);break;default:l.h.apply(a,i)}l.one?(e.splice(s,1),o--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this}},t.exports=n},function(t,e,n){function a(t){for(var e in t=t||{},i.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0}var o=n(0),i=n(123),u=n(9);a.prototype={constructor:a,isGroup:!0,type:\"group\",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){var n,i;return t&&t!==this&&t.parent!==this&&e&&e.parent===this&&(0<=(i=(n=this._children).indexOf(e))&&(n.splice(i,0,t),this._doAdd(t))),this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof a&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,i=this._children,r=o.indexOf(i,t);return r<0||(i.splice(r,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(n)),e&&e.refresh()),this},removeAll:function(){for(var t,e=this._children,n=this.__storage,i=0;i<e.length;i++)t=e[i],n&&(n.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(n)),t.parent=null;return e.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),\"group\"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof a&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof a&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new u(0,0,0,0),i=t||this._children,r=[],a=0;a<i.length;a++){var o,s,l=i[a];l.ignore||l.invisible||(o=l.getBoundingRect(),(s=l.getLocalTransform(r))?(n.copy(o),n.applyTransform(s),(e=e||n.clone()).union(n)):(e=e||o.clone()).union(o))}return e||n}},o.inherits(a,i),t.exports=a},function(t,e,n){function i(t){r.call(this,t)}var r=n(54),a=n(0),o=n(16),s=n(72),l=n(71).ContextCachedBy;i.prototype={constructor:i,type:\"text\",brush:function(t,e){var n=this.style;this.__dirty&&s.normalizeTextStyle(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=\"\"),s.needDrawText(i,n)?(this.setTransform(t),s.renderText(this,t,i,n,null,e),this.restoreTransform(t)):t.__attrCachedBy=l.NONE},getBoundingRect:function(){var t,e,n=this.style;return this.__dirty&&s.normalizeTextStyle(n,!0),this._rect||(null!=n.text?0:0,(t=o.getBoundingRect(n.text+\"\",n.font,n.textAlign,n.textVerticalAlign,n.textPadding,n.textLineHeight,n.rich)).x+=n.x||0,t.y+=n.y||0,s.getStroke(n.textStroke,n.textStrokeWidth)&&(e=n.textStrokeWidth,t.x-=e/2,t.y-=e/2,t.width+=e,t.height+=e),this._rect=t),this._rect}},a.inherits(i,r),t.exports=i},function(t,e,n){n(5).__DEV__;var i=n(0),a=(i.isTypedArray,i.extend),o=(i.assert,i.each),s=i.isObject,r=n(4),l=r.getDataItemValue,u=r.isDataItemOption,h=n(3).parseDate,c=n(57),d=n(58),f=d.SOURCE_FORMAT_TYPED_ARRAY,p=d.SOURCE_FORMAT_ARRAY_ROWS,g=d.SOURCE_FORMAT_ORIGINAL,m=d.SOURCE_FORMAT_OBJECT_ROWS;function v(t,e){c.isInstance(t)||(t=c.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,i=t.sourceFormat;i===f&&(this._offset=0,this._dimSize=e,this._data=n);var r=_[i===p?i+\"_\"+t.seriesLayoutBy:i];a(this,r)}var y=v.prototype;y.pure=!1;var _={arrayRows_column:{pure:y.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:w},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,i=0;i<n.length;i++){var r=n[i];e.push(r?r[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".')}},objectRows:{pure:!0,count:x,getItem:b,appendData:w},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];e.push(r?r[t]:null)}return e},appendData:function(t){var r=this._data;o(t,function(t,e){for(var n=r[e]||(r[e]=[]),i=0;i<(t||[]).length;i++)n.push(t[i])})}},original:{count:x,getItem:b,appendData:w},typedArray:{persistent:!(y.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[n+i];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function x(){return this._data.length}function b(t){return this._data[t]}function w(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var T={arrayRows:S,objectRows:function(t,e,n,i){return null!=n?t[i]:t},keyedColumns:S,original:function(t,e,n,i){var r=l(t);return null!=n&&r instanceof Array?r[n]:r},typedArray:S};function S(t,e,n,i){return null!=n?t[n]:t}var M={arrayRows:A,objectRows:function(t,e,n,i){return I(t[e],this._dimensionInfos[e])},keyedColumns:A,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return!this._rawData.pure&&u(t)&&(this.hasItemOption=!0),I(r instanceof Array?r[i]:r,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}};function A(t,e,n,i){return I(t[i],this._dimensionInfos[e])}function I(t,e){var n=e&&e.type;if(\"ordinal\"!==n)return\"time\"===n&&\"number\"!=typeof t&&null!=t&&\"-\"!==t&&(t=+h(t)),null==t||\"\"===t?NaN:+t;var i=e&&e.ordinalMeta;return i?i.parseAndCollect(t):t}e.DefaultDataProvider=v,e.defaultDimValueGetters=M,e.retrieveRawValue=function(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r,a,o=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(r=s.name,a=s.index),T[o](i,e,a,r)}}},e.retrieveRawAttr=function(t,e,n){if(t){var i=t.getProvider().getSource().sourceFormat;if(i===g||i===m){var r=t.getRawDataItem(e);return i!==g||s(r)||(r=null),r?r[n]:void 0}}}},function(t,e){function a(t){return t}function n(t,e,n,i,r){this._old=t,this._new=e,this._oldKeyGetter=n||a,this._newKeyGetter=i||a,this.context=r}function h(t,e,n,i,r){for(var a=0;a<t.length;a++){var o=\"_ec_\"+r[i](t[a],a),s=e[o];null==s?(n.push(o),e[o]=a):(s.length||(e[o]=s=[s]),s.push(a))}}n.prototype={constructor:n,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},i=[],r=[];for(h(t,{},i,\"_oldKeyGetter\",this),h(e,n,r,\"_newKeyGetter\",this),a=0;a<t.length;a++){null!=(o=n[s=i[a]])?((u=o.length)?(1===u&&(n[s]=null),o=o.shift()):n[s]=null,this._update&&this._update(o,a)):this._remove&&this._remove(a)}for(var a=0;a<r.length;a++){var o,s=r[a];if(n.hasOwnProperty(s)){if(null==(o=n[s]))continue;if(o.length)for(var l=0,u=o.length;l<u;l++)this._add&&this._add(o[l]);else this._add&&this._add(o)}}}};t.exports=n},function(t,e,n){var l=n(0).isFunction;t.exports=function(t,o,s){return{seriesType:t,performRawSeries:!0,reset:function(u,t,e){var n=u.getData(),h=u.get(\"symbol\"),c=u.get(\"symbolSize\"),i=u.get(\"symbolKeepAspect\"),d=u.get(\"symbolRotate\"),f=l(h),p=l(c),g=l(d),m=f||p||g,r=!f&&h?h:o,a=p?null:c;if(n.setVisual({legendSymbol:s||r,symbol:r,symbolSize:a,symbolKeepAspect:i,symbolRotate:d}),!t.isSeriesFiltered(u))return{dataEach:n.hasItemOption||m?function(t,e){var n,i,r,a,o,s,l;m&&(n=u.getRawValue(e),i=u.getDataParams(e),f&&t.setItemVisual(e,\"symbol\",h(n,i)),p&&t.setItemVisual(e,\"symbolSize\",c(n,i)),g&&t.setItemVisual(e,\"symbolRotate\",d(n,i))),t.hasItemOption&&(a=(r=t.getItemModel(e)).getShallow(\"symbol\",!0),o=r.getShallow(\"symbolSize\",!0),s=r.getShallow(\"symbolRotate\",!0),l=r.getShallow(\"symbolKeepAspect\",!0),null!=a&&t.setItemVisual(e,\"symbol\",a),null!=o&&t.setItemVisual(e,\"symbolSize\",o),null!=s&&t.setItemVisual(e,\"symbolRotate\",s),null!=l&&t.setItemVisual(e,\"symbolKeepAspect\",l))}:null}}}}},function(t,e,n){n(5).__DEV__;var i=n(1),l=n(80),u=i.extendComponentView({type:\"axis\",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,i){this.axisPointerClass&&l.fixValue(t),u.superApply(this,\"render\",arguments),a(this,t,0,n,0,!0)},updateAxisPointer:function(t,e,n,i,r){a(this,t,0,n,0,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),u.superApply(this,\"remove\",arguments)},dispose:function(t,e){h(this,e),u.superApply(this,\"dispose\",arguments)}});function a(t,e,n,i,r,a){var o,s=u.getAxisPointerClass(t.axisPointerClass);s&&((o=l.getAxisPointerModel(e))?(t._axisPointer||(t._axisPointer=new s)).render(e,o,i,a):h(t,i))}function h(t,e,n){var i=t._axisPointer;i&&i.dispose(e,n),t._axisPointer=null}var r=[];u.registerAxisPointerClass=function(t,e){r[t]=e},u.getAxisPointerClass=function(t){return t&&r[t]},t.exports=u},function(t,e,n){var o=n(0);function i(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}e.retrieveTargetInfo=function(t,e,n){if(t&&0<=o.indexOf(e,t.type)){var i=n.getData().tree.root,r=t.targetNode;if(\"string\"==typeof r&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var a=t.targetNodeId;if(null!=a&&(r=i.getNodeById(a)))return{node:r}}},e.getPathToRoot=i,e.aboveViewRoot=function(t,e){var n=i(t);return 0<=o.indexOf(n,e)},e.wrapTreePathInfo=function(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}},function(t,e,n){var s=n(0),a=n(22),r=n(3).linearMap,l=s.each,o=s.isObject,u=-1,h=function(t){var e=t.mappingMethod,n=t.type,i=this.option=s.clone(t);this.type=n,this.mappingMethod=e,this._normalizeData=x[e];var r,a,o=c[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._doMap=o._doMap[e],\"piecewise\"===e?(d(i),a=(r=i).pieceList,r.hasSpecialVisual=!1,s.each(a,function(t,e){t.originIndex=e,null!=t.visual&&(r.hasSpecialVisual=!0)})):\"category\"===e?i.categories?function(t){var e=t.categories,n=t.visual,i=t.categoryMap={};{var r;l(e,function(t,e){i[t]=e}),s.isArray(n)||(r=[],s.isObject(n)?l(n,function(t,e){var n=i[e];r[null!=n?n:u]=t}):r[u]=n,n=_(t,r))}for(var a=e.length-1;0<=a;a--)null==n[a]&&(delete i[e[a]],e.pop())}(i):d(i,!0):(s.assert(\"linear\"!==e||i.dataExtent),d(i))};h.prototype={constructor:h,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return s.bind(this._normalizeData,this)}};var c=h.visualHandlers={color:{applyVisual:p(\"color\"),getColorMapper:function(){var r=this.option;return s.bind(\"category\"===r.mappingMethod?function(t,e){return e||(t=this._normalizeData(t)),g.call(this,t)}:function(t,e,n){var i=!!n;return e||(t=this._normalizeData(t)),n=a.fastLerp(t,r.parsedVisual,n),i?n:a.stringify(n,\"rgba\")},this)},_doMap:{linear:function(t){return a.stringify(a.fastLerp(t,this.option.parsedVisual),\"rgba\")},category:g,piecewise:function(t,e){var n=y.call(this,e);return null==n&&(n=a.stringify(a.fastLerp(t,this.option.parsedVisual),\"rgba\")),n},fixed:m}},colorHue:i(function(t,e){return a.modifyHSL(t,e)}),colorSaturation:i(function(t,e){return a.modifyHSL(t,null,e)}),colorLightness:i(function(t,e){return a.modifyHSL(t,null,null,e)}),colorAlpha:i(function(t,e){return a.modifyAlpha(t,e)}),opacity:{applyVisual:p(\"opacity\"),_doMap:v([0,1])},liftZ:{applyVisual:p(\"liftZ\"),_doMap:{linear:m,category:m,piecewise:m,fixed:m}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);if(s.isString(i))n(\"symbol\",i);else if(o(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:f,category:g,piecewise:function(t,e){var n=y.call(this,e);return null==n&&(n=f.call(this,t)),n},fixed:m}},symbolSize:{applyVisual:p(\"symbolSize\"),_doMap:v([0,1])}};function d(t,e){var n=t.visual,i=[];s.isObject(n)?l(n,function(t){i.push(t)}):null!=n&&i.push(n);e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(i[1]=i[0]),_(t,i)}function i(i){return{applyVisual:function(t,e,n){t=this.mapValueToVisual(t),n(\"color\",i(e(\"color\"),t))},_doMap:v([0,1])}}function f(t){var e=this.option.visual;return e[Math.round(r(t,[0,1],[0,e.length-1],!0))]||{}}function p(i){return function(t,e,n){n(i,this.mapValueToVisual(t))}}function g(t){var e=this.option.visual;return e[this.option.loop&&t!==u?t%e.length:t]}function m(){return this.option.visual[0]}function v(i){return{linear:function(t){return r(t,i,this.option.visual,!0)},category:g,piecewise:function(t,e){var n=y.call(this,e);return null==n&&(n=r(t,i,this.option.visual,!0)),n},fixed:m}}function y(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=n[h.findPieceIndex(t,n)];if(i&&i.visual)return i.visual[this.type]}}function _(t,e){return t.visual=e,\"color\"===t.type&&(t.parsedVisual=s.map(e,function(t){return a.parse(t)})),e}var x={linear:function(t){return r(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=h.findPieceIndex(t,e,!0);if(null!=n)return r(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?u:e},fixed:s.noop};function b(t,e,n){return t?e<=n:e<n}h.listVisualTypes=function(){var n=[];return s.each(c,function(t,e){n.push(e)}),n},h.addVisualHandler=function(t,e){c[t]=e},h.isValidType=function(t){return c.hasOwnProperty(t)},h.eachVisual=function(t,e,n){s.isObject(t)?s.each(t,e,n):e.call(n,t)},h.mapVisual=function(t,i,r){var a,o=s.isArray(t)?[]:s.isObject(t)?{}:(a=!0,null);return h.eachVisual(t,function(t,e){var n=i.call(r,t,e);a?o=n:o[e]=n}),o},h.retrieveVisuals=function(n){var i,r={};return n&&l(c,function(t,e){n.hasOwnProperty(e)&&(r[e]=n[e],i=!0)}),i?r:null},h.prepareVisualTypes=function(t){if(o(t)){var n=[];l(t,function(t,e){n.push(e)}),t=n}else{if(!s.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return\"color\"===e&&\"color\"!==t&&0===t.indexOf(\"color\")?1:-1}),t},h.dependsOn=function(t,e){return\"color\"===e?!(!t||0!==t.indexOf(e)):t===e},h.findPieceIndex=function(i,t,e){for(var r,a=1/0,n=0,o=t.length;n<o;n++){var s=t[n].value;if(null!=s){if(s===i||\"string\"==typeof s&&s===i+\"\")return n;e&&c(s,n)}}for(n=0,o=t.length;n<o;n++){var l=t[n],u=l.interval,h=l.close;if(u){if(u[0]===-1/0){if(b(h[1],i,u[1]))return n}else if(u[1]===1/0){if(b(h[0],u[0],i))return n}else if(b(h[0],u[0],i)&&b(h[1],i,u[1]))return n;e&&c(u[0],n),e&&c(u[1],n)}}if(e)return i===1/0?t.length-1:i===-1/0?0:r;function c(t,e){var n=Math.abs(t-i);n<a&&(a=n,r=e)}},t.exports=h},function(t,e,n){var i=n(54),r=n(9),a=n(0),p=n(89);function o(t){i.call(this,t)}o.prototype={constructor:o,type:\"image\",brush:function(t,e){var n=this.style,i=n.image;n.bind(t,this,e);var r,a,o,s,l,u,h,c,d,f=this._image=p.createOrUpdateImage(i,this._image,this,this.onload);f&&p.isImageReady(f)&&(r=n.x||0,a=n.y||0,o=n.width,s=n.height,l=f.width/f.height,null==o&&null!=s?o=s*l:null==s&&null!=o?s=o/l:null==o&&null==s&&(o=f.width,s=f.height),this.setTransform(t),n.sWidth&&n.sHeight?(u=n.sx||0,h=n.sy||0,t.drawImage(f,u,h,n.sWidth,n.sHeight,r,a,o,s)):n.sx&&n.sy?(c=o-(u=n.sx),d=s-(h=n.sy),t.drawImage(f,u,h,c,d,r,a,o,s)):t.drawImage(f,r,a,o,s),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect())))},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new r(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},a.inherits(o,i),t.exports=o},function(t,e,n){var l=n(0);t.exports=function(s){for(var t=0;t<s.length;t++)s[t][1]||(s[t][1]=s[t][0]);return function(t,e,n){for(var i={},r=0;r<s.length;r++){var a,o=s[r][1];e&&0<=l.indexOf(e,o)||n&&l.indexOf(n,o)<0||null!=(a=t.getShallow(o))&&(i[s[r][0]]=a)}return i}}},function(t,e,n){function i(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null}var w=n(28),m=n(8),v=n(55),y=n(9),r=n(70).devicePixelRatio,M={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},_=[],x=[],b=[],T=[],S=Math.min,A=Math.max,I=Math.cos,C=Math.sin,D=Math.sqrt,E=Math.abs,s=\"undefined\"!=typeof Float32Array;i.prototype={constructor:i,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,n){n=n||0,this._ux=E(n/r/t)||0,this._uy=E(n/r/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(M.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=E(t-this._xi)>this._ux||E(e-this._yi)>this._uy||this._len<5;return this.addData(M.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,i,r,a){return this.addData(M.C,t,e,n,i,r,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,r,a):this._ctx.bezierCurveTo(t,e,n,i,r,a)),this._xi=r,this._yi=a,this},quadraticCurveTo:function(t,e,n,i){return this.addData(M.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},arc:function(t,e,n,i,r,a){return this.addData(M.A,t,e,n,n,i,r-i,0,a?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,a),this._xi=I(r)*n+t,this._yi=C(r)*n+e,this},arcTo:function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},rect:function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(M.R,t,e,n,i),this},closePath:function(){this.addData(M.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!s||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();s&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(r=0;r<e;r++)for(var a=t[r].data,o=0;o<a.length;o++)this.data[i++]=a[o];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,i,r=this._dashSum,a=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,h=t-l,c=e-u,d=D(h*h+c*c),f=l,p=u,g=o.length;for(a<0&&(a=r+a),f-=(a%=r)*(h/=d),p-=a*(c/=d);0<h&&f<=t||h<0&&t<=f||0===h&&(0<c&&p<=e||c<0&&e<=p);)f+=h*(n=o[i=this._dashIdx]),p+=c*n,this._dashIdx=(i+1)%g,0<h&&f<l||h<0&&l<f||0<c&&p<u||c<0&&u<p||s[i%2?\"moveTo\":\"lineTo\"]((0<=h?S:A)(f,t),(0<=c?S:A)(p,e));h=f-t,c=p-e,this._dashOffset=-D(h*h+c*c)},_dashedBezierTo:function(t,e,n,i,r,a){var o,s,l,u,h,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=w.cubicAt,y=0,_=this._dashIdx,x=f.length,b=0;for(d<0&&(d=c+d),d%=c,o=0;o<1;o+=.1)s=v(g,t,n,r,o+.1)-v(g,t,n,r,o),l=v(m,e,i,a,o+.1)-v(m,e,i,a,o),y+=D(s*s+l*l);for(;_<x&&!(d<(b+=f[_]));_++);for(o=(b-d)/y;o<=1;)u=v(g,t,n,r,o),h=v(m,e,i,a,o),_%2?p.moveTo(u,h):p.lineTo(u,h),o+=f[_]/y,_=(_+1)%x;_%2!=0&&p.lineTo(r,a),s=r-u,l=a-h,this._dashOffset=-D(s*s+l*l)},_dashedQuadraticTo:function(t,e,n,i){var r=n,a=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,s&&(this.data=new Float32Array(t)))},getBoundingRect:function(){_[0]=_[1]=b[0]=b[1]=Number.MAX_VALUE,x[0]=x[1]=T[0]=T[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,i=0,r=0,a=0;a<t.length;){var o=t[a++];switch(1===a&&(i=e=t[a],r=n=t[a+1]),o){case M.M:e=i=t[a++],n=r=t[a++],b[0]=i,b[1]=r,T[0]=i,T[1]=r;break;case M.L:v.fromLine(e,n,t[a],t[a+1],b,T),e=t[a++],n=t[a++];break;case M.C:v.fromCubic(e,n,t[a++],t[a++],t[a++],t[a++],t[a],t[a+1],b,T),e=t[a++],n=t[a++];break;case M.Q:v.fromQuadratic(e,n,t[a++],t[a++],t[a],t[a+1],b,T),e=t[a++],n=t[a++];break;case M.A:var s=t[a++],l=t[a++],u=t[a++],h=t[a++],c=t[a++],d=t[a++]+c;a+=1;var f=1-t[a++];1===a&&(i=I(c)*u+s,r=C(c)*h+l),v.fromArc(s,l,u,h,c,d,f,b,T),e=I(d)*u+s,n=C(d)*h+l;break;case M.R:i=e=t[a++],r=n=t[a++];var p=t[a++],g=t[a++];v.fromLine(i,r,i+p,r+g,b,T);break;case M.Z:e=i,n=r}m.min(_,_,b),m.max(x,x,T)}return 0===a&&(_[0]=_[1]=x[0]=x[1]=0),new y(_[0],_[1],x[0]-_[0],x[1]-_[1])},rebuildPath:function(t){for(var e,n,i,r,a,o,s=this.data,l=this._ux,u=this._uy,h=this._len,c=0;c<h;){var d=s[c++];switch(1===c&&(e=i=s[c],n=r=s[c+1]),d){case M.M:e=i=s[c++],n=r=s[c++],t.moveTo(i,r);break;case M.L:a=s[c++],o=s[c++],(E(a-i)>l||E(o-r)>u||c===h-1)&&(t.lineTo(a,o),i=a,r=o);break;case M.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),i=s[c-2],r=s[c-1];break;case M.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),i=s[c-2],r=s[c-1];break;case M.A:var f=s[c++],p=s[c++],g=s[c++],m=s[c++],v=s[c++],y=s[c++],_=s[c++],x=s[c++],b=m<g?g:m,w=m<g?1:g/m,T=m<g?m/g:1,S=v+y;.001<Math.abs(g-m)?(t.translate(f,p),t.rotate(_),t.scale(w,T),t.arc(0,0,b,v,S,1-x),t.scale(1/w,1/T),t.rotate(-_),t.translate(-f,-p)):t.arc(f,p,b,v,S,1-x),1===c&&(e=I(v)*g+f,n=C(v)*m+p),i=I(S)*g+f,r=C(S)*m+p;break;case M.R:e=i=s[c],n=r=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case M.Z:t.closePath(),i=e,r=n}}}},i.CMD=M,t.exports=i},function(t,e,n){var i=n(4).makeInner;t.exports=function(){var s=i();return function(t){var e=s(t),n=t.pipelineContext,i=e.large,r=e.progressiveRender,a=e.large=n&&n.large,o=e.progressiveRender=n&&n.progressiveRender;return!!(i^a||r^o)&&\"reset\"}}},function(t,e,n){var i=n(149);t.exports=function(t,e){return i((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}},function(t,e,n){var i=n(0),r={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&\"dataMin\"!==n&&\"function\"!=typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&\"dataMax\"!==n&&\"function\"!=typeof n&&!i.eqNaN(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:i.noop,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};t.exports=r},function(t,e,n){var o=n(47),s=n(17),i=n(0),l=i.extend,u=i.isArray;t.exports=function(t,e,n){e=u(e)?{coordDimensions:e}:l({},e);var i=t.getSource(),r=o(i,e),a=new s(r,t);return a.initData(i,n),a}},function(t,e){function d(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:0<n||!(n<0)&&e?-1:1}}function f(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}t.exports=function(t,e,n,i,r,a){t=t||0;var o,s=n[1]-n[0];null!=r&&(r=f(r,[0,s])),null!=a&&(a=Math.max(a,null!=r?r:0)),\"all\"===i&&(o=f(o=Math.abs(e[1]-e[0]),[0,s]),r=a=f(o,[r,a]),i=0),e[0]=f(e[0],n),e[1]=f(e[1],n);var l=d(e,i);e[i]+=t;var u=r||0,h=n.slice();l.sign<0?h[0]+=u:h[1]-=u,e[i]=f(e[i],h);var c=d(e,i);return null!=r&&(c.sign!==l.sign||c.span<r)&&(e[1-i]=e[i]+l.sign*r),c=d(e,i),null!=a&&c.span>a&&(e[1-i]=e[i]+c.sign*a),e}},function(t,e,n){n(5).__DEV__;var i=n(1),s=n(0),r=n(11),a=n(4),o=n(112),l=n(443),u=s.each,h=o.eachAxisDim,c=i.extendComponentModel({type:\"dataZoom\",dependencies:[\"xAxis\",\"yAxis\",\"zAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"series\"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:\"filter\",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=[\"percent\",\"percent\"];var i=d(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this.doInit(i)},mergeOption:function(t){var e=d(t);s.merge(this.option,t,!0),s.merge(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var n=this.option;r.canvasSupported||(n.realtime=!1),this._setDefaultThrottle(t),f(this,t);var i=this.settledOption;u([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(t,e){\"value\"===this._rangePropMode[e]&&(n[t[0]]=i[t[0]]=null)},this),this.textStyleModel=this.getModel(\"textStyle\"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var o=this._axisProxies;this.eachTargetAxis(function(t,e,n,i){var r=this.dependentModels[t.axis][e],a=r.__dzAxisProxy||(r.__dzAxisProxy=new l(t.name,e,this,i));o[t.name+\"_\"+e]=a},this)},_resetTarget:function(){var n=this.option,t=this._judgeAutoMode();h(function(t){var e=t.axisIndex;n[e]=a.normalizeToArray(n[e])},this),\"axisIndex\"===t?this._autoSetAxisIndex():\"orient\"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,n=!1;h(function(t){null!=e[t.axisIndex]&&(n=!0)},this);var t=e.orient;return null==t&&n?\"orient\":n?void 0:(null==t&&(e.orient=\"horizontal\"),\"axisIndex\")},_autoSetAxisIndex:function(){var t,a=!0,e=this.get(\"orient\",!0),o=this.option,n=this.dependentModels;a&&(n[(t=\"vertical\"===e?\"y\":\"x\")+\"Axis\"].length?(o[t+\"AxisIndex\"]=[0],a=!1):u(n.singleAxis,function(t){a&&t.get(\"orient\",!0)===e&&(o.singleAxisIndex=[t.componentIndex],a=!1)})),a&&h(function(t){if(a){var e=[],n=this.dependentModels[t.axis];if(n.length&&!e.length)for(var i=0,r=n.length;i<r;i++)\"category\"===n[i].get(\"type\")&&e.push(i);(o[t.axisIndex]=e).length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(r){this._isSeriesHasAllAxesTypeOf(r,\"value\")&&h(function(t){var e=o[t.axisIndex],n=r.get(t.axisIndex),i=r.get(t.axisId),n=r.ecModel.queryComponents({mainType:t.axis,index:n,id:i})[0].componentIndex;s.indexOf(e,n)<0&&e.push(n)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){e=e||t.name},this),this.option.orient=\"y\"===e?\"vertical\":\"horizontal\"},_isSeriesHasAllAxesTypeOf:function(i,r){var a=!0;return h(function(t){var e=i.get(t.axisIndex),n=this.dependentModels[t.axis][e];n&&n.get(\"type\")===r||(a=!1)},this),a},_setDefaultThrottle:function(t){var e;t.hasOwnProperty(\"throttle\")&&(this._autoThrottle=!1),this._autoThrottle&&(e=this.ecModel.option,this.option.throttle=e.animation&&0<e.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var n;return h(function(t){var e;null!=n||(e=this.get(t.axisIndex)).length&&(n=this.dependentModels[t.axis][e[0]])},this),n},eachTargetAxis:function(n,i){var r=this.ecModel;h(function(e){u(this.get(e.axisIndex),function(t){n.call(i,e,t,this,r)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+\"_\"+e]},getAxisModel:function(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},setRawRange:function(e){var n=this.option,i=this.settledOption;u([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(t){null==e[t[0]]&&null==e[t[1]]||(n[t[0]]=i[t[0]]=e[t[0]],n[t[1]]=i[t[1]]=e[t[1]])},this),f(this,e)},setCalculatedRange:function(e){var n=this.option;u([\"start\",\"startValue\",\"end\",\"endValue\"],function(t){n[t]=e[t]})},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},getRangePropMode:function(){return this._rangePropMode.slice()}});function d(e){var n={};return u([\"start\",\"end\",\"startValue\",\"endValue\",\"throttle\"],function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}function f(t,r){var a=t._rangePropMode,o=t.get(\"rangeMode\");u([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],function(t,e){var n=null!=r[t[0]],i=null!=r[t[1]];n&&!i?a[e]=\"percent\":!n&&i?a[e]=\"value\":o?a[e]=o[e]:n&&(a[e]=\"percent\")})}t.exports=c},function(t,e,n){var i=n(74).extend({type:\"dataZoom\",render:function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){var t=this.dataZoomModel,r=this.ecModel,a={};return t.eachTargetAxis(function(t,e){var n,i=r.getComponent(t.axis,e);i&&(n=i.getCoordSysModel())&&function(t,e,n,i){for(var r,a=0;a<n.length;a++)if(n[a].model===t){r=n[a];break}r||n.push(r={model:t,axisModels:[],coordIndex:i});r.axisModels.push(e)}(n,i,a[n.mainType]||(a[n.mainType]=[]),n.componentIndex)},this),a}});t.exports=i},function(t,e,n){var i=function(){};1===n(70).debugMode&&(i=console.error),t.exports=i},function(t,e,n){var i=n(0),r=n(88),a=n(123),o=n(129);function s(t){for(var e in t=t||{},a.call(this,t),t)t.hasOwnProperty(e)&&\"style\"!==e&&(this[e]=t[e]);this.style=new r(t.style,this),this._rect=null,this.__clipPaths=null}s.prototype={constructor:s,type:\"displayable\",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:\"pointer\",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate(\"style\",t)},attrKV:function(t,e){\"style\"!==t?a.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new r(t,this),this.dirty(!1),this},calculateTextPosition:null},i.inherits(s,a),i.mixin(s,o),t.exports=s},function(t,e,n){var p=n(8),m=n(28),v=Math.min,y=Math.max,g=Math.sin,_=Math.cos,x=2*Math.PI,b=p.create(),w=p.create(),T=p.create();var S=[],M=[];e.fromPoints=function(t,e,n){if(0!==t.length){for(var i=t[0],r=i[0],a=i[0],o=i[1],s=i[1],l=1;l<t.length;l++)i=t[l],r=v(r,i[0]),a=y(a,i[0]),o=v(o,i[1]),s=y(s,i[1]);e[0]=r,e[1]=o,n[0]=a,n[1]=s}},e.fromLine=function(t,e,n,i,r,a){r[0]=v(t,n),r[1]=v(e,i),a[0]=y(t,n),a[1]=y(e,i)},e.fromCubic=function(t,e,n,i,r,a,o,s,l,u){var h,c=m.cubicExtrema,d=m.cubicAt,f=c(t,n,r,o,S);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,h=0;h<f;h++){var p=d(t,n,r,o,S[h]);l[0]=v(p,l[0]),u[0]=y(p,u[0])}for(f=c(e,i,a,s,M),h=0;h<f;h++){var g=d(e,i,a,s,M[h]);l[1]=v(g,l[1]),u[1]=y(g,u[1])}l[0]=v(t,l[0]),u[0]=y(t,u[0]),l[0]=v(o,l[0]),u[0]=y(o,u[0]),l[1]=v(e,l[1]),u[1]=y(e,u[1]),l[1]=v(s,l[1]),u[1]=y(s,u[1])},e.fromQuadratic=function(t,e,n,i,r,a,o,s){var l=m.quadraticExtremum,u=m.quadraticAt,h=y(v(l(t,n,r),1),0),c=y(v(l(e,i,a),1),0),d=u(t,n,r,h),f=u(e,i,a,c);o[0]=v(t,r,d),o[1]=v(e,a,f),s[0]=y(t,r,d),s[1]=y(e,a,f)},e.fromArc=function(t,e,n,i,r,a,o,s,l){var u,h=p.min,c=p.max,d=Math.abs(r-a);if(d%x<1e-4&&1e-4<d)return s[0]=t-n,s[1]=e-i,l[0]=t+n,void(l[1]=e+i);b[0]=_(r)*n+t,b[1]=g(r)*i+e,w[0]=_(a)*n+t,w[1]=g(a)*i+e,h(s,b,w),c(l,b,w),(r%=x)<0&&(r+=x),(a%=x)<0&&(a+=x),a<r&&!o?a+=x:r<a&&o&&(r+=x),o&&(u=a,a=r,r=u);for(var f=0;f<a;f+=Math.PI/2)r<f&&(T[0]=_(f)*n+t,T[1]=g(f)*i+e,h(s,T,s),c(l,T,l))}},function(t,e,n){var y=n(0),o=n(25).parseClassType,i=0;e.getUID=function(t){return[t||\"\",i++,Math.random().toFixed(5)].join(\"_\")},e.enableSubTypeDefaulter=function(r){var a={};return r.registerSubTypeDefaulter=function(t,e){t=o(t),a[t.main]=e},r.determineSubType=function(t,e){var n,i=e.type;return i||(n=o(t).main,r.hasSubTypes(t)&&a[n]&&(i=a[n](e))),i},r},e.enableTopologicalTravel=function(t,m){function v(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,e,n,i){if(t.length){var s,l,u,r=(s=e,l={},u=[],y.each(s,function(n){var t,e,i,r=v(l,n),a=r.originalDeps=m(n),o=(t=a,e=s,i=[],y.each(t,function(t){0<=y.indexOf(e,t)&&i.push(t)}),i);r.entryCount=o.length,0===r.entryCount&&u.push(n),y.each(o,function(t){y.indexOf(r.predecessor,t)<0&&r.predecessor.push(t);var e=v(l,t);y.indexOf(e.successor,t)<0&&e.successor.push(n)})}),{graph:l,noEntryList:u}),a=r.graph,o=r.noEntryList,h={};for(y.each(t,function(t){h[t]=!0});o.length;){var c=o.pop(),d=a[c],f=!!h[c];f&&(n.call(i,c,d.originalDeps.slice()),delete h[c]),y.each(d.successor,f?g:p)}y.each(h,function(){throw new Error(\"Circle dependency may exists\")})}function p(t){a[t].entryCount--,0===a[t].entryCount&&o.push(t)}function g(t){h[t]=!0,p(t)}}}},function(t,e,n){var i=n(0),r=i.createHashMap,a=i.isTypedArray,o=n(25).enableClassCheck,s=n(58),l=s.SOURCE_FORMAT_ORIGINAL,u=s.SERIES_LAYOUT_BY_COLUMN,h=s.SOURCE_FORMAT_UNKNOWN,c=s.SOURCE_FORMAT_TYPED_ARRAY,d=s.SOURCE_FORMAT_KEYED_COLUMNS;function f(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===d?{}:[]),this.sourceFormat=t.sourceFormat||h,this.seriesLayoutBy=t.seriesLayoutBy||u,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&r(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}f.seriesDataToSource=function(t){return new f({data:t,sourceFormat:a(t)?c:l,fromDataset:!1})},o(f),t.exports=f},function(t,e){e.SOURCE_FORMAT_ORIGINAL=\"original\",e.SOURCE_FORMAT_ARRAY_ROWS=\"arrayRows\",e.SOURCE_FORMAT_OBJECT_ROWS=\"objectRows\",e.SOURCE_FORMAT_KEYED_COLUMNS=\"keyedColumns\",e.SOURCE_FORMAT_UNKNOWN=\"unknown\",e.SOURCE_FORMAT_TYPED_ARRAY=\"typedArray\",e.SERIES_LAYOUT_BY_COLUMN=\"column\",e.SERIES_LAYOUT_BY_ROW=\"row\"},function(t,e,n){var i=n(0),c=i.each,d=i.createHashMap,f=(i.assert,n(5).__DEV__,d([\"tooltip\",\"label\",\"itemName\",\"itemId\",\"seriesName\"]));function p(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}e.OTHER_DIMENSIONS=f,e.summarizeDimensions=function(a){var t={},o=t.encode={},s=d(),l=[],u=[],h=t.userOutput={dimensionNames:a.dimensions.slice(),encode:{}};c(a.dimensions,function(t){var e,n,r=a.getDimensionInfo(t),i=r.coordDim;i&&(e=r.coordDimIndex,p(o,i)[e]=t,r.isExtraCoord||(s.set(i,1),\"ordinal\"!==(n=r.type)&&\"time\"!==n&&(l[0]=t),p(h.encode,i)[e]=r.index),r.defaultTooltip&&u.push(t)),f.each(function(t,e){var n=p(o,e),i=r.otherDims[e];null!=i&&!1!==i&&(n[i]=r.name)})});var i=[],r={};s.each(function(t,e){var n=o[e];r[e]=n[0],i=i.concat(n)}),t.dataDimsOnCoord=i,t.encodeFirstDimNotExtra=r;var e=o.label;e&&e.length&&(l=e.slice());var n=o.tooltip;return n&&n.length?u=n.slice():u.length||(u=l.slice()),o.defaultedLabel=l,o.defaultedTooltip=u,t},e.getDimensionTypeByAxis=function(t){return\"category\"===t?\"ordinal\":\"time\"===t?\"time\":\"float\"}},function(t,e,n){var c=n(2),i=n(78),r=n(0).isObject;function a(t){this.group=new c.Group,this._symbolCtor=t||i}var o=a.prototype;function d(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&(!i.isIgnore||!i.isIgnore(n))&&(!i.clipShape||i.clipShape.contain(e[0],e[1]))&&\"none\"!==t.getItemVisual(n,\"symbol\")}function f(t){return null==t||r(t)||(t={isIgnore:t}),t||{}}function p(t){var e=t.hostModel;return{itemStyle:e.getModel(\"itemStyle\").getItemStyle([\"color\"]),hoverItemStyle:e.getModel(\"emphasis.itemStyle\").getItemStyle(),symbolRotate:e.get(\"symbolRotate\"),symbolOffset:e.get(\"symbolOffset\"),hoverAnimation:e.get(\"hoverAnimation\"),labelModel:e.getModel(\"label\"),hoverLabelModel:e.getModel(\"emphasis.label\"),cursorStyle:e.get(\"cursor\")}}o.updateData=function(r,a){a=f(a);var o=this.group,s=r.hostModel,l=this._data,u=this._symbolCtor,h=p(r);l||o.removeAll(),r.diff(l).add(function(t){var e,n=r.getItemLayout(t);d(r,n,t,a)&&((e=new u(r,t,h)).attr(\"position\",n),r.setItemGraphicEl(t,e),o.add(e))}).update(function(t,e){var n=l.getItemGraphicEl(e),i=r.getItemLayout(t);d(r,i,t,a)?(n?(n.updateData(r,t,h),c.updateProps(n,{position:i},s)):(n=new u(r,t)).attr(\"position\",i),o.add(n),r.setItemGraphicEl(t,n)):o.remove(n)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&e.fadeOut(function(){o.remove(e)})}).execute(),this._data=r},o.isPersistent=function(){return!0},o.updateLayout=function(){var i=this._data;i&&i.eachItemGraphicEl(function(t,e){var n=i.getItemLayout(e);t.attr(\"position\",n)})},o.incrementalPrepareUpdate=function(t){this._seriesScope=p(t),this._data=null,this.group.removeAll()},o.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}n=f(n);for(var r=t.start;r<t.end;r++){var a,o=e.getItemLayout(r);d(e,o,r,n)&&((a=new this._symbolCtor(e,r,this._seriesScope)).traverse(i),a.attr(\"position\",o),this.group.add(a),e.setItemGraphicEl(r,a))}},o.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()},t.exports=a},function(t,e,n){var c=n(2),a=n(3).round;function i(t,e,n){var i=t.getArea(),r=t.getBaseAxis().isHorizontal(),a=i.x,o=i.y,s=i.width,l=i.height,u=n.get(\"lineStyle.width\")||2;a-=u/2,o-=u/2,s+=u,l+=u,a=Math.floor(a),s=Math.round(s);var h=new c.Rect({shape:{x:a,y:o,width:s,height:l}});return e&&(h.shape[r?\"width\":\"height\"]=0,c.initProps(h,{shape:{width:s,height:l}},n)),h}function r(t,e,n){var i=t.getArea(),r=new c.Sector({shape:{cx:a(t.cx,1),cy:a(t.cy,1),r0:a(i.r0,1),r:a(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&(r.shape.endAngle=i.startAngle,c.initProps(r,{shape:{endAngle:i.endAngle}},n)),r}e.createGridClipPath=i,e.createPolarClipPath=r,e.createClipPath=function(t,e,n){return t?\"polar\"===t.type?r(t,e,n):\"cartesian2d\"===t.type?i(t,e,n):null:null}},function(t,e,n){var i=n(0).map,r=n(46),a=n(24).isDimensionStacked;t.exports=function(t){return{seriesType:t,plan:r(),reset:function(t){var e=t.getData(),c=t.coordinateSystem,d=t.pipelineContext.large;if(c){var f=i(c.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),p=f.length,n=e.getCalculationInfo(\"stackResultDimension\");return a(e,f[0])&&(f[0]=n),a(e,f[1])&&(f[1]=n),p&&{progress:function(t,e){for(var n,i,r,a=t.end-t.start,o=d&&new Float32Array(a*p),s=t.start,l=0,u=[],h=[];s<t.end;s++){n=1===p?(i=e.get(f[0],s),!isNaN(i)&&c.dataToPoint(i,null,h)):(i=u[0]=e.get(f[0],s),r=u[1]=e.get(f[1],s),!isNaN(i)&&!isNaN(r)&&c.dataToPoint(u,null,h)),d?(o[l++]=n?n[0]:NaN,o[l++]=n?n[1]:NaN):e.setItemLayout(s,n&&n.slice()||[NaN,NaN])}d&&e.setLayout(\"symbolPoints\",o)}}}}}}},function(t,e,n){var i=n(1),r=n(0),a=n(2);n(98),n(265),i.extendComponentView({type:\"grid\",render:function(t,e){this.group.removeAll(),t.get(\"show\")&&this.group.add(new a.Rect({shape:t.coordinateSystem.getRect(),style:r.defaults({fill:t.get(\"backgroundColor\")},t.getItemStyle()),silent:!0,z2:-1}))}}),i.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})},function(t,e){function n(n,e){this.getAllNames=function(){var t=e();return t.mapArray(t.getName)},this.containName=function(t){return 0<=e().indexOfName(t)},this.indexOfName=function(t){return n().indexOfName(t)},this.getItemVisual=function(t,e){return n().getItemVisual(t,e)}}t.exports=n},function(t,e){t.exports=function(t){return{seriesType:t,reset:function(t,e){var i,r=e.findComponents({mainType:\"legend\"});r&&r.length&&(i=t.getData()).filterSelf(function(t){for(var e=i.getName(t),n=0;n<r.length;n++)if(!r[n].isSelected(e))return!1;return!0})}}}},function(t,e,n){var l=n(0),u=n(34),s=n(21),h=n(166);function i(n){this.pointerChecker,this._zr=n,this._opt={};var t=l.bind,i=t(c,this),r=t(d,this),a=t(f,this),o=t(p,this),s=t(g,this);u.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(t,e){this.disable(),this._opt=l.defaults(l.clone(e)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&\"move\"!==t&&\"pan\"!==t||(n.on(\"mousedown\",i),n.on(\"mousemove\",r),n.on(\"mouseup\",a)),!0!==t&&\"scale\"!==t&&\"zoom\"!==t||(n.on(\"mousewheel\",o),n.on(\"pinch\",s))},this.disable=function(){n.off(\"mousedown\",i),n.off(\"mousemove\",r),n.off(\"mouseup\",a),n.off(\"mousewheel\",o),n.off(\"pinch\",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function c(t){var e,n;s.isMiddleOrRightButtonOnMouseUpDown(t)||t.target&&t.target.draggable||(e=t.offsetX,n=t.offsetY,this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0))}function d(t){var e,n,i,r,a,o;this._dragging&&y(\"moveOnMouseMove\",t,this._opt)&&\"pinch\"!==t.gestureEvent&&!h.isTaken(this._zr,\"globalPan\")&&(e=t.offsetX,n=t.offsetY,a=e-(i=this._x),o=n-(r=this._y),this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&s.stop(t.event),v(this,\"pan\",\"moveOnMouseMove\",t,{dx:a,dy:o,oldX:i,oldY:r,newX:e,newY:n}))}function f(t){s.isMiddleOrRightButtonOnMouseUpDown(t)||(this._dragging=!1)}function p(t){var e,n,i=y(\"zoomOnMouseWheel\",t,this._opt),r=y(\"moveOnMouseWheel\",t,this._opt),a=t.wheelDelta,o=Math.abs(a),s=t.offsetX,l=t.offsetY;0!==a&&(i||r)&&(i&&(e=3<o?1.4:1<o?1.2:1.1,m(this,\"zoom\",\"zoomOnMouseWheel\",t,{scale:0<a?e:1/e,originX:s,originY:l})),r&&m(this,\"scrollMove\",\"moveOnMouseWheel\",t,{scrollDelta:(0<a?1:-1)*(3<(n=Math.abs(a))?.4:1<n?.15:.05),originX:s,originY:l}))}function g(t){h.isTaken(this._zr,\"globalPan\")||m(this,\"zoom\",null,t,{scale:1<t.pinchScale?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function m(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(s.stop(i.event),v(t,e,n,i,r))}function v(t,e,n,i,r){r.isAvailableBehavior=l.bind(y,null,n,i),t.trigger(e,r)}function y(t,e,n){var i=n[t];return!t||i&&(!l.isString(i)||e.event[i+\"Key\"])}l.mixin(i,u),t.exports=i},function(t,e,n){var i=n(1),r=n(0),a=n(80),o=n(394);n(395),n(396),n(185),i.registerPreprocessor(function(t){var e;t&&(t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={}),(e=t.axisPointer.link)&&!r.isArray(e)&&(t.axisPointer.link=[e]))}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent(\"axisPointer\").coordSysAxesInfo=a.collect(t,e)}),i.registerAction({type:\"updateAxisPointer\",event:\"updateAxisPointer\",update:\":updateAxisPointer\"},o)},function(t,e,n){var i=n(121),h=n(11),c=n(0),d=n(210),f=n(214),r=n(218),p=n(220),g=n(221),m=!h.canvasSupported,v={canvas:r},a={};function o(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,r=new f,a=n.renderer;if(m){if(!v.vml)throw new Error(\"You need to require 'zrender/vml/vml' to support IE8\");a=\"vml\"}else a&&v[a]||(a=\"canvas\");var o=new v[a](e,r,n,t);this.storage=r,this.painter=o;var s=h.node||h.worker?null:new g(o.getViewportRoot(),o.root);this.handler=new d(r,o,s,o.root),this.animation=new p({stage:{update:c.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=r.delFromStorage,u=r.addToStorage;r.delFromStorage=function(t){l.call(r,t),t&&t.removeSelfFromZr(i)},r.addToStorage=function(t){u.call(r,t),t.addSelfToZr(i)}}o.prototype={constructor:o,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger(\"rendered\")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete a[t]}},e.version=\"4.3.1\",e.init=function(t,e){var n=new o(i(),t,e);return a[n.id]=n},e.dispose=function(t){if(t)t.dispose();else{for(var e in a)a.hasOwnProperty(e)&&a[e].dispose();a={}}return this},e.getInstance=function(t){return a[t]},e.registerPainter=function(t,e){v[t]=e}},function(t,e,n){var u=n(15),r=n(8),h=u.identity;function a(t){return 5e-5<t||t<-5e-5}function i(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null}var o=i.prototype;o.transform=null,o.needLocalTransform=function(){return a(this.rotation)||a(this.position[0])||a(this.position[1])||a(this.scale[0]-1)||a(this.scale[1]-1)};var c=[];o.updateTransform=function(){var t,e,n,i,r,a=this.parent,o=a&&a.transform,s=this.needLocalTransform(),l=this.transform;s||o?(l=l||u.create(),s?this.getLocalTransform(l):h(l),o&&(s?u.mul(l,a.transform,l):u.copy(l,a.transform)),this.transform=l,null!=(t=this.globalScaleRatio)&&1!==t&&(this.getGlobalScale(c),i=((c[0]-(e=c[0]<0?-1:1))*t+e)/c[0]||0,r=((c[1]-(n=c[1]<0?-1:1))*t+n)/c[1]||0,l[0]*=i,l[1]*=i,l[2]*=r,l[3]*=r),this.invTransform=this.invTransform||u.create(),u.invert(this.invTransform,l)):l&&h(l)},o.getLocalTransform=function(t){return i.getLocalTransform(this,t)},o.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},o.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var s=[],l=u.create();o.setLocalTransform=function(t){var e,n,i,r;t&&(e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=this.position,r=this.scale,a(e-1)&&(e=Math.sqrt(e)),a(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),i[0]=t[4],i[1]=t[5],r[0]=e,r[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e))},o.decomposeTransform=function(){var t,e,n;this.transform&&(t=this.parent,e=this.transform,t&&t.transform&&(u.mul(s,t.invTransform,e),e=s),(n=this.origin)&&(n[0]||n[1])&&(l[4]=n[0],l[5]=n[1],u.mul(s,e,l),s[4]-=n[0],s[5]-=n[1],e=s),this.setLocalTransform(e))},o.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1])):(t[0]=1,t[1]=1),t},o.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&r.applyTransform(n,n,i),n},o.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&r.applyTransform(n,n,i),n},i.getLocalTransform=function(t,e){h(e=e||[]);var n=t.origin,i=t.scale||[1,1],r=t.rotation||0,a=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),u.scale(e,e,i),r&&u.rotate(e,e,r),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=a[0],e[5]+=a[1],e},t.exports=i},function(t,e){var n=1;\"undefined\"!=typeof window&&(n=Math.max(window.devicePixelRatio||1,1));var i=n;e.debugMode=0,e.devicePixelRatio=i},function(t,e){e.ContextCachedBy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},e.WILL_BE_RESTORED=9},function(t,e,n){var i=n(0),g=i.retrieve2,m=i.retrieve3,r=i.each,a=i.normalizeCssArray,p=i.isString,v=i.isObject,F=n(16),y=n(130),_=n(89),V=n(126),o=n(71),G=o.ContextCachedBy,H=o.WILL_BE_RESTORED,U=F.DEFAULT_FONT,s={left:1,right:1,center:1},l={top:1,bottom:1,middle:1},W=[[\"textShadowBlur\",\"shadowBlur\",0],[\"textShadowOffsetX\",\"shadowOffsetX\",0],[\"textShadowOffsetY\",\"shadowOffsetY\",0],[\"textShadowColor\",\"shadowColor\",\"transparent\"]],c={},j={};function u(t){var e,n;t&&(t.font=F.makeFont(t),\"middle\"===(e=t.textAlign)&&(e=\"center\"),t.textAlign=null==e||s[e]?e:\"left\",\"center\"===(n=t.textVerticalAlign||t.textBaseline)&&(n=\"middle\"),t.textVerticalAlign=null==n||l[n]?n:\"top\",t.textPadding&&(t.textPadding=a(t.textPadding)))}function X(t,e,n,i,r){var a;n&&e.textRotation&&(\"center\"===(a=e.textOrigin)?(i=n.width/2+n.x,r=n.height/2+n.y):a&&(i=a[0]+n.x,r=a[1]+n.y),t.translate(i,r),t.rotate(-e.textRotation),t.translate(-i,-r))}function E(t,e,n,i,r,a,o,s){var l=i.rich[n.styleName]||{};l.text=n.text;var u=n.textVerticalAlign,h=a+r/2;\"top\"===u?h=a+n.height/2:\"bottom\"===u&&(h=a+r-n.height/2),!n.isLineHolder&&Z(l)&&q(t,e,l,\"right\"===s?o-n.width:\"center\"===s?o-n.width/2:o,h-n.height/2,n.width,n.height);var c=n.textPadding;c&&(o=J(o,s,c),h-=n.height/2-c[2]-n.textHeight/2),b(e,\"shadowBlur\",m(l.textShadowBlur,i.textShadowBlur,0)),b(e,\"shadowColor\",l.textShadowColor||i.textShadowColor||\"transparent\"),b(e,\"shadowOffsetX\",m(l.textShadowOffsetX,i.textShadowOffsetX,0)),b(e,\"shadowOffsetY\",m(l.textShadowOffsetY,i.textShadowOffsetY,0)),b(e,\"textAlign\",s),b(e,\"textBaseline\",\"middle\"),b(e,\"font\",n.font||U);var d=K(l.textStroke||i.textStroke,p),f=Q(l.textFill||i.textFill),p=g(l.textStrokeWidth,i.textStrokeWidth);d&&(b(e,\"lineWidth\",p),b(e,\"strokeStyle\",d),e.strokeText(n.text,o,h)),f&&(b(e,\"fillStyle\",f),e.fillText(n.text,o,h))}function Z(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function q(t,e,n,i,r,a,o){var s,l,u,h=n.textBackgroundColor,c=n.textBorderWidth,d=n.textBorderColor,f=p(h);b(e,\"shadowBlur\",n.textBoxShadowBlur||0),b(e,\"shadowColor\",n.textBoxShadowColor||\"transparent\"),b(e,\"shadowOffsetX\",n.textBoxShadowOffsetX||0),b(e,\"shadowOffsetY\",n.textBoxShadowOffsetY||0),(f||c&&d)&&(e.beginPath(),(s=n.textBorderRadius)?y.buildPath(e,{x:i,y:r,width:a,height:o,r:s}):e.rect(i,r,a,o),e.closePath()),f?(b(e,\"fillStyle\",h),null!=n.fillOpacity?(u=e.globalAlpha,e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=u):e.fill()):v(h)&&(l=h.image,(l=_.createOrUpdateImage(l,null,t,x,h))&&_.isImageReady(l)&&e.drawImage(l,i,r,a,o)),c&&d&&(b(e,\"lineWidth\",c),b(e,\"strokeStyle\",d),null!=n.strokeOpacity?(u=e.globalAlpha,e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=u):e.stroke())}function x(t,e){e.image=t}function Y(t,e,n,i){var r,a,o,s=n.x||0,l=n.y||0,u=n.textAlign,h=n.textVerticalAlign;return i&&((r=n.textPosition)instanceof Array?(s=i.x+d(r[0],i.width),l=i.y+d(r[1],i.height)):(s=(a=e&&e.calculateTextPosition?e.calculateTextPosition(c,n,i):F.calculateTextPosition(c,n,i)).x,l=a.y,u=u||a.textAlign,h=h||a.textVerticalAlign),(o=n.textOffset)&&(s+=o[0],l+=o[1])),(t=t||{}).baseX=s,t.baseY=l,t.textAlign=u,t.textVerticalAlign=h,t}function b(t,e,n){return t[e]=V(t,e,n),t[e]}function K(t,e){return null==t||e<=0||\"transparent\"===t||\"none\"===t?null:t.image||t.colorStops?\"#000\":t}function Q(t){return null==t||\"none\"===t?null:t.image||t.colorStops?\"#000\":t}function d(t,e){return\"string\"==typeof t?0<=t.lastIndexOf(\"%\")?parseFloat(t)/100*e:parseFloat(t):t}function J(t,e,n){return\"right\"===e?t-n[1]:\"center\"===e?t+n[3]/2-n[1]/2:t+n[3]}e.normalizeTextStyle=function(t){return u(t),r(t.rich,u),t},e.renderText=function(t,e,n,i,r,a){(i.rich?function(t,e,n,i,r,a){a!==H&&(e.__attrCachedBy=G.NONE);var o=t.__textCotentBlock;o&&!t.__dirtyText||(o=t.__textCotentBlock=F.parseRichText(n,i));!function(t,e,n,i,r){var a=n.width,o=n.outerWidth,s=n.outerHeight,l=i.textPadding,u=Y(j,t,i,r),h=u.baseX,c=u.baseY,d=u.textAlign,f=u.textVerticalAlign;X(e,i,r,h,c);var p=F.adjustTextX(h,o,d),g=F.adjustTextY(c,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+a;Z(i)&&q(t,e,i,p,g,o,s);for(var _,x=0;x<n.lines.length;x++){for(var b=n.lines[x],w=b.tokens,T=w.length,S=b.lineHeight,M=b.width,A=0,I=m,C=y,D=T-1;A<T&&(!(_=w[A]).textAlign||\"left\"===_.textAlign);)E(t,e,_,i,S,v,I,\"left\"),M-=_.width,I+=_.width,A++;for(;0<=D&&\"right\"===(_=w[D]).textAlign;)E(t,e,_,i,S,v,C,\"right\"),M-=_.width,C-=_.width,D--;for(I+=(a-(I-m)-(y-C)-M)/2;A<=D;)_=w[A],E(t,e,_,i,S,v,I+_.width/2,\"center\"),I+=_.width,A++;v+=S}}(t,e,o,i,r)}:function(t,e,n,i,r,a){\"use strict\";var o,s=Z(i),l=!1,u=e.__attrCachedBy===G.PLAIN_TEXT;a!==H?(a&&(o=a.style,l=!s&&u&&o),e.__attrCachedBy=s?G.NONE:G.PLAIN_TEXT):u&&(e.__attrCachedBy=G.NONE);var h=i.font||U;l&&h===(o.font||U)||(e.font=h);var c=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,c=t.__computedFont=e.font);var d=i.textPadding,f=i.textLineHeight,p=t.__textCotentBlock;p&&!t.__dirtyText||(p=t.__textCotentBlock=F.parsePlainText(n,c,d,f,i.truncate));var g=p.outerHeight,m=p.lines,v=p.lineHeight,y=Y(j,t,i,r),_=y.baseX,x=y.baseY,b=y.textAlign||\"left\",w=y.textVerticalAlign;X(e,i,r,_,x);var T=F.adjustTextY(x,g,w),S=_,M=T;{var A,I;(s||d)&&(A=F.getWidth(n,c),d&&(A+=d[1]+d[3]),I=F.adjustTextX(_,A,b),s&&q(t,e,i,I,T,A,g),d&&(S=J(_,b,d),M+=d[0]))}e.textAlign=b,e.textBaseline=\"middle\",e.globalAlpha=i.opacity||1;for(var C=0;C<W.length;C++){var D=W[C],E=D[0],L=D[1],P=i[E];l&&P===o[E]||(e[L]=V(e,L,P||D[2]))}M+=v/2;var N=i.textStrokeWidth,O=l?o.textStrokeWidth:null,R=!l||N!==O,k=!l||R||i.textStroke!==o.textStroke,z=K(i.textStroke,N),B=Q(i.textFill);z&&(R&&(e.lineWidth=N),k&&(e.strokeStyle=z));B&&(l&&i.textFill===o.textFill||(e.fillStyle=B));if(1===m.length)z&&e.strokeText(m[0],S,M),B&&e.fillText(m[0],S,M);else for(C=0;C<m.length;C++)z&&e.strokeText(m[C],S,M),B&&e.fillText(m[C],S,M),M+=v})(t,e,n,i,r,a)},e.getBoxPosition=Y,e.getStroke=K,e.getFill=Q,e.parsePercent=d,e.needDrawText=function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},function(t,e){function n(t){this.colorStops=t||[]}n.prototype={constructor:n,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};t.exports=n},function(t,e,n){function i(){this.group=new r,this.uid=a.getUID(\"viewComponent\")}var r=n(35),a=n(56),o=n(25),s=i.prototype={constructor:i,init:function(t,e){},render:function(t,e,n,i){},dispose:function(){},filterForExposedEvent:null};s.updateView=s.updateLayout=s.updateVisual=function(t,e,n,i){},o.enableClassExtend(i),o.enableClassManagement(i,{registerWhenExtend:!0}),t.exports=i},function(t,e,n){var i=n(25);function r(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}r.prototype.parse=function(t){return t},r.prototype.getSetting=function(t){return this._setting[t]},r.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},r.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},r.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},r.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},r.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(t){this._isBlank=t},r.prototype.getLabel=null,i.enableClassExtend(r),i.enableClassManagement(r,{registerWhenExtend:!0}),t.exports=r},function(t,e,n){var c=n(3),i=n(7),r=n(75),o=n(151),l=c.round,a=r.extend({type:\"interval\",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),a.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=o.getIntervalPrecision(t)},getTicks:function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,a=[];if(!e)return a;n[0]<i[0]&&(t?a.push(l(i[0]-e,r)):a.push(n[0]));for(var o=i[0];o<=i[1]&&(a.push(o),(o=l(o+e,r))!==a[a.length-1]);)if(1e4<a.length)return[];var s=a.length?a[a.length-1]:i[1];return n[1]>s&&(t?a.push(l(s+e,r)):a.push(n[1])),a},getMinorTicks:function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<e.length;r++){for(var a=e[r],o=e[r-1],s=0,l=[],u=(a-o)/t;s<t-1;){var h=c.round(o+(s+1)*u);h>i[0]&&h<i[1]&&l.push(h),s++}n.push(l)}return n},getLabel:function(t,e){if(null==t)return\"\";var n=e&&e.precision;return null==n?n=c.getPrecisionSafe(t)||0:\"auto\"===n&&(n=this._intervalPrecision),t=l(t,n,!0),i.addCommas(t)},niceTicks:function(t,e,n){t=t||5;var i,r=this._extent,a=r[1]-r[0];isFinite(a)&&(a<0&&(a=-a,r.reverse()),i=o.intervalScaleNiceTicks(r,t,e,n),this._intervalPrecision=i.intervalPrecision,this._interval=i.interval,this._niceExtent=i.niceTickExtent)},niceExtent:function(t){var e,n=this._extent;n[0]===n[1]&&(0!==n[0]?(e=n[0],t.fixMax||(n[1]+=e/2),n[0]-=e/2):n[1]=1);var i=n[1]-n[0];isFinite(i)||(n[0]=0,n[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(n[0]=l(Math.floor(n[0]/r)*r)),t.fixMax||(n[1]=l(Math.ceil(n[1]/r)*r))}});a.create=function(){return new a},t.exports=a},function(t,e,n){var p=n(0),v=n(3).parsePercent,D=n(24).isDimensionStacked,i=n(46),l=\"__ec_stack_\",_=\"undefined\"!=typeof Float32Array?Float32Array:Array;function E(t){return t.get(\"stack\")||l+t.seriesIndex}function L(t){return t.dim+t.index}function r(t,e){var n=[];return e.eachSeriesByType(t,function(t){h(t)&&!x(t)&&n.push(t)}),n}function a(t){var g=function(t){var l={};p.each(t,function(t){var e=t.coordinateSystem.getBaseAxis();if(\"time\"===e.type||\"value\"===e.type)for(var n=t.getData(),i=e.dim+\"_\"+e.index,r=n.mapDimension(e.dim),a=0,o=n.count();a<o;++a){var s=n.get(r,a);l[i]?l[i].push(s):l[i]=[s]}});var e=[];for(var n in l)if(l.hasOwnProperty(n)){var i=l[n];if(i){i.sort(function(t,e){return t-e});for(var r=null,a=1;a<i.length;++a){var o=i[a]-i[a-1];0<o&&(r=null===r?o:Math.min(r,o))}e[n]=r}}return e}(t),m=[];return p.each(t,function(t){var e,n,i,r,a,o,s,l=t.coordinateSystem.getBaseAxis(),u=l.getExtent();o=\"category\"===l.type?l.getBandWidth():\"value\"===l.type||\"time\"===l.type?(e=l.dim+\"_\"+l.index,n=g[e],i=Math.abs(u[1]-u[0]),r=l.scale.getExtent(),a=Math.abs(r[1]-r[0]),n?i/a*n:i):(s=t.getData(),Math.abs(u[1]-u[0])/s.count());var h=v(t.get(\"barWidth\"),o),c=v(t.get(\"barMaxWidth\"),o),d=v(t.get(\"barMinWidth\")||1,o),f=t.get(\"barGap\"),p=t.get(\"barCategoryGap\");m.push({bandWidth:o,barWidth:h,barMaxWidth:c,barMinWidth:d,barGap:f,barCategoryGap:p,axisKey:L(l),stackId:E(t)})}),u(m)}function u(t){var d={};p.each(t,function(t,e){var n=t.axisKey,i=t.bandWidth,r=d[n]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},a=r.stacks;d[n]=r;var o=t.stackId;a[o]||r.autoWidthCount++,a[o]=a[o]||{width:0,maxWidth:0};var s=t.barWidth;s&&!a[o].width&&(a[o].width=s,s=Math.min(r.remainedWidth,s),r.remainedWidth-=s);var l=t.barMaxWidth;l&&(a[o].maxWidth=l);var u=t.barMinWidth;u&&(a[o].minWidth=u);var h=t.barGap;null!=h&&(r.gap=h);var c=t.barCategoryGap;null!=c&&(r.categoryGap=c)});var f={};return p.each(d,function(t,n){f[n]={};var e=t.stacks,i=t.bandWidth,r=v(t.categoryGap,i),a=v(t.gap,1),o=t.remainedWidth,s=t.autoWidthCount,l=(o-r)/(s+(s-1)*a),l=Math.max(l,0);p.each(e,function(t){var e,n=t.maxWidth,i=t.minWidth;t.width?(e=t.width,n&&(e=Math.min(e,n)),i&&(e=Math.max(e,i)),t.width=e,o-=e+a*e,s--):(e=l,n&&n<e&&(e=Math.min(n,o)),i&&e<i&&(e=i),e!==l&&(t.width=e,o-=e+a*e,s--))}),l=(o-r)/(s+(s-1)*a),l=Math.max(l,0);var u,h=0;p.each(e,function(t,e){t.width||(t.width=l),h+=(u=t).width*(1+a)}),u&&(h-=u.width*a);var c=-h/2;p.each(e,function(t,e){f[n][e]=f[n][e]||{bandWidth:i,offset:c,width:t.width},c+=t.width*(1+a)})}),f}function o(t,e,n){if(t&&e){var i=t[L(e)];return null!=i&&null!=n&&(i=i[E(n)]),i}}var s={seriesType:\"bar\",plan:i(),reset:function(t){if(h(t)&&x(t)){var e=t.getData(),c=t.coordinateSystem,d=c.grid.getRect(),n=c.getBaseAxis(),f=c.getOtherAxis(n),p=e.mapDimension(f.dim),g=e.mapDimension(n.dim),m=f.isHorizontal(),v=m?0:1,y=o(a([t]),n,t).width;return.5<y||(y=.5),{progress:function(t,e){var n,i=t.count,r=new _(2*i),a=new _(2*i),o=new _(i),s=[],l=[],u=0,h=0;for(;null!=(n=t.next());)l[v]=e.get(p,n),l[1-v]=e.get(g,n),s=c.dataToPoint(l,null,s),a[u]=m?d.x+d.width:s[0],r[u++]=s[0],a[u]=m?s[1]:d.y+d.height,r[u++]=s[1],o[h++]=n;e.setLayout({largePoints:r,largeDataIndices:o,largeBackgroundPoints:a,barWidth:y,valueAxisStart:P(0,f),backgroundStart:m?d.x:d.y,valueAxisHorizontal:m})}}}}};function h(t){return t.coordinateSystem&&\"cartesian2d\"===t.coordinateSystem.type}function x(t){return t.pipelineContext&&t.pipelineContext.large}function P(t,e){return e.toGlobalCoord(e.dataToCoord(\"log\"===e.type?1:0))}e.getLayoutOnAxis=function(t){var e=[],n=t.axis;if(\"category\"===n.type){for(var i=n.getBandWidth(),r=0;r<t.count;r++)e.push(p.defaults({bandWidth:i,axisKey:\"axis0\",stackId:l+r},t));for(var a=u(e),o=[],r=0;r<t.count;r++){var s=a.axis0[l+r];s.offsetCenter=s.offset+s.width/2,o.push(s)}return o}},e.prepareLayoutBarSeries=r,e.makeColumnLayout=a,e.retrieveColumnLayout=o,e.layout=function(t,e){var n=r(t,e),A=a(n),I={},C={};p.each(n,function(t){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=E(t),a=A[L(i)][r],o=a.offset,s=a.width,l=n.getOtherAxis(i),u=t.get(\"barMinHeight\")||0;I[r]=I[r]||[],C[r]=C[r]||[],e.setLayout({bandWidth:a.bandWidth,offset:o,size:s});for(var h=e.mapDimension(l.dim),c=e.mapDimension(i.dim),d=D(e,h),f=l.isHorizontal(),p=P(0,l),g=0,m=e.count();g<m;g++){var v,y,_,x,b,w=e.get(h,g),T=e.get(c,g),S=0<=w?\"p\":\"n\",M=p;d&&(I[r][T]||(I[r][T]={p:p,n:p}),M=I[r][T][S]),f?(v=M,y=(b=n.dataToPoint([w,T]))[1]+o,_=b[0]-p,x=s,Math.abs(_)<u&&(_=(_<0?-1:1)*u),isNaN(_)||d&&(I[r][T][S]+=_)):(v=(b=n.dataToPoint([T,w]))[0]+o,y=M,_=s,x=b[1]-p,Math.abs(x)<u&&(x=(x<=0?-1:1)*u),isNaN(x)||d&&(I[r][T][S]+=x)),e.setItemLayout(g,{x:v,y:y,width:_,height:x})}},this)},e.largeLayout=s},function(t,e,n){var b=n(0),s=n(18).createSymbol,w=n(2),T=n(3).parsePercent,S=n(97).getDefaultLabel;function i(t,e,n){w.Group.call(this),this.updateData(t,e,n)}var r=i.prototype,c=i.getSymbolSize=function(t,e){var n=t.getItemVisual(e,\"symbolSize\");return n instanceof Array?n.slice():[+n,+n]};function M(t){return[t[0]/2,t[1]/2]}function l(t,e){this.parent.drift(t,e)}r._createSymbol=function(t,e,n,i,r){this.removeAll();var a=e.getItemVisual(n,\"color\"),o=s(t,-1,-1,2,2,a,r);o.attr({z2:100,culling:!0,scale:M(i)}),o.drift=l,this._symbolType=t,this.add(o)},r.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},r.getSymbolPath=function(){return this.childAt(0)},r.getScale=function(){return this.childAt(0).scale},r.highlight=function(){this.childAt(0).trigger(\"emphasis\")},r.downplay=function(){this.childAt(0).trigger(\"normal\")},r.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},r.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?\"move\":e.cursor},r.updateData=function(t,e,n){this.silent=!1;var i,r,a,o,s=t.getItemVisual(e,\"symbol\")||\"circle\",l=t.hostModel,u=c(t,e),h=s!==this._symbolType;h?(i=t.getItemVisual(e,\"symbolKeepAspect\"),this._createSymbol(s,t,e,u,i)):((r=this.childAt(0)).silent=!1,w.updateProps(r,{scale:M(u)},l,e)),this._updateCommon(t,e,u,n),h&&(r=this.childAt(0),a=n&&n.fadeIn,o={scale:r.scale.slice()},a&&(o.style={opacity:r.style.opacity}),r.scale=[0,0],a&&(r.style.opacity=0),w.initProps(r,o,l,e)),this._seriesModel=l};var A=[\"itemStyle\"],I=[\"emphasis\",\"itemStyle\"],C=[\"label\"],D=[\"emphasis\",\"label\"];function E(t,e){var n,i,r;this.incremental||this.useHoverLayer||(\"emphasis\"===e?(i=(n=this.__symbolOriginalScale)[1]/n[0],r={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*i)]},this.animateTo(r,400,\"elasticOut\")):\"normal\"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,\"elasticOut\"))}r._updateCommon=function(n,t,e,i){var r=this.childAt(0),a=n.hostModel,o=n.getItemVisual(t,\"color\");\"image\"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var s,l=i&&i.itemStyle,u=i&&i.hoverItemStyle,h=i&&i.symbolOffset,c=i&&i.labelModel,d=i&&i.hoverLabelModel,f=i&&i.hoverAnimation,p=i&&i.cursorStyle;!i||n.hasItemOption?(l=(s=i&&i.itemModel?i.itemModel:n.getItemModel(t)).getModel(A).getItemStyle([\"color\"]),u=s.getModel(I).getItemStyle(),h=s.getShallow(\"symbolOffset\"),c=s.getModel(C),d=s.getModel(D),f=s.getShallow(\"hoverAnimation\"),p=s.getShallow(\"cursor\")):u=b.extend({},u);var g=r.style,m=n.getItemVisual(t,\"symbolRotate\");r.attr(\"rotation\",(m||0)*Math.PI/180||0),h&&r.attr(\"position\",[T(h[0],e[0]),T(h[1],e[1])]),p&&r.attr(\"cursor\",p),r.setColor(o,i&&i.symbolInnerColor),r.setStyle(l);var v=n.getItemVisual(t,\"opacity\");null!=v&&(g.opacity=v);var y=n.getItemVisual(t,\"liftZ\"),_=r.__z2Origin;null!=y?null==_&&(r.__z2Origin=r.z2,r.z2+=y):null!=_&&(r.z2=_,r.__z2Origin=null);var x=i&&i.useNameLabel;w.setLabelStyle(g,u,c,d,{labelFetcher:a,labelDataIndex:t,defaultText:function(t,e){return x?n.getName(t):S(n,t)},isRectText:!0,autoColor:o}),r.__symbolOriginalScale=M(e),r.hoverStyle=u,r.highDownOnUpdate=f&&a.isAnimationEnabled()?E:null,w.setHoverStyle(r)},r.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,e&&e.keepLabel||(n.style.text=null),w.updateProps(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},b.inherits(i,w.Group),t.exports=i},function(t,e,n){var l=n(0),i=n(159),r=n(13),a=n(6),u=a.getLayoutParams,h=a.mergeLayoutParam,c=n(150),d=[\"value\",\"category\",\"time\",\"log\"];t.exports=function(o,t,s,e){l.each(d,function(a){t.extend({type:o+\"Axis.\"+a,mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?u(t):{},r=e.getTheme();l.merge(t,r.get(a+\"Axis\")),l.merge(t,this.getDefaultOption()),t.type=s(o,t),n&&h(t,i,n)},optionUpdated:function(){\"category\"===this.option.type&&(this.__ordinalMeta=c.createByAxisModel(this))},getCategories:function(t){var e=this.option;if(\"category\"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:l.mergeAll([{},i[a+\"Axis\"],e],!0)})}),r.registerSubTypeDefaulter(o+\"Axis\",l.curry(s,o))}},function(t,e,n){var _=n(0),x=n(12),b=_.each,o=_.curry;function w(t,e){return\"all\"===t||_.isArray(t)&&0<=_.indexOf(t,e)||t===e}function u(t){var e=(t.ecModel.getComponent(\"axisPointer\")||{}).coordSysAxesInfo;return e&&e.axesInfo[S(t)]}function T(t){return!!t.get(\"handle.show\")}function S(t){return t.type+\"||\"+t.id}e.collect=function(t,e){var p,g,n,a,m,v,y,i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return p=i,n=e,a=(g=t).getComponent(\"tooltip\"),m=g.getComponent(\"axisPointer\"),v=m.get(\"link\",!0)||[],y=[],b(n.getCoordinateSystems(),function(c){var t,d,f,e,n,i;function r(t,e,n){var i,r,a,o,s,l,u=n.model.getModel(\"axisPointer\",m),h=u.get(\"show\");h&&(\"auto\"!==h||t||T(u))&&(null==e&&(e=u.get(\"triggerTooltip\")),i=(u=t?function(t,e,n,i,r,a){var o=e.getModel(\"axisPointer\"),s={};b([\"type\",\"snap\",\"lineStyle\",\"shadowStyle\",\"label\",\"animation\",\"animationDurationUpdate\",\"animationEasingUpdate\",\"z\"],function(t){s[t]=_.clone(o.get(t))}),s.snap=\"category\"!==t.type&&!!a,\"cross\"===o.get(\"type\")&&(s.type=\"line\");var l=s.label||(s.label={});{var u,h;null==l.show&&(l.show=!1),\"cross\"===r&&(u=o.get(\"label.show\"),l.show=null==u||u,a||(h=s.lineStyle=o.get(\"crossStyle\"))&&_.defaults(l,h.textStyle))}return t.model.getModel(\"axisPointer\",new x(s,n,i))}(n,f,m,g,t,e):u).get(\"snap\"),r=S(n.model),a=e||i||\"category\"===n.type,o=p.axesInfo[r]={key:r,axis:n,coordSys:c,axisPointerModel:u,triggerTooltip:e,involveSeries:a,snap:i,useHandle:T(u),seriesModels:[]},d[r]=o,p.seriesInvolved|=a,null!=(s=function(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var a=t[r]||{};if(w(a[i+\"AxisId\"],n.id)||w(a[i+\"AxisIndex\"],n.componentIndex)||w(a[i+\"AxisName\"],n.name))return r}}(v,n))&&((l=y[s]||(y[s]={axesInfo:{}})).axesInfo[r]=o,l.mapper=v[s].mapper,o.linkGroup=l))}c.axisPointerEnabled&&(t=S(c.model),d=p.coordSysAxesInfo[t]={},f=(p.coordSysMap[t]=c).model.getModel(\"tooltip\",a),b(c.getAxes(),o(r,!1,null)),c.getTooltipAxes&&a&&f.get(\"show\")&&(e=\"axis\"===f.get(\"trigger\"),n=\"cross\"===f.get(\"axisPointer.type\"),i=c.getTooltipAxes(f.get(\"axisPointer.axis\")),(e||n)&&b(i.baseAxes,o(r,!n||\"cross\",e)),n&&b(i.otherAxes,o(r,\"cross\",!1))))}),i.seriesInvolved&&function(r,t){t.eachSeries(function(n){var i=n.coordinateSystem,t=n.get(\"tooltip.trigger\",!0),e=n.get(\"tooltip.show\",!0);i&&\"none\"!==t&&!1!==t&&\"item\"!==t&&!1!==e&&!1!==n.get(\"axisPointer.show\",!0)&&b(r.coordSysAxesInfo[S(i.model)],function(t){var e=t.axis;i.getAxis(e.dim)===e&&(t.seriesModels.push(n),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=n.getData().count())})},this)}(i,t),i},e.fixValue=function(t){var e,n,i,r,a,o,s,l=u(t);l&&(e=l.axisPointerModel,n=l.axis.scale,i=e.option,r=e.get(\"status\"),null!=(a=e.get(\"value\"))&&(a=n.parse(a)),o=T(e),null==r&&(i.status=o?\"show\":\"hide\"),(s=n.getExtent().slice())[0]>s[1]&&s.reverse(),(null==a||a>s[1])&&(a=s[1]),a<s[0]&&(a=s[0]),i.value=a,o&&(i.status=l.axis.scale.isBlank()?\"hide\":\"show\"))},e.getAxisInfo=u,e.getAxisPointerModel=function(t){var e=u(t);return e&&e.axisPointerModel},e.makeKey=S},function(t,e,n){var r=n(0).createHashMap;t.exports=function(i){return{getTargetSeries:function(t){var e={},n=r();return t.eachSeriesByType(i,function(t){t.__paletteScope=e,n.set(t.uid,t)}),n},reset:function(s,t){var l=s.getRawData(),u={},h=s.getData();h.each(function(t){var e=h.getRawIndex(t);u[e]=t}),l.each(function(t){var e,n,i,r=u[t],a=null!=r&&h.getItemVisual(r,\"color\",!0),o=null!=r&&h.getItemVisual(r,\"borderColor\",!0);a&&o||(e=l.getItemModel(t)),a||(n=e.get(\"itemStyle.color\")||s.getColorFromPalette(l.getName(t)||t+\"\",s.__paletteScope,l.count()),null!=r&&h.setItemVisual(r,\"color\",n)),o||(i=e.get(\"itemStyle.borderColor\"),null!=r&&h.setItemVisual(r,\"borderColor\",i))})}}}},function(t,e,n){n(5).__DEV__;var i=n(0),h=i.each,c=i.createHashMap,r=n(96),a=n(293),o=n(298),d=n(9),f={geoJSON:a,svg:o},s={load:function(i,r,a){var o,s=[],l=c(),u=c(),t=p(i);return h(t,function(t){var e=f[t.type].load(i,t,a);h(e.regions,function(t){var e=t.name;r&&r.hasOwnProperty(e)&&(t=t.cloneShallow(e=r[e])),s.push(t),l.set(e,t),u.set(e,t.center)});var n=e.boundingRect;n&&(o?o.union(n):o=n.clone())}),{regions:s,regionsMap:l,nameCoordMap:u,boundingRect:o||new d(0,0,0,0)}},makeGraphic:l(\"makeGraphic\"),removeGraphic:l(\"removeGraphic\")};function l(a){return function(n,i){var t=p(n),r=[];return h(t,function(t){var e=f[t.type][a];e&&r.push(e(n,t,i))}),r}}function p(t){return r.retrieveMap(t)||[]}t.exports=s},function(t,e){var a={axisPointer:1,tooltip:1,brush:1};e.onIrrelevantElement=function(t,e,n){var i=e.getComponentByElement(t.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!a[i.mainType]&&r&&r.model!==n}},function(t,e,n){var l=n(0),r=n(2),w=n(16),T=n(7),a=n(15),u=n(20),s=n(32);function h(t,e,n,i,r){var a=S(n.get(\"value\"),e.axis,e.ecModel,n.get(\"seriesDataIndices\"),{precision:n.get(\"label.precision\"),formatter:n.get(\"label.formatter\")}),o=n.getModel(\"label\"),s=T.normalizeCssArray(o.get(\"padding\")||0),l=o.getFont(),u=w.getBoundingRect(a,l),h=r.position,c=u.width+s[1]+s[3],d=u.height+s[0]+s[2],f=r.align;\"right\"===f&&(h[0]-=c),\"center\"===f&&(h[0]-=c/2);var p,g,m,v,y,_,x=r.verticalAlign;\"bottom\"===x&&(h[1]-=d),\"middle\"===x&&(h[1]-=d/2),p=h,g=c,m=d,y=(v=i).getWidth(),_=v.getHeight(),p[0]=Math.min(p[0]+g,y)-g,p[1]=Math.min(p[1]+m,_)-m,p[0]=Math.max(p[0],0),p[1]=Math.max(p[1],0);var b=o.get(\"backgroundColor\");b&&\"auto\"!==b||(b=e.get(\"axisLine.lineStyle.color\")),t.label={shape:{x:0,y:0,width:c,height:d,r:o.get(\"borderRadius\")},position:h.slice(),style:{text:a,textFont:l,textFill:o.getTextColor(),textPosition:\"inside\",textPadding:s,fill:b,stroke:o.get(\"borderColor\")||\"transparent\",lineWidth:o.get(\"borderWidth\")||0,shadowBlur:o.get(\"shadowBlur\"),shadowColor:o.get(\"shadowColor\"),shadowOffsetX:o.get(\"shadowOffsetX\"),shadowOffsetY:o.get(\"shadowOffsetY\")},z2:10}}function S(t,e,r,n,i){t=e.scale.parse(t);var a,o=e.scale.getLabel(t,{precision:i.precision}),s=i.formatter;return s&&(a={value:u.getAxisRawValue(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]},l.each(n,function(t){var e=r.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,i=e&&e.getDataParams(n);i&&a.seriesData.push(i)}),l.isString(s)?o=s.replace(\"{value}\",o):l.isFunction(s)&&(o=s(a))),o}function c(t,e,n){var i=a.create();return a.rotate(i,i,n.rotation),a.translate(i,i,n.position),r.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}e.buildElStyle=function(t){var e,n=t.get(\"type\"),i=t.getModel(n+\"Style\");return\"line\"===n?(e=i.getLineStyle()).fill=null:\"shadow\"===n&&((e=i.getAreaStyle()).stroke=null),e},e.buildLabelElOption=h,e.getValueLabel=S,e.getTransformedPosition=c,e.buildCartesianSingleLabelElOption=function(t,e,n,i,r,a){var o=s.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(\"label.margin\"),h(e,i,r,a,{position:c(i.axis,t,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})},e.makeLineShape=function(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}},e.makeRectShape=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},e.makeSectorShape=function(t,e,n,i,r,a){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:a,clockwise:!0}}},function(t,e,n){var o=n(0),s=n(42),l=o.each;function r(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return 1}e.createVisualMappings=function(e,t,a){var n={};return l(t,function(i){var r=n[i]=(t.prototype.__hidden=t.prototype,new t);function t(){}l(e[i],function(t,e){var n;s.isValidType(e)&&(n={type:e,visual:t},a&&a(n,i),r[e]=new s(n),\"opacity\"===e&&((n=o.clone(n)).type=\"colorAlpha\",r.__hidden.__alphaForOpacity=new s(n)))})}),n},e.replaceVisualOption=function(e,n,t){var i;o.each(t,function(t){n.hasOwnProperty(t)&&r(n[t])&&(i=!0)}),i&&o.each(t,function(t){n.hasOwnProperty(t)&&r(n[t])?e[t]=o.clone(n[t]):delete e[t]})},e.applyVisual=function(t,u,h,c,d,f){var p,g={};function m(t){return h.getItemVisual(p,t)}function v(t,e){h.setItemVisual(p,t,e)}function e(t,e){p=null==f?t:e;var n=h.getRawDataItem(p);if(!n||!1!==n.visualMap)for(var i=c.call(d,t),r=u[i],a=g[i],o=0,s=a.length;o<s;o++){var l=a[o];r[l]&&r[l].applyVisual(t,m,v)}}o.each(t,function(t){var e=s.prepareVisualTypes(u[t]);g[t]=e}),null==f?h.each(e):h.each([f],e)},e.incrementalApplyVisual=function(t,f,p,g){var m={};return o.each(t,function(t){var e=s.prepareVisualTypes(f[t]);m[t]=e}),{progress:function(t,n){function e(t){return n.getItemVisual(r,t)}function i(t,e){n.setItemVisual(r,t,e)}var r;for(null!=g&&(g=n.getDimension(g));null!=(r=t.next());){var a=n.getRawDataItem(r);if(!a||!1!==a.visualMap)for(var o=null!=g?n.get(g,r,!0):r,s=p(o),l=f[s],u=m[s],h=0,c=u.length;h<c;h++){var d=u[h];l[d]&&l[d].applyVisual(o,e,i)}}}}}},function(t,e,n){var i=n(1);!function(){for(var t in i){if(null==i||!i.hasOwnProperty(t)||\"default\"===t||\"__esModule\"===t)return;e[t]=i[t]}}();var r=n(147);!function(){for(var t in r){if(null==r||!r.hasOwnProperty(t)||\"default\"===t||\"__esModule\"===t)return;e[t]=r[t]}}(),n(145),n(256),n(267),n(272),n(277),n(281),n(291),n(305),n(311),n(319),n(334),n(338),n(342),n(354),n(360),n(365),n(371),n(375),n(381),n(385),n(388),n(402),n(408),n(414),n(415),n(427),n(181),n(174),n(430),n(434),n(435),n(447),n(67),n(452),n(459),n(460),n(469),n(472),n(475),n(478),n(190),n(484),n(194),n(193),n(490),n(195),n(204),n(495),n(498)},function(t,e){var u=32,y=7;function h(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;!function(t,e,n){n--;for(;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r<n&&0<=i(t[r],t[r-1]);)r++;return r-e}function c(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var a,o=t[i],s=e,l=i;s<l;)r(o,t[a=s+l>>>1])<0?l=a:s=1+a;var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<u;)t[s+u]=t[s+u-1],u--}t[s]=o}}function _(t,e,n,i,r,a){var o=0,s=0,l=1;if(0<a(t,e[n+r])){for(s=i-r;l<s&&0<a(t,e[n+r+l]);)(l=1+((o=l)<<1))<=0&&(l=s);s<l&&(l=s),o+=r,l+=r}else{for(s=r+1;l<s&&a(t,e[n+r-l])<=0;)(l=1+((o=l)<<1))<=0&&(l=s);s<l&&(l=s);var u=o,o=r-l,l=r-u}for(o++;o<l;){var h=o+(l-o>>>1);0<a(t,e[n+h])?o=h+1:l=h}return l}function x(t,e,n,i,r,a){var o=0,s=0,l=1;if(a(t,e[n+r])<0){for(s=r+1;l<s&&a(t,e[n+r-l])<0;)(l=1+((o=l)<<1))<=0&&(l=s);s<l&&(l=s);var u=o,o=r-l,l=r-u}else{for(s=i-r;l<s&&0<=a(t,e[n+r+l]);)(l=1+((o=l)<<1))<=0&&(l=s);s<l&&(l=s),o+=r,l+=r}for(o++;o<l;){var h=o+(l-o>>>1);a(t,e[n+h])<0?l=h:o=h+1}return l}function d(p,g){var o,s,m=y,l=0;p.length;var v=[];function e(t){var e=o[t],n=s[t],i=o[t+1],r=s[t+1];s[t]=n+r,t===l-3&&(o[t+1]=o[t+2],s[t+1]=s[t+2]),l--;var a=x(p[i],p,e,n,0,g);e+=a,0!==(n-=a)&&0!==(r=_(p[e+n-1],p,i,r,r-1,g))&&(n<=r?function(t,e,n,i){var r=0;for(r=0;r<e;r++)v[r]=p[t+r];var a=0,o=n,s=t;if(p[s++]=p[o++],0==--i){for(r=0;r<e;r++)p[s+r]=v[a+r];return}if(1===e){for(r=0;r<i;r++)p[s+r]=p[o+r];return p[s+i]=v[a]}var l,u,h,c=m;for(;;){u=l=0,h=!1;do{if(g(p[o],v[a])<0){if(p[s++]=p[o++],u++,(l=0)==--i){h=!0;break}}else if(p[s++]=v[a++],l++,u=0,1==--e){h=!0;break}}while((l|u)<c);if(h)break;do{if(0!==(l=x(p[o],v,a,e,0,g))){for(r=0;r<l;r++)p[s+r]=v[a+r];if(s+=l,a+=l,(e-=l)<=1){h=!0;break}}if(p[s++]=p[o++],0==--i){h=!0;break}if(0!==(u=_(v[a],p,o,i,0,g))){for(r=0;r<u;r++)p[s+r]=p[o+r];if(s+=u,o+=u,0===(i-=u)){h=!0;break}}if(p[s++]=v[a++],1==--e){h=!0;break}c--}while(y<=l||y<=u);if(h)break;c<0&&(c=0),c+=2}if((m=c)<1&&(m=1),1===e){for(r=0;r<i;r++)p[s+r]=p[o+r];p[s+i]=v[a]}else{if(0===e)throw new Error;for(r=0;r<e;r++)p[s+r]=v[a+r]}}:function(t,e,n,i){var r=0;for(r=0;r<i;r++)v[r]=p[n+r];var a=t+e-1,o=i-1,s=n+i-1,l=0,u=0;if(p[s--]=p[a--],0==--e){for(l=s-(i-1),r=0;r<i;r++)p[l+r]=v[r];return}if(1===i){for(u=(s-=e)+1,l=(a-=e)+1,r=e-1;0<=r;r--)p[u+r]=p[l+r];return p[s]=v[o]}var h=m;for(;;){var c=0,d=0,f=!1;do{if(g(v[o],p[a])<0){if(p[s--]=p[a--],c++,(d=0)==--e){f=!0;break}}else if(p[s--]=v[o--],d++,c=0,1==--i){f=!0;break}}while((c|d)<h);if(f)break;do{if(0!==(c=e-x(v[o],p,t,e,e-1,g))){for(e-=c,u=(s-=c)+1,l=(a-=c)+1,r=c-1;0<=r;r--)p[u+r]=p[l+r];if(0===e){f=!0;break}}if(p[s--]=v[o--],1==--i){f=!0;break}if(0!==(d=i-_(p[a],v,0,i,i-1,g))){for(i-=d,u=(s-=d)+1,l=(o-=d)+1,r=0;r<d;r++)p[u+r]=v[l+r];if(i<=1){f=!0;break}}if(p[s--]=p[a--],0==--e){f=!0;break}h--}while(y<=c||y<=d);if(f)break;h<0&&(h=0),h+=2}(m=h)<1&&(m=1);if(1===i){for(u=(s-=e)+1,l=(a-=e)+1,r=e-1;0<=r;r--)p[u+r]=p[l+r];p[s]=v[o]}else{if(0===i)throw new Error;for(l=s-(i-1),r=0;r<i;r++)p[l+r]=v[r]}})(e,n,i,r)}o=[],s=[],this.mergeRuns=function(){for(;1<l;){var t=l-2;if(1<=t&&s[t-1]<=s[t]+s[t+1]||2<=t&&s[t-2]<=s[t]+s[t-1])s[t-1]<s[t+1]&&t--;else if(s[t]>s[t+1])break;e(t)}},this.forceMergeRuns=function(){for(;1<l;){var t=l-2;0<t&&s[t-1]<s[t+1]&&t--,e(t)}},this.pushRun=function(t,e){o[l]=t,s[l]=e,l+=1}}t.exports=function(t,e,n,i){n=n||0;var r=(i=i||t.length)-n;if(!(r<2)){var a=0;if(r<u)c(t,n,i,n+(a=h(t,n,i,e)),e);else{var o,s=new d(t,e),l=function(t){for(var e=0;u<=t;)e|=1&t,t>>=1;return t+e}(r);do{(a=h(t,n,i,e))<l&&(l<(o=r)&&(o=l),c(t,n,n+o,n+a,e),a=o),s.pushRun(n,a),s.mergeRuns(),r-=a,n+=a}while(0!==r);s.forceMergeRuns()}}}},function(t,e,n){function i(t){this.extendFrom(t,!1)}var h=n(126),c=n(71).ContextCachedBy,d=[[\"shadowBlur\",0],[\"shadowOffsetX\",0],[\"shadowOffsetY\",0],[\"shadowColor\",\"#000\"],[\"lineCap\",\"butt\"],[\"lineJoin\",\"miter\"],[\"miterLimit\",10]];function o(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,a=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,a=isNaN(a)?0:a,o=isNaN(o)?0:o,t.createLinearGradient(i,a,r,o)}function s(t,e,n){var i=n.width,r=n.height,a=Math.min(i,r),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(o=o*i+n.x,s=s*r+n.y,l*=a),t.createRadialGradient(o,s,0,o,s,l)}for(var r=i.prototype={constructor:i,fill:\"#000\",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:\"#000\",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:\"inside\",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:\"transparent\",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:\"transparent\",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var i=this,r=n&&n.style,a=!r||t.__attrCachedBy!==c.STYLE_BIND;t.__attrCachedBy=c.STYLE_BIND;for(var o,s=0;s<d.length;s++){var l=d[s],u=l[0];!a&&i[u]===r[u]||(t[u]=h(t,u,i[u]||l[1]))}!a&&i.fill===r.fill||(t.fillStyle=i.fill),!a&&i.stroke===r.stroke||(t.strokeStyle=i.stroke),!a&&i.opacity===r.opacity||(t.globalAlpha=null==i.opacity?1:i.opacity),!a&&i.blend===r.blend||(t.globalCompositeOperation=i.blend||\"source-over\"),this.hasStroke()&&(o=i.lineWidth,t.lineWidth=o/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1))},hasFill:function(){var t=this.fill;return null!=t&&\"none\"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&\"none\"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){\"string\"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var i=(\"radial\"===e.type?s:o)(t,e,n),r=e.colorStops,a=0;a<r.length;a++)i.addColorStop(r[a].offset,r[a].color);return i}},a=0;a<d.length;a++){var l=d[a];l[0]in r||(r[l[0]]=l[1])}i.getGradient=r.getGradient,t.exports=i},function(t,e,n){var s=new(n(125))(50);function l(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function u(t){return t&&t.width&&t.height}e.findExistImage=function(t){if(\"string\"!=typeof t)return t;var e=s.get(t);return e&&e.image},e.createOrUpdateImage=function(t,e,n,i,r){if(t){if(\"string\"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!n)return e;var a=s.get(t),o={hostEl:n,cb:i,cbPayload:r};return a?u(e=a.image)||a.pending.push(o):((e=new Image).onload=e.onerror=l,s.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return e},e.isImageReady=u},function(t,e,n){var i=n(10),o=n(130),s=n(91).subPixelOptimizeRect,l={},r=i.extend({type:\"rect\",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,i,r,a;this.subPixelOptimize?(s(l,e,this.style),n=l.x,i=l.y,r=l.width,a=l.height,l.r=e.r,e=l):(n=e.x,i=e.y,r=e.width,a=e.height),e.r?o.buildPath(t,e):t.rect(n,i,r,a),t.closePath()}});t.exports=r},function(t,e){var l=Math.round;function u(t,e,n){if(!e)return t;var i=l(2*t);return(i+l(e))%2==0?i/2:(i+(n?1:-1))/2}e.subPixelOptimizeLine=function(t,e,n){var i,r,a,o,s;e&&(i=e.x1,r=e.x2,a=e.y1,o=e.y2,t.x1=i,t.x2=r,t.y1=a,t.y2=o,(s=n&&n.lineWidth)&&(l(2*i)===l(2*r)&&(t.x1=t.x2=u(i,s,!0)),l(2*a)===l(2*o)&&(t.y1=t.y2=u(a,s,!0))))},e.subPixelOptimizeRect=function(t,e,n){var i,r,a,o,s;e&&(i=e.x,r=e.y,a=e.width,o=e.height,t.x=i,t.y=r,t.width=a,t.height=o,(s=n&&n.lineWidth)&&(t.x=u(i,s,!0),t.y=u(r,s,!0),t.width=Math.max(u(i+a,s,!1)-t.x,0===a?0:1),t.height=Math.max(u(r+o,s,!1)-t.y,0===o?0:1)))},e.subPixelOptimize=u},function(t,e,n){function i(t,e,n,i,r,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type=\"linear\",this.global=a||!1,o.call(this,r)}var r=n(0),o=n(73);i.prototype={constructor:i},r.inherits(i,o),t.exports=i},function(t,e,n){var i=n(0).inherits,r=n(54),a=n(9);function o(t){r.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}o.prototype.incremental=!0,o.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},o.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},o.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},o.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},o.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(var e,t=0;t<this._temporaryDisplayables.length;t++){(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},o.prototype.brush=function(t,e){for(var n=this._cursor;n<this._displayables.length;n++){(i=this._displayables[n]).beforeBrush&&i.beforeBrush(t),i.brush(t,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._cursor=n;for(var i,n=0;n<this._temporaryDisplayables.length;n++){(i=this._temporaryDisplayables[n]).beforeBrush&&i.beforeBrush(t),i.brush(t,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var s=[];o.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new a(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(s)),t.union(i)}this._rect=t}return this._rect},o.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++){if(this._displayables[i].contain(t,e))return!0}return!1},i(o,r),t.exports=o},function(t,e,n){var u=n(37).retrieveRawValue,i=n(7),g=i.getTooltipMarker,h=i.formatTpl,m=n(4).getTooltipRenderMode,c=/\\{@(.+?)\\}/g,r={getDataParams:function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),a=n.getName(t),o=n.getRawDataItem(t),s=n.getItemVisual(t,\"color\"),l=n.getItemVisual(t,\"borderColor\"),u=this.ecModel.getComponent(\"tooltip\"),h=u&&u.get(\"renderMode\"),c=m(h),d=this.mainType,f=\"series\"===d,p=n.userOutput;return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:a,dataIndex:r,data:o,dataType:e,value:i,color:s,borderColor:l,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,marker:g({color:s,renderMode:c}),$vars:[\"seriesName\",\"name\",\"value\"]}},getFormattedLabel:function(i,t,e,n,r){t=t||\"normal\";var a=this.getData(e),o=a.getItemModel(i),s=this.getDataParams(i,e);null!=n&&s.value instanceof Array&&(s.value=s.value[n]);var l=o.get(\"normal\"===t?[r||\"label\",\"formatter\"]:[t,r||\"label\",\"formatter\"]);return\"function\"==typeof l?(s.status=t,s.dimensionIndex=n,l(s)):\"string\"==typeof l?h(l,s).replace(c,function(t,e){var n=e.length;return\"[\"===e.charAt(0)&&\"]\"===e.charAt(n-1)&&(e=+e.slice(1,n-1)),u(a,i,e)}):void 0},getRawValue:function(t,e){return u(this.getData(e),t)},formatTooltip:function(){}};t.exports=r},function(t,e,n){var i=n(0),v=(i.assert,i.isArray);n(5).__DEV__;function r(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}var a=r.prototype;a.perform=function(t){var e,n,i=this._upstream,r=t&&t.skip;this._dirty&&i&&((e=this.context).data=e.outputData=i.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(n=this._plan(this.context));var a,o=h(this._modBy),s=this._modDataCount||0,l=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return 1<=t||(t=1),t}o===l&&s===u||(n=\"reset\"),!this._dirty&&\"reset\"!==n||(this._dirty=!1,a=function(t,e){var n,i;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((n=t._reset(t.context))&&n.progress&&(i=n.forceFirstProgress,n=n.progress),v(n)&&!n.length&&(n=null));t._progress=n,t._modBy=t._modDataCount=null;var r=t._downstream;return r&&r.dirty(),i}(this,r)),this._modBy=l,this._modDataCount=u;var c=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!r&&(a||d<f)){var p=this._progress;if(v(p))for(var g=0;g<p.length;g++)y(this,p[g],d,f,l,u);else y(this,p,d,f,l,u)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var o,s,l,u,h,c,d=c={reset:function(t,e,n,i){s=t,o=e,l=n,u=i,h=Math.ceil(u/l),c.next=1<l&&0<u?p:f}};function f(){return s<o?s++:null}function p(){var t=s%h*l+Math.ceil(s/h),e=o<=s?null:t<u?t:s;return s++,e}function y(t,e,n,i,r,a){d.reset(n,i,r,a),t._callingProgress=e,t._callingProgress({start:n,end:i,count:i-n,next:d.next},t.context)}a.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.pipe=function(t){this._downstream===t&&!this._dirty||((this._downstream=t)._upstream=this,t.dirty())},a.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.getUpstream=function(){return this._upstream},a.getDownstream=function(){return this._downstream},a.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e.createTask=function(t){return new r(t)}},function(t,e,n){n(5).__DEV__;var i=n(0),r=i.createHashMap,a=i.isString,o=i.isArray,s=i.each,l=(i.assert,n(146).parseXML),u=r(),h={registerMap:function(t,e,n){var i=o(e)?e:e.svg?[{type:\"svg\",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),[{type:\"geoJSON\",source:e,specialAreas:n}]);return s(i,function(t){var e=t.type;\"geoJson\"===e&&(e=t.type=\"geoJSON\"),(0,c[e])(t)}),u.set(t,i)},retrieveMap:function(t){return u.get(t)}},c={geoJSON:function(t){var e=t.source;t.geoJSON=a(e)?\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function(\"return (\"+e+\");\")():e},svg:function(t){t.svgXML=l(t.source)}};t.exports=h},function(t,e,n){var s=n(37).retrieveRawValue;e.getDefaultLabel=function(t,e){var n=t.mapDimension(\"defaultedLabel\",!0),i=n.length;if(1===i)return s(t,e,n[0]);if(i){for(var r=[],a=0;a<n.length;a++){var o=s(t,e,n[a]);r.push(o)}return r.join(\" \")}}},function(t,e,n){n(5).__DEV__;var i=n(0),a=i.isObject,h=i.each,r=i.map,u=i.indexOf,o=(i.retrieve,n(6).getLayoutRect),s=n(20),c=s.createScaleByModel,l=s.ifAxisCrossZero,d=s.niceScaleExtent,f=s.estimateLabelUnionRect,p=n(261),g=n(263),m=n(19),v=n(24).getStackedDimension;function y(t,e){return t.getCoordSysModel()===e}function _(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}n(264);var x=_.prototype;function b(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,a=t[e],o=n.model,s=o.get(\"axisLine.onZero\"),l=o.get(\"axisLine.onZeroAxisIndex\");if(s){if(null!=l)w(a[l])&&(r=a[l]);else for(var u in a)if(a.hasOwnProperty(u)&&w(a[u])&&!i[h(a[u])]){r=a[u];break}r&&(i[h(r)]=!0)}function h(t){return t.dim+\"_\"+t.index}}function w(t){return t&&\"category\"!==t.type&&\"time\"!==t.type&&l(t)}x.type=\"grid\",x.axisPointerEnabled=!0,x.getRect=function(){return this._rect},x.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),h(n.x,function(t){d(t.scale,t.model)}),h(n.y,function(t){d(t.scale,t.model)});var i={};h(n.x,function(t){b(n,\"y\",t,i)}),h(n.y,function(t){b(n,\"x\",t,i)}),this.resize(this.model,e)},x.resize=function(t,e,n){var l=o(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=l;var i=this._axesList;function r(){h(i,function(t){var e,n,i,r,a=t.isHorizontal(),o=a?[0,l.width]:[0,l.height],s=t.inverse?1:0;t.setExtent(o[s],o[1-s]),e=t,n=a?l.x:l.y,i=e.getExtent(),r=i[0]+i[1],e.toGlobalCoord=\"x\"===e.dim?function(t){return t+n}:function(t){return r-t+n},e.toLocalCoord=\"x\"===e.dim?function(t){return t-n}:function(t){return r-t+n}})}r(),!n&&t.get(\"containLabel\")&&(h(i,function(t){var e,n,i;t.model.get(\"axisLabel.inside\")||(e=f(t))&&(n=t.isHorizontal()?\"height\":\"width\",i=t.model.get(\"axisLabel.margin\"),l[n]-=e[n]+i,\"top\"===t.position?l.y+=e.height+i:\"left\"===t.position&&(l.x+=e.width+i))}),r())},x.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},x.getAxes=function(){return this._axesList.slice()},x.getCartesian=function(t,e){if(null!=t&&null!=e){var n=\"x\"+t+\"y\"+e;return this._coordsMap[n]}a(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis(\"x\").index===t||r[i].getAxis(\"y\").index===e)return r[i]},x.getCartesians=function(){return this._coordsList.slice()},x.convertToPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},x.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},x._findConvertTarget=function(t,e){var n,i,r=e.seriesModel,a=e.xAxisModel||r&&r.getReferringComponents(\"xAxis\")[0],o=e.yAxisModel||r&&r.getReferringComponents(\"yAxis\")[0],s=e.gridModel,l=this._coordsList;return r?(n=r.coordinateSystem,u(l,n)<0&&(n=null)):a&&o?n=this.getCartesian(a.componentIndex,o.componentIndex):a?i=this.getAxis(\"x\",a.componentIndex):o?i=this.getAxis(\"y\",o.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},x.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},x._initCartesian=function(o,t,e){var s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},u={x:0,y:0};if(t.eachComponent(\"xAxis\",n(\"x\"),this),t.eachComponent(\"yAxis\",n(\"y\"),this),!u.x||!u.y)return this._axesMap={},void(this._axesList=[]);function n(a){return function(t,e){var n,i,r;y(t,o)&&(n=t.get(\"position\"),\"x\"===a?\"top\"!==n&&\"bottom\"!==n&&(n=s.bottom?\"top\":\"bottom\"):\"left\"!==n&&\"right\"!==n&&(n=s.left?\"right\":\"left\"),s[n]=!0,r=\"category\"===(i=new g(a,c(t),[0,0],t.get(\"type\"),n)).type,i.onBand=r&&t.get(\"boundaryGap\"),i.inverse=t.get(\"inverse\"),(t.axis=i).model=t,i.grid=this,i.index=e,this._axesList.push(i),l[a][e]=i,u[a]++)}}this._axesMap=l,h(l.x,function(r,a){h(l.y,function(t,e){var n=\"x\"+a+\"y\"+e,i=new p(n);i.grid=this,i.model=o,this._coordsMap[n]=i,this._coordsList.push(i),i.addAxis(r),i.addAxis(t)},this)},this)},x._updateScale=function(t,l){function u(e,n){h(e.mapDimension(n.dim,!0),function(t){n.scale.unionExtentFromData(e,v(e,t))})}h(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){if(M(t)){var e=S(t),n=e[0],i=e[1];if(!y(n,l)||!y(i,l))return;var r=this.getCartesian(n.componentIndex,i.componentIndex),a=t.getData(),o=r.getAxis(\"x\"),s=r.getAxis(\"y\");\"list\"===a.type&&(u(a,o),u(a,s))}},this)},x.getTooltipAxes=function(i){var r=[],a=[];return h(this.getCartesians(),function(t){var e=null!=i&&\"auto\"!==i?t.getAxis(i):t.getBaseAxis(),n=t.getOtherAxis(e);u(r,e)<0&&r.push(e),u(a,n)<0&&a.push(n)}),{baseAxes:r,otherAxes:a}};var T=[\"xAxis\",\"yAxis\"];function S(e){return r(T,function(t){return e.getReferringComponents(t)[0]})}function M(t){return\"cartesian2d\"===t.get(\"coordinateSystem\")}_.create=function(i,r){var a=[];return i.eachComponent(\"grid\",function(t,e){var n=new _(t,i,r);n.name=\"grid_\"+e,n.resize(t,r,!0),t.coordinateSystem=n,a.push(n)}),i.eachSeries(function(t){var e,n,i,r;M(t)&&(n=(e=S(t))[0],i=e[1],r=n.getCoordSysModel().coordinateSystem,t.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex))}),a},_.dimensions=_.prototype.dimensions=p.prototype.dimensions,m.register(\"cartesian2d\",_),t.exports=_},function(t,e,n){var i=n(0),r={updateSelectedMap:function(t){this._targetList=i.isArray(t)?t.slice():[],this._selectTargetMap=i.reduce(t||[],function(t,e){return t.set(e.name,e),t},i.createHashMap())},select:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);\"single\"===this.get(\"selectedMode\")&&this._selectTargetMap.each(function(t){t.selected=!1}),n&&(n.selected=!0)},unSelect:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?\"unSelect\":\"select\"](t,e),n.selected},isSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}};t.exports=r},function(t,e){e.updateViewOnPan=function(t,e,n){var i=t.target,r=i.position;r[0]+=e,r[1]+=n,i.dirty()},e.updateViewOnZoom=function(t,e,n,i){var r,a,o=t.target,s=t.zoomLimit,l=o.position,u=o.scale,h=t.zoom=t.zoom||1;h*=e,s&&(r=s.min||0,a=s.max||1/0,h=Math.max(Math.min(a,h),r));var c=h/t.zoom;t.zoom=h,l[0]-=(n-l[0])*(c-1),l[1]-=(i-l[1])*(c-1),u[0]*=c,u[1]*=c,o.dirty()}},function(t,e){e.updateCenterAndZoom=function(t,e,n){var i,r,a,o,s,l=t.getZoom(),u=t.getCenter(),h=e.zoom,c=t.dataToPoint(u);return null!=e.dx&&null!=e.dy&&(c[0]-=e.dx,c[1]-=e.dy,u=t.pointToData(c),t.setCenter(u)),null!=h&&(n&&(i=n.min||0,r=n.max||1/0,h=Math.max(Math.min(l*h,r),i)/l),t.scale[0]*=h,t.scale[1]*=h,a=t.position,o=(e.originX-a[0])*(h-1),s=(e.originY-a[1])*(h-1),a[0]-=o,a[1]-=s,t.updateTransform(),u=t.pointToData(c),t.setCenter(u),t.setZoom(h*l)),{center:t.getCenter(),zoom:t.getZoom()}}},function(t,e,n){n(5).__DEV__;var i=n(1),u=n(0),h=n(300),p=n(6),g=n(3),s=n(82),c=n(96);function d(t,e){var n,i,r=t.get(\"boundingCoords\");null!=r&&(n=r[0],i=r[1],isNaN(n[0])||isNaN(n[1])||isNaN(i[0])||isNaN(i[1])||this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1]));var a,o,s=this.getBoundingRect(),l=t.get(\"layoutCenter\"),u=t.get(\"layoutSize\"),h=e.getWidth(),c=e.getHeight(),d=s.width/s.height*this.aspectScale,f=!1;l&&u&&(l=[g.parsePercent(l[0],h),g.parsePercent(l[1],c)],u=g.parsePercent(u,Math.min(h,c)),isNaN(l[0])||isNaN(l[1])||isNaN(u)||(f=!0)),f?(o={},1<d?(o.width=u,o.height=u/d):(o.height=u,o.width=u*d),o.y=l[1]-o.height/2,o.x=l[0]-o.width/2):((a=t.getBoxLayoutParams()).aspect=d,o=p.getLayoutRect(a,{width:h,height:c})),this.setViewRect(o.x,o.y,o.width,o.height),this.setCenter(t.get(\"center\")),this.setZoom(t.get(\"zoom\"))}function f(n,t){u.each(t.get(\"geoCoord\"),function(t,e){n.addGeoCoord(e,t)})}var r={dimensions:h.prototype.dimensions,create:function(t,s){var l=[];t.eachComponent(\"geo\",function(t,e){var n=t.get(\"map\"),i=t.get(\"aspectScale\"),r=!0,a=c.retrieveMap(n);a&&a[0]&&\"svg\"===a[0].type?(null==i&&(i=1),r=!1):null==i&&(i=.75);var o=new h(n+e,n,t.get(\"nameMap\"),r);o.aspectScale=i,o.zoomLimit=t.get(\"scaleLimit\"),l.push(o),f(o,t),(t.coordinateSystem=o).model=t,o.resize=d,o.resize(t,s)}),t.eachSeries(function(t){var e;\"geo\"===t.get(\"coordinateSystem\")&&(e=t.get(\"geoIndex\")||0,t.coordinateSystem=l[e])});var n={};return t.eachSeriesByType(\"map\",function(t){var e;t.getHostGeoModel()||(e=t.getMapType(),n[e]=n[e]||[],n[e].push(t))}),u.each(n,function(t,e){var n=u.map(t,function(t){return t.get(\"nameMap\")}),i=new h(e,e,u.mergeAll(n));i.zoomLimit=u.retrieve.apply(null,u.map(t,function(t){return t.get(\"scaleLimit\")})),l.push(i),i.resize=d,i.aspectScale=t[0].get(\"aspectScale\"),i.resize(t[0],s),u.each(t,function(t){f(t.coordinateSystem=i,t)})}),l},getFilledRegions:function(t,e,n){for(var i=(t||[]).slice(),r=u.createHashMap(),a=0;a<i.length;a++)r.set(i[a].name,i[a]);var o=s.load(e,n);return u.each(o.regions,function(t){var e=t.name;r.get(e)||i.push({name:e})}),i}};i.registerCoordinateSystem(\"geo\",r),t.exports=r},function(t,e,n){var i=n(0),a=n(8),r=n(15),o=n(9),s=n(69),l=a.applyTransform;function u(){s.call(this)}function h(t){this.name=t,this.zoomLimit,s.call(this),this._roamTransformable=new u,this._rawTransformable=new u,this._center,this._zoom}function c(t,e,n,i){var r=n.seriesModel,a=r?r.coordinateSystem:null;return a===this?a[t](i):null}i.mixin(u,s),h.prototype={constructor:h,type:\"view\",dimensions:[\"x\",\"y\"],setBoundingRect:function(t,e,n,i){return this._rect=new o(t,e,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,i){this.transformTo(t,e,n,i),this._viewRect=new o(t,e,n,i)},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),a=this._rawTransformable;a.transform=r.calculateTransform(new o(t,e,n,i)),a.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom(),i=a.applyTransform([],i,t),n=a.applyTransform([],n,t);e.origin=i,e.position=[n[0]-i[0],n[1]-i[1]],e.scale=[r,r],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;(e.parent=t).updateTransform(),e.updateTransform(),r.copy(this.transform||(this.transform=[]),e.transform||r.create()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var t=this._roamTransformable.transform,e=this._rawTransformable;return{roamTransform:t?i.slice(t):r.create(),rawScale:i.slice(e.scale),rawPosition:i.slice(e.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?l(n,t,i):a.copy(n,t)},pointToData:function(t){var e=this.invTransform;return e?l([],t,e):[t[0],t[1]]},convertToPixel:i.curry(c,\"dataToPoint\"),convertFromPixel:i.curry(c,\"pointToData\"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},i.mixin(h,s),t.exports=h},function(t,e,n){function h(t,e){this.name=t||\"\",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e}var c=n(0),i=n(12),o=n(168),d=n(17),f=n(47);function p(e,t){this.root,this.data,this._nodes=[],this.hostModel=e,this.levelModels=c.map(t||[],function(t){return new i(t,e,e.ecModel)})}function g(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}h.prototype={constructor:h,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){\"function\"==typeof t&&(n=e,e=t,t=null),t=t||{},c.isString(t)&&(t={order:t});var i,r=t.order||\"preorder\",a=this[t.attr||\"children\"];\"preorder\"===r&&(i=e.call(n,this));for(var o=0;!i&&o<a.length;o++)a[o].eachNode(t,e,n);\"postorder\"===r&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].getNodeById(t);if(r)return r}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].contains(t);if(r)return r}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||\"value\"),this.dataIndex)},setLayout:function(t,e){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostTree.data.getItemModel(this.dataIndex),n=this.getLevelModel();return n?e.getModel(t,n.getModel(t)):e.getModel(t)}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(t,e){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},p.prototype={constructor:p,type:\"tree\",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},p.createTree=function(t,e,n,i){var s=new p(e,n&&n.levels),l=[],u=1;!function t(e,n){var i=e.value;u=Math.max(u,c.isArray(i)?i.length:1);l.push(e);var r=new h(e.name,s);n?g(r,n):s.root=r;s._nodes.push(r);var a=e.children;if(a)for(var o=0;o<a.length;o++)t(a[o],r)}(t),s.root.updateDepthAndHeight(0);var r=f(l,{coordDimensions:[\"value\"],dimensionsCount:u}),a=new d(r,e);return a.initData(l),i&&i(a),o({mainData:a,struct:s,structAttr:\"tree\"}),s.update(),s},t.exports=p},function(t,e,n){var i=n(2),r=n(106);function a(t){this._ctor=t||r,this.group=new i.Group}var o=a.prototype;function s(t){var e=t.hostModel;return{lineStyle:e.getModel(\"lineStyle\").getLineStyle(),hoverLineStyle:e.getModel(\"emphasis.lineStyle\").getLineStyle(),labelModel:e.getModel(\"label\"),hoverLabelModel:e.getModel(\"emphasis.label\")}}function l(t){return isNaN(t[0])||isNaN(t[1])}function u(t){return!l(t[0])&&!l(t[1])}o.isPersistent=function(){return!0},o.updateData=function(n){var i=this,e=i.group,r=i._lineData;i._lineData=n,r||e.removeAll();var a=s(n);n.diff(r).add(function(t){!function(t,e,n,i){if(!u(e.getItemLayout(n)))return;var r=new t._ctor(e,n,i);e.setItemGraphicEl(n,r),t.group.add(r)}(i,n,t,a)}).update(function(t,e){!function(t,e,n,i,r,a){var o=e.getItemGraphicEl(i);if(!u(n.getItemLayout(r)))return t.group.remove(o);o?o.updateData(n,r,a):o=new t._ctor(n,r,a);n.setItemGraphicEl(r,o),t.group.add(o)}(i,r,n,e,t,a)}).remove(function(t){e.remove(r.getItemGraphicEl(t))}).execute()},o.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(t,e){t.updateLayout(n,e)},this)},o.incrementalPrepareUpdate=function(t){this._seriesScope=s(t),this._lineData=null,this.group.removeAll()},o.incrementalUpdate=function(t,e){function n(t){var e;t.isGroup||(e=t).animators&&0<e.animators.length||(t.incremental=t.useHoverLayer=!0)}for(var i,r=t.start;r<t.end;r++){u(e.getItemLayout(r))&&((i=new this._ctor(e,r,this._seriesScope)).traverse(n),this.group.add(i),e.setItemGraphicEl(r,i))}},o.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},o._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},t.exports=a},function(t,e,n){var w=n(0),S=n(8),s=n(18),u=n(323),T=n(2),M=n(3).round,A=[\"fromSymbol\",\"toSymbol\"];function h(t){return\"_\"+t+\"Type\"}function c(t,e,n){var i=e.getItemVisual(n,\"color\"),r=e.getItemVisual(n,t),a=e.getItemVisual(n,t+\"Size\");if(r&&\"none\"!==r){w.isArray(a)||(a=[a,a]);var o=s.createSymbol(r,-a[0]/2,-a[1]/2,a[0],a[1],i);return o.name=t,o}}function d(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}function i(t,e,n){T.Group.call(this),this._createLine(t,e,n)}var r=i.prototype;r.beforeUpdate=function(){var t=this.childOfName(\"fromSymbol\"),e=this.childOfName(\"toSymbol\"),n=this.childOfName(\"label\");if(t||e||!n.ignore){for(var i=1,r=this.parent;r;)r.scale&&(i/=r.scale[0]),r=r.parent;var a=this.childOfName(\"line\");if(this.__dirty||a.__dirty){var o,s,l,u,h=a.shape.percent,c=a.pointAt(0),d=a.pointAt(h),f=S.sub([],d,c);if(S.normalize(f,f),t&&(t.attr(\"position\",c),p=a.tangentAt(0),t.attr(\"rotation\",Math.PI/2-Math.atan2(p[1],p[0])),t.attr(\"scale\",[i*h,i*h])),e&&(e.attr(\"position\",d),p=a.tangentAt(1),e.attr(\"rotation\",-Math.PI/2-Math.atan2(p[1],p[0])),e.attr(\"scale\",[i*h,i*h])),!n.ignore){n.attr(\"position\",d);var p,g=n.__labelDistance,m=g[0]*i,v=g[1]*i,y=h/2,_=[(p=a.tangentAt(y))[1],-p[0]],x=a.pointAt(y);0<_[1]&&(_[0]=-_[0],_[1]=-_[1]);var b,w,T=p[0]<0?-1:1;switch(\"start\"!==n.__position&&\"end\"!==n.__position&&(b=-Math.atan2(p[1],p[0]),d[0]<c[0]&&(b=Math.PI+b),n.attr(\"rotation\",b)),n.__position){case\"insideStartTop\":case\"insideMiddleTop\":case\"insideEndTop\":case\"middle\":w=-v,l=\"bottom\";break;case\"insideStartBottom\":case\"insideMiddleBottom\":case\"insideEndBottom\":w=v,l=\"top\";break;default:w=0,l=\"middle\"}switch(n.__position){case\"end\":o=[f[0]*m+d[0],f[1]*v+d[1]],s=.8<f[0]?\"left\":f[0]<-.8?\"right\":\"center\",l=.8<f[1]?\"top\":f[1]<-.8?\"bottom\":\"middle\";break;case\"start\":o=[-f[0]*m+c[0],-f[1]*v+c[1]],s=.8<f[0]?\"right\":f[0]<-.8?\"left\":\"center\",l=.8<f[1]?\"bottom\":f[1]<-.8?\"top\":\"middle\";break;case\"insideStartTop\":case\"insideStart\":case\"insideStartBottom\":o=[m*T+c[0],c[1]+w],s=p[0]<0?\"right\":\"left\",u=[-m*T,-w];break;case\"insideMiddleTop\":case\"insideMiddle\":case\"insideMiddleBottom\":case\"middle\":o=[x[0],x[1]+w],s=\"center\",u=[0,-w];break;case\"insideEndTop\":case\"insideEnd\":case\"insideEndBottom\":o=[-m*T+d[0],d[1]+w],s=0<=p[0]?\"right\":\"left\",u=[m*T,-w]}n.attr({style:{textVerticalAlign:n.__verticalAlign||l,textAlign:n.__textAlign||s},position:o,scale:[i,i],origin:u})}}}},r._createLine=function(n,i,t){var e,r,a=n.hostModel,o=n.getItemLayout(i),s=(e=o,d((r=new u({name:\"line\",subPixelOptimize:!0})).shape,e),r);s.shape.percent=0,T.initProps(s,{shape:{percent:1}},a,i),this.add(s);var l=new T.Text({name:\"label\",lineLabelOriginalOpacity:1});this.add(l),w.each(A,function(t){var e=c(t,n,i);this.add(e),this[h(t)]=n.getItemVisual(i,t)},this),this._updateCommonStl(n,i,t)},r.updateData=function(r,a,t){var e=r.hostModel,n=this.childOfName(\"line\"),i=r.getItemLayout(a),o={shape:{}};d(o.shape,i),T.updateProps(n,o,e,a),w.each(A,function(t){var e,n=r.getItemVisual(a,t),i=h(t);this[i]!==n&&(this.remove(this.childOfName(t)),e=c(t,r,a),this.add(e)),this[i]=n},this),this._updateCommonStl(r,a,t)},r._updateCommonStl=function(t,e,n){var i,r=t.hostModel,a=this.childOfName(\"line\"),o=n&&n.lineStyle,s=n&&n.hoverLineStyle,l=n&&n.labelModel,u=n&&n.hoverLabelModel;n&&!t.hasItemOption||(o=(i=t.getItemModel(e)).getModel(\"lineStyle\").getLineStyle(),s=i.getModel(\"emphasis.lineStyle\").getLineStyle(),l=i.getModel(\"label\"),u=i.getModel(\"emphasis.label\"));var h=t.getItemVisual(e,\"color\"),c=w.retrieve3(t.getItemVisual(e,\"opacity\"),o.opacity,1);a.useStyle(w.defaults({strokeNoScale:!0,fill:\"none\",stroke:h,opacity:c},o)),a.hoverStyle=s,w.each(A,function(t){var e=this.childOfName(t);e&&(e.setColor(h),e.setStyle({opacity:c}))},this);var d,f,p,g=l.getShallow(\"show\"),m=u.getShallow(\"show\"),v=this.childOfName(\"label\");(g||m)&&(p=h||\"#000\",null==(f=r.getFormattedLabel(e,\"normal\",t.dataType))&&(f=null==(d=r.getRawValue(e))?t.getName(e):isFinite(d)?M(d):d));var y,_=g?f:null,x=m?w.retrieve2(r.getFormattedLabel(e,\"emphasis\",t.dataType),f):null,b=v.style;null==_&&null==x||(T.setTextStyle(v.style,l,{text:_},{autoColor:p}),v.__textAlign=b.textAlign,v.__verticalAlign=b.textVerticalAlign,v.__position=l.get(\"position\")||\"middle\",y=l.get(\"distance\"),w.isArray(y)||(y=[y,y]),v.__labelDistance=y),v.hoverStyle=null!=x?{text:x,textFill:u.getTextColor(!0),fontStyle:u.getShallow(\"fontStyle\"),fontWeight:u.getShallow(\"fontWeight\"),fontSize:u.getShallow(\"fontSize\"),fontFamily:u.getShallow(\"fontFamily\")}:{text:null},v.ignore=!g&&!m,T.setHoverStyle(this)},r.highlight=function(){this.trigger(\"emphasis\")},r.downplay=function(){this.trigger(\"normal\")},r.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},r.setLinePoints=function(t){var e=this.childOfName(\"line\");d(e.shape,t),e.dirty()},w.inherits(i,T.Group),t.exports=i},function(t,e){e.getNodeGlobalScale=function(t){var e=t.coordinateSystem;if(\"view\"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scale,r=i&&i[0]||1;return((e.getZoom()-1)*n+1)/r},e.getSymbolSize=function(t){var e=t.getVisual(\"symbolSize\");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}},function(t,e,n){n(5).__DEV__;var h=n(0),i=n(34),s=n(2),r=n(166),u=n(38),a=h.curry,c=h.each,o=h.map,f=Math.min,y=Math.max,d=Math.pow,l=1e4,p=6,_=6,g={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},m={w:\"ew\",e:\"ew\",n:\"ns\",s:\"ns\",ne:\"nesw\",sw:\"nesw\",nw:\"nwse\",se:\"nwse\"},v={brushStyle:{lineWidth:2,stroke:\"rgba(0,0,0,0.3)\",fill:\"rgba(0,0,0,0.1)\"},transformable:!0,brushMode:\"single\",removeOnClick:!1},x=0;function b(t){i.call(this),this._zr=t,this.group=new s.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid=\"brushController_\"+x++,this._handlers={},c(Z,function(t,e){this._handlers[e]=h.bind(t,this)},this)}function w(t,e){var n=Y[e.brushType].createCover(t,e);return n.__brushOption=e,M(n,e),t.group.add(n),n}function T(t,e){var n=I(e);return n.endCreating&&(n.endCreating(t,e),M(e,e.__brushOption)),e}function S(t,e){var n=e.__brushOption;I(e).updateCoverShape(t,e,n.range,n)}function M(t,e){var n=e.z;null==n&&(n=l),t.traverse(function(t){t.z=n,t.z2=n})}function A(t,e){I(e).updateCommon(t,e),S(t,e)}function I(t){return Y[t.__brushOption.brushType]}function C(t,e,n){var i,r=t._panels;if(!r)return!0;var a=t._transform;return c(r,function(t){t.isTargetByCursor(e,n,a)&&(i=t)}),i}function D(t,e){var n=t._panels;if(!n)return!0;var i=e.__brushOption.panelId;return null==i||n[i]}function E(e){var t=e._covers,n=t.length;return c(t,function(t){e.group.remove(t)},e),t.length=0,n}function L(t,e){var n=o(t._covers,function(t){var e=t.__brushOption,n=h.clone(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger(\"brush\",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function P(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function N(e,n,t,i){var r=new s.Group;return r.add(new s.Rect({name:\"main\",style:z(t),silent:!0,draggable:!0,cursor:\"move\",drift:a(e,n,r,\"nswe\"),ondragend:a(L,n,{isEnd:!0})})),c(i,function(t){r.add(new s.Rect({name:t,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:a(e,n,r,t),ondragend:a(L,n,{isEnd:!0})}))}),r}function O(t,e,n,i){var r=i.brushStyle.lineWidth||0,a=y(r,_),o=n[0][0],s=n[1][0],l=o-r/2,u=s-r/2,h=n[0][1],c=n[1][1],d=h-a+r/2,f=c-a+r/2,p=h-o,g=c-s,m=p+r,v=g+r;k(t,e,\"main\",o,s,p,g),i.transformable&&(k(t,e,\"w\",l,u,a,v),k(t,e,\"e\",d,u,a,v),k(t,e,\"n\",l,u,m,a),k(t,e,\"s\",l,f,m,a),k(t,e,\"nw\",l,u,a,a),k(t,e,\"ne\",d,u,a,a),k(t,e,\"sw\",l,f,a,a),k(t,e,\"se\",d,f,a,a))}function R(i,r){var t=r.__brushOption,a=t.transformable,e=r.childAt(0);e.useStyle(z(t)),e.attr({silent:!a,cursor:a?\"move\":\"default\"}),c([\"w\",\"e\",\"n\",\"s\",\"se\",\"sw\",\"ne\",\"nw\"],function(t){var e=r.childOfName(t),n=function t(e,n){{if(1<n.length){n=n.split(\"\");var i=[t(e,n[0]),t(e,n[1])];return\"e\"!==i[0]&&\"w\"!==i[0]||i.reverse(),i.join(\"\")}var r={w:\"left\",e:\"right\",n:\"top\",s:\"bottom\"},a={left:\"w\",right:\"e\",top:\"n\",bottom:\"s\"},i=s.transformDirection(r[n],(o=e,s.getTransform(o.group)));return a[i]}var o}(i,t);e&&e.attr({silent:!a,invisible:!a,cursor:a?m[n]+\"-resize\":null})})}function k(t,e,n,i,r,a,o){var s,l,u,h,c,d=e.childOfName(n);d&&d.setShape((s=H(t,e,[[i,r],[i+a,r+o]]),l=f(s[0][0],s[1][0]),u=f(s[0][1],s[1][1]),h=y(s[0][0],s[1][0]),c=y(s[0][1],s[1][1]),{x:l,y:u,width:h-l,height:c-u}))}function z(t){return h.defaults({strokeNoScale:!0},t.brushStyle)}function B(t,e,n,i){var r=[f(t,n),f(e,i)],a=[y(t,n),y(e,i)];return[[r[0],a[0]],[r[1],a[1]]]}function F(t,e,n,i,r,a,o,s){var l=i.__brushOption,u=t(l.range),h=G(n,a,o);c(r.split(\"\"),function(t){var e=g[t];u[e[0]][e[1]]+=h[e[0]]}),l.range=e(B(u[0][0],u[1][0],u[0][1],u[1][1])),A(n,i),L(n,{isEnd:!1})}function V(t,e,n,i,r){var a=e.__brushOption.range,o=G(t,n,i);c(a,function(t){t[0]+=o[0],t[1]+=o[1]}),A(t,e),L(t,{isEnd:!1})}function G(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),a=i.transformCoordToLocal(0,0);return[r[0]-a[0],r[1]-a[1]]}function H(t,e,n){var i=D(t,e);return i&&!0!==i?i.clipPath(n,t._transform):h.clone(n)}function U(t){var e=t.event;e.preventDefault&&e.preventDefault()}function W(t,e,n){return t.childOfName(\"main\").contain(e,n)}function j(t,e,n,i){var r,a,o,s=t._creatingCover,l=t._creatingPanel,u=t._brushOption;return t._track.push(n.slice()),function(t){var e=t._track;if(e.length){var n=e[e.length-1],i=e[0],r=n[0]-i[0],a=n[1]-i[1],o=d(r*r+a*a,.5);return p<o}}(t)||s?(l&&!s&&(\"single\"===u.brushMode&&E(t),(a=h.clone(u)).brushType=X(a.brushType,l),a.panelId=!0===l?null:l.panelId,s=t._creatingCover=w(t,a),t._covers.push(s)),s&&(o=Y[X(t._brushType,l)],s.__brushOption.range=o.getCreatingRange(H(t,s,t._track)),i&&(T(t,s),o.updateCommon(t,s)),S(t,s),r={isEnd:i})):i&&\"single\"===u.brushMode&&u.removeOnClick&&C(t,e,n)&&E(t)&&(r={isEnd:i,removeOnClick:!0}),r}function X(t,e){return\"auto\"===t?e.defaultBrushType:t}b.prototype={constructor:b,enableBrush:function(t){var e,n;return this._brushType&&(n=(e=this)._zr,r.release(n,\"globalPan\",e._uid),function(n,t){c(t,function(t,e){n.off(e,t)})}(n,e._handlers),e._brushType=e._brushOption=null),t.brushType&&function(t,e){var n=t._zr;t._enableGlobalPan||r.take(n,\"globalPan\",t._uid);(function(n,t){c(t,function(t,e){n.on(e,t)})})(n,t._handlers),t._brushType=e.brushType,t._brushOption=h.merge(h.clone(v),e,!0)}(this,t),this},setPanels:function(t){var e;return t&&t.length?(e=this._panels={},h.each(t,function(t){e[t.panelId]=h.clone(t)})):this._panels=null,this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){c(this._covers,t,e)},updateCovers:function(r){r=h.map(r,function(t){return h.merge(h.clone(v),t,!0)});var n=\"\\0-brush-index-\",a=this._covers,o=this._covers=[],s=this,l=this._creatingCover;return new u(a,r,function(t,e){return i(t.__brushOption,e)},i).add(t).update(t).remove(function(t){a[t]!==l&&s.group.remove(a[t])}).execute(),this;function i(t,e){return(null!=t.id?t.id:n+e)+\"-\"+t.brushType}function t(t,e){var n,i=r[t];null!=e&&a[e]===l?o[t]=a[e]:(n=o[t]=null!=e?(a[e].__brushOption=i,a[e]):T(s,w(s,i)),A(s,n))}},unmount:function(){return this.enableBrush(!1),E(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},h.mixin(b,i);var Z={mousedown:function(t){var e;this._dragging?q(this,t):t.target&&t.target.draggable||(U(t),e=this.group.transformCoordToLocal(t.offsetX,t.offsetY),this._creatingCover=null,(this._creatingPanel=C(this,t,e))&&(this._dragging=!0,this._track=[e.slice()]))},mousemove:function(t){var e,n=t.offsetX,i=t.offsetY,r=this.group.transformCoordToLocal(n,i);!function(t,e,n){if(t._brushType&&(i=e,a=t._zr,!(i<0||i>a.getWidth()||r<0||r>a.getHeight()))){var i,r,a,o=t._zr,s=t._covers,l=C(t,e,n);if(!t._dragging)for(var u=0;u<s.length;u++){var h=s[u].__brushOption;if(l&&(!0===l||h.panelId===l.panelId)&&Y[h.brushType].contain(s[u],n[0],n[1]))return}l&&o.setCursorStyle(\"crosshair\")}}(this,t,r),this._dragging&&(U(t),(e=j(this,t,r,!1))&&L(this,e))},mouseup:function(t){q(this,t)}};function q(t,e){var n,i,r,a;t._dragging&&(U(e),n=e.offsetX,i=e.offsetY,r=t.group.transformCoordToLocal(n,i),a=j(t,e,r,!0),t._dragging=!1,t._track=[],t._creatingCover=null,a&&L(t,a))}var Y={lineX:K(0),lineY:K(1),rect:{createCover:function(t,e){return N(a(F,function(t){return t},function(t){return t}),t,e,[\"w\",\"e\",\"n\",\"s\",\"se\",\"sw\",\"ne\",\"nw\"])},getCreatingRange:function(t){var e=P(t);return B(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){O(t,e,n,i)},updateCommon:R,contain:W},polygon:{createCover:function(t,e){var n=new s.Group;return n.add(new s.Polyline({name:\"main\",style:z(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new s.Polygon({name:\"main\",draggable:!0,drift:a(V,t,e),ondragend:a(L,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:H(t,e,n)})},updateCommon:R,contain:W}};function K(s){return{createCover:function(t,e){return N(a(F,function(t){var e=[t,[0,100]];return s&&e.reverse(),e},function(t){return t[s]}),t,e,[[\"w\",\"e\"],[\"n\",\"s\"]][s])},getCreatingRange:function(t){var e=P(t);return[f(e[0][s],e[1][s]),y(e[0][s],e[1][s])]},updateCoverShape:function(t,e,n,i){var r,a=D(t,e),o=[n,!0!==a&&a.getLinearBrushOtherExtent?a.getLinearBrushOtherExtent(s,t._transform):[0,[(r=t._zr).getWidth(),r.getHeight()][1-s]]];s&&o.reverse(),O(t,e,o,i)},updateCommon:R,contain:W}}t.exports=b},function(t,e,n){var d=n(0),i=n(25),f=n(2),u=n(80),l=n(21),h=n(29),o=(0,n(4).makeInner)(),s=d.clone,c=d.bind;function r(){}function p(t,e,n,i){!function n(i,t){{if(d.isObject(i)&&d.isObject(t)){var r=!0;return d.each(t,function(t,e){r=r&&n(i[e],t)}),!!r}return i===t}}(o(n).lastProp,i)&&(o(n).lastProp=i,e?f.updateProps(n,i,t):(n.stopAnimation(),n.attr(i)))}function a(t,e){t[e.get(\"label.show\")?\"show\":\"hide\"]()}function g(t){return{position:t.position.slice(),rotation:t.rotation||0}}function m(t,e,n){var i=e.get(\"z\"),r=e.get(\"zlevel\");t&&t.traverse(function(t){\"group\"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)})}(r.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,i){var r=e.get(\"value\"),a=e.get(\"status\");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==r||this._lastStatus!==a){this._lastValue=r,this._lastStatus=a;var o=this._group,s=this._handle;if(!a||\"hide\"===a)return o&&o.hide(),void(s&&s.hide());o&&o.show(),s&&s.show();var l={};this.makeElOption(l,r,t,e,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h,c=this._moveAnimation=this.determineAnimation(t,e);o?(h=d.curry(p,e,c),this.updatePointerEl(o,l,h,e),this.updateLabelEl(o,l,h,e)):(o=this._group=new f.Group,this.createPointerEl(o,l,t,e),this.createLabelEl(o,l,t,e),n.getZr().add(o)),m(o,e,!0),this._renderHandle(r)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get(\"animation\"),i=t.axis,r=\"category\"===i.type,a=e.get(\"snap\");if(!a&&!r)return!1;if(\"auto\"!==n&&null!=n)return!0===n;var o=this.animationThreshold;if(r&&i.getBandWidth()>o)return!0;if(a){var s=u.getAxisInfo(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>o}return!1},makeElOption:function(t,e,n,i,r){},createPointerEl:function(t,e,n,i){var r,a=e.pointer;a&&(r=o(t).pointerEl=new f[a.type](s(e.pointer)),t.add(r))},createLabelEl:function(t,e,n,i){var r;e.label&&(r=o(t).labelEl=new f.Rect(s(e.label)),t.add(r),a(r,i))},updatePointerEl:function(t,e,n){var i=o(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,i){var r=o(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{shape:e.label.shape,position:e.label.position}),a(r,i))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,a=n.getModel(\"handle\"),o=n.get(\"status\");if(!a.get(\"show\")||!o||\"hide\"===o)return r&&i.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=f.createIcon(a.get(\"icon\"),{cursor:\"move\",draggable:!0,onmousemove:function(t){l.stop(t.event)},onmousedown:c(this._onHandleDragMove,this,0,0),drift:c(this._onHandleDragMove,this),ondragend:c(this._onHandleDragEnd,this)}),i.add(r)),m(r,n,!1);r.setStyle(a.getItemStyle(null,[\"color\",\"borderColor\",\"borderWidth\",\"opacity\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\"]));var s=a.get(\"size\");d.isArray(s)||(s=[s,s]),r.attr(\"scale\",[s[0]/2,s[1]/2]),h.createOrUpdate(this,\"_doDispatchAxisPointer\",a.get(\"throttle\")||0,\"fixRate\"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){p(this._axisPointerModel,!e&&this._moveAnimation,this._handle,g(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n,i=this._handle;i&&(this._dragging=!0,n=this.updateHandleTransform(g(i),[t,e],this._axisModel,this._axisPointerModel),this._payloadInfo=n,i.stopAnimation(),i.attr(g(n)),o(i).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){var t,e;this._handle&&(t=this._payloadInfo,e=this._axisModel,this._api.dispatchAction({type:\"updateAxisPointer\",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]}))},_onHandleDragEnd:function(t){var e;this._dragging=!1,this._handle&&(e=this._axisPointerModel.get(\"value\"),this._moveHandleToValue(e),this._api.dispatchAction({type:\"hideTip\"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}}).constructor=r,i.enableClassExtend(r),t.exports=r},function(t,e,n){n(5).__DEV__;var u=n(0),h=n(417),c=n(3).parsePercent,i=n(20),r=i.createScaleByModel,s=i.niceScaleExtent,a=n(19),l=n(24).getStackedDimension;function d(t,e){var n,i,r=this,a=r.getAngleAxis(),o=r.getRadiusAxis();a.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){var e;t.coordinateSystem===r&&(e=t.getData(),u.each(e.mapDimension(\"radius\",!0),function(t){o.scale.unionExtentFromData(e,l(e,t))}),u.each(e.mapDimension(\"angle\",!0),function(t){a.scale.unionExtentFromData(e,l(e,t))}))}),s(a.scale,a.model),s(o.scale,o.model),\"category\"!==a.type||a.onBand||(n=a.getExtent(),i=360/a.scale.count(),a.inverse?n[1]+=i:n[1]-=i,a.setExtent(n[0],n[1]))}function f(t,e){var n;t.type=e.get(\"type\"),t.scale=r(e),t.onBand=e.get(\"boundaryGap\")&&\"category\"===t.type,t.inverse=e.get(\"inverse\"),\"angleAxis\"===e.mainType&&(t.inverse^=e.get(\"clockwise\"),n=e.get(\"startAngle\"),t.setExtent(n,n+(t.inverse?-360:360))),(e.axis=t).model=e}n(420);var o={dimensions:h.prototype.dimensions,create:function(n,s){var l=[];return n.eachComponent(\"polar\",function(t,e){var n=new h(e);n.update=d;var i=n.getRadiusAxis(),r=n.getAngleAxis(),a=t.findAxisModel(\"radiusAxis\"),o=t.findAxisModel(\"angleAxis\");f(i,a),f(r,o),function(t,e,n){var i=e.get(\"center\"),r=n.getWidth(),a=n.getHeight();t.cx=c(i[0],r),t.cy=c(i[1],a);var o=t.getRadiusAxis(),s=Math.min(r,a)/2,l=e.get(\"radius\");null==l?l=[0,\"100%\"]:u.isArray(l)||(l=[0,l]),l=[c(l[0],s),c(l[1],s)],o.inverse?o.setExtent(l[1],l[0]):o.setExtent(l[0],l[1])}(n,t,s),l.push(n),(t.coordinateSystem=n).model=t}),n.eachSeries(function(t){var e;\"polar\"===t.get(\"coordinateSystem\")&&(e=n.queryComponents({mainType:\"polar\",index:t.get(\"polarIndex\"),id:t.get(\"polarId\")})[0],t.coordinateSystem=e.coordinateSystem)}),l}};a.register(\"polar\",o)},function(t,e,n){n(13).registerSubTypeDefaulter(\"dataZoom\",function(){return\"slider\"})},function(t,e,n){var c=n(0),i=n(7),r=[\"cartesian2d\",\"polar\",\"singleAxis\"];function a(t,o){t=t.slice();var s=c.map(t,i.capitalFirst);o=(o||[]).slice();var l=c.map(o,i.capitalFirst);return function(r,a){c.each(t,function(t,e){for(var n={name:t,capital:s[e]},i=0;i<o.length;i++)n[o[i]]=t+l[i];r.call(a,n)})}}var o=a([\"x\",\"y\",\"z\",\"radius\",\"angle\",\"single\"],[\"axisIndex\",\"axis\",\"index\",\"id\"]);e.isCoordSupported=function(t){return 0<=c.indexOf(r,t)},e.createNameEach=a,e.eachAxisDim=o,e.createLinkedNodesFinder=function(n,l,u){return function(t){var o,s={nodes:[],records:{}};if(l(function(t){s.records[t.name]={}}),!t)return s;for(h(t,s);o=!1,n(e),o;);function e(t){var n,i,r,e,a;e=t,a=s,0<=c.indexOf(a.nodes,e)||(n=t,i=s,r=!1,l(function(e){c.each(u(n,e)||[],function(t){i.records[e.name][t]&&(r=!0)})}),!r)||(h(t,s),o=!0)}return s};function h(t,n){n.nodes.push(t),l(function(e){c.each(u(t,e)||[],function(t){n.records[e.name][t]=!0})})}}},function(t,e,n){var i=n(1),r=n(0),a=r.createHashMap,o=r.each;i.registerProcessor({getTargetSeries:function(t){var r=a();return t.eachComponent(\"dataZoom\",function(t){t.eachTargetAxis(function(t,e,n){var i=n.getAxisProxy(t.name,e);o(i.getTargetSeriesModels(),function(t){r.set(t.uid,t)})})}),r},modifyOutputEnd:!0,overallReset:function(t,i){t.eachComponent(\"dataZoom\",function(t){t.eachTargetAxis(function(t,e,n){n.getAxisProxy(t.name,e).reset(n,i)}),t.eachTargetAxis(function(t,e,n){n.getAxisProxy(t.name,e).filterData(n,i)})}),t.eachComponent(\"dataZoom\",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})})}})},function(t,e,n){var i=n(1),a=n(0),o=n(112);i.registerAction(\"dataZoom\",function(n,t){var i=o.createLinkedNodesFinder(a.bind(t.eachComponent,t,\"dataZoom\"),o.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),r=[];t.eachComponent({mainType:\"dataZoom\",query:n},function(t,e){r.push.apply(r,i(t).nodes)}),a.each(r,function(t,e){t.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})},function(t,e,n){n(5).__DEV__;var i=n(1),s=n(0),r=n(11),a=n(4),o=n(7),l=n(94),u=o.addCommas,h=o.encodeHTML;function c(t){a.defaultEmphasis(t,\"label\",[\"show\"])}var d=i.extendComponentModel({type:\"marker\",dependencies:[\"series\",\"grid\",\"polar\",\"geo\"],init:function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var t=this.__hostSeries;return this.getShallow(\"animation\")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e){this._mergeOption(t,e,!1,!1)},_mergeOption:function(t,i,e,r){var a=this.constructor,o=this.mainType+\"Model\";e||i.eachSeries(function(t){var e=t.get(this.mainType,!0),n=t[o];e&&e.data?(n?n._mergeOption(e,i,!0):(r&&c(e),s.each(e.data,function(t){t instanceof Array?(c(t[0]),c(t[1])):c(t)}),n=new a(e,this,i),s.extend(n,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),n.__hostSeries=t),t[o]=n):t[o]=null},this)},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=s.isArray(n)?s.map(n,u).join(\", \"):u(n),r=e.getName(t),a=h(this.name);return null==n&&!r||(a+=\"<br />\"),r&&(a+=h(r),null!=n&&(a+=\" : \")),null!=n&&(a+=h(i)),a},getData:function(){return this._data},setData:function(t){this._data=t}});s.mixin(d,l),t.exports=d},function(t,e,n){var d=n(0),f=n(3),p=n(24).isDimensionStacked,g=d.indexOf;function i(t,e,n,i,r,a){var o=[],s=p(e,i)?e.getCalculationInfo(\"stackResultDimension\"):i,l=y(e,s,t),u=e.indicesOfNearest(s,l)[0];o[r]=e.get(n,u),o[a]=e.get(s,u);var h=e.get(i,u),c=f.getPrecision(e.get(i,u));return 0<=(c=Math.min(c,20))&&(o[a]=+o[a].toFixed(c)),[o,h]}var r=d.curry,m={min:r(i,\"min\"),max:r(i,\"max\"),average:r(i,\"average\")};function v(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(function(t,e){var n=t.getData(),i=n.dimensions;e=n.getDimension(e);for(var r=0;r<i.length;r++){var a=n.getDimensionInfo(i[r]);if(a.name===e)return a.coordDim}}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function y(t,e,n){if(\"average\"!==n)return\"median\"===n?t.getMedian(e):t.getDataExtent(e,!0)[\"max\"===n?1:0];var i=0,r=0;return t.each(e,function(t,e){isNaN(t)||(i+=t,r++)}),i/r}e.dataTransform=function(t,e){var n,i=t.getData(),r=t.coordinateSystem;if(e&&(n=e,isNaN(parseFloat(n.x))||isNaN(parseFloat(n.y)))&&!d.isArray(e.coord)&&r){var a=r.dimensions,o=v(e,i,r,t);if((e=d.clone(e)).type&&m[e.type]&&o.baseAxis&&o.valueAxis){var s=g(a,o.baseAxis.dim),l=g(a,o.valueAxis.dim),u=m[e.type](i,o.baseDataDim,o.valueDataDim,s,l);e.coord=u[0],e.value=u[1]}else{for(var h=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],c=0;c<2;c++)m[h[c]]&&(h[c]=y(i,i.mapDimension(a[c]),h[c]));e.coord=h}}return e},e.getAxisInfo=v,e.dataFilter=function(t,e){return!(t&&t.containData&&e.coord&&(n=e,isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y))))||t.containData(e.coord);var n},e.dimValueGetter=function(t,e,n,i){return i<2?t.coord&&t.coord[i]:t.value},e.numCalculate=y},function(t,e,n){var i=n(1),r=n(0),a=i.extendComponentView({type:\"marker\",init:function(){this.markerGroupMap=r.createHashMap()},render:function(t,n,i){var e=this.markerGroupMap;e.each(function(t){t.__keep=!1});var r=this.type+\"Model\";n.eachSeries(function(t){var e=t[r];e&&this.renderSeries(t,e,n,i)},this),e.each(function(t){t.__keep||this.group.remove(t.group)},this)},renderSeries:function(){}});t.exports=a},function(t,e,n){var P=n(119).createElement,i=n(45),r=n(9),N=n(15),O=n(16),R=n(72),k=n(36),M=i.CMD,a=Array.prototype.join,h=\"none\",A=Math.round,I=Math.sin,C=Math.cos,D=Math.PI,E=2*Math.PI,L=180/D,o=1e-4;function z(t){return A(1e4*t)/1e4}function B(t){return t<o&&-o<t}function F(t,e){e&&c(t,\"transform\",\"matrix(\"+a.call(e,\",\")+\")\")}function c(t,e,n){n&&(\"linear\"===n.type||\"radial\"===n.type)||t.setAttribute(e,n)}function V(t,e,n,i){var r,a,o,s,l,u;a=e,null!=(o=n?a.textFill:a.fill)&&o!==h?(c(t,\"fill\",r=\"transparent\"===(r=n?e.textFill:e.fill)?h:r),c(t,\"fill-opacity\",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)):c(t,\"fill\",h),l=e,null!=(u=n?l.textStroke:l.stroke)&&u!==h?(c(t,\"stroke\",s=\"transparent\"===(s=n?e.textStroke:e.stroke)?h:s),c(t,\"stroke-width\",(n?e.textStrokeWidth:e.lineWidth)/(!n&&e.strokeNoScale?i.getLineScale():1)),c(t,\"paint-order\",n?\"stroke\":\"fill\"),c(t,\"stroke-opacity\",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(c(t,\"stroke-dasharray\",e.lineDash.join(\",\")),c(t,\"stroke-dashoffset\",A(e.lineDashOffset||0))):c(t,\"stroke-dasharray\",\"\"),e.lineCap&&c(t,\"stroke-linecap\",e.lineCap),e.lineJoin&&c(t,\"stroke-linejoin\",e.lineJoin),e.miterLimit&&c(t,\"stroke-miterlimit\",e.miterLimit)):c(t,\"stroke\",h)}var s={};s.brush=function(t){var e=t.style,n=t.__svgEl;n||(n=P(\"path\"),t.__svgEl=n),t.path||t.createPathProxy();var i,r=t.path;t.__dirtyPath&&(r.beginPath(),r.subPixelOptimize=!1,t.buildPath(r,t.shape),t.__dirtyPath=!1,(i=function(t){for(var e=[],n=t.data,i=t.len(),r=0;r<i;){var a=\"\",o=0;switch(n[r++]){case M.M:a=\"M\",o=2;break;case M.L:a=\"L\",o=2;break;case M.Q:a=\"Q\",o=4;break;case M.C:a=\"C\",o=6;break;case M.A:var s=n[r++],l=n[r++],u=n[r++],h=n[r++],c=n[r++],d=n[r++],f=n[r++],p=n[r++],g=Math.abs(d),m=B(g-E)||(p?E<=d:E<=-d),v=!1,v=!!m||!B(g)&&D<=(0<d?d%E:d%E+E)==!!p,y=z(s+u*C(c)),_=z(l+h*I(c));m&&(d=p?E-1e-4:1e-4-E,v=!0,9===r&&e.push(\"M\",y,_));var x=z(s+u*C(c+d)),b=z(l+h*I(c+d));e.push(\"A\",z(u),z(h),A(f*L),+v,+p,x,b);break;case M.Z:a=\"Z\";break;case M.R:var x=z(n[r++]),b=z(n[r++]),w=z(n[r++]),T=z(n[r++]);e.push(\"M\",x,b,\"L\",x+w,b,\"L\",x+w,b+T,\"L\",x,b+T,\"L\",x,b)}a&&e.push(a);for(var S=0;S<o;S++)e.push(z(n[r++]))}return e.join(\" \")}(r)).indexOf(\"NaN\")<0&&c(n,\"d\",i)),V(n,e,!1,t),F(n,t.transform),null!=e.text?f(t,t.getBoundingRect()):p(t)};var l={brush:function(t){var e,n,i,r,a,o,s,l=t.style,u=l.image;u instanceof HTMLImageElement&&(u=u.src),u&&(e=l.x||0,n=l.y||0,i=l.width,r=l.height,(a=t.__svgEl)||(a=P(\"image\"),t.__svgEl=a),u!==t.__imageSrc&&(o=\"href\",s=u,a.setAttributeNS(\"http://www.w3.org/1999/xlink\",o,s),t.__imageSrc=u),c(a,\"width\",i),c(a,\"height\",r),c(a,\"x\",e),c(a,\"y\",n),F(a,t.transform),null!=l.text?f(t,t.getBoundingRect()):p(t))}},u={},G=new r,H={},U=[],d={left:\"start\",right:\"end\",center:\"middle\",middle:\"middle\"},f=function(t,e){var n=t.style,i=t.transform,r=t instanceof k||n.transformText;t.__dirty&&R.normalizeTextStyle(n,!0);var a=n.text;if(null!=a&&(a+=\"\"),R.needDrawText(a,n)){null==a&&(a=\"\"),!r&&i&&(G.copy(e),G.applyTransform(i),e=G);var o=t.__textSvgEl;o||(o=P(\"text\"),t.__textSvgEl=o);var s=o.style,l=n.font||O.DEFAULT_FONT,u=o.__computedFont;l!==o.__styleFont&&(s.font=o.__styleFont=l,u=o.__computedFont=s.font);var h=n.textPadding,c=n.textLineHeight,d=t.__textCotentBlock;d&&!t.__dirtyText||(d=t.__textCotentBlock=O.parsePlainText(a,u,h,c,n.truncate));var f=d.outerHeight,p=d.lineHeight;R.getBoxPosition(H,t,n,e);var g=H.baseX,m=H.baseY,v=H.textAlign||\"left\",y=H.textVerticalAlign;!function(t,e,n,i,r,a,o){N.identity(U),e&&n&&N.copy(U,n);var s=i.textRotation;{var l;r&&s&&(\"center\"===(l=i.textOrigin)?(a=r.width/2+r.x,o=r.height/2+r.y):l&&(a=l[0]+r.x,o=l[1]+r.y),U[4]-=a,U[5]-=o,N.rotate(U,U,s),U[4]+=a,U[5]+=o)}F(t,U)}(o,r,i,n,e,g,m);var _,x,b,w=g,T=O.adjustTextY(m,f,y);h&&(_=g,b=h,w=\"right\"===(x=v)?_-b[1]:\"center\"===x?_+b[3]/2-b[1]/2:_+b[3],T+=h[0]),T+=p/2,V(o,n,!0,t);var S=d.canCacheByTextString,M=t.__tspanList||(t.__tspanList=[]),A=M.length;if(S&&t.__canCacheByTextString&&t.__text===a){if(t.__dirtyText&&A)for(var I=0;I<A;++I)W(M[I],v,w,T+I*p)}else{t.__text=a,t.__canCacheByTextString=S;for(var C=d.lines,D=C.length,I=0;I<D;I++){var E=M[I],L=C[I];E?E.__zrText!==L&&(E.innerHTML=\"\",E.appendChild(document.createTextNode(L))):(E=M[I]=P(\"tspan\"),o.appendChild(E),E.appendChild(document.createTextNode(L))),W(E,v,w,T+I*p)}if(D<A){for(;I<A;I++)o.removeChild(M[I]);M.length=D}}}};function W(t,e,n,i){c(t,\"dominant-baseline\",\"middle\"),c(t,\"text-anchor\",d[e]),c(t,\"x\",n),c(t,\"y\",i)}function p(t){t&&t.__textSvgEl&&(t.__textSvgEl.parentNode&&t.__textSvgEl.parentNode.removeChild(t.__textSvgEl),t.__textSvgEl=null,t.__tspanList=[],t.__text=null)}u.drawRectText=f,u.brush=function(t){null!=t.style.text?f(t,!1):p(t)},e.path=s,e.image=l,e.text=u},function(t,e){e.createElement=function(t){return document.createElementNS(\"http://www.w3.org/2000/svg\",t)}},function(t,e,n){var i=n(119).createElement,r=n(0),a=n(10),o=n(43),s=n(36),l=n(118),u=l.path,h=l.image,c=l.text;function d(t,e,n,i,r){this._zrId=t,this._svgRoot=e,this._tagNames=\"string\"==typeof n?[n]:n,this._markLabel=i,this._domName=r||\"_dom\",this.nextId=0}d.prototype.createElement=i,d.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName(\"defs\");return 0===i.length?t?((i=e.insertBefore(this.createElement(\"defs\"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;0<=n;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},d.prototype.update=function(t,e){var n,i;t&&(n=this.getDefs(!1),t[this._domName]&&n.contains(t[this._domName])?\"function\"==typeof e&&e(t):(i=this.add(t))&&(t[this._domName]=i))},d.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},d.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},d.prototype.getDoms=function(){var n=this.getDefs(!1);if(!n)return[];var i=[];return r.each(this._tagNames,function(t){var e=n.getElementsByTagName(t);i=i.concat([].slice.call(e))}),i},d.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;r.each(t,function(t){t[e._markLabel]=\"0\"})},d.prototype.markUsed=function(t){t&&(t[this._markLabel]=\"1\")},d.prototype.removeUnused=function(){var t,e,n=this.getDefs(!1);n&&(t=this.getDoms(),e=this,r.each(t,function(t){\"1\"!==t[e._markLabel]&&n.removeChild(t)}))},d.prototype.getSvgProxy=function(t){return t instanceof a?u:t instanceof o?h:t instanceof s?c:u},d.prototype.getTextSvgElement=function(t){return t.__textSvgEl},d.prototype.getSvgElement=function(t){return t.__svgEl},t.exports=d},function(t,e){var n=2311;t.exports=function(){return n++}},function(t,e,n){var s=n(11),p=n(212).buildTransformer,l=\"___zrEVENTSAVED\",a=[];function o(t,e,n,i,r){if(e.getBoundingClientRect&&s.domSupported&&!u(e)){var a=e[l]||(e[l]={}),o=function(t,e,n){for(var i=n?\"invTrans\":\"trans\",r=e[i],a=e.srcCoords,o=!0,s=[],l=[],u=0;u<4;u++){var h=t[u].getBoundingClientRect(),c=2*u,d=h.left,f=h.top;s.push(d,f),o=o&&a&&d===a[c]&&f===a[1+c],l.push(t[u].offsetLeft,t[u].offsetTop)}return o&&r?r:(e.srcCoords=s,e[i]=n?p(l,s):p(s,l))}(function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=[\"left\",\"right\"],r=[\"top\",\"bottom\"],a=0;a<4;a++){var o=document.createElement(\"div\"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=[\"position: absolute\",\"visibility: hidden\",\"padding: 0\",\"margin: 0\",\"border-width: 0\",\"user-select: none\",\"width:0\",\"height:0\",i[l]+\":0\",r[u]+\":0\",i[1-l]+\":auto\",r[1-u]+\":auto\",\"\"].join(\"!important;\"),t.appendChild(o),n.push(o)}return n}(e,a),a,r);if(o)return o(t,n,i),!0}return!1}function u(t){return\"CANVAS\"===t.nodeName.toUpperCase()}e.transformLocalCoord=function(t,e,n,i,r){return o(a,e,i,r,!0)&&o(t,n,a[0],a[1])},e.transformCoordWithViewport=o,e.isCanvasEl=u},function(t,e,n){function i(t){o.call(this,t),a.call(this,t),s.call(this,t),this.id=t.id||r()}var r=n(121),a=n(34),o=n(69),s=n(215),l=n(0);i.prototype={type:\"element\",name:\"\",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case\"horizontal\":e=0;break;case\"vertical\":t=0}var n=this.transform;(n=n||(this.transform=[1,0,0,1,0,0]))[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){var n;\"position\"===t||\"scale\"===t||\"origin\"===t?e&&((n=(n=this[t])||(this[t]=[]))[0]=e[0],n[1]=e[1]):this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if(\"string\"==typeof t)this.attrKV(t,e);else if(l.isObject(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},l.mixin(i,s),l.mixin(i,o),l.mixin(i,a),t.exports=i},function(t,e,n){var R=n(216),k=n(22),z=n(0).isArrayLike,l=Array.prototype.slice;function r(t,e){return t[e]}function a(t,e,n){t[e]=n}function B(t,e,n){return(e-t)*n+t}function F(t,e,n){return.5<n?e:t}function V(t,e,n,i,r){var a=t.length;if(1===r)for(var o=0;o<a;o++)i[o]=B(t[o],e[o],n);else for(var s=a&&t[0].length,o=0;o<a;o++)for(var l=0;l<s;l++)i[o][l]=B(t[o][l],e[o][l],n)}function G(t,e,n){var i=t.length,r=e.length;if(i!==r)if(r<i)t.length=r;else for(var a=i;a<r;a++)t.push(1===n?e[a]:l.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function H(t,e,n,i,r,a,o,s,l){var u=t.length;if(1===l)for(var h=0;h<u;h++)s[h]=U(t[h],e[h],n[h],i[h],r,a,o);else for(var c=t[0].length,h=0;h<u;h++)for(var d=0;d<c;d++)s[h][d]=U(t[h][d],e[h][d],n[h][d],i[h][d],r,a,o)}function U(t,e,n,i,r,a,o){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*o+(-3*(e-n)-2*s-l)*a+s*r+e}function W(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),\"rgba(\"+t.join(\",\")+\")\"}function u(t,e,n,i,a,r){var o=t._getter,s=t._setter,l=\"spline\"===e,u=i.length;if(u){var h,c,d,f=i[0].value,p=z(f),g=!1,m=!1,v=p?(c=(h=i)[h.length-1].value,z(c&&c[0])?2:1):0;i.sort(function(t,e){return t.time-e.time}),d=i[u-1].time;for(var y=[],_=[],x=i[0].value,b=!0,w=0;w<u;w++){y.push(i[w].time/d);var T,S=i[w].value;p&&function(t,e,n){if(t===e)return 1;var i=t.length;if(i===e.length){if(1===n){for(var r=0;r<i;r++)if(t[r]!==e[r])return}else for(var a=t[0].length,r=0;r<i;r++)for(var o=0;o<a;o++)if(t[r][o]!==e[r][o])return;return 1}}(S,x,v)||!p&&S===x||(b=!1),\"string\"==typeof(x=S)&&((T=k.parse(S))?(S=T,g=!0):m=!0),_.push(S)}if(r||!b){for(var M=_[u-1],w=0;w<u-1;w++)p?G(_[w],M,v):!isNaN(_[w])||isNaN(M)||m||g||(_[w]=M);p&&G(o(t._target,a),M,v);var A,I,C,D,E,L,P=0,N=0;g&&(L=[0,0,0,0]);var O=new R({target:t._target,life:d,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<N){for(n=Math.min(P+1,u-1);0<=n&&!(y[n]<=e);n--);n=Math.min(n,u-2)}else{for(n=P;n<u&&!(y[n]>e);n++);n=Math.min(n-1,u-2)}N=e;var i,r=y[(P=n)+1]-y[n];if(0!=r)if(A=(e-y[n])/r,l)if(C=_[n],I=_[0===n?n:n-1],D=_[u-2<n?u-1:n+1],E=_[u-3<n?u-1:n+2],p)H(I,C,D,E,A,A*A,A*A*A,o(t,a),v);else{if(g)i=H(I,C,D,E,A,A*A,A*A*A,L,1),i=W(L);else{if(m)return.5<A?D:C;i=U(I,C,D,E,A,A*A,A*A*A)}s(t,a,i)}else if(p)V(_[n],_[n+1],A,o(t,a),v);else{if(g)V(_[n],_[n+1],A,L,1),i=W(L);else{if(m)return F(_[n],_[n+1],A);i=B(_[n],_[n+1],A)}s(t,a,i)}},ondestroy:n});return e&&\"spline\"!==e&&(O.easing=e),O}}}function i(t,e,n,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||r,this._setter=i||a,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}i.prototype={when:function(t,e){var n=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==t&&n[i].push({time:0,value:function(t){if(z(t)){var e=t.length;if(z(t[0])){for(var n=[],i=0;i<e;i++)n.push(l.call(t[i]));return n}return l.call(t)}return t}(r)})}n[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){function n(){--s||o._doneCallback()}var i,r,a,o=this,s=0;for(var l in this._tracks){this._tracks.hasOwnProperty(l)&&((r=u(this,t,n,this._tracks[l],l,e))&&(this._clipList.push(r),s++,this.animation&&this.animation.addClip(r),i=r))}return i&&(a=i.onframe,i.onframe=function(t,e){a(t,e);for(var n=0;n<o._onframeList.length;n++)o._onframeList[n](t,e)}),s||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=i},function(t,e){function n(){this.head=null,this.tail=null,this._len=0}var i=n.prototype;i.insert=function(t){var e=new l(t);return this.insertEntry(e),e},i.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.len=function(){return this._len},i.clear=function(){this.head=this.tail=null,this._len=0};function r(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null}var l=function(t){this.value=t,this.next,this.prev},a=r.prototype;a.put=function(t,e){var n,i,r,a=this._list,o=this._map,s=null;return null==o[t]&&(n=a.len(),i=this._lastRemovedEntry,n>=this._maxSize&&0<n&&(r=a.head,a.remove(r),delete o[r.key],s=r.value,this._lastRemovedEntry=r),i?i.value=e:i=new l(e),i.key=t,a.insertEntry(i),o[t]=i),s},a.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},a.clear=function(){this._list.clear(),this._map={}},t.exports=r},function(t,e){var i={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};t.exports=function(t,e,n){return i.hasOwnProperty(e)?n*t.dpr:n}},function(t,e){function n(t,e){this.image=t,this.repeat=e,this.type=\"pattern\"}n.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||\"repeat\")};t.exports=n},function(t,e){var n=\"undefined\"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},function(t,e,n){function i(){}var a=n(72),r=n(9),o=n(71).WILL_BE_RESTORED,s=new r;i.prototype={constructor:i,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&a.normalizeTextStyle(n,!0);var i,r=n.text;null!=r&&(r+=\"\"),a.needDrawText(r,n)&&(t.save(),i=this.transform,n.transformText?this.setTransform(t):i&&(s.copy(e),s.applyTransform(i),e=s),a.renderText(this,t,r,n,e,o),t.restore())}},t.exports=i},function(t,e){e.buildPath=function(t,e){var n,i,r,a,o,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),\"number\"==typeof c?n=i=r=a=c:c instanceof Array?1===c.length?n=i=r=a=c[0]:2===c.length?(n=r=c[0],i=a=c[1]):3===c.length?(n=c[0],i=a=c[1],r=c[2]):(n=c[0],i=c[1],r=c[2],a=c[3]):n=i=r=a=0,u<n+i&&(n*=u/(o=n+i),i*=u/o),u<r+a&&(r*=u/(o=r+a),a*=u/o),h<i+r&&(i*=h/(o=i+r),r*=h/o),h<n+a&&(n*=h/(o=n+a),a*=h/o),t.moveTo(s+n,l),t.lineTo(s+u-i,l),0!==i&&t.arc(s+u-i,l+i,i,-Math.PI/2,0),t.lineTo(s+u,l+h-r),0!==r&&t.arc(s+u-r,l+h-r,r,0,Math.PI/2),t.lineTo(s+a,l+h),0!==a&&t.arc(s+a,l+h-a,a,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}},function(t,e,n){n(5).__DEV__;var i=n(0),h=i.each,c=i.filter,l=i.map,d=i.isArray,u=i.indexOf,f=i.isObject,a=i.isString,o=i.createHashMap,p=i.assert,s=i.clone,g=i.merge,m=i.extend,r=i.mixin,v=n(4),y=n(12),_=n(13),x=n(239),b=n(143),w=n(26).resetSourceDefaulter,T=\"\\0_ec_inner\",S=y.extend({init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new y(n),this._optionManager=i},setOption:function(t,e){p(!(T in t),\"please use chart.getOption()\"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e,n,i,r=!1,a=this._optionManager;return t&&\"recreate\"!==t||(e=a.mountOption(\"recreate\"===t),this.option&&\"recreate\"!==t?(this.restoreData(),this.mergeOption(e)):function(t){t=t,this.option={},this.option[T]=1,this._componentsMap=o({series:[]}),this._seriesIndices,this._seriesIndicesMap,function(n,t){var i=n.color&&!n.colorLayer;h(t,function(t,e){\"colorLayer\"===e&&i||_.hasClass(e)||(\"object\"==typeof t?n[e]=n[e]?g(n[e],t,!1):s(t):null==n[e]&&(n[e]=t))})}(t,this._theme.option),g(t,x,!1),this.mergeOption(t)}.call(this,e),r=!0),\"timeline\"!==t&&\"media\"!==t||this.restoreData(),t&&\"recreate\"!==t&&\"timeline\"!==t||(n=a.getTimelineOption(this))&&(this.mergeOption(n),r=!0),t&&\"recreate\"!==t&&\"media\"!==t||(i=a.getMediaOption(this,this._api)).length&&h(i,function(t){this.mergeOption(t,r=!0)},this),r},mergeOption:function(i){var l=this.option,u=this._componentsMap,n=[];w(this),h(i,function(t,e){null!=t&&(_.hasClass(e)?e&&n.push(e):l[e]=null==l[e]?s(t):g(l[e],t,!0))}),_.topologicalTravel(n,_.getAllClassMainTypes(),function(o,t){var e=v.normalizeToArray(i[o]),n=v.mappingToExists(u.get(o),e);v.makeIdAndName(n),h(n,function(t,e){var n,i,r,a=t.option;f(a)&&(t.keyInfo.mainType=o,t.keyInfo.subType=(n=o,i=a,r=t.exist,i.type?i.type:r?r.subType:_.determineSubType(n,i)))});var s=function(e,t){d(t)||(t=t?[t]:[]);var n={};return h(t,function(t){n[t]=(e.get(t)||[]).slice()}),n}(u,t);l[o]=[],u.set(o,[]),h(n,function(t,e){var n,i,r=t.exist,a=t.option;p(f(a)||r,\"Empty component definition\"),a?(n=_.getClass(o,t.keyInfo.subType,!0),r&&r.constructor===n?(r.name=t.keyInfo.name,r.mergeOption(a,this),r.optionUpdated(a,!1)):(r=new n(a,this,this,i=m({dependentModels:s,componentIndex:e},t.keyInfo)),m(r,i),r.init(a,this,this,i),r.optionUpdated(null,!0))):(r.mergeOption({},this),r.optionUpdated({},!1)),u.get(o)[e]=r,l[o][e]=r.option},this),\"series\"===o&&M(this,u.get(\"series\"))},this),this._seriesIndicesMap=o(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var i=s(this.option);return h(i,function(t,e){if(_.hasClass(e)){for(var n=(t=v.normalizeToArray(t)).length-1;0<=n;n--)v.isIdInner(t[n])&&t.splice(n,1);i[e]=t}}),delete i[T],i},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);if(n)return n[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,i,r=t.index,a=t.id,o=t.name,s=this._componentsMap.get(e);return s&&s.length?A(null!=r?(d(r)||(r=[r]),c(l(r,function(t){return s[t]}),function(t){return!!t})):null!=a?(n=d(a),c(s,function(t){return n&&0<=u(a,t.id)||!n&&t.id===a})):null!=o?(i=d(o),c(s,function(t){return i&&0<=u(o,t.name)||!i&&t.name===o})):s.slice(),t):[]},findComponents:function(t){var e,n,i,r,a,o=t.query,s=t.mainType,l=(n=s+\"Index\",i=s+\"Id\",r=s+\"Name\",!(e=o)||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:s,index:e[n],id:e[i],name:e[r]}),u=l?this.queryComponents(l):this._componentsMap.get(s);return a=A(u,t),t.filter?c(a,t.filter):a},eachComponent:function(t,i,r){var e,n=this._componentsMap;\"function\"==typeof t?(r=i,i=t,n.each(function(t,n){h(t,function(t,e){i.call(r,n,t,e)})})):a(t)?h(n.get(t),i,r):f(t)&&(e=this.findComponents(t),h(e,i,r))},getSeriesByName:function(e){var t=this._componentsMap.get(\"series\");return c(t,function(t){return t.name===e})},getSeriesByIndex:function(t){return this._componentsMap.get(\"series\")[t]},getSeriesByType:function(e){var t=this._componentsMap.get(\"series\");return c(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get(\"series\").slice()},getSeriesCount:function(){return this._componentsMap.get(\"series\").length},eachSeries:function(n,i){h(this._seriesIndices,function(t){var e=this._componentsMap.get(\"series\")[t];n.call(i,e,t)},this)},eachRawSeries:function(t,e){h(this._componentsMap.get(\"series\"),t,e)},eachSeriesByType:function(n,i,r){h(this._seriesIndices,function(t){var e=this._componentsMap.get(\"series\")[t];e.subType===n&&i.call(r,e,t)},this)},eachRawSeriesByType:function(t,e,n){return h(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){var n=c(this._componentsMap.get(\"series\"),t,e);M(this,n)},restoreData:function(n){var i=this._componentsMap;M(this,i.get(\"series\"));var r=[];i.each(function(t,e){r.push(e)}),_.topologicalTravel(r,_.getAllClassMainTypes(),function(e,t){h(i.get(e),function(t){\"series\"===e&&function(t,e){if(e){var n=e.seiresIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}(t,n)||t.restoreData()})})}});function M(t,e){t._seriesIndicesMap=o(t._seriesIndices=l(e,function(t){return t.componentIndex})||[])}function A(t,e){return e.hasOwnProperty(\"subType\")?c(t,function(t){return t.subType===e.subType}):t}r(S,b),t.exports=S},function(t,e,n){function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}var s=n(10),C=n(45),r=n(228),S=Math.sqrt,M=Math.sin,A=Math.cos,I=Math.PI,D=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e))},E=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(D(t,e))};function L(t,e,n,i,r,a,o,s,l,u,h){var c=l*(I/180),d=A(c)*(t-n)/2+M(c)*(e-i)/2,f=-1*M(c)*(t-n)/2+A(c)*(e-i)/2,p=d*d/(o*o)+f*f/(s*s);1<p&&(o*=S(p),s*=S(p));var g=(r===a?-1:1)*S((o*o*(s*s)-o*o*(f*f)-s*s*(d*d))/(o*o*(f*f)+s*s*(d*d)))||0,m=g*o*f/s,v=g*-s*d/o,y=(t+n)/2+A(c)*m-M(c)*v,_=(e+i)/2+M(c)*m+A(c)*v,x=E([1,0],[(d-m)/o,(f-v)/s]),b=[(d-m)/o,(f-v)/s],w=[(-1*d-m)/o,(-1*f-v)/s],T=E(b,w);D(b,w)<=-1&&(T=I),1<=D(b,w)&&(T=0),0===a&&0<T&&(T-=2*I),1===a&&T<0&&(T+=2*I),h.addData(u,y,_,o,s,x,T,c,a)}var P=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,N=/-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;function a(t,e){var n=function(t){if(!t)return new C;for(var e,n=0,i=0,r=n,a=i,o=new C,s=C.CMD,l=t.match(P),u=0;u<l.length;u++){for(var h,c=l[u],d=c.charAt(0),f=c.match(N)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var v,y,_,x,b,w,T,S=n,M=i;switch(d){case\"l\":n+=f[m++],i+=f[m++],h=s.L,o.addData(h,n,i);break;case\"L\":n=f[m++],i=f[m++],h=s.L,o.addData(h,n,i);break;case\"m\":n+=f[m++],i+=f[m++],h=s.M,o.addData(h,n,i),r=n,a=i,d=\"l\";break;case\"M\":n=f[m++],i=f[m++],h=s.M,o.addData(h,n,i),r=n,a=i,d=\"L\";break;case\"h\":n+=f[m++],h=s.L,o.addData(h,n,i);break;case\"H\":n=f[m++],h=s.L,o.addData(h,n,i);break;case\"v\":i+=f[m++],h=s.L,o.addData(h,n,i);break;case\"V\":i=f[m++],h=s.L,o.addData(h,n,i);break;case\"C\":h=s.C,o.addData(h,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),n=f[m-2],i=f[m-1];break;case\"c\":h=s.C,o.addData(h,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i),n+=f[m-2],i+=f[m-1];break;case\"S\":v=n,y=i;var A=o.len(),I=o.data;e===s.C&&(v+=n-I[A-4],y+=i-I[A-3]),h=s.C,S=f[m++],M=f[m++],n=f[m++],i=f[m++],o.addData(h,v,y,S,M,n,i);break;case\"s\":v=n,y=i;A=o.len(),I=o.data;e===s.C&&(v+=n-I[A-4],y+=i-I[A-3]),h=s.C,S=n+f[m++],M=i+f[m++],n+=f[m++],i+=f[m++],o.addData(h,v,y,S,M,n,i);break;case\"Q\":S=f[m++],M=f[m++],n=f[m++],i=f[m++],h=s.Q,o.addData(h,S,M,n,i);break;case\"q\":S=f[m++]+n,M=f[m++]+i,n+=f[m++],i+=f[m++],h=s.Q,o.addData(h,S,M,n,i);break;case\"T\":v=n,y=i;A=o.len(),I=o.data;e===s.Q&&(v+=n-I[A-4],y+=i-I[A-3]),n=f[m++],i=f[m++],h=s.Q,o.addData(h,v,y,n,i);break;case\"t\":v=n,y=i;A=o.len(),I=o.data;e===s.Q&&(v+=n-I[A-4],y+=i-I[A-3]),n+=f[m++],i+=f[m++],h=s.Q,o.addData(h,v,y,n,i);break;case\"A\":_=f[m++],x=f[m++],b=f[m++],w=f[m++],T=f[m++],L(S=n,M=i,n=f[m++],i=f[m++],w,T,_,x,b,h=s.A,o);break;case\"a\":_=f[m++],x=f[m++],b=f[m++],w=f[m++],T=f[m++],L(S=n,M=i,n+=f[m++],i+=f[m++],w,T,_,x,b,h=s.A,o)}}\"z\"!==d&&\"Z\"!==d||(h=s.Z,o.addData(h),n=r,i=a),e=h}return o.toStatic(),o}(t);return(e=e||{}).buildPath=function(t){var e;t.setData?(t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e)):(e=t,n.rebuildPath(e))},e.applyTransform=function(t){r(n,t),this.dirty(!0)},e}e.createFromString=function(t,e){return new s(a(t,e))},e.extendFromString=function(t,e){return s.extend(a(t,e))},e.mergePath=function(t,e){for(var n=[],i=t.length,r=0;r<i;r++){var a=t[r];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),n.push(a.path)}var o=new s(e);return o.createPathProxy(),o.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},o}},function(t,e){e.containStroke=function(t,e,n,i,r,a,o){if(0===r)return!1;var s=r,l=0;if(e+s<o&&i+s<o||o<e-s&&o<i-s||t+s<a&&n+s<a||a<t-s&&a<n-s)return!1;if(t===n)return Math.abs(a-t)<=s/2;var u=(l=(e-i)/(t-n))*a-o+(t*i-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}},function(t,e,n){var h=n(28).quadraticProjectPoint;e.containStroke=function(t,e,n,i,r,a,o,s,l){if(0===o)return!1;var u=o;return!(e+u<l&&i+u<l&&a+u<l||l<e-u&&l<i-u&&l<a-u||t+u<s&&n+u<s&&r+u<s||s<t-u&&s<n-u&&s<r-u)&&h(t,e,n,i,r,a,s,l,null)<=u/2}},function(t,e){var n=2*Math.PI;e.normalizeRadian=function(t){return(t%=n)<0&&(t+=n),t}},function(t,e){t.exports=function(t,e,n,i,r,a){if(e<a&&i<a||a<e&&a<i)return 0;if(i===e)return 0;var o=i<e?1:-1,s=(a-e)/(i-e);1!=s&&0!=s||(o=i<e?.5:-.5);var l=s*(n-t)+t;return l===r?1/0:r<l?o:0}},function(t,e,n){var i=n(10).extend({type:\"circle\",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=i},function(t,e,n){var i=n(11),u=[[\"shadowBlur\",0],[\"shadowColor\",\"#000\"],[\"shadowOffsetX\",0],[\"shadowOffsetY\",0]];t.exports=function(l){return i.browser.ie&&11<=i.browser.version?function(){var t,e=this.__clipPaths,n=this.style;if(e)for(var i=0;i<e.length;i++){var r=e[i],a=r&&r.shape,o=r&&r.type;if(a&&(\"sector\"===o&&a.startAngle===a.endAngle||\"rect\"===o&&(!a.width||!a.height))){for(var s=0;s<u.length;s++)u[s][2]=n[u[s][0]],n[u[s][0]]=u[s][1];t=!0;break}}if(l.apply(this,arguments),t)for(s=0;s<u.length;s++)n[u[s][0]]=u[s][2]}:l}},function(t,e,n){var i=n(10),r=n(140),a=i.extend({type:\"polygon\",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){r.buildPath(t,e,!0)}});t.exports=a},function(t,e,n){var d=n(231),f=n(232);e.buildPath=function(t,e,n){var i=e.points,r=e.smooth;if(i&&2<=i.length){if(r&&\"spline\"!==r){var a=f(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(n?o:o-1);s++){var l=a[2*s],u=a[2*s+1],h=i[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{\"spline\"===r&&(i=d(i,n)),t.moveTo(i[0][0],i[0][1]);for(var s=1,c=i.length;s<c;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}},function(t,e,n){var i=n(10),r=n(140),a=i.extend({type:\"polyline\",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){r.buildPath(t,e,!1)}});t.exports=a},function(t,e,n){var i=n(10),s=n(91).subPixelOptimizeLine,l={},r=i.extend({type:\"line\",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var n,i,r,a=this.subPixelOptimize?(s(l,e,this.style),n=l.x1,i=l.y1,r=l.x2,l.y2):(n=e.x1,i=e.y1,r=e.x2,e.y2),o=e.percent;0!==o&&(t.moveTo(n,i),o<1&&(r=n*(1-o)+r*o,a=i*(1-o)+a*o),t.lineTo(r,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=r},function(t,e,n){var i=n(4),r=i.makeInner,h=i.normalizeToArray,c=r();var a={clearColorPalette:function(){c(this).colorIdx=0,c(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var i=c(e=e||this),r=i.colorIdx||0,a=i.colorNameMap=i.colorNameMap||{};if(a.hasOwnProperty(t))return a[t];var o=h(this.get(\"color\",!0)),s=this.get(\"colorLayer\",!0),l=null!=n&&s?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(s,n):o;if((l=l||o)&&l.length){var u=l[r];return t&&(a[t]=u),i.colorIdx=(r+1)%l.length,u}}};t.exports=a},function(t,e,n){var i=n(0),r=[\"getDom\",\"getZr\",\"getWidth\",\"getHeight\",\"getDevicePixelRatio\",\"dispatchAction\",\"isDisposed\",\"on\",\"off\",\"getDataURL\",\"getConnectedDataURL\",\"getModel\",\"getOption\",\"getViewOfComponentModel\",\"getViewOfSeriesModel\"];function a(e){i.each(r,function(t){this[t]=i.bind(e[t],e)},this)}t.exports=a},function(t,e,n){var i=n(13),r=n(74),a=n(26).detectSourceFormat,o=n(58).SERIES_LAYOUT_BY_COLUMN;i.extend({type:\"dataset\",defaultOption:{seriesLayoutBy:o,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){a(this)}}),r.extend({type:\"dataset\"})},function(t,e,n){var d=n(35),i=n(43),s=n(36),r=n(137),f=n(90),a=n(250),o=n(142),l=n(10),u=n(139),h=n(141),c=n(92),p=n(88),g=n(15),m=n(132).createFromString,v=n(0),y=v.isString,_=v.extend,x=v.defaults,b=v.trim,w=v.each,T=/[\\s,]+/;function S(t){for(y(t)&&(t=(new DOMParser).parseFromString(t,\"text/xml\")),9===t.nodeType&&(t=t.firstChild);\"svg\"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function M(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}M.prototype.parse=function(t,e){e=e||{};var n=S(t);if(!n)throw new Error(\"Illegal svg\");var i=new d;this._root=i;var r=n.getAttribute(\"viewBox\")||\"\",a=parseFloat(n.getAttribute(\"width\")||e.width),o=parseFloat(n.getAttribute(\"height\")||e.height);isNaN(a)&&(a=null),isNaN(o)&&(o=null),L(n,i,null,!0);for(var s,l,u,h,c=n.firstChild;c;)this._parseNode(c,i),c=c.nextSibling;return!r||4<=(l=b(r).split(T)).length&&(s={x:parseFloat(l[0]||0),y:parseFloat(l[1]||0),width:parseFloat(l[2]),height:parseFloat(l[3])}),s&&null!=a&&null!=o&&(h=k(s,a,o),e.ignoreViewBox||(u=i,(i=new d).add(u),u.scale=h.scale.slice(),u.position=h.position.slice())),e.ignoreRootClip||null==a||null==o||i.setClipPath(new f({shape:{x:0,y:0,width:a,height:o}})),{root:i,width:a,height:o,viewBoxRect:s,viewBoxTransform:h}},M.prototype._parseNode=function(t,e){var n,i,r,a,o=t.nodeName.toLowerCase();\"defs\"===o?this._isDefine=!0:\"text\"===o&&(this._isText=!0),this._isDefine?(a=I[o])&&(i=a.call(this,t),(r=t.getAttribute(\"id\"))&&(this._defs[r]=i)):(a=A[o])&&(n=a.call(this,t,e),e.add(n));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;\"defs\"===o?this._isDefine=!1:\"text\"===o&&(this._isText=!1)},M.prototype._parseText=function(t,e){var n,i;1===t.nodeType&&(n=t.getAttribute(\"dx\")||0,i=t.getAttribute(\"dy\")||0,this._textX+=parseFloat(n),this._textY+=parseFloat(i));var r=new s({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});C(e,r),L(t,r,this._defs);var a=r.style.fontSize;a&&a<9&&(r.style.fontSize=9,r.scale=r.scale||[1,1],r.scale[0]*=a/9,r.scale[1]*=a/9);var o=r.getBoundingRect();return this._textX+=o.width,e.add(r),r};var A={g:function(t,e){var n=new d;return C(e,n),L(t,n,this._defs),n},rect:function(t,e){var n=new f;return C(e,n),L(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute(\"x\")||0),y:parseFloat(t.getAttribute(\"y\")||0),width:parseFloat(t.getAttribute(\"width\")||0),height:parseFloat(t.getAttribute(\"height\")||0)}),n},circle:function(t,e){var n=new r;return C(e,n),L(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute(\"cx\")||0),cy:parseFloat(t.getAttribute(\"cy\")||0),r:parseFloat(t.getAttribute(\"r\")||0)}),n},line:function(t,e){var n=new o;return C(e,n),L(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute(\"x1\")||0),y1:parseFloat(t.getAttribute(\"y1\")||0),x2:parseFloat(t.getAttribute(\"x2\")||0),y2:parseFloat(t.getAttribute(\"y2\")||0)}),n},ellipse:function(t,e){var n=new a;return C(e,n),L(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute(\"cx\")||0),cy:parseFloat(t.getAttribute(\"cy\")||0),rx:parseFloat(t.getAttribute(\"rx\")||0),ry:parseFloat(t.getAttribute(\"ry\")||0)}),n},polygon:function(t,e){var n=(n=t.getAttribute(\"points\"))&&D(n),i=new u({shape:{points:n||[]}});return C(e,i),L(t,i,this._defs),i},polyline:function(t,e){var n=new l;C(e,n),L(t,n,this._defs);var i=(i=t.getAttribute(\"points\"))&&D(i);return new h({shape:{points:i||[]}})},image:function(t,e){var n=new i;return C(e,n),L(t,n,this._defs),n.setStyle({image:t.getAttribute(\"xlink:href\"),x:t.getAttribute(\"x\"),y:t.getAttribute(\"y\"),width:t.getAttribute(\"width\"),height:t.getAttribute(\"height\")}),n},text:function(t,e){var n=t.getAttribute(\"x\")||0,i=t.getAttribute(\"y\")||0,r=t.getAttribute(\"dx\")||0,a=t.getAttribute(\"dy\")||0;this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(a);var o=new d;return C(e,o),L(t,o,this._defs),o},tspan:function(t,e){var n=t.getAttribute(\"x\"),i=t.getAttribute(\"y\");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=t.getAttribute(\"dx\")||0,a=t.getAttribute(\"dy\")||0,o=new d;return C(e,o),L(t,o,this._defs),this._textX+=r,this._textY+=a,o},path:function(t,e){var n=t.getAttribute(\"d\")||\"\",i=m(n);return C(e,i),L(t,i,this._defs),i}},I={lineargradient:function(t){var e=parseInt(t.getAttribute(\"x1\")||0,10),n=parseInt(t.getAttribute(\"y1\")||0,10),i=parseInt(t.getAttribute(\"x2\")||10,10),r=parseInt(t.getAttribute(\"y2\")||0,10),a=new c(e,n,i,r);return function(t,e){var n=t.firstChild;for(;n;){var i,r;1===n.nodeType&&(i=0<(i=n.getAttribute(\"offset\")).indexOf(\"%\")?parseInt(i,10)/100:i?parseFloat(i):0,r=n.getAttribute(\"stop-color\")||\"#000000\",e.addColorStop(i,r)),n=n.nextSibling}}(t,a),a},radialgradient:function(t){}};function C(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),x(e.__inheritedStyle,t.__inheritedStyle))}function D(t){for(var e=b(t).split(T),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),a=parseFloat(e[i+1]);n.push([r,a])}return n}var E={fill:\"fill\",stroke:\"stroke\",\"stroke-width\":\"lineWidth\",opacity:\"opacity\",\"fill-opacity\":\"fillOpacity\",\"stroke-opacity\":\"strokeOpacity\",\"stroke-dasharray\":\"lineDash\",\"stroke-dashoffset\":\"lineDashOffset\",\"stroke-linecap\":\"lineCap\",\"stroke-linejoin\":\"lineJoin\",\"stroke-miterlimit\":\"miterLimit\",\"font-family\":\"fontFamily\",\"font-size\":\"fontSize\",\"font-style\":\"fontStyle\",\"font-weight\":\"fontWeight\",\"text-align\":\"textAlign\",\"alignment-baseline\":\"textBaseline\"};function L(t,e,n,i){var r,a=e.__inheritedStyle||{},o=\"text\"===e.type;if(1===t.nodeType&&(function(t,e){var n=t.getAttribute(\"transform\");if(n){n=n.replace(/,/g,\" \");var i=null,r=[];n.replace(O,function(t,e,n){r.push(e,n)});for(var a=r.length-1;0<a;a-=2){var o=r[a],s=r[a-1];switch(i=i||g.create(),s){case\"translate\":o=b(o).split(T),g.translate(i,i,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case\"scale\":o=b(o).split(T),g.scale(i,i,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case\"rotate\":o=b(o).split(T),g.rotate(i,i,parseFloat(o[0]));break;case\"skew\":o=b(o).split(T),console.warn(\"Skew transform is not supported yet\");break;case\"matrix\":o=b(o).split(T);i[0]=parseFloat(o[0]),i[1]=parseFloat(o[1]),i[2]=parseFloat(o[2]),i[3]=parseFloat(o[3]),i[4]=parseFloat(o[4]),i[5]=parseFloat(o[5])}}e.setLocalTransform(i)}}(t,e),_(a,function(t){var e=t.getAttribute(\"style\"),n={};if(!e)return n;var i,r={};R.lastIndex=0;for(;null!=(i=R.exec(e));)r[i[1]]=i[2];for(var a in E)E.hasOwnProperty(a)&&null!=r[a]&&(n[E[a]]=r[a]);return n}(t)),!i))for(var s in E){!E.hasOwnProperty(s)||null!=(r=t.getAttribute(s))&&(a[E[s]]=r)}var l=o?\"textFill\":\"fill\",u=o?\"textStroke\":\"stroke\";e.style=e.style||new p;var h=e.style;null!=a.fill&&h.set(l,N(a.fill,n)),null!=a.stroke&&h.set(u,N(a.stroke,n)),w([\"lineWidth\",\"opacity\",\"fillOpacity\",\"strokeOpacity\",\"miterLimit\",\"fontSize\"],function(t){var e=\"lineWidth\"===t&&o?\"textStrokeWidth\":t;null!=a[t]&&h.set(e,parseFloat(a[t]))}),a.textBaseline&&\"auto\"!==a.textBaseline||(a.textBaseline=\"alphabetic\"),\"alphabetic\"===a.textBaseline&&(a.textBaseline=\"bottom\"),\"start\"===a.textAlign&&(a.textAlign=\"left\"),\"end\"===a.textAlign&&(a.textAlign=\"right\"),w([\"lineDashOffset\",\"lineCap\",\"lineJoin\",\"fontWeight\",\"fontFamily\",\"fontStyle\",\"textAlign\",\"textBaseline\"],function(t){null!=a[t]&&h.set(t,a[t])}),a.lineDash&&(e.style.lineDash=b(a.lineDash).split(T)),h[u]&&\"none\"!==h[u]&&(e[u]=!0),e.__inheritedStyle=a}var P=/url\\(\\s*#(.*?)\\)/;function N(t,e){var n=e&&t&&t.match(P);return n?e[b(n[1])]:t}var O=/(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.e,]*)\\)/g;var R=/([^\\s:;]+)\\s*:\\s*([^:;]+)/g;function k(t,e,n){var i=e/t.width,r=n/t.height,a=Math.min(i,r);return{scale:[a,a],position:[-(t.x+t.width/2)*a+e/2,-(t.y+t.height/2)*a+n/2]}}e.parseXML=S,e.makeViewBoxTransform=k,e.parseSVG=function(t,e){return(new M).parse(t,e)}},function(t,e,n){var i=n(68);e.zrender=i;var r=n(15);e.matrix=r;var a=n(8);e.vector=a;var o=n(0),s=n(22);e.color=s;var l=n(2),u=n(3);e.number=u;var h=n(7);e.format=h;var c=n(29);c.throttle;e.throttle=c.throttle;var d=n(251);e.helper=d;var f=n(153);e.parseGeoJSON=f;var p=n(17);e.List=p;var g=n(12);e.Model=g;var m=n(31);e.Axis=m;var v=n(11);e.env=v;var y=f,_={};o.each([\"map\",\"each\",\"filter\",\"indexOf\",\"inherits\",\"reduce\",\"filter\",\"bind\",\"curry\",\"isArray\",\"isString\",\"isObject\",\"isFunction\",\"extend\",\"defaults\",\"clone\",\"merge\"],function(t){_[t]=o[t]});var x={};o.each([\"extendShape\",\"extendPath\",\"makePath\",\"makeImage\",\"mergePath\",\"resizePath\",\"createIcon\",\"setHoverStyle\",\"setLabelStyle\",\"setTextStyle\",\"setText\",\"getFont\",\"updateProps\",\"initProps\",\"getTransform\",\"clipPointsByRect\",\"clipRectByRect\",\"registerShape\",\"getShapeClass\",\"Group\",\"Image\",\"Text\",\"Circle\",\"Sector\",\"Ring\",\"Polygon\",\"Polyline\",\"Rect\",\"Line\",\"BezierCurve\",\"Arc\",\"IncrementalDisplayable\",\"CompoundPath\",\"LinearGradient\",\"RadialGradient\",\"BoundingRect\"],function(t){x[t]=l[t]}),e.parseGeoJson=y,e.util=_,e.graphic=x},function(t,e,n){var i=n(0);function r(t){null!=t&&i.extend(this,t),this.otherDims={}}t.exports=r},function(t,e,n){var i=n(0),M=i.createHashMap,A=i.each,I=i.isString,C=i.defaults,D=i.extend,E=i.isObject,L=i.clone,P=n(4).normalizeToArray,r=n(26),N=r.guessOrdinal,O=r.BE_ORDINAL,R=n(57),k=n(59).OTHER_DIMENSIONS,z=n(148);function B(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}function a(t,e,n){R.isInstance(e)||(e=R.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var i,r,a,o,s,l=(n.dimsDef||[]).slice(),u=M(),h=M(),c=[],d=(i=e,r=t,a=l,o=n.dimCount,s=Math.max(i.dimensionsDetectCount||1,r.length,a.length,o||0),A(r,function(t){var e=t.dimsDef;e&&(s=Math.max(s,e.length))}),s),f=0;f<d;f++){var p=l[f]=D({},E(l[f])?l[f]:{name:l[f]}),g=p.name,m=c[f]=new z;null!=g&&null==u.get(g)&&(m.name=m.displayName=g,u.set(g,f)),null!=p.type&&(m.type=p.type),null!=p.displayName&&(m.displayName=p.displayName)}var v=n.encodeDef;!v&&n.encodeDefaulter&&(v=n.encodeDefaulter(e,d)),(v=M(v)).each(function(t,n){var i;1===(t=P(t).slice()).length&&!I(t[0])&&t[0]<0?v.set(n,!1):(i=v.set(n,[]),A(t,function(t,e){I(t)&&(t=u.get(t)),null!=t&&t<d&&(i[e]=t,_(c[t],n,e))}))});var y=0;function _(t,e,n){null!=k.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,h.set(e,!0))}A(t,function(r,t){var a,o,s,e;I(r)?(a=r,r={}):(a=r.name,e=r.ordinalMeta,r.ordinalMeta=null,(r=L(r)).ordinalMeta=e,o=r.dimsDef,s=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null);var n=v.get(a);if(!1!==n){if(!(n=P(n)).length)for(var i=0;i<(o&&o.length||1);i++){for(;y<c.length&&null!=c[y].coordDim;)y++;y<c.length&&n.push(y++)}A(n,function(t,e){var n,i=c[t];_(C(i,r),a,e),null==i.name&&o&&(n=o[e],E(n)||(n={name:n}),i.name=i.displayName=n.name,i.defaultTooltip=n.defaultTooltip),s&&C(i.otherDims,s)})}});for(var x=n.generateCoord,b=null!=(w=n.generateCoordCount),w=x?w||1:0,T=x||\"value\",S=0;S<d;S++){null==(m=c[S]=c[S]||new z).coordDim&&(m.coordDim=B(T,h,b),m.coordDimIndex=0,(!x||w<=0)&&(m.isExtraCoord=!0),w--),null==m.name&&(m.name=B(m.coordDim,u)),null!=m.type||N(e,S,m.name)!==O.Must&&(!m.isExtraCoord||null==m.otherDims.itemName&&null==m.otherDims.seriesName)||(m.type=\"ordinal\")}return c}t.exports=a},function(t,e,n){var i=n(0),r=i.createHashMap,a=i.isObject,o=i.map;function s(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}s.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&o(n,h);return new s({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})};var l=s.prototype;function u(t){return t._map||(t._map=r(t.categories))}function h(t){return a(t)&&null!=t.value?t.value:t+\"\"}l.getOrdinal=function(t){return u(this).get(t)},l.parseAndCollect=function(t){var e=this._needCollect;if(\"string\"!=typeof t&&!e)return t;if(e&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var n,i=u(this);return null==(n=i.get(t))&&(e?(n=this.categories.length,this.categories[n]=t,i.set(t,n)):n=NaN),n},t.exports=s},function(t,e,n){var l=n(3),u=l.round;function h(t){return l.getPrecisionSafe(t)+2}function i(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function c(t,e){isFinite(t[0])||(t[0]=e[0]),isFinite(t[1])||(t[1]=e[1]),i(t,0,e),i(t,1,e),t[0]>t[1]&&(t[0]=t[1])}e.intervalScaleNiceTicks=function(t,e,n,i){var r={},a=t[1]-t[0],o=r.interval=l.nice(a/e,!0);null!=n&&o<n&&(o=r.interval=n),null!=i&&i<o&&(o=r.interval=i);var s=r.intervalPrecision=h(o);return c(r.niceTickExtent=[u(Math.ceil(t[0]/o)*o,s),u(Math.floor(t[1]/o)*o,s)],t),r},e.getIntervalPrecision=h,e.fixExtent=c},function(t,e,n){var a=n(0),i=n(75),o=n(3),r=n(76),s=i.prototype,l=r.prototype,u=o.getPrecisionSafe,h=o.round,c=Math.floor,d=Math.ceil,f=Math.pow,p=Math.log,g=i.extend({type:\"log\",base:10,$constructor:function(){i.apply(this,arguments),this._originalScale=new r},getTicks:function(t){var n=this._originalScale,i=this._extent,r=n.getExtent();return a.map(l.getTicks.call(this,t),function(t){var e=o.round(f(this.base,t)),e=t===i[0]&&n.__fixMin?m(e,r[0]):e;return e=t===i[1]&&n.__fixMax?m(e,r[1]):e},this)},getMinorTicks:l.getMinorTicks,getLabel:l.getLabel,scale:function(t){return t=s.scale.call(this,t),f(this.base,t)},setExtent:function(t,e){var n=this.base;t=p(t)/p(n),e=p(e)/p(n),l.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=s.getExtent.call(this);e[0]=f(t,e[0]),e[1]=f(t,e[1]);var n=this._originalScale,i=n.getExtent();return n.__fixMin&&(e[0]=m(e[0],i[0])),n.__fixMax&&(e[1]=m(e[1],i[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=p(t[0])/p(e),t[1]=p(t[1])/p(e),s.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n==1/0||n<=0)){var i=o.quantity(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&0<Math.abs(i);)i*=10;var r=[o.round(d(e[0]/i)*i),o.round(c(e[1]/i)*i)];this._interval=i,this._niceExtent=r}},niceExtent:function(t){l.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function m(t,e){return h(t,u(e))}a.each([\"contain\",\"normalize\"],function(e){g.prototype[e]=function(t){return t=p(t)/p(this.base),s[e].call(this,t)}}),g.create=function(){return new g},t.exports=g},function(t,e,n){var s=n(0),l=n(154);function c(t,e,n){for(var i=[],r=e[0],a=e[1],o=0;o<t.length;o+=2){var s=(s=t.charCodeAt(o)-64)>>1^-(1&s),l=(l=t.charCodeAt(o+1)-64)>>1^-(1&l),r=s+=r,a=l+=a;i.push([s/n,l/n])}return i}t.exports=function(t,o){return function(t){if(!t.UTF8Encoding)return;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,i=0;i<n.length;i++)for(var r=n[i].geometry,a=r.coordinates,o=r.encodeOffsets,s=0;s<a.length;s++){var l=a[s];if(\"Polygon\"===r.type)a[s]=c(l,o[s],e);else if(\"MultiPolygon\"===r.type)for(var u=0;u<l.length;u++){var h=l[u];l[u]=c(h,o[s][u],e)}}t.UTF8Encoding=!1}(t),s.map(s.filter(t.features,function(t){return t.geometry&&t.properties&&0<t.geometry.coordinates.length}),function(t){var e=t.properties,n=t.geometry,i=n.coordinates,r=[];\"Polygon\"===n.type&&r.push({type:\"polygon\",exterior:i[0],interiors:i.slice(1)}),\"MultiPolygon\"===n.type&&s.each(i,function(t){t[0]&&r.push({type:\"polygon\",exterior:t[0],interiors:t.slice(1)})});var a=new l(e[o||\"name\"],r,e.cp);return a.properties=e,a})}},function(t,e,n){var p=n(9),u=n(55),g=n(8),l=n(155);function i(t,e,n){var i;this.name=t,this.geometries=e,n=n?[n[0],n[1]]:[(i=this.getBoundingRect()).x+i.width/2,i.y+i.height/2],this.center=n}i.prototype={constructor:i,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e,n=Number.MAX_VALUE,i=[n,n],r=[-n,-n],a=[],o=[],s=this.geometries,l=0;l<s.length;l++){\"polygon\"===s[l].type&&(e=s[l].exterior,u.fromPoints(e,a,o),g.min(i,i,a),g.max(r,r,o))}return 0===l&&(i[0]=i[1]=r[0]=r[1]=0),this._rect=new p(i[0],i[1],r[0]-i[0],r[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i<r;i++)if(\"polygon\"===n[i].type){var a=n[i].exterior,o=n[i].interiors;if(l.contain(a,t[0],t[1])){for(var s=0;s<(o?o.length:0);s++)if(l.contain(o[s]))continue t;return!0}}return!1},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),a=r.width/r.height;n?i=i||n/a:n=a*i;for(var o=new p(t,e,n,i),s=r.calculateTransform(o),l=this.geometries,u=0;u<l.length;u++)if(\"polygon\"===l[u].type){for(var h=l[u].exterior,c=l[u].interiors,d=0;d<h.length;d++)g.applyTransform(h[d],h[d],s);for(var f=0;f<(c?c.length:0);f++)for(d=0;d<c[f].length;d++)g.applyTransform(c[f][d],c[f][d],s)}(r=this._rect).copy(o),this.center=[r.x+r.width/2,r.y+r.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new i(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}},t.exports=i},function(t,e,n){var l=n(136),i=1e-8;function u(t,e){return Math.abs(t-e)<i}e.contain=function(t,e,n){var i=0,r=t[0];if(!r)return!1;for(var a=1;a<t.length;a++){var o=t[a];i+=l(r[0],r[1],o[0],o[1],e,n),r=o}var s=t[0];return u(r[0],s[0])&&u(r[1],s[1])||(i+=l(r[0],r[1],s[0],s[1],e,n)),0!==i}},function(t,e,n){var p=n(24).isDimensionStacked,g=n(0).map;e.prepareDataCoordInfo=function(t,e,n){var i,r=t.getBaseAxis(),a=t.getOtherAxis(r),o=function(t,e){var n=0,i=t.scale.getExtent();\"start\"===e?n=i[0]:\"end\"===e?n=i[1]:0<i[0]?n=i[0]:i[1]<0&&(n=i[1]);return n}(a,n),s=r.dim,l=a.dim,u=e.mapDimension(l),h=e.mapDimension(s),c=\"x\"===l||\"radius\"===l?1:0,d=g(t.dimensions,function(t){return e.mapDimension(t)}),f=e.getCalculationInfo(\"stackResultDimension\");return(i|=p(e,d[0]))&&(d[0]=f),(i|=p(e,d[1]))&&(d[1]=f),{dataDimsForPoint:d,valueStart:o,valueAxisDim:l,baseAxisDim:s,stacked:!!i,valueDim:u,baseDim:h,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo(\"stackedOverDimension\")}},e.getStackedOnPoint=function(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo(\"stackedOverDimension\"),i)),isNaN(r)&&(r=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=n.get(t.baseDim,i),o[1-a]=r,e.dataToPoint(o)}},function(t,e,n){var i=n(10),w=n(8),r=n(138),T=w.min,S=w.max,M=w.scaleAndAdd,A=w.copy,I=[],C=[],D=[];function E(t){return isNaN(t[0])||isNaN(t[1])}function h(t,e,n,i,r,a,o,s,l,u,h){return\"none\"!==u&&u?function(t,e,n,i,r,a,o,s,l,u,h){for(var c=0,d=n,f=0;f<i;f++){var p,g,m,v=e[d];if(r<=d||d<0)break;if(E(v)){if(h){d+=a;continue}break}d===n?t[0<a?\"moveTo\":\"lineTo\"](v[0],v[1]):0<l?(p=e[c],m=(v[g=\"y\"===u?1:0]-p[g])*l,A(C,p),C[g]=p[g]+m,A(D,v),D[g]=v[g]-m,t.bezierCurveTo(C[0],C[1],D[0],D[1],v[0],v[1])):t.lineTo(v[0],v[1]),c=d,d+=a}return f}.apply(this,arguments):function(t,e,n,i,r,a,o,s,l,u,h){for(var c,d,f=0,p=n,g=0;g<i;g++){var m=e[p];if(r<=p||p<0)break;if(E(m)){if(h){p+=a;continue}break}if(p===n)t[0<a?\"moveTo\":\"lineTo\"](m[0],m[1]),A(C,m);else if(0<l){var v=p+a,y=e[v];if(h)for(;y&&E(e[v]);)y=e[v+=a];var _,x=.5,b=e[f];!(y=e[v])||E(y)?A(D,m):(E(y)&&!h&&(y=m),w.sub(I,y,b),d=\"x\"===u||\"y\"===u?(_=\"x\"===u?0:1,c=Math.abs(m[_]-b[_]),Math.abs(m[_]-y[_])):(c=w.dist(m,b),w.dist(m,y)),M(D,m,I,-l*(1-(x=d/(d+c))))),T(C,C,s),S(C,C,o),T(D,D,s),S(D,D,o),t.bezierCurveTo(C[0],C[1],D[0],D[1],m[0],m[1]),M(C,m,I,l*x)}else t.lineTo(m[0],m[1]);f=p,p+=a}return g}.apply(this,arguments)}function c(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var a=t[r];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:e?n:i,max:e?i:n}}var a=i.extend({type:\"ec-polyline\",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:\"#000\"},brush:r(i.prototype.brush),buildPath:function(t,e){var n=e.points,i=0,r=n.length,a=c(n,e.smoothConstraint);if(e.connectNulls){for(;0<r&&E(n[r-1]);r--);for(;i<r&&E(n[i]);i++);}for(;i<r;)i+=h(t,n,i,r,r,1,a.min,a.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),o=i.extend({type:\"ec-polygon\",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(i.prototype.brush),buildPath:function(t,e){var n=e.points,i=e.stackedOnPoints,r=0,a=n.length,o=e.smoothMonotone,s=c(n,e.smoothConstraint),l=c(i,e.smoothConstraint);if(e.connectNulls){for(;0<a&&E(n[a-1]);a--);for(;r<a&&E(n[r]);r++);}for(;r<a;){var u=h(t,n,r,a,a,1,s.min,s.max,e.smooth,o,e.connectNulls);h(t,i,r+u-1,u,a,-1,l.min,l.max,e.stackedOnSmooth,o,e.connectNulls),r+=u+1,t.closePath()}}});e.Polyline=a,e.Polygon=o},function(t,e,n){var i=n(0),r=n(13),a=n(79),o=n(48),s=r.extend({type:\"cartesian2dAxis\",axis:null,init:function(){s.superApply(this,\"init\",arguments),this.resetRange()},mergeOption:function(){s.superApply(this,\"mergeOption\",arguments),this.resetRange()},restoreData:function(){s.superApply(this,\"restoreData\",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"grid\",index:this.option.gridIndex,id:this.option.gridId})[0]}});function l(t,e){return e.type||(e.data?\"category\":\"value\")}i.merge(s.prototype,o);var u={offset:0};a(\"x\",s,l,u),a(\"y\",s,l,u),t.exports=s},function(t,e,n){var i=n(0),r={show:!0,zlevel:0,z:0,inverse:!1,name:\"\",nameLocation:\"end\",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:\"...\",placeholder:\".\"},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:\"#333\",width:1,type:\"solid\"},symbol:[\"none\",\"none\"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:[\"#ccc\"],width:1,type:\"solid\"}},splitArea:{show:!1,areaStyle:{color:[\"rgba(250,250,250,0.3)\",\"rgba(200,200,200,0.3)\"]}}},a={};a.categoryAxis=i.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:\"auto\"},axisLabel:{interval:\"auto\"}},r),a.valueAxis=i.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:\"#eee\",width:1}}},r),a.timeAxis=i.defaults({scale:!0,min:\"dataMin\",max:\"dataMax\"},a.valueAxis),a.logAxis=i.defaults({scale:!0,logBase:10},a.valueAxis),t.exports=a},function(t,e,n){var v=n(0);e.layout=function(t,e,n){n=n||{};var i,r=t.coordinateSystem,a=e.axis,o={},s=a.getAxesOnZeroOf()[0],l=a.position,u=s?\"onZero\":l,h=a.dim,c=r.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get(\"offset\")||0,g=\"x\"===h?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];s&&(i=s.toGlobalCoord(s.dataToCoord(0)),g[f.onZero]=Math.max(Math.min(i,g[1]),g[0])),o.position=[\"y\"===h?g[f[u]]:d[0],\"x\"===h?g[f[u]]:d[3]],o.rotation=Math.PI/2*(\"x\"===h?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],o.labelOffset=s?g[f[l]]-g[f.onZero]:0,e.get(\"axisTick.inside\")&&(o.tickDirection=-o.tickDirection),v.retrieve(n.labelInside,e.get(\"axisLabel.inside\"))&&(o.labelDirection=-o.labelDirection);var m=e.get(\"axisLabel.rotate\");return o.labelRotate=\"top\"===u?-m:m,o.z2=1,o}},function(t,e,n){var S=n(0),M=n(2);e.rectCoordAxisBuildSplitArea=function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var a=n.getModel(\"splitArea\"),o=a.getModel(\"areaStyle\"),s=o.get(\"color\"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var h=s.length,c=t.__splitAreaColors,d=S.createHashMap(),f=0;if(c)for(var p=0;p<u.length;p++){var g=c.get(u[p].tickValue);if(null!=g){f=(g+(h-1)*p)%h;break}}for(var m=r.toGlobalCoord(u[0].coord),v=o.getAreaStyle(),s=S.isArray(s)?s:[s],p=1;p<u.length;p++){var y,_,x,b,w=r.toGlobalCoord(u[p].coord),m=r.isHorizontal()?(y=m,_=l.y,x=w-y,b=l.height,y+x):(y=l.x,_=m,x=l.width,_+(b=w-_)),T=u[p-1].tickValue;null!=T&&d.set(T,f),e.add(new M.Rect({anid:null!=T?\"area_\"+T:null,shape:{x:y,y:_,width:x,height:b},style:S.defaults({fill:s[f]},v),silent:!0})),f=(f+1)%h}t.__splitAreaColors=d}}},e.rectCoordAxisHandleRemove=function(t){t.__splitAreaColors=null}},function(t,e,n){var i=n(14),r=n(27),a=i.extend({type:\"series.__base_bar__\",getInitialData:function(t,e){return r(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),r=i.getLayout(\"offset\"),a=i.getLayout(\"size\");return n[e.getBaseAxis().isHorizontal()?0:1]+=r+a/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:\"mod\",itemStyle:{},emphasis:{}}});t.exports=a},function(t,e,n){var u=n(2),h=n(97).getDefaultLabel;function c(t,e){\"outside\"===t.textPosition&&(t.textPosition=e)}e.setLabel=function(t,e,n,i,r,a,o){var s=n.getModel(\"label\"),l=n.getModel(\"emphasis.label\");u.setLabelStyle(t,e,s,l,{labelFetcher:r,labelDataIndex:a,defaultText:h(r.getData(),a),isRectText:!0,autoColor:i}),c(t),c(e)}},function(t,e,n){var i=n(1),r=n(0);t.exports=function(n,t){r.each(t,function(a){a.update=\"updateView\",i.registerAction(a,function(t,e){var r={};return e.eachComponent({mainType:\"series\",subType:n,query:t},function(n){n[a.method]&&n[a.method](t.name,t.dataIndex);var i=n.getData();i.each(function(t){var e=i.getName(t);r[e]=n.isSelected(e)||!1})}),{name:t.name,selected:r,seriesId:t.seriesId}})})}},function(t,e,n){var R=n(0),i=n(66),l=n(100),u=n(83).onIrrelevantElement,k=n(2),r=n(82),a=n(56).getUID,f=n(69);function z(t){var e=t.getItemStyle(),n=t.get(\"areaColor\");return null!=n&&(e.fill=n),e}function p(n,t){t.eachChild(function(e){R.each(e.__regions,function(t){e.trigger(n.isSelected(t.name)?\"emphasis\":\"normal\")})})}function o(t,e){var n=new k.Group;this.uid=a(\"ec_map_draw\"),this._controller=new i(t.getZr()),this._controllerHost={target:e?n:null},this.group=n,this._updateGroup=e,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new k.Group),n.add(this._backgroundGroup=new k.Group)}o.prototype={constructor:o,draw:function(b,t,e,n,i){var w=\"geo\"===b.mainType,T=b.getData&&b.getData();w&&t.eachComponent({mainType:\"series\",subType:\"map\"},function(t){T||t.getHostGeoModel()!==b||(T=t.getData())});var r=b.coordinateSystem;this._updateBackground(r);var a,o,S,M=this._regionsGroup,A=this.group,s=r.getTransformInfo(),I=!M.childAt(0)||i;I?(A.transform=s.roamTransform,A.decomposeTransform(),A.dirty()):((a=new f).transform=s.roamTransform,a.decomposeTransform(),o={scale:a.scale,position:a.position},S=a.scale,k.updateProps(A,o,b));var C=s.rawScale,D=s.rawPosition;M.removeAll();var l,u,h,c,d,E=[\"itemStyle\"],L=[\"emphasis\",\"itemStyle\"],P=[\"label\"],N=[\"emphasis\",\"label\"],O=R.createHashMap();R.each(r.regions,function(t){var e=O.get(t.name)||O.set(t.name,new k.Group),a=new k.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});e.add(a);var n,i,r=b.getRegionModel(t.name)||b,o=r.getModel(E),s=r.getModel(L),l=z(o),u=z(s),h=r.getModel(P),c=r.getModel(N);T&&(n=T.indexOfName(t.name),(i=T.getItemVisual(n,\"color\",!0))&&(l.fill=i));function d(t){return[t[0]*C[0]+D[0],t[1]*C[1]+D[1]]}R.each(t.geometries,function(t){if(\"polygon\"===t.type){for(var e=[],n=0;n<t.exterior.length;++n)e.push(d(t.exterior[n]));a.shape.paths.push(new k.Polygon({segmentIgnoreThreshold:1,shape:{points:e}}));for(n=0;n<(t.interiors?t.interiors.length:0);++n){for(var i=t.interiors[n],e=[],r=0;r<i.length;++r)e.push(d(i[r]));a.shape.paths.push(new k.Polygon({segmentIgnoreThreshold:1,shape:{points:e}}))}}}),a.setStyle(l),a.style.strokeNoScale=!0,a.culling=!0;var f,p,g,m,v=h.get(\"show\"),y=c.get(\"show\"),_=T&&isNaN(T.get(T.mapDimension(\"value\"),n)),x=T&&T.getItemLayout(n);(w||_&&(v||y)||x&&x.showLabel)&&(f=w?t.name:n,(!T||0<=n)&&(p=b),g=new k.Text({position:d(t.center.slice()),scale:[1/A.scale[0],1/A.scale[1]],z2:10,silent:!0}),k.setLabelStyle(g.style,g.hoverStyle={},h,c,{labelFetcher:p,labelDataIndex:f,defaultText:t.name,useInsideStyle:!1},{textAlign:\"center\",textVerticalAlign:\"middle\"}),I||(m=[1/S[0],1/S[1]],k.updateProps(g,{scale:m},b)),e.add(g)),T?T.setItemGraphicEl(n,e):(r=b.getRegionModel(t.name),a.eventData={componentType:\"geo\",componentIndex:b.componentIndex,geoIndex:b.componentIndex,name:t.name,region:r&&r.option||{}}),(e.__regions||(e.__regions=[])).push(t),e.highDownSilentOnTouch=!!b.get(\"selectedMode\"),k.setHoverStyle(e,u),M.add(e)}),this._updateController(b,t,e),l=this,u=b,c=e,d=n,(h=M).off(\"click\"),h.off(\"mousedown\"),u.get(\"selectedMode\")&&(h.on(\"mousedown\",function(){l._mouseDownFlag=!0}),h.on(\"click\",function(t){if(l._mouseDownFlag){l._mouseDownFlag=!1;for(var e,n=t.target;!n.__regions;)n=n.parent;n&&((e={type:(\"geo\"===u.mainType?\"geo\":\"map\")+\"ToggleSelect\",batch:R.map(n.__regions,function(t){return{name:t.name,from:d.uid}})})[u.mainType+\"Id\"]=u.id,c.dispatchAction(e),p(u,h))}})),p(b,M)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&r.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(t){var e=t.map;this._mapName!==e&&R.each(r.makeGraphic(e,this.uid),function(t){this._backgroundGroup.add(t)},this),this._mapName=e},_updateController:function(i,t,r){var a=i.coordinateSystem,e=this._controller,n=this._controllerHost;n.zoomLimit=i.get(\"scaleLimit\"),n.zoom=a.getZoom(),e.enable(i.get(\"roam\")||!1);var o=i.mainType;function s(){var t={type:\"geoRoam\",componentType:o};return t[o+\"Id\"]=i.id,t}e.off(\"pan\").on(\"pan\",function(t){this._mouseDownFlag=!1,l.updateViewOnPan(n,t.dx,t.dy),r.dispatchAction(R.extend(s(),{dx:t.dx,dy:t.dy}))},this),e.off(\"zoom\").on(\"zoom\",function(t){var e;this._mouseDownFlag=!1,l.updateViewOnZoom(n,t.scale,t.originX,t.originY),r.dispatchAction(R.extend(s(),{zoom:t.scale,originX:t.originX,originY:t.originY})),this._updateGroup&&(e=this.group.scale,this._regionsGroup.traverse(function(t){\"text\"===t.type&&t.attr(\"scale\",[1/e[0],1/e[1]])}))},this),e.setPointerChecker(function(t,e,n){return a.getViewRectAfterRoam().contain(e,n)&&!u(t,r,i)})}},t.exports=o},function(t,e,n){var i=n(1),r=\"\\0_ec_interaction_mutex\";function a(t){return t[r]||(t[r]={})}i.registerAction({type:\"takeGlobalCursor\",event:\"globalCursorTaken\",update:\"update\"},function(){}),e.take=function(t,e,n){a(t)[e]=n},e.release=function(t,e,n){var i=a(t);i[e]===n&&(i[e]=null)},e.isTaken=function(t,e){return!!a(t)[e]}},function(t,e,n){var i=n(1),a=n(0),o=n(101).updateCenterAndZoom;i.registerAction({type:\"geoRoam\",event:\"geoRoam\",update:\"updateTransform\"},function(i,t){var r=i.componentType||\"series\";t.eachComponent({mainType:r,query:i},function(t){var e,n=t.coordinateSystem;\"geo\"===n.type&&(e=o(n,i,t.get(\"scaleLimit\")),t.setCenter&&t.setCenter(e.center),t.setZoom&&t.setZoom(e.zoom),\"series\"===r&&a.each(t.seriesGroup,function(t){t.setCenter(e.center),t.setZoom(e.zoom)}))})})},function(t,e,n){var r=n(0),a=r.each,o=\"\\0__link_datas\",s=\"\\0__link_mainData\";function l(t,e){var n,i;return(i=this)[s]===i?d((n=r.extend({},this[o]))[this.dataType]=e,n,t):f(e,this.dataType,this[s],t),e}function u(t,e){return t.struct&&t.struct.update(this),e}function h(n,i){return a(i[o],function(t,e){t!==i&&f(t.cloneShallow(),e,i,n)}),i}function c(t){var e=this[s];return null==t||null==e?e:e[o][t]}function d(n,t,i){n[o]={},a(t,function(t,e){f(t,e,n,i)})}function f(t,e,n,i){(n[o][e]=t)[s]=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=c}function i(n){var i=n.mainData,t=n.datas;t||(t={main:i},n.datasAttr={main:\"data\"}),n.datas=n.mainData=null,d(i,t,n),a(t,function(e){a(i.TRANSFERABLE_METHODS,function(t){e.wrapMethod(t,r.curry(l,n))})}),i.wrapMethod(\"cloneShallow\",r.curry(h,n)),a(i.CHANGABLE_METHODS,function(t){i.wrapMethod(t,r.curry(u,n))}),r.assert(t[i.dataType]===i)}t.exports=i},function(t,e,n){var i=n(6);function f(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function p(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function r(t,e){return t.parentNode===e.parentNode?1:2}e.init=function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,i=[t];e=i.pop();)if(n=e.children,e.isExpand&&n.length)for(var r=n.length-1;0<=r;r--){var a=n[r];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(a)}},e.firstWalk=function(t,e){var n,i=t.isExpand?t.children:[],r=t.parentNode.children,a=t.hierNode.i?r[t.hierNode.i-1]:null;i.length?(function(t){var e=t.children,n=e.length,i=0,r=0;for(;0<=--n;){var a=e[n];a.hierNode.prelim+=i,a.hierNode.modifier+=i,r+=a.hierNode.change,i+=a.hierNode.shift+r}}(t),n=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2,a?(t.hierNode.prelim=a.hierNode.prelim+e(t,a),t.hierNode.modifier=t.hierNode.prelim-n):t.hierNode.prelim=n):a&&(t.hierNode.prelim=a.hierNode.prelim+e(t,a)),t.parentNode.hierNode.defaultAncestor=function(t,e,n,i){if(e){for(var r=t,a=t,o=a.parentNode.children[0],s=e,l=r.hierNode.modifier,u=a.hierNode.modifier,h=o.hierNode.modifier,c=s.hierNode.modifier;s=f(s),a=p(a),s&&a;){r=f(r),o=p(o),r.hierNode.ancestor=t;var d=s.hierNode.prelim+c-a.hierNode.prelim-u+i(s,a);0<d&&(function(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}(function(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}(s,t,n),t,d),u+=d,l+=d),c+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=r.hierNode.modifier,h+=o.hierNode.modifier}s&&!f(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=c-l),a&&!p(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-h,n=t)}return n}(t,a,t.parentNode.hierNode.defaultAncestor||r[0],e)},e.secondWalk=function(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier},e.separation=function(t){return arguments.length?t:r},e.radialCoordinate=function(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n},e.getViewRect=function(t,e){return i.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}},function(t,e,n){var _=n(0),x=n(17),b=n(321),w=n(168),T=n(47),S=n(19),M=n(27);t.exports=function(t,e,n,i,r){for(var a=new b(i),o=0;o<t.length;o++)a.addNode(_.retrieve(t[o].id,t[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<e.length;o++){var h=e[o],c=h.source,d=h.target;a.addEdge(c,d,u)&&(l.push(h),s.push(_.retrieve(h.id,c+\" > \"+d)),u++)}var f,p,g,m,v=n.get(\"coordinateSystem\");\"cartesian2d\"===v||\"polar\"===v?m=M(t,n):(p=(f=S.get(v))&&\"view\"!==f.type&&f.dimensions||[],_.indexOf(p,\"value\")<0&&p.concat([\"value\"]),g=T(t,{coordDimensions:p}),(m=new x(g,n)).initData(t));var y=new x([\"value\"],n);return y.initData(l,s),r&&r(m,y),w({mainData:m,struct:a,structAttr:\"graph\",datas:{node:m,edge:y},datasAttr:{node:\"data\",edge:\"edgeData\"}}),a.update(),a}},function(t,e,n){var i=n(1);i.registerAction({type:\"focusNodeAdjacency\",event:\"focusNodeAdjacency\",update:\"series:focusNodeAdjacency\"},function(){}),i.registerAction({type:\"unfocusNodeAdjacency\",event:\"unfocusNodeAdjacency\",update:\"series:unfocusNodeAdjacency\"},function(){})},function(t,e,n){var a=n(8);function i(t){t.eachEdge(function(t){var e=t.getModel().get(\"lineStyle.curveness\")||0,n=a.clone(t.node1.getLayout()),i=a.clone(t.node2.getLayout()),r=[n,i];+e&&r.push([(n[0]+i[0])/2-(n[1]-i[1])*e,(n[1]+i[1])/2-(i[0]-n[0])*e]),t.setLayout(r)})}e.simpleLayout=function(t){var e,n=t.coordinateSystem;n&&\"view\"!==n.type||((e=t.getGraph()).eachNode(function(t){var e=t.getModel();t.setLayout([+e.get(\"x\"),+e.get(\"y\")])}),i(e))},e.simpleLayoutEdge=i},function(t,e,n){var h=n(8),i=n(107),d=i.getSymbolSize,f=i.getNodeGlobalScale,p=Math.PI,g=[];var c={value:function(t,e,n,i,r,a,o,s){var l=0,u=i.getSum(\"value\"),h=2*Math.PI/(u||s);n.eachNode(function(t){var e=t.getValue(\"value\"),n=h*(u?e:1)/2;l+=n,t.setLayout([r*Math.cos(l)+a,r*Math.sin(l)+o]),l+=n})},symbolSize:function(t,e,n,i,r,a,o,s){var l=0;g.length=s;var u=f(t);n.eachNode(function(t){var e=d(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=u;var n=Math.asin(e/2/r);isNaN(n)&&(n=p/2),g[t.dataIndex]=n,l+=2*n});var h=(2*p-l)/s/2,c=0;n.eachNode(function(t){var e=h+g[t.dataIndex];c+=e,t.setLayout([r*Math.cos(c)+a,r*Math.sin(c)+o]),c+=e})}};e.circularLayout=function(t,e){var n,i,r,s,l,a,o,u=t.coordinateSystem;u&&\"view\"!==u.type||(n=u.getBoundingRect(),r=(i=t.getData()).graph,s=n.width/2+n.x,l=n.height/2+n.y,a=Math.min(n.width,n.height)/2,o=i.count(),i.setLayout({cx:s,cy:l}),o&&(c[e](t,u,r,i,a,s,l,o),r.eachEdge(function(t){var e,n=t.getModel().get(\"lineStyle.curveness\")||0,i=h.clone(t.node1.getLayout()),r=h.clone(t.node2.getLayout()),a=(i[0]+r[0])/2,o=(i[1]+r[1])/2;+n&&(e=[s*(n*=3)+a*(1-n),l*n+o*(1-n)]),t.setLayout([i,r,e])})))}},function(t,e,n){var i=n(1),r=n(0),a=n(29),o=n(343);n(175),n(346),n(348);i.extendComponentView({type:\"parallel\",render:function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},r.each(s,function(t,e){n.getZr().on(e,this._handlers[e]=r.bind(t,this))},this)),a.createOrUpdate(this,\"_throttledDispatchExpand\",t.get(\"axisExpandRate\"),\"fixRate\")},dispose:function(t,n){r.each(this._handlers,function(t,e){n.getZr().off(e,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(r.extend({type:\"parallelAxisExpand\"},t))}});var s={mousedown:function(t){l(this,\"click\")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(l(this,\"click\")&&e){var n=[t.offsetX,t.offsetY];if(5<Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);\"none\"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){var e,n,i;!this._mouseDownPoint&&l(this,\"mousemove\")&&(\"jump\"===(i=(n=(e=this._model).coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY])).behavior)&&this._throttledDispatchExpand.debounceNextCall(e.get(\"axisExpandDebounce\")),this._throttledDispatchExpand(\"none\"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:\"jump\"===i&&null}))}};function l(t,e){var n=t._model;return n.get(\"axisExpandable\")&&n.get(\"axisExpandTriggerOn\")===e}i.registerPreprocessor(o)},function(t,e,n){var o=n(344);n(19).register(\"parallel\",{create:function(i,r){var a=[];return i.eachComponent(\"parallel\",function(t,e){var n=new o(t,i,r);n.name=\"parallel_\"+e,n.resize(t,r),(t.coordinateSystem=n).model=t,a.push(n)}),i.eachSeries(function(t){var e;\"parallel\"===t.get(\"coordinateSystem\")&&(e=i.queryComponents({mainType:\"parallel\",index:t.get(\"parallelIndex\"),id:t.get(\"parallelId\")})[0],t.coordinateSystem=e.coordinateSystem)}),a}})},function(t,e,n){var i=n(9),o=n(83).onIrrelevantElement,r=n(2);function s(t){return i.create(t)}e.makeRectPanelClipPath=function(n){return n=s(n),function(t,e){return r.clipPointsByRect(t,n)}},e.makeLinearBrushOtherExtent=function(r,a){return r=s(r),function(t){var e=null!=a?a:t,n=e?r.width:r.height,i=e?r.x:r.y;return[i,i+(n||0)]}},e.makeRectIsTargetByCursor=function(i,r,a){return i=s(i),function(t,e,n){return i.contain(e[0],e[1])&&!o(t,r,a)}}},function(t,e,n){var _=n(49),x=n(0),b=n(59).getDimensionTypeByAxis,w=n(26).makeSeriesEncodeForAxisCoordSys,i={_baseAxisDim:null,getInitialData:function(t,e){var n,i,r=e.getComponent(\"xAxis\",this.get(\"xAxisIndex\")),a=e.getComponent(\"yAxis\",this.get(\"yAxisIndex\")),o=r.get(\"type\"),s=a.get(\"type\");\"category\"===o?(t.layout=\"horizontal\",n=r.getOrdinalMeta(),i=!0):\"category\"===s?(t.layout=\"vertical\",n=a.getOrdinalMeta(),i=!0):t.layout=t.layout||\"horizontal\";var l,u=[\"x\",\"y\"],h=\"horizontal\"===t.layout?0:1,c=this._baseAxisDim=u[h],d=u[1-h],f=[r,a],p=f[h].get(\"type\"),g=f[1-h].get(\"type\"),m=t.data;m&&i&&(l=[],x.each(m,function(t,e){var n;t.value&&x.isArray(t.value)?(n=t.value.slice(),t.value.unshift(e)):x.isArray(t)?(n=t.slice(),t.unshift(e)):n=t,l.push(n)}),t.data=l);var v=this.defaultValueDimensions,y=[{name:c,type:b(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:[\"base\"]},{name:d,type:b(g),dimsDef:v.slice()}];return _(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:x.curry(w,y,this)})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+\"Axis\",this.get(t+\"AxisIndex\")).axis}};e.seriesModelMixin=i},function(t,e,n){var i=n(2),r=n(106),f=n(0),s=n(18).createSymbol,d=n(8),p=n(28);function a(t,e,n){i.Group.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}var o=a.prototype;o.createLine=function(t,e,n){return new r(t,e,n)},o._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel(\"effect\"),i=n.get(\"symbolSize\"),r=n.get(\"symbol\");f.isArray(i)||(i=[i,i]);var a=n.get(\"color\")||t.getItemVisual(e,\"color\"),o=this.childAt(1);this._symbolType!==r&&(this.remove(o),(o=s(r,-.5,-.5,1,1,a)).z2=100,o.culling=!0,this.add(o)),o&&(o.setStyle(\"shadowColor\",a),o.setStyle(n.getItemStyle([\"color\"])),o.attr(\"scale\",i),o.setColor(a),o.attr(\"scale\",i),this._symbolType=r,this._symbolScale=i,this._updateEffectAnimation(t,n,e))},o._updateEffectAnimation=function(e,t,n){var i,r,a,o,s,l,u,h,c,d=this.childAt(1);d&&(i=this,r=e.getItemLayout(n),a=1e3*t.get(\"period\"),o=t.get(\"loop\"),s=t.get(\"constantSpeed\"),u=\"function\"==typeof(l=f.retrieve(t.get(\"delay\"),function(t){return t/e.count()*a/3})),d.ignore=!0,this.updateAnimationPoints(d,r),0<s&&(a=this.getLineLength(d)/s*1e3),a===this._period&&o===this._loop||(d.stopAnimation(),h=l,u&&(h=l(n)),0<d.__t&&(h=-a*d.__t),d.__t=0,c=d.animate(\"\",o).when(a,{__t:1}).delay(h).during(function(){i.updateSymbolPosition(d)}),o||c.done(function(){i.remove(d)}),c.start()),this._period=a,this._loop=o)},o.getLineLength=function(t){return d.dist(t.__p1,t.__cp1)+d.dist(t.__cp1,t.__p2)},o.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},o.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},o.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,a=t.position,o=[a[0],a[1]],s=p.quadraticAt,l=p.quadraticDerivativeAt;a[0]=s(e[0],i[0],n[0],r),a[1]=s(e[1],i[1],n[1],r);var u,h=l(e[0],i[0],n[0],r),c=l(e[1],i[1],n[1],r);t.rotation=-Math.atan2(c,h)-Math.PI/2,\"line\"!==this._symbolType&&\"rect\"!==this._symbolType&&\"roundRect\"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(u=1.05*d.dist(o,a),t.attr(\"scale\",[t.scale[0],u]),1===r&&(a[0]=o[0]+(a[0]-o[0])/2,a[1]=o[1]+(a[1]-o[1])/2)):1===t.__lastT?(u=2*d.dist(e,a),t.attr(\"scale\",[t.scale[0],u])):t.attr(\"scale\",this._symbolScale)),t.__lastT=t.__t,t.ignore=!1},o.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel(\"effect\");this._updateEffectAnimation(t,n,e)},f.inherits(a,i.Group),t.exports=a},function(t,e,n){var l=n(2),u=n(0);function i(t,e,n){l.Group.call(this),this._createPolyline(t,e,n)}var r=i.prototype;r._createPolyline=function(t,e,n){var i=t.getItemLayout(e),r=new l.Polyline({shape:{points:i}});this.add(r),this._updateCommonStl(t,e,n)},r.updateData=function(t,e,n){var i=t.hostModel,r=this.childAt(0),a={shape:{points:t.getItemLayout(e)}};l.updateProps(r,a,i,e),this._updateCommonStl(t,e,n)},r._updateCommonStl=function(t,e,n){var i=this.childAt(0),r=t.getItemModel(e),a=t.getItemVisual(e,\"color\"),o=n&&n.lineStyle,s=n&&n.hoverLineStyle;n&&!t.hasItemOption||(o=r.getModel(\"lineStyle\").getLineStyle(),s=r.getModel(\"emphasis.lineStyle\").getLineStyle()),i.useStyle(u.defaults({strokeNoScale:!0,fill:\"none\",stroke:a},o)),i.hoverStyle=s,l.setHoverStyle(this)},r.updateLayout=function(t,e){this.childAt(0).setShape(\"points\",t.getItemLayout(e))},u.inherits(i,l.Group),t.exports=i},function(t,e,n){var i={seriesType:\"lines\",plan:n(46)(),reset:function(g){var m=g.coordinateSystem,v=g.get(\"polyline\"),y=g.pipelineContext.large;return{progress:function(t,e){var n=[];if(y){var i,r=t.end-t.start;if(v){for(var a=0,o=t.start;o<t.end;o++)a+=g.getLineCoordsCount(o);i=new Float32Array(r+2*a)}else i=new Float32Array(4*r);for(var s=0,l=[],o=t.start;o<t.end;o++){var u=g.getLineCoords(o,n);v&&(i[s++]=u);for(var h=0;h<u;h++)l=m.dataToPoint(n[h],!1,l),i[s++]=l[0],i[s++]=l[1]}e.setLayout(\"linesPoints\",i)}else for(o=t.start;o<t.end;o++){var c=e.getItemModel(o),u=g.getLineCoords(o,n),d=[];if(v)for(var f=0;f<u;f++)d.push(m.dataToPoint(n[f]));else{d[0]=m.dataToPoint(n[0]),d[1]=m.dataToPoint(n[1]);var p=c.get(\"lineStyle.curveness\");+p&&(d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*p,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*p])}e.setItemLayout(o,d)}}}}};t.exports=i},function(t,e,n){var i=n(1);n(389),n(392),n(393),n(67),n(397),i.extendComponentView({type:\"single\"})},function(t,e,n){var c=n(0);e.layout=function(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,r={},a=i.position,o=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=[\"vertical\"===o?u.vertical[a]:l[0],\"horizontal\"===o?u.horizontal[a]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[o],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],t.get(\"axisTick.inside\")&&(r.tickDirection=-r.tickDirection),c.retrieve(e.labelInside,t.get(\"axisLabel.inside\"))&&(r.labelDirection=-r.labelDirection);var h=e.rotate;return null==h&&(h=t.get(\"axisLabel.rotate\")),r.labelRotation=\"top\"===a?-h:h,r.z2=1,r}},function(t,e,n){var h=n(0),c=n(4);t.exports=function(t,e){var n,i=[],r=t.seriesIndex;if(null==r||!(n=e.getSeriesByIndex(r)))return{point:[]};var a=n.getData(),o=c.queryDataIndex(a,t);if(null==o||o<0||h.isArray(o))return{point:[]};var s,l=a.getItemGraphicEl(o),u=n.coordinateSystem;return n.getTooltipPosition?i=n.getTooltipPosition(o)||[]:u&&u.dataToPoint?i=u.dataToPoint(a.getValues(h.map(u.dimensions,function(t){return a.mapDimension(t)}),o,!0))||[]:l&&((s=l.getBoundingRect().clone()).applyTransform(l.transform),i=[s.x+s.width/2,s.y+s.height/2]),{point:i,el:l}}},function(t,e,n){var r=n(0),a=n(11),u=(0,n(4).makeInner)(),h=r.each;function o(t,e,n){t.handler(\"leave\",null,n)}function c(t,e,n,i){e.handler(t,n,i)}e.register=function(t,e,n){var i;a.node||(i=e.getZr(),u(i).records||(u(i).records={}),function(s,l){if(u(s).initialized)return;function t(t,o){s.on(t,function(e){var n,i,r,a=(n=l,{dispatchAction:r=function(t){var e=i[t.type];e?e.push(t):(t.dispatchAction=r,n.dispatchAction(t))},pendings:i={showTip:[],hideTip:[]}});h(u(s).records,function(t){t&&o(t,e,a.dispatchAction)}),function(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]);n&&(n.dispatchAction=null,e.dispatchAction(n))}(a.pendings,l)})}u(s).initialized=!0,t(\"click\",r.curry(c,\"click\")),t(\"mousemove\",r.curry(c,\"mousemove\")),t(\"globalout\",o)}(i,e),(u(i).records[t]||(u(i).records[t]={})).handler=n)},e.unregister=function(t,e){var n;a.node||(n=e.getZr(),(u(n).records||{})[t]&&(u(n).records[t]=null))}},function(t,e,n){var i=n(109),f=n(84),p=n(160),r=n(40),a=i.extend({makeElOption:function(t,e,n,i,r){var a,o,s=n.axis,l=s.grid,u=i.get(\"type\"),h=g(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(e,!0));u&&\"none\"!==u&&(a=f.buildElStyle(i),(o=m[u](s,c,h)).style=a,t.graphicKey=o.type,t.pointer=o);var d=p.layout(l.model,n);f.buildCartesianSingleLabelElOption(e,t,d,n,i,r)},getHandleTransform:function(t,e,n){var i=p.layout(e.axis.grid.model,e,{labelInside:!1});return i.labelMargin=n.get(\"handle.margin\"),{position:f.getTransformedPosition(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,i){var r=n.axis,a=r.grid,o=r.getGlobalExtent(!0),s=g(a,r).getOtherAxis(r).getGlobalExtent(),l=\"x\"===r.dim?0:1,u=t.position;u[l]+=e[l],u[l]=Math.min(o[1],u[l]),u[l]=Math.max(o[0],u[l]);var h=(s[1]+s[0])/2,c=[h,h];c[l]=u[l];return{position:u,rotation:t.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:\"middle\"},{align:\"center\"}][l]}}});function g(t,e){var n={};return n[e.dim+\"AxisIndex\"]=e.index,t.getCartesian(n)}var m={line:function(t,e,n){return{type:\"Line\",subPixelOptimize:!0,shape:f.makeLineShape([e,n[0]],[e,n[1]],o(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),r=n[1]-n[0];return{type:\"Rect\",shape:f.makeRectShape([e-i/2,n[0]],[i,r],o(t))}}};function o(t){return\"x\"===t.dim?0:1}r.registerAxisPointerClass(\"CartesianAxisPointer\",a),t.exports=a},function(t,e,n){var i=n(6),s=i.getLayoutRect,l=i.box,u=i.positionElement,r=n(7),a=n(2);e.layout=function(t,e,n){var i=e.getBoxLayoutParams(),r=e.get(\"padding\"),a={width:n.getWidth(),height:n.getHeight()},o=s(i,a,r);l(e.get(\"orient\"),t,e.get(\"itemGap\"),o.width,o.height),u(t,i,a,r)},e.makeBackground=function(t,e){var n=r.normalizeCssArray(e.get(\"padding\")),i=e.getItemStyle([\"color\",\"opacity\"]);return i.fill=e.get(\"backgroundColor\"),t=new a.Rect({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get(\"borderRadius\")},style:i,silent:!0,z2:-1})}},function(t,e,n){n(5).__DEV__;var l=n(0),i=n(2),r=n(4),a=n(176),h=l.each,u=l.indexOf,o=l.curry,s=[\"dataToPoint\",\"pointToData\"],c=[\"grid\",\"xAxis\",\"yAxis\",\"geo\",\"graph\",\"polar\",\"radiusAxis\",\"angleAxis\",\"bmap\"];function d(t,e,n){var i=this._targetInfoList=[],r={},a=g(e,t);h(m,function(t,e){n&&n.include&&!(0<=u(n.include,e))||t(a,i,r)})}var f=d.prototype;function p(t){return t[0]>t[1]&&t.reverse(),t}function g(t,e){return r.parseFinder(t,e,{includeMainTypes:c})}f.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,n){var i;(t.coordRanges||(t.coordRanges=[])).push(e),t.coordRange||(t.coordRange=e,i=_[t.brushType](0,n,e),t.__rangeOffset={offset:b[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax})})},f.matchOutputRanges=function(t,i,r){h(t,function(n){var t=this.findTargetInfo(n,i);t&&!0!==t&&l.each(t.coordSyses,function(t){var e=_[n.brushType](1,t,n.range);r(n,e.values,t,i)})},this)},f.setInputRanges=function(t,u){h(t,function(t){var e,n,i,r,a,o,s,l=this.findTargetInfo(t,u);t.range=t.range||[],l&&!0!==l&&(t.panelId=l.panelId,e=_[t.brushType](0,l.coordSys,t.coordRange),n=t.__rangeOffset,t.range=n?b[t.brushType](e.values,n.offset,(i=e.xyMinMax,r=n.xyMinMax,a=T(i),o=T(r),s=[a[0]/o[0],a[1]/o[1]],isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s)):e.values)},this)},f.makePanelOpts=function(n,i){return l.map(this._targetInfoList,function(t){var e=t.getPanelRect();return{panelId:t.panelId,defaultBrushType:i&&i(t),clipPath:a.makeRectPanelClipPath(e),isTargetByCursor:a.makeRectIsTargetByCursor(e,n,t.coordSysModel),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(e)}})},f.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&0<=u(i.coordSyses,e.coordinateSystem)},f.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=g(e,t),r=0;r<n.length;r++){var a=n[r],o=t.panelId;if(o){if(a.panelId===o)return a}else for(r=0;r<v.length;r++)if(v[r](i,a))return a}return!0};var m={grid:function(t,i){var r=t.xAxisModels,a=t.yAxisModels,e=t.gridModels,n=l.createHashMap(),o={},s={};(r||a||e)&&(h(r,function(t){var e=t.axis.grid.model;n.set(e.id,e),o[e.id]=!0}),h(a,function(t){var e=t.axis.grid.model;n.set(e.id,e),s[e.id]=!0}),h(e,function(t){n.set(t.id,t),o[t.id]=!0,s[t.id]=!0}),n.each(function(t){var e=t.coordinateSystem,n=[];h(e.getCartesians(),function(t,e){(0<=u(r,t.getAxis(\"x\").model)||0<=u(a,t.getAxis(\"y\").model))&&n.push(t)}),i.push({panelId:\"grid--\"+t.id,gridModel:t,coordSysModel:t,coordSys:n[0],coordSyses:n,getPanelRect:y.grid,xAxisDeclared:o[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,n){h(t.geoModels,function(t){var e=t.coordinateSystem;n.push({panelId:\"geo--\"+t.id,geoModel:t,coordSysModel:t,coordSys:e,coordSyses:[e],getPanelRect:y.geo})})}},v=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],y={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(i.getTransform(t)),e}},_={lineX:o(x,0),lineY:o(x,1),rect:function(t,e,n){var i=e[s[t]]([n[0][0],n[1][0]]),r=e[s[t]]([n[0][1],n[1][1]]),a=[p([i[0],r[0]]),p([i[1],r[1]])];return{values:a,xyMinMax:a}},polygon:function(n,i,t){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:l.map(t,function(t){var e=i[s[n]](t);return r[0][0]=Math.min(r[0][0],e[0]),r[1][0]=Math.min(r[1][0],e[1]),r[0][1]=Math.max(r[0][1],e[0]),r[1][1]=Math.max(r[1][1],e[1]),e}),xyMinMax:r}}};function x(t,e,n,i){var r=n.getAxis([\"x\",\"y\"][t]),a=p(l.map([0,1],function(t){return e?r.coordToData(r.toLocalCoord(i[t])):r.toGlobalCoord(r.dataToCoord(i[t]))})),o=[];return o[t]=a,o[1-t]=[NaN,NaN],{values:a,xyMinMax:o}}var b={lineX:o(w,0),lineY:o(w,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,n,i){return l.map(t,function(t,e){return[t[0]-i[0]*n[e][0],t[1]-i[1]*n[e][1]]})}};function w(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function T(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}t.exports=d},function(t,e,n){var s=n(0).each,i=\"\\0_ec_hist_store\";function l(t){return t[i]||(t[i]=[{}])}e.push=function(a,t){var o=l(a);s(t,function(t,e){for(var n,i,r=o.length-1;0<=r;r--){if(o[r][e])break}r<0&&((n=a.queryComponents({mainType:\"dataZoom\",subType:\"select\",id:e})[0])&&(i=n.getPercentRange(),o[0][e]={dataZoomId:e,start:i[0],end:i[1]}))}),o.push(t)},e.pop=function(t){var i=l(t),e=i[i.length-1];1<i.length&&i.pop();var r={};return s(e,function(t,e){for(var n=i.length-1;0<=n;n--){if(t=i[n][e]){r[e]=t;break}}}),r},e.clear=function(t){t[i]=null},e.count=function(t){return l(t).length}},function(t,e,n){var i=n(1),v=n(0),r=n(9),y=n(85),_=n(454),o=n(29),a=n(187),x=[\"inBrush\",\"outOfBrush\"],s=\"__ecBrushSelect\",l=\"__ecInBrushSelectEvent\",u=i.PRIORITY.VISUAL.BRUSH;function h(e){e.eachComponent({mainType:\"brush\"},function(t){(t.brushTargetManager=new a(t.option,e)).setInputRanges(t.areas,e)})}function c(t,e){var n;t.isDisposed()||((n=t.getZr())[l]=!0,t.dispatchAction({type:\"brushSelect\",batch:e}),n[l]=!1)}function b(t,e,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(t[o.brushType](i,n,o.selectors,o))return 1}}function w(t){var o=t.brushSelector;if(v.isString(o)){var e=[];return v.each(_,function(a,t){e[t]=function(t,e,n,i){var r=e.getItemLayout(t);return a[o](r,n,i)}}),e}if(v.isFunction(o)){var n={};return v.each(_,function(t,e){n[e]=o}),n}return o}i.registerLayout(u,function(t,e,n){t.eachComponent({mainType:\"brush\"},function(t){n&&\"takeGlobalCursor\"===n.type&&t.setBrushOption(\"brush\"===n.key?n.brushOption:{brushType:!1})}),h(t)}),i.registerVisual(u,function(g,t,e){var r,a,m=[];g.eachComponent({mainType:\"brush\"},function(o,t){var s={brushId:o.id,brushIndex:t,brushName:o.name,areas:v.clone(o.areas),selected:[]};m.push(s);var e=o.option,n=e.brushLink,i=[],l=[],u=[],h=0;t||(r=e.throttleType,a=e.throttleDelay);var c=v.map(o.areas,function(t){return n=v.defaults({boundingRect:T[t.brushType](t)},t),i=n.selectors={},v.each(_[n.brushType],function(e,t){i[t]=function(t){return e(t,i,n)}}),n;var n,i}),d=y.createVisualMappings(o.option,x,function(t){t.mappingMethod=\"fixed\"});function f(t){return\"all\"===n||i[t]}function p(t){return!!t.length}v.isArray(n)&&v.each(n,function(t){i[t]=1}),g.eachSeries(function(t,e){var n,i,r,a=u[e]=[];\"parallel\"===t.subType?(i=e,r=(n=t).coordinateSystem,h|=r.hasAxisBrushed(),f(i)&&r.eachActiveState(n.getData(),function(t,e){\"active\"===t&&(l[e]=1)})):function(e,t,n){var i=w(e);if(!i||function(t,e){var n=t.option.seriesIndex;return null!=n&&\"all\"!==n&&(v.isArray(n)?v.indexOf(n,e)<0:e!==n)}(o,t))return;{var r;v.each(c,function(t){i[t.brushType]&&o.brushTargetManager.controlSeries(t,e,g)&&n.push(t),h|=p(n)}),f(t)&&p(n)&&(r=e.getData()).each(function(t){b(i,n,r,t)&&(l[t]=1)})}}(t,e,a)}),g.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};s.selected.push(n);var i=w(t),r=u[e],a=t.getData(),o=f(e)?function(t){return l[t]?(n.dataIndex.push(a.getRawIndex(t)),\"inBrush\"):\"outOfBrush\"}:function(t){return b(i,r,a,t)?(n.dataIndex.push(a.getRawIndex(t)),\"inBrush\"):\"outOfBrush\"};(f(e)?h:p(r))&&y.applyVisual(x,d,a,o)})}),function(t,e,n,i,r){if(!r)return;var a=t.getZr();if(a[l])return;a[s]||(a[s]=c);o.createOrUpdate(a,s,n,e)(t,i)}(t,r,a,m,e)});var T={lineX:v.noop,lineY:v.noop,rect:function(t){return d(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=n[i];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&d(e)}};function d(t){return new r(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}e.layoutCovers=h},function(t,e,n){var i=n(1);n(191),n(479),n(192);var r=n(480),a=n(13);i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,r),a.registerSubTypeDefaulter(\"legend\",function(){return\"plain\"})},function(t,e,n){var i=n(1),s=n(0),l=n(12),u=n(4).isNameSpecified,r=n(30).legend.selector,a={all:{type:\"all\",title:s.clone(r.all)},inverse:{type:\"inverse\",title:s.clone(r.inverse)}},o=i.extendComponentModel({type:\"legend.plain\",dependencies:[\"series\"],layoutMode:{type:\"box\",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){o.superCall(this,\"mergeOption\",t),this._updateSelector(t)},_updateSelector:function(t){var n=t.selector;!0===n&&(n=t.selector=[\"all\",\"inverse\"]),s.isArray(n)&&s.each(n,function(t,e){s.isString(t)&&(t={type:t}),n[e]=s.merge(t,a[t.type])})},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&\"single\"===this.get(\"selectedMode\")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get(\"name\");if(this.isSelected(i)){this.select(i),e=!0;break}}e||this.select(t[0].get(\"name\"))}},_updateData:function(r){var a=[],o=[];r.eachRawSeries(function(t){var e,n,i=t.name;o.push(i),t.legendVisualProvider?(n=t.legendVisualProvider.getAllNames(),r.isSeriesFiltered(t)||(o=o.concat(n)),n.length?a=a.concat(n):e=!0):e=!0,e&&u(t)&&a.push(t.name)}),this._availableNames=o;var t=this.get(\"data\")||a,e=s.map(t,function(t){return\"string\"!=typeof t&&\"number\"!=typeof t||(t={name:t}),new l(t,this,this.ecModel)},this);this._data=e},getData:function(){return this._data},select:function(t){var e,n=this.option.selected;\"single\"===this.get(\"selectedMode\")&&(e=this._data,s.each(e,function(t){n[t.get(\"name\")]=!1})),n[t]=!0},unSelect:function(t){\"single\"!==this.get(\"selectedMode\")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?\"unSelect\":\"select\"](t)},allSelect:function(){var t=this._data,e=this.option.selected;s.each(t,function(t){e[t.get(\"name\",!0)]=!0})},inverseSelect:function(){var t=this._data,n=this.option.selected;s.each(t,function(t){var e=t.get(\"name\",!0);n.hasOwnProperty(e)||(n[e]=!0),n[e]=!n[e]})},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&0<=s.indexOf(this._availableNames,t)},getOrient:function(){return\"vertical\"===this.get(\"orient\")?{index:1,name:\"vertical\"}:{index:0,name:\"horizontal\"}},defaultOption:{zlevel:0,z:4,show:!0,orient:\"horizontal\",left:\"center\",top:0,align:\"auto\",backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:\"#ccc\",inactiveBorderColor:\"#ccc\",itemStyle:{borderWidth:0},textStyle:{color:\"#333\"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:\" sans-serif\",color:\"#666\",borderWidth:1,borderColor:\"#666\"},emphasis:{selectorLabel:{show:!0,color:\"#eee\",backgroundColor:\"#666\"}},selectorPosition:\"auto\",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});t.exports=o},function(t,e,n){n(5).__DEV__;var i=n(1),E=n(0),L=n(18).createSymbol,P=n(2),p=n(186).makeBackground,y=n(6),v=E.curry,r=E.each,N=P.Group,a=i.extendComponentView({type:\"legend.plain\",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new N),this._backgroundEl,this.group.add(this._selectorGroup=new N),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,n){var i,r,a,o,s,l,u,h,c,d,f=this._isFirstRender;this._isFirstRender=!1,this.resetInner(),t.get(\"show\",!0)&&(i=t.get(\"align\"),r=t.get(\"orient\"),i&&\"auto\"!==i||(i=\"right\"===t.get(\"left\")&&\"vertical\"===r?\"right\":\"left\"),a=t.get(\"selector\",!0),o=t.get(\"selectorPosition\",!0),!a||o&&\"auto\"!==o||(o=\"horizontal\"===r?\"end\":\"start\"),this.renderInner(i,t,e,n,a,r,o),s=t.getBoxLayoutParams(),l={width:n.getWidth(),height:n.getHeight()},u=t.get(\"padding\"),h=y.getLayoutRect(s,l,u),c=this.layoutInner(t,i,h,f,a,o),d=y.getLayoutRect(E.defaults({width:c.width,height:c.height},s),l,u),this.group.attr(\"position\",[d.x-c.x,d.y-c.y]),this.group.add(this._backgroundEl=p(c,t)))},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(u,h,c,d,t,e,n){var f=this.getContentGroup(),p=E.createHashMap(),g=h.get(\"selectedMode\"),m=[];c.eachRawSeries(function(t){t.get(\"legendHoverLink\")||m.push(t.id)}),r(h.getData(),function(a,o){var t,e,n,i,r,s,l=a.get(\"name\");this.newlineDisabled||\"\"!==l&&\"\\n\"!==l?(t=c.getSeriesByName(l)[0],p.get(l)||(t?(n=(e=t.getData()).getVisual(\"color\"),i=e.getVisual(\"borderColor\"),\"function\"==typeof n&&(n=n(t.getDataParams(0))),\"function\"==typeof i&&(i=i(t.getDataParams(0))),r=e.getVisual(\"legendSymbol\")||\"roundRect\",s=e.getVisual(\"symbol\"),this._createItem(l,o,a,h,r,s,u,n,i,g).on(\"click\",v(_,l,null,d,m)).on(\"mouseover\",v(x,t.name,null,d,m)).on(\"mouseout\",v(b,t.name,null,d,m)),p.set(l,!0)):c.eachRawSeries(function(t){if(!p.get(l)&&t.legendVisualProvider){var e=t.legendVisualProvider;if(!e.containName(l))return;var n=e.indexOfName(l),i=e.getItemVisual(n,\"color\"),r=e.getItemVisual(n,\"borderColor\");this._createItem(l,o,a,h,\"roundRect\",null,u,i,r,g).on(\"click\",v(_,null,l,d,m)).on(\"mouseover\",v(x,null,l,d,m)).on(\"mouseout\",v(b,null,l,d,m)),p.set(l,!0)}},this))):f.add(new N({newline:!0}))},this),t&&this._createSelector(t,h,d,e,n)},_createSelector:function(t,a,o,e,n){var s=this.getSelectorGroup();r(t,function(t){!function(t){var e=t.type,n=new P.Text({style:{x:0,y:0,align:\"center\",verticalAlign:\"middle\"},onclick:function(){o.dispatchAction({type:\"all\"===e?\"legendAllSelect\":\"legendInverseSelect\"})}});s.add(n);var i=a.getModel(\"selectorLabel\"),r=a.getModel(\"emphasis.selectorLabel\");P.setLabelStyle(n.style,n.hoverStyle={},i,r,{defaultText:t.title,isRectText:!1}),P.setHoverStyle(n)}(t)})},_createItem:function(t,e,n,i,r,a,o,s,l,u){var h,c,d=i.get(\"itemWidth\"),f=i.get(\"itemHeight\"),p=i.get(\"inactiveColor\"),g=i.get(\"inactiveBorderColor\"),m=i.get(\"symbolKeepAspect\"),v=i.getModel(\"itemStyle\"),y=i.isSelected(t),_=new N,x=n.getModel(\"textStyle\"),b=n.get(\"icon\"),w=n.getModel(\"tooltip\"),T=w.parentModel,S=L(r=b||r,0,0,d,f,y?s:p,null==m||m);_.add(O(S,r,v,l,g,y)),b||!a||a===r&&\"none\"!==a||(\"none\"===a&&(a=\"circle\"),c=L(a,(d-(h=.8*f))/2,(f-h)/2,h,h,y?s:p,null==m||m),_.add(O(c,a,v,l,g,y)));var M=\"left\"===o?d+5:-5,A=o,I=i.get(\"formatter\"),C=t;\"string\"==typeof I&&I?C=I.replace(\"{name}\",null!=t?t:\"\"):\"function\"==typeof I&&(C=I(t)),_.add(new P.Text({style:P.setTextStyle({},x,{text:C,x:M,y:f/2,textFill:y?x.getTextColor():p,textAlign:A,textVerticalAlign:\"middle\"})}));var D=new P.Rect({shape:_.getBoundingRect(),invisible:!0,tooltip:w.get(\"show\")?E.extend({content:t,formatter:T.get(\"formatter\",!0)||function(){return t},formatterParams:{componentType:\"legend\",legendIndex:i.componentIndex,name:t,$vars:[\"name\"]}},w.option):null});return _.add(D),_.eachChild(function(t){t.silent=!0}),D.silent=!u,this.getContentGroup().add(_),P.setHoverStyle(_),_.__legendDataIndex=e,_},layoutInner:function(t,e,n,i,r,a){var o=this.getContentGroup(),s=this.getSelectorGroup();y.box(t.get(\"orient\"),o,t.get(\"itemGap\"),n.width,n.height);var l=o.getBoundingRect(),u=[-l.x,-l.y];if(r){y.box(\"horizontal\",s,t.get(\"selectorItemGap\",!0));var h=s.getBoundingRect(),c=[-h.x,-h.y],d=t.get(\"selectorButtonGap\",!0),f=t.getOrient().index,p=0===f?\"width\":\"height\",g=0===f?\"height\":\"width\",m=0===f?\"y\":\"x\";\"end\"===a?c[f]+=l[p]+d:u[f]+=h[p]+d,c[1-f]+=l[g]/2-h[g]/2,s.attr(\"position\",c),o.attr(\"position\",u);var v={x:0,y:0};return v[p]=l[p]+d+h[p],v[g]=Math.max(l[g],h[g]),v[m]=Math.min(0,h[m]+c[1-f]),v}return o.attr(\"position\",u),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function O(t,e,n,i,r,a){var o;return\"line\"!==e&&e.indexOf(\"empty\")<0?(o=n.getItemStyle(),t.style.stroke=i,a||(o.stroke=r)):o=n.getItemStyle([\"borderWidth\",\"borderColor\"]),t.setStyle(o)}function _(t,e,n,i){b(t,e,n,i),n.dispatchAction({type:\"legendToggleSelect\",name:null!=t?t:e}),x(t,e,n,i)}function x(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:\"highlight\",seriesName:t,name:e,excludeSeriesId:i})}function b(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:\"downplay\",seriesName:t,name:e,excludeSeriesId:i})}t.exports=a},function(t,e,n){n(111),n(51),n(52),n(485),n(486),n(113),n(114)},function(t,e,n){n(111),n(51),n(52),n(487),n(488),n(113),n(114)},function(t,e,n){var i=n(1),r=n(196);n(197),n(198),n(491),n(492),n(203),i.registerPreprocessor(r)},function(t,e,n){var i=n(0),r=i.each;function a(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.visualMap;i.isArray(e)||(e=e?[e]:[]),r(e,function(t){var e;t&&(a(t,\"splitList\")&&!a(t,\"pieces\")&&(t.pieces=t.splitList,delete t.splitList),(e=t.pieces)&&i.isArray(e)&&r(e,function(t){i.isObject(t)&&(a(t,\"start\")&&!a(t,\"min\")&&(t.min=t.start),a(t,\"end\")&&!a(t,\"max\")&&(t.max=t.end))}))})}},function(t,e,n){n(13).registerSubTypeDefaulter(\"visualMap\",function(t){return t.categories||(t.pieces?0<t.pieces.length:0<t.splitNumber)&&!t.calculable?\"piecewise\":\"continuous\"})},function(t,e,n){var i=n(1),s=n(0),r=n(85),f=n(42),a=i.PRIORITY.VISUAL.COMPONENT;function l(t,e,n,i){for(var r=e.targetVisuals[i],a=f.prepareVisualTypes(r),o={color:t.getData().getVisual(\"color\")},s=0,l=a.length;s<l;s++){var u=a[s],h=r[\"opacity\"===u?\"__alphaForOpacity\":u];h&&h.applyVisual(n,c,d)}return o.color;function c(t){return o[t]}function d(t,e){o[t]=e}}i.registerVisual(a,{createOnAllSeries:!0,reset:function(n,t){var i=[];return t.eachComponent(\"visualMap\",function(t){var e=n.pipelineContext;!t.isTargetSeries(n)||e&&e.large||i.push(r.incrementalApplyVisual(t.stateList,t.targetVisuals,s.bind(t.getValueState,t),t.getDataDimension(n.getData())))}),i}}),i.registerVisual(a,{createOnAllSeries:!0,reset:function(r,t){var a=r.getData(),o=[];t.eachComponent(\"visualMap\",function(t){var e,n,i;t.isTargetSeries(r)&&(e=t.getVisualMeta(s.bind(l,null,r,t))||{stops:[],outerColors:[]},n=t.getDataDimension(a),null!=(i=a.getDimensionInfo(n))&&(e.dimension=i.index,o.push(e)))}),r.getData().setVisual(\"visualMeta\",o)}})},function(t,e,n){var i=n(1),h=n(0),r=n(11),o=n(200),s=n(42),a=n(85),l=n(4),u=n(3),c=s.mapVisual,d=s.eachVisual,f=h.isArray,p=h.each,g=u.asc,m=u.linearMap,v=h.noop,y=i.extendComponentModel({type:\"visualMap\",dependencies:[\"series\"],stateList:[\"inRange\",\"outOfRange\"],replacableOptionKeys:[\"inRange\",\"outOfRange\",\"target\",\"controller\",\"color\"],dataBound:[-1/0,1/0],layoutMode:{type:\"box\",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:\"all\",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:\"vertical\",backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",contentColor:\"#5793f3\",inactiveColor:\"#aaa\",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:\"#333\"}},init:function(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;r.canvasSupported||(n.realtime=!1),e||a.replaceVisualOption(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel(\"textStyle\"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=h.bind(t,this),this.controllerVisuals=a.createVisualMappings(this.option.controller,e,t),this.targetVisuals=a.createVisualMappings(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,n=[];return null==t||\"all\"===t?this.ecModel.eachSeries(function(t,e){n.push(e)}):n=l.normalizeToArray(t),n},eachTargetSeries:function(e,n){h.each(this.getTargetSeriesIndices(),function(t){e.call(n,this.ecModel.getSeriesByIndex(t))},this)},isTargetSeries:function(e){var n=!1;return this.eachTargetSeries(function(t){t===e&&(n=!0)}),n},formatValueText:function(t,e,n){var i,r,a=this.option,o=a.precision,s=this.dataBound,l=a.formatter;return n=n||[\"<\",\">\"],h.isArray(t)&&(t=t.slice(),i=!0),r=e?t:i?[u(t[0]),u(t[1])]:u(t),h.isString(l)?l.replace(\"{value}\",i?r[0]:r).replace(\"{value2}\",i?r[1]:r):h.isFunction(l)?i?l(t[0],t[1]):l(t):i?t[0]===s[0]?n[0]+\" \"+r[1]:t[1]===s[1]?n[1]+\" \"+r[0]:r[0]+\" - \"+r[1]:r;function u(t){return t===s[0]?\"min\":t===s[1]?\"max\":(+t).toFixed(Math.min(o,20))}},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var i=t.dimensions,r=i.length-1;0<=r;r--){var a=i[r];if(!t.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),r=e.controller||(e.controller={});h.merge(i,n),h.merge(r,n);var u=this.isCategory();function a(i){f(e.color)&&!i.inRange&&(i.inRange={color:e.color.slice().reverse()}),i.inRange=i.inRange||{color:t.get(\"gradientColor\")},p(this.stateList,function(t){var e,n=i[t];h.isString(n)&&((e=o.get(n,\"active\",u))?(i[t]={},i[t][n]=e):delete i[t])},this)}a.call(this,i),a.call(this,r),function(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},p(i,function(t,e){var n;!s.isValidType(e)||null!=(n=o.get(e,\"inactive\",u))&&(r[e]=n,\"color\"!==e||r.hasOwnProperty(\"opacity\")||r.hasOwnProperty(\"colorAlpha\")||(r.opacity=[0,0]))}))}.call(this,i,\"inRange\",\"outOfRange\"),function(a){var o=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,s=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,l=this.get(\"inactiveColor\");p(this.stateList,function(t){var e=this.itemSize,n=a[t];null==(n=n||(a[t]={color:u?l:[l]})).symbol&&(n.symbol=o&&h.clone(o)||(u?\"roundRect\":[\"roundRect\"])),null==n.symbolSize&&(n.symbolSize=s&&h.clone(s)||(u?e[0]:[e[0],e[0]])),n.symbol=c(n.symbol,function(t){return\"none\"===t||\"square\"===t?\"roundRect\":t});var i,r=n.symbolSize;null!=r&&(i=-1/0,d(r,function(t){i<t&&(i=t)}),n.symbolSize=c(r,function(t){return m(t,[0,i],[0,e[0]],!0)}))},this)}.call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get(\"itemWidth\")),parseFloat(this.get(\"itemHeight\"))]},isCategory:function(){return!!this.option.categories},setSelected:v,getValueState:v,getVisualMeta:v});t.exports=y},function(t,e,n){var r=n(0),i={get:function(t,e,n){var i=r.clone((a[t]||{})[e]);return n&&r.isArray(i)?i[i.length-1]:i}},a={color:{active:[\"#006edd\",\"#e0ffff\"],inactive:[\"rgba(0,0,0,0)\"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[\"circle\",\"roundRect\",\"diamond\"],inactive:[\"none\"]},symbolSize:{active:[10,50],inactive:[0,0]}};t.exports=i},function(t,e,n){var i=n(1),c=n(0),r=n(2),a=n(7),o=n(6),d=n(42),s=i.extendComponentView({type:\"visualMap\",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,n,i){!1!==(this.visualMapModel=t).get(\"show\")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,n=a.normalizeCssArray(e.get(\"padding\")||0),i=t.getBoundingRect();t.add(new r.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get(\"backgroundColor\"),stroke:e.get(\"borderColor\"),lineWidth:e.get(\"borderWidth\")}}))},getControllerVisual:function(n,i,r){var t,e=(r=r||{}).forceState,a=this.visualMapModel,o={};function s(t){return o[t]}function l(t,e){o[t]=e}\"symbol\"===i&&(o.symbol=a.get(\"itemSymbol\")),\"color\"===i&&(t=a.get(\"contentColor\"),o.color=t);var u=a.controllerVisuals[e||a.getValueState(n)],h=d.prepareVisualTypes(u);return c.each(h,function(t){var e=u[t];r.convertOpacityToAlpha&&\"opacity\"===t&&(t=\"colorAlpha\",e=u.__alphaForOpacity),d.dependsOn(t,i)&&e&&e.applyVisual(n,s,l)}),o[i]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;o.positionElement(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:c.noop});t.exports=s},function(t,e,n){var i=n(0),p=n(6).getLayoutRect;e.getItemAlign=function(t,e,n){var i=t.option,r=i.align;if(null!=r&&\"auto\"!==r)return r;for(var a={width:e.getWidth(),height:e.getHeight()},o=\"horizontal\"===i.orient?1:0,s=[[\"left\",\"right\",\"width\"],[\"top\",\"bottom\",\"height\"]],l=s[o],u=[0,null,10],h={},c=0;c<3;c++)h[s[1-o][c]]=u[c],h[l[c]]=2===c?n[0]:i[l[c]];var d=[[\"x\",\"width\",3],[\"y\",\"height\",0]][o],f=p(h,a,i.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*a[d[1]]?0:1]},e.makeHighDownBatch=function(t,e){return i.each(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey=\"visualMap\"+(e?e.componentIndex:\"\")}),t}},function(t,e,n){n(1).registerAction({type:\"selectDataRange\",event:\"dataRangeSelected\",update:\"update\"},function(e,t){t.eachComponent({mainType:\"visualMap\",query:e},function(t){t.setSelected(e.selected)})})},function(t,e,n){var i=n(1),r=n(196);n(197),n(198),n(493),n(494),n(203),i.registerPreprocessor(r)},function(t,e,n){var i,r=n(11),a=\"urn:schemas-microsoft-com:vml\",o=\"undefined\"==typeof window?null:window,s=!1,l=o&&o.document;if(l&&!r.canvasSupported)try{l.namespaces.zrvml||l.namespaces.add(\"zrvml\",a),i=function(t){return l.createElement(\"<zrvml:\"+t+' class=\"zrvml\">')}}catch(t){i=function(t){return l.createElement(\"<\"+t+' xmlns=\"'+a+'\" class=\"zrvml\">')}}e.doc=l,e.createNode=function(t){return i(t)},e.initVML=function(){var t;!s&&l&&(s=!0,(t=l.styleSheets).length<31?l.createStyleSheet().addRule(\".zrvml\",\"behavior:url(#default#VML)\"):t[0].addRule(\".zrvml\",\"behavior:url(#default#VML)\"))}},function(t,e,n){\"use strict\";e.__esModule=!0,n(207),n(208),n(504);var i=(l.prototype.update=function(t){var e,n,i,r=t.dataViews[0];this.dataView=r,this.items=[],r&&r.plain.profile.values.values.length&&r.plain.profile.province.values.length&&(e=r.plain,n=e.profile.province.values[0].display,i=e.profile.values.values,this.items=e.data.map(function(t){return{name:t[n],value:t[i[0].display]||0}})),this.properties=t.properties,this.render()},l.prototype.render=function(){this.chart.clear();var t=!this.items.length,e=t?l.mockItems:this.items;this.container.style.opacity=t?\"0.3\":\"1\";var i=this.properties,n=JSON.parse(i.pieces).map(function(t,e){var n=e%i.piecesColor.length;return t.color=i.piecesColor[n],t}),r=t?l.mockItems:this.dataView.plain,a=t?l.mockItems:r.profile.province.values[0].display,o=t?l.mockItems:r.profile.values.values,s={tooltip:{show:!t,trigger:\"item\",formatter:function(t){for(var e=\"\",n=0;n<r.data.length;n++)if(r.data[n][a]===t.name){e+=t.name;for(var i=0;i<o.length;i++)e+=\"<br/>\"+t.marker+\" \"+o[i].display+\":\"+r.data[n][o[i].display];return e}}},series:[{name:\"map\",type:\"map3D\",map:\"china\",itemStyle:{opacity:1,areaColor:i.mapColor,borderWidth:1,borderColor:i.borderColor},label:{show:!0,textStyle:{color:\"#fff\",fontSize:13,backgroundColor:\"rgba(0,0,0,0)\"}},data:e,viewControl:{distance:i.distance,alpha:i.alpha,beta:i.beta}}]};this.chart.setOption(s),i.showPieces&&this.chart.setOption({visualMap:{show:i.showVisualMap,type:\"piecewise\",right:\"2%\",bottom:\"5%\",textStyle:{color:i.textColor},pieces:n}})},l.prototype.onResize=function(){this.chart.resize(),this.render()},l.prototype.getInspectorHiddenState=function(t){return t.properties.showPieces?t.properties.showVisualMap?null:[\"textColor\"]:[\"showVisualMap\",\"textColor\",\"pieces\",\"piecesColor\"]},l.prototype.getActionBarHiddenState=function(t){return null},l.mockItems=[],l);function l(t,e){this.onActionEventHandler=function(t){console.log(t)},this.container=t,this.chart=n(86).init(t),this.items=[],this.dataView=[],this.properties={showPieces:!0,showVisualMap:!0,textColor:\"#ffffff\",mapColor:\"#2d8080\",borderColor:\"rgba(147, 235, 248, 1)\",distance:95,alpha:55,beta:5,pieces:'[{\"gt\": 10000,\"label\": \">10000\"},{\"gte\": 1000,\"lte\": 10000,\"label\": \"1000 - 10000\"},{\"gte\": 100,\"lt\": 1000,\"label\": \"100 - 999\"},{\"gte\": 1,\"lt\": 100,\"label\": \"1 - 99\"},{\"lte\": 0,\"label\": \"0\"}]'}}e.default=i},function(t,e,n){},function(t,e,n){var i,r,a;r=[e,n(86)],void 0===(a=\"function\"==typeof(i=function(t,e){var n=function(t){if(typeof console!==\"undefined\"){console&&console.error&&console.error(t)}};if(!e){n(\"ECharts is not Loaded\");return}if(!e.registerMap){n(\"ECharts Map is not loaded\");return}e.registerMap(\"china\",{type:\"FeatureCollection\",features:[{type:\"Feature\",id:\"710000\",properties:{id:\"710000\",cp:[121.509062,24.044332],name:\"台湾\",childNum:6},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@°Ü¯Û\"],[\"@@ƛĴÕƊÉɼģºðʀ\\\\ƎsÆNŌÔĚänÜƤɊĂǀĆĴĤǊŨxĚĮǂƺòƌâÔ®ĮXŦţƸZûÐƕƑGđ¨ĭMó·ęcëƝɉlÝƯֹÅŃ^Ó·śŃǋƏďíåɛGɉ¿@ăƑ¥ĘWǬÏĶŁâ\"],[\"@@\\\\p|WoYG¿¥Ij@¢\"],[\"@@¡@V^RqBbAnTXeRz¤L«³I\"],[\"@@ÆEEkWqë @\"],[\"@@fced\"],[\"@@¯ɜÄèaì¯ØǓIġĽ\"],[\"@@çûĖëĄhòř \"]],encodeOffsets:[[[122886,24033]],[[123335,22980]],[[122375,24193]],[[122518,24117]],[[124427,22618]],[[124862,26043]],[[126259,26318]],[[127671,26683]]]}},{type:\"Feature\",id:\"130000\",properties:{id:\"130000\",cp:[114.502461,38.045474],name:\"河北\",childNum:3},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@o~Z]ªrºc_ħ²G¼s`jÎŸnüsÂłNX_M`Ç½ÓnUKĜēs¤­©yrý§uģcJe\"],[\"@@U`Ts¿mÂ\"],[\"@@oºƋÄdeVDJj£J|ÅdzÂFt~KŨ¸IÆv|¢r}èonb}`RÎÄn°ÒdÞ²^®lnÐèĄlðÓ×]ªÆ}LiĂ±Ö`^°Ç¶p®đDcŋ`ZÔ¶êqvFÆN®ĆTH®¦O¾IbÐã´BĐɢŴÆíȦpĐÞXR·nndO¤OÀĈƒ­QgµFo|gȒęSWb©osx|hYhgŃfmÖĩnºTÌSp¢dYĤ¶UĈjlǐpäìë|³kÛfw²Xjz~ÂqbTÑěŨ@|oMzv¢ZrÃVw¬ŧĖ¸f°ÐTªqs{S¯r æÝlNd®²Ğ ǆiGĘJ¼lr}~K¨ŸƐÌWöÆzR¤lêmĞLÎ@¡|q]SvKÑcwpÏÏĿćènĪWlĄkT}J¤~ÈTdpddʾĬBVtEÀ¢ôPĎƗè@~kü\\\\rÊĔÖæW_§¼F´©òDòjYÈrbĞāøŀG{ƀ|¦ðrb|ÀH`pʞkvGpuARhÞÆǶgĘTǼƹS£¨¡ù³ŘÍ]¿ÂyôEP xX¶¹ÜO¡gÚ¡IwÃé¦ÅBÏ|Ç°N«úmH¯âDùyŜŲIÄuĐ¨D¸dɂFOhđ©OiÃ`ww^ÌkÑH«ƇǤŗĺtFu{Z}Ö@U´ʚLg®¯Oı°Ãw ^VbÉsmAê]]w§RRl£ȭµu¯b{ÍDěïÿȧuT£ġěŗƃĝQ¨fVƋƅn­a@³@ďyÃ½IĹÊKŭfċŰóxV@tƯJ]eR¾fe|rHA|h~Ėƍl§ÏlTíb ØoÅbbx³^zÃĶ¶Sj®AyÂhðk`«PËµEFÛ¬Y¨Ļrõqi¼Wi°§Ð±´°^[À|ĠO@ÆxO\\\\ta\\\\tĕtû{ġȧXýĪÓjùÎRb^ÎfK[ÝděYfíÙTyuUSyŌŏů@Oi½éŅ­aVcř§ax¹XŻácWU£ôãºQ¨÷Ñws¥qEHÙ|šYQoŕÇyáĂ£MÃ°oťÊP¡mWO¡v{ôvîēÜISpÌhp¨ jdeŔQÖjX³àĈ[n`Yp@UcM`RKhEbpŞlNut®EtqnsÁgAiúoHqCXhfgu~ÏWP½¢G^}¯ÅīGCÑ^ãziMáļMTÃƘrMc|O_¯Ŏ´|morDkO\\\\mĆJfl@cĢ¬¢aĦtRıÒ¾ùƀ^juųœK­UFyƝīÛ÷ąV×qƥV¿aȉd³BqPBmaËđŻģmÅ®V¹d^KKonYg¯XhqaLdu¥Ípǅ¡KąÅkĝęěhq}HyÃ]¹ǧ£Í÷¿qáµ§g¤o^á¾ZE¤i`ĳ{nOl»WÝĔįhgF[¿¡ßkOüš_ūiǱàUtėGyl}ÓM}jpEC~¡FtoQiHkk{Ãmï\"]],encodeOffsets:[[[119712,40641]],[[121616,39981]],[[116462,37237]]]}},{type:\"Feature\",id:\"140000\",properties:{id:\"140000\",cp:[111.849248,36.857014],name:\"山西\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@ÞĩÒSra}ÁyWix±Üe´lèßÓǏokćiµVZģ¡coTSË¹ĪmnÕńehZg{gtwªpXaĚThȑp{¶Eh®RćƑP¿£Pmc¸mQÝWďȥoÅîɡųAďä³aÏJ½¥PG­ąSM­EÅruµéYÓŌ_dĒCo­Èµ]¯_²ÕjāK~©ÅØ^ÔkïçămÏk]­±cÝ¯ÑÃmQÍ~_apm~ç¡qu{JÅŧ·Ls}EyÁÆcI{¤IiCfUcƌÃp§]ě«vD@¡SÀµMÅwuYY¡DbÑc¡h×]nkoQdaMç~eDÛtT©±@¥ù@É¡ZcW|WqOJmĩl«ħşvOÓ«IqăV¥D[mI~Ó¢cehiÍ]Ɠ~ĥqX·eƷn±}v[ěďŕ]_œ`¹§ÕōIo©b­s^}Ét±ū«³p£ÿ·Wµ|¡¥ăFÏs×¥ŅxÊdÒ{ºvĴÎêÌɊ²¶ü¨|ÞƸµȲLLúÉƎ¤ϊęĔV`_bªS^|dzY|dz¥pZbÆ£¶ÒK}tĦÔņƠPYznÍvX¶Ěn ĠÔzý¦ª÷ÑĸÙUȌ¸dòÜJð´ìúNM¬XZ´¤ŊǸ_tldI{¦ƀðĠȤ¥NehXnYGR° ƬDj¬¸|CĞKqºfƐiĺ©ª~ĆOQª ¤@ìǦɌ²æBÊTŸʂōĖĴŞȀÆÿȄlŤĒötÎ½î¼ĨXh|ªM¤Ðz\"],encodeOffsets:[[116874,41716]]}},{type:\"Feature\",id:\"150000\",properties:{id:\"150000\",cp:[111.670801,41.818311],name:\"内蒙古\",childNum:2},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@¯PqFB|S³C|kñHdiÄ¥sŉÅPóÑÑE^ÅPpy_YtShQ·aHwsOnŉÃs©iqjUSiº]ïW«gW¡ARë¥_sgÁnUI«m]jvV¼euhwqAaW_µj»çjioQR¹ēÃßt@r³[ÛlćË^ÍÉáGOUÛOB±XkÅ¹£k|e]olkVÍ¼ÕqtaÏõjgÁ£§U^RLËnX°ÇBz^~wfvypV ¯ƫĉ˭ȫƗŷɿÿĿƑ˃ĝÿÃǃßËőó©ǐȍŒĖM×ÍEyxþp]ÉvïèvƀnÂĴÖ@V~Ĉv¦wĖtējyÄDXÄxGQuv_i¦aBçw˛wD©{tāmQ{EJ§KPśƘƿ¥@sCTÉ}ɃwƇy±gÑ}T[÷kÐç¦«SÒ¥¸ëBX½HáÅµÀğtSÝÂa[ƣ°¯¦Pï¡]£ġÒk®G²èQ°óMq}EóƐÇ\\\\@áügQÍu¥FTÕ¿Jû]|mvāÎYua^WoÀa·­ząÒot×¶CLƗi¯¤mƎHǊ¤îìɾŊìTdåwsRÖgĒųúÍġäÕ}Q¶¿A[¡{d×uQAMxVvMOmăl«ct[wº_ÇÊjbÂ£ĦS_éQZ_lwgOiýe`YYLq§IÁǳ£ÙË[ÕªuƏ³ÍTs·bÁĽäė[b[ŗfãcn¥îC¿÷µ[ŏÀQ­ōĉm¿Á^£mJVmL[{Ï_£F¥Ö{ŹA}×Wu©ÅaųĳƳhB{·TQqÙIķËZđ©Yc|M¡LeVUóK_QWk_ĥ¿ãZ»X\\\\ĴuUèlG®ěłTĠğDŃOrÍdÆÍz]±ŭ©Å]ÅÐ}UË¥©TċïxgckfWgi\\\\ÏĒ¥HkµEë{»ÏetcG±ahUiñiWsɁ·cCÕk]wȑ|ća}wVaĚá G°ùnM¬¯{ÈÐÆA¥ÄêJxÙ¢hP¢ÛºµwWOóFÁz^ÀŗÎú´§¢T¤ǻƺSėǵhÝÅQgvBHouʝl_o¿Ga{ïq{¥|ſĿHĂ÷aĝÇqZñiñC³ª»E`¨åXēÕqÉû[l}ç@čƘóO¿¡FUsAʽīccocÇS}£IS~ălkĩXçmĈŀÐoÐdxÒuL^T{r@¢ÍĝKén£kQyÅõËXŷƏL§~}kq»IHėǅjĝ»ÑÞoå°qTt|r©ÏS¯·eŨĕx«È[eM¿yupN~¹ÏyN£{©għWí»Í¾səšǅ_ÃĀɗ±ąĳĉʍŌŷSÉA±åǥɋ@ë£R©ąP©}ĹªƏj¹erLDĝ·{i«ƫC£µsKCGS|úþXgp{ÁX¿ć{ƱȏñZáĔyoÁhA}ŅĆfdŉ_¹Y°ėǩÑ¡H¯¶oMQqð¡Ë|Ñ`ƭŁX½·óÛxğįÅcQs«tȋǅFù^it«Č¯[hAi©á¥ÇĚ×l|¹y¯YȵƓñǙµïċĻ|Düȭ¶¡oŽäÕG\\\\ÄT¿Òõr¯LguÏYęRƩɷŌO\\\\İÐ¢æ^Ŋ ĲȶȆbÜGĝ¬¿ĚVĎgª^íu½jÿĕęjık@Ľ]ėl¥ËĭûÁėéV©±ćn©­ȇÍq¯½YÃÔŉÉNÑÅÝy¹NqáʅDǡËñ­ƁYÅy̱os§ȋµʽǘǏƬɱàưN¢ƔÊuľýľώȪƺɂļxZĈ}ÌŉŪĺœĭFЛĽ̅ȣͽÒŵìƩÇϋÿȮǡŏçƑůĕ~Ç¼ȳÐUfdIxÿ\\\\G zâɏÙOº·pqy£@qþ@Ǟ˽IBäƣzsÂZÁàĻdñ°ŕzéØűzșCìDȐĴĺf®Àľưø@ɜÖÞKĊŇƄ§͑těï͡VAġÑÑ»d³öǍÝXĉĕÖ{þĉu¸ËʅğU̎éhɹƆ̗̮ȘǊ֥ड़ࡰţાíϲäʮW¬®ҌeרūȠkɬɻ̼ãüfƠSצɩςåȈHϚÎKǳͲOðÏȆƘ¼CϚǚ࢚˼ФÔ¤ƌĞ̪Qʤ´¼mȠJˀƲÀɠmǐnǔĎȆÞǠN~ʢĜ¶ƌĆĘźʆȬ˪ĚĒ¸ĞGȖƴƀj`ĢçĶāàŃºēĢĖćYÀŎüôQÐÂŎŞǆŞêƖoˆDĤÕºÑǘÛˤ³̀gńƘĔÀ^ªƂ`ªt¾äƚêĦĀ¼ÐĔǎ¨Ȕ»͠^ˮÊȦƤøxRrŜH¤¸ÂxDÄ|ø˂˜ƮÐ¬ɚwɲFjĔ²Äw°ǆdÀÉ_ĸdîàŎjÊêTĞªŌŜWÈ|tqĢUB~´°ÎFCU¼pĀēƄN¦¾O¶łKĊOjĚj´ĜYp{¦SĚÍ\\\\T×ªV÷Ší¨ÅDK°ßtŇĔK¨ǵÂcḷ̌ĚǣȄĽFlġUĵŇȣFʉɁMğįʏƶɷØŭOǽ«ƽū¹Ʊő̝Ȩ§ȞʘĖiɜɶʦ}¨֪ࠜ̀ƇǬ¹ǨE˦ĥªÔêFxúQEr´Wrh¤Ɛ \\\\talĈDJÜ|[Pll̚¸ƎGú´P¬W¦^¦H]prRn|or¾wLVnÇIujkmon£cX^Bh`¥V¦U¤¸}xRj[^xN[~ªxQ[`ªHÆÂExx^wN¶Ê|¨ìMrdYpoRzNyÀDs~bcfÌ`L¾n|¾T°c¨È¢ar¤`[|òDŞĔöxElÖdHÀI`Ď\\\\Àì~ÆR¼tf¦^¢ķ¶eÐÚMptgjɡČÅyġLûŇV®ÄÈƀĎ°P|ªVVªj¬ĚÒêp¬E|ŬÂc|ÀtƐK f{ĘFĒƌXƲąo½Ę\\\\¥o}Ûu£ç­kX{uĩ«āíÓUŅßŢqŤ¥lyň[oi{¦LńðFȪȖĒL¿Ìf£K£ʺoqNwğc`uetOj×°KJ±qÆġmĚŗos¬qehqsuH{¸kH¡ÊRǪÇƌbȆ¢´äÜ¢NìÉʖ¦â©Ġu¦öČ^â£ĂhĖMÈÄw\\\\fŦ°W ¢¾luŸDw\\\\̀ʉÌÛMĀ[bÓEn}¶Vcês\"]],encodeOffsets:[[[129102,52189]]]}},{type:\"Feature\",id:\"210000\",properties:{id:\"210000\",cp:[123.429096,41.796767],name:\"辽宁\",childNum:16},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@L@@sa\"],[\"@@MnNm\"],[\"@@dc\"],[\"@@eÀC@b\"],[\"@@fXwkbrÄ`qg\"],[\"@@^jtWQ\"],[\"@@~ Y]c\"],[\"@@G`ĔN^_¿ZÃM\"],[\"@@iX¶BY\"],[\"@@YZ\"],[\"@@L_{Epf\"],[\"@@^WqCT\\\\\"],[\"@@\\\\[§t|¤_\"],[\"@@m`n_\"],[\"@@Ïxǌ{q_×^Giip\"],[\"@@@é^BntaÊU]x ¯ÄPĲ­°hʙK³VÕ@Y~|EvĹsÇ¦­L^pÃ²ŸÒG Ël]xxÄ_fT¤Ď¤cPC¨¸TVjbgH²sdÎdHt`B²¬GJję¶[ÐhjeXdlwhðSČ¦ªVÊÏÆZÆŶ®²^ÎyÅÎcPqńĚDMħĜŁH­kçvV[ĳ¼WYÀäĦ`XlR`ôLUVfK¢{NZdĒªYĸÌÚJRr¸SA|ƴgŴĴÆbvªØX~źB|¦ÕE¤Ð`\\\\|KUnnI]¤ÀÂĊnŎR®Ő¿¶\\\\ÀøíDm¦ÎbŨabaĘ\\\\ľãÂ¸atÎSƐ´©v\\\\ÖÚÌǴ¤Â¨JKrZ_ZfjþhPkx`YRIjJcVf~sCN¤ EhæmsHy¨SðÑÌ\\\\\\\\ĐRZk°IS§fqŒßýáĞÙÉÖ[^¯ǤŲê´\\\\¦¬ĆPM¯£»uïpùzExanµyoluqe¦W^£ÊL}ñrkqWňûPUP¡ôJoo·U}£[·¨@XĸDXm­ÛÝºGUCÁª½{íĂ^cjk¶Ã[q¤LÉö³cux«zZf²BWÇ®Yß½ve±ÃCý£W{Ú^q^sÑ·¨ÍOt¹·C¥GDrí@wÕKţÃ«V·i}xËÍ÷i©ĝɝǡ]{c±OW³Ya±_ç©HĕoƫŇqr³Lys[ñ³¯OSďOMisZ±ÅFC¥Pq{Ã[Pg}\\\\¿ghćOk^ģÁFıĉĥM­oEqqZûěŉ³F¦oĵhÕP{¯~TÍlªNßYÐ{Ps{ÃVUeĎwk±ŉVÓ½ŽJãÇÇ»Jm°dhcÀffdF~ĀeĖd`sx² ®EżĀdQÂd^~ăÔH¦\\\\LKpĄVez¤NP ǹÓRÆąJSh­a[¦´ÂghwmBÐ¨źhI|VV|p] Â¼èNä¶ÜBÖ¼L`¼bØæKVpoúNZÞÒKxpw|ÊEMnzEQIZZNBčÚFÜçmĩWĪñtÞĵÇñZ«uD±|Əlĳ¥ãn·±PmÍada CLǑkùó¡³Ï«QaċÏOÃ¥ÕđQȥċƭy³ÃA\"]],encodeOffsets:[[[123686,41445]],[[126019,40435]],[[124393,40128]],[[126117,39963]],[[125322,40140]],[[126686,40700]],[[126041,40374]],[[125584,40168]],[[125453,40165]],[[125362,40214]],[[125280,40291]],[[125774,39997]],[[125976,40496]],[[125822,39993]],[[125509,40217]],[[122731,40949]]]}},{type:\"Feature\",id:\"220000\",properties:{id:\"220000\",cp:[125.3245,43.886841],name:\"吉林\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@pä³PClFbbÍzwBGĭZÅi»lY­ċ²SgkÇ£^Sqd¯R©é£¯S\\\\cZ¹iűƏCuƍÓXoR}M^o£R}oªU­FuuXHlEÅÏ©¤ÛmTþ¤D²ÄufàÀ­XXÈ±AeyYw¬dvõ´KÊ£\\\\rµÄlidā]|î©¾DÂVH¹Þ®ÜWnCķ W§@\\\\¸~¤Vp¸póIO¢VOŇürXql~òÉK]¤¥Xrfkvzpm¶bwyFoúvð¼¤ N°ąO¥«³[éǡű_°Õ\\\\ÚÊĝþâőàerR¨­JYlďQ[ ÏYëÐ§TGztnß¡gFkMāGÁ¤ia ÉÈ¹`\\\\xs¬dĆkNnuNUuP@vRY¾\\\\¢GªóĄ~RãÖÎĢùđŴÕhQxtcæëSɽŉíëǉ£ƍG£nj°KƘµDsØÑpyĆ¸®¿bXp]vbÍZuĂ{n^IüÀSÖ¦EvRÎûh@â[ƏÈô~FNr¯ôçR±­HÑlĢ^¤¢OðævxsŒ]ÞÁTĠs¶¿âÆGW¾ìA¦·TÑ¬è¥ÏÐJ¨¼ÒÖ¼ƦɄxÊ~StD@Ă¼Ŵ¡jlºWvÐzƦZÐ²CH AxiukdGgetqmcÛ£Ozy¥cE}|¾cZk¿uŐã[oxGikfeäT@SUwpiÚFM©£è^Ú`@v¶eňf heP¶täOlÃUgÞzŸU`l}ÔÆUvØ_Ō¬Öi^ĉi§²ÃB~¡ĈÚEgc|DC_Ȧm²rBx¼MÔ¦ŮdĨÃâYxƘDVÇĺĿg¿cwÅ\\\\¹¥Yĭl¤OvLjM_a W`zļMž·\\\\swqÝSAqŚĳ¯°kRē°wx^ĐkǂÒ\\\\]nrĂ}²ĊŲÒøãh·M{yMzysěnĒġV·°G³¼XÀ¤¹i´o¤ŃÈ`ÌǲÄUĞd\\\\iÖmÈBĤÜɲDEh LG¾ƀÄ¾{WaYÍÈĢĘÔRîĐj}ÇccjoUb½{h§Ǿ{KƖµÎ÷GĀÖŠåưÎs­lyiē«`å§H¥Ae^§GK}iã\\\\c]v©ģZmÃ|[M}ģTɟĵÂÂ`ÀçmFK¥ÚíÁbX³ÌQÒHof{]ept·GŋĜYünĎųVY^ydõkÅZW«WUa~U·SbwGçǑiW^qFuNĝ·EwUtW·Ýďæ©PuqEzwAVXRãQ`­©GMehccďÏd©ÑW_ÏYƅ»é\\\\ɹ~ǙG³mØ©BšuT§Ĥ½¢Ã_Ã½L¡ýqT^rme\\\\PpZZbyuybQefµ]UhĿDCmûvaÙNSkCwncćfv~YÇG\"],encodeOffsets:[[130196,42528]]}},{type:\"Feature\",id:\"230000\",properties:{id:\"230000\",cp:[128.642464,46.756967],name:\"黑龙江\",childNum:2},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@UµNÿ¥īèçHÍøƕ¶Lǽ|g¨|a¾pVidd~ÈiíďÓQġėÇZÎXb½|ſÃH½KFgɱCģÛÇAnjÕc[VĝǱÃËÇ_ £ń³pj£º¿»WH´¯U¸đĢmtĜyzzNN|g¸÷äűÑ±ĉā~mq^[ǁÑďlw]¯xQĔ¯l°řĴrBÞTxr[tŽ¸ĻN_yX`biNKuP£kZĮ¦[ºxÆÀdhĹŀUÈƗCwáZħÄŭcÓ¥»NAw±qȥnD`{ChdÙFć}¢A±Äj¨]ĊÕjŋ«×`VuÓÅ~_kŷVÝyhVkÄãPsOµfgeŇµf@u_Ù ÙcªNªÙEojVxT@ãSefjlwH\\\\pŏäÀvlY½d{F~¦dyz¤PÜndsrhfHcvlwjF£G±DÏƥYyÏu¹XikĿ¦ÏqƗǀOŜ¨LI|FRĂn sª|C˜zxAè¥bfudTrFWÁ¹Am|ĔĕsķÆF´N}ćUÕ@Áĳſmuçuð^ÊýowFzØÎĕNőǏȎôªÌŒǄàĀÄ˄ĞŀƒʀĀƘŸˮȬƬĊ°Uzouxe]}AyÈW¯ÌmKQ]Īºif¸ÄX|sZt|½ÚUÎ lk^p{f¤lºlÆW A²PVÜPHÊâ]ÎĈÌÜk´\\\\@qàsĔÄQºpRij¼èi`¶bXrBgxfv»uUi^v~J¬mVp´£´VWrnP½ì¢BX¬hðX¹^TjVriªjtŊÄmtPGx¸bgRsT`ZozÆO]ÒFôÒOÆŊvÅpcGêsx´DR{AEOr°x|íb³Wm~DVjºéNNËÜ˛ɶ­GxŷCSt}]ûōSmtuÇÃĕNāg»íT«u}ç½BĵÞʣ¥ëÊ¡MÛ³ãȅ¡ƋaǩÈÉQG¢·lG|tvgrrf«ptęŘnÅĢrI²¯LiØsPf_vĠdxM prʹL¤¤eËÀđKïÙVY§]Ióáĥ]ķK¥j|pŇ\\\\kzţ¦šnņäÔVĂîĪ¬|vW®l¤èØrxm¶ă~lÄƯĄ̈́öȄEÔ¤ØQĄĄ»ƢjȦOǺ¨ìSŖÆƬyQv`cwZSÌ®ü±Ǆ]ŀç¬B¬©ńzƺŷɄeeOĨSfm ĊƀP̎ēz©ĊÄÕÊmgÇsJ¥ƔŊśæÎÑqv¿íUOµªÂnĦÁ_½ä@êí£P}Ġ[@gġ}gɊ×ûÏWXá¢užƻÌsNÍ½ƎÁ§čŐAēeL³àydl¦ĘVçŁpśǆĽĺſÊQíÜçÛġÔsĕ¬Ǹ¯YßċġHµ ¡eå`ļrĉŘóƢFìĎWøxÊkƈdƬv|I|·©NqńRŀ¤éeŊŀàŀU²ŕƀBQ£Ď}L¹Îk@©ĈuǰųǨÚ§ƈnTËÇéƟÊcfčŤ^XmHĊĕË«W·ċëx³ǔķÐċJāwİ_ĸȀ^ôWr­°oú¬ĦŨK~ȰCĐ´Ƕ£fNÎèâw¢XnŮeÂÆĶ¾¾xäLĴĘlļO¤ÒĨA¢Êɚ¨®ØCÔ ŬGƠƦYĜĘÜƬDJg_ͥœ@čŅĻA¶¯@wÎqC½Ĉ»NăëKďÍQÙƫ[«ÃígßÔÇOÝáWñuZ¯ĥŕā¡ÑķJu¤E å¯°WKÉ±_d_}}vyõu¬ï¹ÓU±½@gÏ¿rÃ½DgCdµ°MFYxw¿CG£Rƛ½Õ{]L§{qqą¿BÇƻğëܭǊË|c²}Fµ}ÙRsÓpg±QNqǫŋRwŕnéÑÉK«SeYRŋ@{¤SJ}D Ûǖ֍]gr¡µŷjqWÛham³~S«Þ]\"]],encodeOffsets:[[[134456,44547]]]}},{type:\"Feature\",id:\"320000\",properties:{id:\"320000\",cp:[119.767413,33.041544],name:\"江苏\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@cþÅPi`ZRu¥É\\\\]~°Y`µÓ^phÁbnÀşúòaĬºTÖŒbe¦¦{¸ZâćNp©Hr|^mjhSEb\\\\afv`sz^lkljÄtg¤D­¾X¿À|ĐiZȀåB·î}GL¢õcßjayBFµÏC^ĭcÙt¿sğH]j{s©HM¢QnDÀ©DaÜÞ·jgàiDbPufjDk`dPOîhw¡ĥ¥GP²ĐobºrYî¶aHŢ´ ]´rılw³r_{£DB_Ûdåuk|Ũ¯F Cºyr{XFye³Þċ¿ÂkĭB¿MvÛpm`rÚã@Ę¹hågËÖƿxnlč¶Åì½Ot¾dJlVJĂǀŞqvnO^JZż·Q}êÍÅmµÒ]ƍ¦Dq}¬R^èĂ´ŀĻĊIÔtĲyQŐĠMNtR®òLhĚs©»}OÓGZz¶A\\\\jĨFäOĤHYJvÞHNiÜaĎÉnFQlNM¤B´ĄNöɂtpŬdfåqm¿QûùŞÚb¤uŃJŴu»¹ĄlȖħŴw̌ŵ²ǹǠ͛hĭłƕrçü±Yxcitğ®jű¢KOķCoy`å®VTa­_Ā]ŐÝɞï²ʯÊ^]afYǸÃĆēĪȣJđ͍ôƋÄÄÍīçÛɈǥ£­ÛmY`ó£Z«§°Ó³QafusNıǅ_k}¢m[ÝóDµ¡RLčiXyÅNïă¡¸iĔÏNÌŕoēdōîåŤûHcs}~Ûwbù¹£¦ÓCtOPrE^ÒogĉIµÛÅʹK¤½phMü`oæŀ\"],encodeOffsets:[[121740,32276]]}},{type:\"Feature\",id:\"330000\",properties:{id:\"330000\",cp:[120.153576,29.287459],name:\"浙江\",childNum:45},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@E^dQ]K\"],[\"@@jX^j\"],[\"@@sfbU\"],[\"@@qP\\\\xz[ck\"],[\"@@R¢FX}°[s_\"],[\"@@Cb\\\\}\"],[\"@@e|v\\\\la{u\"],[\"@@v~u}\"],[\"@@QxÂF¯}\"],[\"@@¹nvÞs¯o\"],[\"@@rSkUEj\"],[\"@@bi­ZP\"],[\"@@p[}INf\"],[\"@@À¿\"],[\"@@¹dnb\"],[\"@@rSBnR\"],[\"@@g~h}\"],[\"@@FlEk\"],[\"@@OdPc\"],[\"@@v[u\\\\\"],[\"@@FjâL~wyoo~sµL\\\\\"],[\"@@¬e¹aN\"],[\"@@\\\\nÔ¡q]L³ë\\\\ÿ®QÖ\"],[\"@@ÊA­©[¬\"],[\"@@Kxv­\"],[\"@@@hlIk]\"],[\"@@pW{o||j\"],[\"@@Md|_mC\"],[\"@@¢X£ÏylD¼XtH\"],[\"@@hlÜ[LykAvyfw^E¤\"],[\"@@fp¤MusR\"],[\"@@®_ma~LÁ¬Z\"],[\"@@iMxZ\"],[\"@@ZcYd\"],[\"@@Z~dOSo|A¿qZv\"],[\"@@@`EN¡v\"],[\"@@|TY{\"],[\"@@@n@m\"],[\"@@XWkCT\\\\\"],[\"@@ºwZRkĕWO¢\"],[\"@@X®±GrÆª\\\\ÔáXq{\"],[\"@@ůTG°ĄLHm°UC\"],[\"@@¤aÜx~}dtüGæţŎíĔcŖpMËÐjē¢·ðĄÆMzjWKĎ¢Q¶À_ê_Bıi«pZgf¤Nrq]§ĂN®«H±yƳí¾×ŸīàLłčŴǝĂíÀBŖÕªÁŖHŗŉåqûõi¨hÜ·ñt»¹ýv_[«¸mYL¯QªmĉÅdMgÇjcº«ę¬­K­´B«Âącoċ\\\\xKd¡gěŧ«®á[~ıxu·ÅKsËÉc¢Ù\\\\ĭƛëbf¹­ģSĜkáƉÔ­ĈZB{aMµfzŉfåÂŧįƋǝÊĕġć£g³ne­ą»@­¦S®\\\\ßðChiqªĭiAuA­µ_W¥ƣO\\\\lċĢttC¨£t`PZäuXßBsĻyekOđġĵHuXBµ]×­­\\\\°®¬F¢¾pµ¼kŘó¬Wät¸|@L¨¸µrºù³Ù~§WIZW®±Ð¨ÒÉx`²pĜrOògtÁZ}þÙ]¡FKwsPlU[}¦Rvn`hq¬\\\\nQ´ĘRWb_ rtČFIÖkĦPJ¶ÖÀÖJĈĄTĚòC ²@PúØz©Pî¢£CÈÚĒ±hŖl¬â~nm¨f©iļ«mntuÖZÜÄjL®EÌFª²iÊxØ¨IÈhhst\"],[\"@@o\\\\VzRZ}y\"],[\"@@@°¡mÛGĕ¨§Ianá[ýƤjfæØLäGr\"]],encodeOffsets:[[[125592,31553]],[[125785,31436]],[[125729,31431]],[[125513,31380]],[[125223,30438]],[[125115,30114]],[[124815,29155]],[[124419,28746]],[[124095,28635]],[[124005,28609]],[[125e3,30713]],[[125111,30698]],[[125078,30682]],[[125150,30684]],[[124014,28103]],[[125008,31331]],[[125411,31468]],[[125329,31479]],[[125626,30916]],[[125417,30956]],[[125254,30976]],[[125199,30997]],[[125095,31058]],[[125083,30915]],[[124885,31015]],[[125218,30798]],[[124867,30838]],[[124755,30788]],[[124802,30809]],[[125267,30657]],[[125218,30578]],[[125200,30562]],[[124968,30474]],[[125167,30396]],[[124955,29879]],[[124714,29781]],[[124762,29462]],[[124325,28754]],[[123990,28459]],[[125366,31477]],[[125115,30363]],[[125369,31139]],[[122495,31878]],[[125329,30690]],[[125192,30787]]]}},{type:\"Feature\",id:\"340000\",properties:{id:\"340000\",cp:[117.283042,31.26119],name:\"安徽\",childNum:3},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@^iuLX^\"],[\"@@e©Ehl\"],[\"@@°ZÆëĎµmkǀwÌÕæhºgBĝâqÙĊzÖgņtÀÁĂÆáhEz|WzqD¹°Eŧl{ævÜcA`¤C`|´qxĲkq^³³GšµbíZ¹qpa±ď OH¦Ħx¢gPícOl_iCveaOjChß¸iÝbÛªCC¿mRV§¢A|t^iĠGÀtÚsd]ĮÐDE¶zAb àiödK¡~H¸íæAǿYj{ď¿À½W®£ChÃsikkly]_teu[bFaTign{]GqªoĈMYá|·¥f¥őaSÕėNµñĞ«Im_m¿Âa]uĜp Z_§{Cäg¤°r[_YjÆOdý[I[á·¥Q_nùgL¾mvˊBÜÆ¶ĊJhpc¹O]iŠ]¥ jtsggJÇ§w×jÉ©±EFË­KiÛÃÕYvsm¬njĻª§emná}k«ŕgđ²ÙDÇ¤í¡ªOy×Où±@DñSęćăÕIÕ¿IµĥOjNÕËT¡¿tNæŇàåyķrĕq§ÄĩsWÆßF¶X®¿mwRIÞfßoG³¾©uyHį{Ɓħ¯AFnuPÍÔzVdàôº^Ðæd´oG¤{S¬ćxã}ŧ×Kǥĩ«ÕOEÐ·ÖdÖsƘÑ¨[Û^Xr¢¼§xvÄÆµ`K§ tÒ´Cvlo¸fzŨð¾NY´ı~ÉĔēßúLÃÃ_ÈÏ|]ÂÏFlg`ben¾¢pUh~ƴĖ¶_r sĄ~cƈ]|r c~`¼{À{ȒiJjz`îÀT¥Û³]u}fïQl{skloNdjäËzDvčoQďHI¦rbtHĔ~BmlRV_ħTLnñH±DL¼Lªl§Ťa¸ĚlK²\\\\RòvDcÎJbt[¤D@®hh~kt°ǾzÖ@¾ªdbYhüóZ ň¶vHrľ\\\\ÊJuxAT|dmÀO[ÃÔG·ĚąĐlŪÚpSJ¨ĸLvÞcPæķŨ®mÐálwKhïgA¢ųÆ©Þ¤OÈm°K´\"]],encodeOffsets:[[[121722,32278]],[[119475,30423]],[[119168,35472]]]}},{type:\"Feature\",id:\"350000\",properties:{id:\"350000\",cp:[118.306239,26.075302],name:\"福建\",childNum:18},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@zht´]\"],[\"@@aj^~ĆG©O\"],[\"@@ed¨C}}i\"],[\"@@@vPGsQ\"],[\"@@sBzddW]Q\"],[\"@@S¨Q{\"],[\"@@NVucW\"],[\"@@qptBAq\"],[\"@@¸[mu\"],[\"@@Q\\\\pD]_\"],[\"@@jSwUadpF\"],[\"@@eXª~\"],[\"@@AjvFso\"],[\"@@fT_Çí\\\\v|ba¦jZÆy°\"],[\"@@IjJi\"],[\"@@wJIx«¼AoNe{M­\"],[\"@@K±¡ÓČäeZ\"],[\"@@k¡¹Eh~c®wBkUplÀ¡I~Māe£bN¨gZý¡a±Öcp©PhI¢QqÇGj|¥U g[Ky¬ŏv@OptÉEF\\\\@ åA¬V{XģĐBycpě¼³Ăp·¤¥ohqqÚ¡ŅLs^Ã¡§qlÀhH¨MCe»åÇGD¥zPO£čÙkJA¼ßėuĕeûÒiÁŧSW¥Qûŗ½ùěcÝ§SùĩąSWó«íęACµeRåǃRCÒÇZÍ¢ź±^dlstjD¸ZpuÔâÃH¾oLUêÃÔjjēò´ĄWƛ^Ñ¥Ħ@ÇòmOw¡õyJyD}¢ďÑÈġfZda©º²z£NjD°Ötj¶¬ZSÎ~¾c°¶ÐmxO¸¢Pl´SL|¥AȪĖMņĲg®áIJČĒü` QF¬h|ĂJ@zµ |ê³È ¸UÖŬŬÀEttĸr]ðM¤ĶĲHtÏ AĬkvsq^aÎbvdfÊòSD´Z^xPsĂrvƞŀjJd×ŘÉ ®AÎ¦ĤdxĆqAZRÀMźnĊ»İÐZ YXæJyĊ²·¶q§·K@·{sXãô«lŗ¶»o½E¡­«¢±¨Y®Ø¶^AvWĶGĒĢPlzfļtàAvWYãO_¤sD§ssČġ[kƤPX¦`¶®BBvĪjv©jx[L¥àï[F¼ÍË»ğV`«Ip}ccÅĥZEãoP´B@D¸m±z«Ƴ¿å³BRØ¶Wlâþäą`]Z£Tc ĹGµ¶Hm@_©k¾xĨôȉðX«½đCIbćqK³ÁÄš¬OAwã»aLŉËĥW[ÂGIÂNxĳ¤D¢îĎÎB§°_JGs¥E@¤ućPåcuMuw¢BI¿]zG¹guĮck\\\\_\"]],encodeOffsets:[[[123250,27563]],[[122541,27268]],[[123020,27189]],[[122916,27125]],[[122887,26845]],[[122808,26762]],[[122568,25912]],[[122778,26197]],[[122515,26757]],[[122816,26587]],[[123388,27005]],[[122450,26243]],[[122578,25962]],[[121255,25103]],[[120987,24903]],[[122339,25802]],[[121042,25093]],[[122439,26024]]]}},{type:\"Feature\",id:\"360000\",properties:{id:\"360000\",cp:[115.592151,27.676493],name:\"江西\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@ĢĨƐgļ¼ÂMD~ņªe^\\\\^§ý©j×cZØ¨zdÒa¶lÒJìõ`oz÷@¤uŞ¸´ôęöY¼HČƶajlÞƩ¥éZ[|h}^U  ¥pĄžƦO lt¸Æ Q\\\\aÆ|CnÂOjt­ĚĤdÈF`¶@Ðë ¦ōÒ¨SêvHĢûXD®QgÄWiØPÞìºr¤ǆNĠ¢lĄtZoCƞÔºCxrpĠV®Ê{f_Y`_eq®Aot`@oDXfkp¨|s¬\\\\DÄSfè©Hn¬^DhÆyøJhØxĢĀLÊƠPżċĄwȠĚ¦G®ǒĤäTŠÆ~Ħw«|TF¡nc³Ïå¹]ĉđxe{ÎÓvOEm°BƂĨİ|Gvz½ª´HàpeJÝQxnÀW­EµàXÅĪt¨ÃĖrÄwÀFÎ|ňÓMå¼ibµ¯»åDT±m[r«_gmQu~¥V\\\\OkxtL E¢Ú^~ýêPóqoě±_Êw§ÑªåƗā¼mĉŹ¿NQYBąrwģcÍ¥B­ŗÊcØiIƝĿuqtāwO]³YCñTeÉcaubÍ]trluīBÐGsĵıN£ï^ķqss¿FūūVÕ·´Ç{éĈýÿOER_đûIċâJh­ŅıNȩĕB¦K{Tk³¡OP·wnµÏd¯}½TÍ«YiµÕsC¯iM¤­¦¯P|ÿUHvhe¥oFTuõ\\\\OSsMòđƇiaºćXĊĵà·çhƃ÷Ç{ígu^đgm[×zkKN¶Õ»lčÓ{XSÆv©_ÈëJbVkĔVÀ¤P¾ºÈMÖxlò~ªÚàGĂ¢B±ÌKyáV¼Ã~­`gsÙfIƋlę¹e|~udjuTlXµf`¿Jd[\\\\L²\"],encodeOffsets:[[116689,26234]]}},{type:\"Feature\",id:\"370000\",properties:{id:\"370000\",cp:[118.000923,36.275807],name:\"山东\",childNum:13},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@Xjd]{K\"],[\"@@itbFHy\"],[\"@@HlGk\"],[\"@@TGy\"],[\"@@K¬U\"],[\"@@WdXc\"],[\"@@PtOs\"],[\"@@LnXhc\"],[\"@@ppVu]Or\"],[\"@@cdzAUa\"],[\"@@udRhnCI\"],[\"@@oIpR\"],[\"@@Ľč{fzƤîKÎMĮ]ZF½Y]â£ph¶¨râøÀÎǨ¤^ºÄGz~grĚĜlĞÆLĆǆ¢Îo¦cvKbgr°WhmZp L]LºcUÆ­nżĤÌĒbAnrOA´ȊcÀbƦUØrĆUÜøĬƞEzVL®öØBkŖÝĐĖ¹ŧ̄±ÀbÎÉnb²ĦhņBĖįĦåXćì@L¯´ywƕCéÃµė ƿ¸lµ¾Z|ZWyFY¨Mf~C¿`à_RÇzwƌfQnny´INoƬèôº|sTJULîVjǎ¾ĒØDz²XPn±ŴPè¸ŔLƔÜƺ_TüÃĤBBċÈöA´faM¨{«M`¶d¡ôÖ°mȰBÔjj´PM|c^d¤u¤Û´ä«ƢfPk¶Môl]Lb}su^ke{lCMrDÇ­]NÑFsmoõľHyGă{{çrnÓEƕZGª¹Fj¢ïWuøCǷë¡ąuhÛ¡^KxC`C\\\\bÅxì²ĝÝ¿_NīCȽĿåB¥¢·IŖÕy\\\\¹kxÃ£Č×GDyÃ¤ÁçFQ¡KtŵƋ]CgÏAùSedcÚźuYfyMmhUWpSyGwMPqŀÁ¼zK¶G­Y§Ë@´śÇµƕBm@IogZ¯uTMx}CVKï{éƵP_K«pÛÙqċtkkù]gTğwoɁsMõ³ăAN£MRkmEÊčÛbMjÝGuIZGPģãħE[iµBEuDPÔ~ª¼ęt]ûG§¡QMsğNPŏįzs£Ug{đJĿļā³]ç«Qr~¥CƎÑ^n¶ÆéÎR~Ż¸YI] PumŝrƿIā[xeÇ³L¯v¯s¬ÁY~}ťuŁgƋpÝĄ_ņī¶ÏSR´ÁP~¿Cyċßdwk´SsX|t`Ä ÈðAªìÎT°¦Dda^lĎDĶÚY°`ĪŴǒàŠv\\\\ebZHŖR¬ŢƱùęOÑM­³FÛWp[\"]],encodeOffsets:[[[123806,39303]],[[123821,39266]],[[123742,39256]],[[123702,39203]],[[123649,39066]],[[123847,38933]],[[123580,38839]],[[123894,37288]],[[123043,36624]],[[123344,38676]],[[123522,38857]],[[123628,38858]],[[118260,36742]]]}},{type:\"Feature\",id:\"410000\",properties:{id:\"410000\",cp:[113.665412,33.757975],name:\"河南\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@ýLùµP³swIÓxcŢĞð´E®ÚPtĴXØxÂ¶@«ŕŕQGYfa[şußǩđš_X³ĳÕčC]kbc¥CS¯ëÍB©÷³­Si_}mYTt³xlàcČzÀD}ÂOQ³ÐTĨ¯ƗòËŖ[hłŦv~}ÂZ«¤lPÇ£ªÝŴÅR§ØnhctâknÏ­ľŹUÓÝdKuķI§oTũÙďkęĆH¸Ó\\\\Ä¿PcnS{wBIvÉĽ[GqµuŇôYgûZca©@½Õǽys¯}lgg@­C\\\\£asIdÍuCQñ[L±ęk·ţb¨©kK»KC²òGKmĨS`UQnk}AGēsqaJ¥ĐGRĎpCuÌy ã iMcplk|tRkðev~^´¦ÜSí¿_iyjI|ȑ|¿_»d}q^{Ƈdă}tqµ`Ƴĕg}V¡om½faÇo³TTj¥tĠRyK{ùÓjuµ{t}uËRivGçJFjµÍyqÎàQÂFewixGw½Yŷpµú³XU½ġyłåkÚwZX·l¢Á¢KzOÎÎjc¼htoDHr|­J½}JZ_¯iPq{tę½ĕ¦Zpĵø«kQĹ¤]MÛfaQpě±ǽ¾]u­Fu÷nčÄ¯ADp}AjmcEÇaª³o³ÆÍSƇĈÙDIzËčľ^KLiÞñ[aA²zzÌ÷D|[íÄ³gfÕÞd®|`Ć~oĠƑô³ŊD×°¯CsøÀ«ìUMhTº¨¸ǡîSÔDruÂÇZÖEvPZW~ØÐtĄE¢¦Ðy¸bô´oŬ¬²Ês~]®tªapŎJ¨Öº_Ŕ`Ŗ^Đ\\\\Ĝu~m²Ƹ¸fWĦrƔ}Î^gjdfÔ¡J}\\\\n C¦þWxªJRÔŠu¬ĨĨmFdM{\\\\d\\\\YÊ¢ú@@¦ª²SÜsC}fNècbpRmlØ^gd¢aÒ¢CZZxvÆ¶N¿¢T@uC¬^ĊðÄn|lGlRjsp¢ED}Fio~ÔN~zkĘHVsǲßjŬŢ`Pûàl¢\\\\ÀEhİgÞē X¼Pk|m\"],encodeOffsets:[[118256,37017]]}},{type:\"Feature\",id:\"420000\",properties:{id:\"420000\",cp:[113.298572,30.684355],name:\"湖北\",childNum:3},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@AB\"],[\"@@lskt\"],[\"@@¾«}{ra®pîÃ\\\\{øCËyyB±b\\\\òÝjKL ]ĎĽÌJyÚCƈćÎT´Å´pb©ÈdFin~BCo°BĎÃømv®E^vǾ½Ĝ²RobÜeN^ĺ£R¬lĶ÷YoĖ¥Ě¾|sOr°jY`~I¾®I{GqpCgyl{£ÍÍyPLÂ¡¡¸kWxYlÙæŁĢz¾V´W¶ùŸo¾ZHxjwfxGNÁ³Xéæl¶EièIH ujÌQ~v|sv¶Ôi|ú¢FhQsğ¦SiŠBgÐE^ÁÐ{čnOÂÈUÎóĔÊēĲ}Z³½Mŧïeyp·uk³DsÑ¨L¶_ÅuÃ¨w»¡WqÜ]\\\\Ò§tƗcÕ¸ÕFÏǝĉăxŻČƟOKÉġÿ×wg÷IÅzCg]m«ªGeçÃTC«[t§{loWeC@ps_Bp­rf_``Z|ei¡oċMqow¹DƝÓDYpûsYkıǃ}s¥ç³[§cY§HK«Qy]¢wwö¸ïx¼ņ¾Xv®ÇÀµRĠÐHM±cÏdƒǍũȅȷ±DSyúĝ£ŤĀàtÖÿï[îb\\\\}pĭÉI±Ñy¿³x¯No|¹HÏÛmjúË~TuęjCöAwě¬Rđl¯ Ñb­ŇTĿ_[IčĄʿnM¦ğ\\\\É[T·k¹©oĕ@A¾wya¥Y\\\\¥Âaz¯ãÁ¡k¥ne£ÛwE©Êō¶˓uoj_U¡cF¹­[WvP©whuÕyBF`RqJUw\\\\i¡{jEPïÿ½fćQÑÀQ{°fLÔ~wXgītêÝ¾ĺHd³fJd]HJ²EoU¥HhwQsƐ»Xmg±çve]DmÍPoCc¾_hhøYrŊU¶eD°Č_N~øĹĚ·`z]Äþp¼äÌQv\\\\rCé¾TnkžŐÚÜa¼ÝƆĢ¶ÛodĔňÐ¢JqPb ¾|J¾fXƐîĨ_Z¯À}úƲN_ĒÄ^ĈaŐyp»CÇÄKñL³ġM²wrIÒŭxjb[n«øæà ^²­h¯ÚŐªÞ¸Y²ĒVø}Ā^İ´LÚm¥ÀJÞ{JVųÞŃx×sxxƈē ģMřÚðòIfĊŒ\\\\Ʈ±ŒdÊ§ĘDvČ_Àæ~Dċ´A®µ¨ØLV¦êHÒ¤\"]],encodeOffsets:[[[113712,34e3]],[[115612,30507]],[[113649,34054]]]}},{type:\"Feature\",id:\"430000\",properties:{id:\"430000\",cp:[111.782279,28.09409],name:\"湖南\",childNum:3},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@nFTs\"],[\"@@ßÅÆá½ÔXrCOËRïÿĩ­TooQyÓ[ŅBE¬ÎÓXaį§Ã¸G °ITxpúxÚĳ¥ÏĢ¾edÄ©ĸGàGhM¤Â_U}Ċ}¢pczfþg¤ÇòAVM\"],[\"@@©KA·³CQ±Á«³BUƑ¹AtćOwD]JiØSm¯b£ylXHËÑ±H«C^õľAÅ§¤É¥ïyuǙuA¢^{ÌC´­¦ŷJ£^[ª¿ĕ~ƇN skóā¹¿ï]ă~÷O§­@Vm¡Qđ¦¢Ĥ{ºjÔª¥nf´~Õo×ÛąMąıuZmZcÒ ĲĪ²SÊǄŶ¨ƚCÖŎªQØ¼rŭ­«}NÏürÊ¬mjr@ĘrTW ­SsdHzƓ^ÇÂyUi¯DÅYlŹu{hT}mĉ¹¥ěDÿë©ıÓ[Oº£¥ótł¹MÕƪ`PDiÛU¾ÅâìUñBÈ£ýhedy¡oċ`pfmjP~kZaZsÐd°wj§@Ĵ®w~^kÀÅKvNmX\\\\¨aŃqvíó¿F¤¡@ũÑVw}S@j}¾«pĂrªg àÀ²NJ¶¶DôK|^ª°LX¾ŴäPĪ±£EXd^¶ĲÞÜ~u¸ǔMRhsRe`ÄofIÔ\\\\Ø  ićymnú¨cj ¢»GČìƊÿÐ¨XeĈĀ¾Oð Fi ¢|[jVxrIQ_EzAN¦zLU`cªxOTu RLÄ¢dVi`p˔vŎµªÉF~Ød¢ºgİàw¸Áb[¦Zb¦z½xBĖ@ªpºlS¸Ö\\\\Ĕ[N¥ˀmĎăJ\\\\ŀ`ňSÚĖÁĐiOĜ«BxDõĚivSÌ}iùÜnÐºG{p°M´wÀÒzJ²ò¨ oTçüöoÛÿñőĞ¤ùTz²CȆȸǎŪƑÐc°dPÎğË¶[È½u¯½WM¡­ÉB·rínZÒ `¨GA¾\\\\pēXhÃRC­üWGġuTé§ŎÑ©ò³I±³}_EÃħg®ęisÁPDmÅ{b[RÅs·kPŽƥóRoOV~]{g\\\\êYƪ¦kÝbiċƵGZ»Ěõó·³vŝ£ø@pyö_ëIkÑµbcÑ§y×dYØªiþ¨[]f]Ņ©C}ÁN»hĻħƏĩ\"]],encodeOffsets:[[[115640,30489]],[[112543,27312]],[[116690,26230]]]}},{type:\"Feature\",id:\"440000\",properties:{id:\"440000\",cp:[113.280637,23.125178],name:\"广东\",childNum:24},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@QdAua\"],[\"@@lxDLo\"],[\"@@sbhNLo\"],[\"@@Ă ā\"],[\"@@WltO[[\"],[\"@@Kr]S\"],[\"@@eI]y\"],[\"@@I|Mym\"],[\"@@Û³LS¼Y\"],[\"@@nvºBëui©`¾\"],[\"@@zdÛJw®\"],[\"@@°¯\"],[\"@@a yAª¸ËJIxØ@ĀHAmÃV¡ofuo\"],[\"@@sŗÃÔėAƁZÄ ~°ČPäh\"],[\"@@¶ÝÌvmĞh­ıQ\"],[\"@@HdSjĒ¢D}waru«ZqadYM\"],[\"@@el\\\\LqqU\"],[\"@@~rMo\\\\\"],[\"@@f^C\"],[\"@@øPªoj÷ÍÝħXČx°Q¨ıXNv\"],[\"@@gÇƳo[~tly\"],[\"@@EÆC¿\"],[\"@@OP\"],[\"@@wđógĝ[³¡VÙæÅöMÌ³¹pÁaËýý©D©ÜJŹƕģGą¤{ÙūÇO²«BƱéAÒĥ¡«BhlmtÃPµyU¯ucd·w_bŝcīímGO|KPȏŹãŝIŕŭŕ@Óoo¿ē±ß}ŭĲWÈCőâUâǙIğŉ©IĳE×Á³AówXJþ±ÌÜÓĨ£L]ĈÙƺZǾĆĖMĸĤfÎĵlŨnÈĐtFFĤêk¶^k°f¶g}®Faf`vXŲxl¦ÔÁ²¬Ð¦pqÊÌ²iXØRDÎ}Ä@ZĠsx®AR~®ETtĄZƈfŠŠHâÒÐAµ\\\\S¸^wĖkRzalŜ|E¨ÈNĀňZTpBh£\\\\ĎƀuXĖtKL¶G|»ĺEļĞ~ÜĢÛĊrOÙîvd]n¬VÊĜ°RÖpMƂªFbwEÀ©\\\\¤]ŸI®¥D³|Ë]CöAŤ¦æ´¥¸Lv¼¢ĽBaôF~®²GÌÒEYzk¤°ahlVÕI^CxĈPsBƒºV¸@¾ªR²ĨN]´_eavSivc}p}Đ¼ƌkJÚe th_¸ ºx±ò_xNË²@ă¡ßH©Ùñ}wkNÕ¹ÇO½¿£ĕ]ly_WìIÇª`uTÅxYĒÖ¼kÖµMjJÚwn\\\\hĒv]îh|ÈƄøèg¸Ķß ĉĈWb¹ƀdéĘNTtP[öSvrCZaGubo´ŖÒÇĐ~¡zCIözx¢PnÈñ @ĥÒ¦]ƞV}³ăĔñiiÄÓVépKG½ÄÓávYoC·sitiaÀyŧÎ¡ÈYDÑům}ý|m[węõĉZÅxUO}÷N¹³ĉo_qtăqwµŁYÙǝŕ¹tïÛUÃ¯mRCºĭ|µÕÊK½Rē ó]GªęAx»HO£|ām¡diď×YïYWªŉOeÚtĐ«zđ¹TāúEá²\\\\ķÍ}jYàÙÆſ¿Çdğ·ùTßÇţʄ¡XgWÀǇğ·¿ÃOj YÇ÷Qěi\"]],encodeOffsets:[[[117381,22988]],[[116552,22934]],[[116790,22617]],[[116973,22545]],[[116444,22536]],[[116931,22515]],[[116496,22490]],[[116453,22449]],[[113301,21439]],[[118726,21604]],[[118709,21486]],[[113210,20816]],[[115482,22082]],[[113171,21585]],[[113199,21590]],[[115232,22102]],[[115739,22373]],[[115134,22184]],[[113056,21175]],[[119573,21271]],[[119957,24020]],[[115859,22356]],[[116561,22649]],[[116285,22746]]]}},{type:\"Feature\",id:\"450000\",properties:{id:\"450000\",cp:[108.320004,22.82402],name:\"广西\",childNum:2},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@H TQ§A\"],[\"@@ĨÊªLƊDÎĹĐCǦė¸zÚGn£¾rªŀÜt¬@ÖÚSx~øOŒŶÐÂæȠ\\\\ÈÜObĖw^oÞLf¬°bI lTØBÌF£Ć¹gñĤaYt¿¤VSñK¸¤nM¼JE±½¸ñoÜCƆæĪ^ĚQÖ¦^f´QüÜÊz¯lzUĺš@ìp¶n]sxtx¶@~ÒĂJb©gk{°~c°`Ô¬rV\\\\la¼¤ôá`¯¹LCÆbxEræOv[H­[~|aB£ÖsºdAĐzNÂðsÞÆĤªbab`ho¡³F«èVlo¤ÔRzpp®SĪº¨ÖºNĳd`a¦¤F³ºDÎńĀìCĜº¦Ċ~nS|gźvZkCÆj°zVÈÁƔ]LÊFZgčP­kini«qÇczÍY®¬Ů»qR×ō©DÕ§ƙǃŵTÉĩ±ıdÑnYYĲvNĆĆØÜ Öp}e³¦m©iÓ|¹ħņ|ª¦QF¢Â¬ʖovg¿em^ucà÷gÕuíÙćĝ}FĻ¼Ĺ{µHKsLSđƃrč¤[AgoSŇYMÿ§Ç{FśbkylQxĕ]T·¶[BÑÏGáşşƇeăYSs­FQ}­BwtYğÃ@~CÍQ ×WjË±rÉ¥oÏ ±«ÓÂ¥kwWűmcih³K~µh¯e]lµélEģEďsmÇŧē`ãògK_ÛsUʝćğ¶höO¤Ǜn³c`¡y¦CezYwa[ďĵűMę§]XÎ_íÛ]éÛUćİÕBƣ±dy¹T^dûÅÑŦ·PĻþÙ`K¦¢ÍeĥR¿³£[~äu¼dltW¸oRM¢ď\\\\z}Æzdvň{ÎXF¶°Â_ÒÂÏL©ÖTmu¼ãlīkiqéfA·Êµ\\\\őDc¥ÝFyÔćcűH_hLÜêĺĐ¨c}rn`½Ì@¸¶ªVLhŒ\\\\Ţĺk~Ġið°|gtTĭĸ^xvKVGréAébUuMJVÃO¡qĂXËSģãlýà_juYÛÒBG^éÖ¶§EGÅzěƯ¤EkN[kdåucé¬dnYpAyČ{`]þ¯TbÜÈk¡ĠvàhÂƄ¢Jî¶²\"]],encodeOffsets:[[[111707,21520]],[[107619,25527]]]}},{type:\"Feature\",id:\"460000\",properties:{id:\"460000\",cp:[109.83119,19.031971],name:\"海南\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@¦Ŝil¢XƦƞòïè§ŞCêɕrŧůÇąĻõ·ĉ³œ̅kÇm@ċȧŧĥĽʉ­ƅſȓÒË¦ŝE}ºƑ[ÍĜȋ gÎfǐÏĤ¨êƺ\\\\Ɔ¸ĠĎvʄȀÐ¾jNðĀÒRZǆzÐŘÎ°H¨Ƣb²_Ġ \"],encodeOffsets:[[112750,20508]]}},{type:\"Feature\",id:\"510000\",properties:{id:\"510000\",cp:[104.065735,30.659462],name:\"四川\",childNum:2},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@LqKr\"],[\"@@[ĻéV£_ţġñpG réÏ·~ąSfy×Í·ºſƽiÍıƣıĻmHH}siaX@iÇ°ÁÃ×t«­T¤JJJyJÈ`Ohß¦¡uËhIyCjmÿwZGTiSsOB²fNmsPa{M{õE^Hj}gYpaeu¯oáwHjÁ½M¡pMuåmni{fk\\\\oÎqCwEZ¼KĝAy{m÷LwO×SimRI¯rKõBS«sFe]fµ¢óY_ÆPRcue°Cbo×bd£ŌIHgtrnyPt¦foaXďxlBowz_{ÊéWiêEGhÜ¸ºuFĈIxf®Y½ĀǙ]¤EyF²ċw¸¿@g¢§RGv»áW`ÃĵJwi]t¥wO­½a[×]`Ãi­üL¦LabbTÀåc}ÍhÆh®BHî|îºÉk­¤Sy£ia©taį·Ɖ`ō¥UhOĝLk}©Fos´JmµlŁuønÑJWÎªYÀïAetTŅÓGË«bo{ıwodƟ½OġÜÂµxàNÖ¾P²§HKv¾]|BÆåoZ`¡Ø`ÀmºĠ~ÌÐ§nÇ¿¤]wğ@srğu~Io[é±¹ ¿ſđÓ@qg¹zƱřaí°KtÇ¤V»Ã[ĩǭƑ^ÇÓ@áťsZÏÅĭƋěpwDóÖáŻneQËq·GCœýS]x·ýq³OÕ¶Qzßti{řáÍÇWŝŭñzÇWpç¿JXĩè½cFÂLiVjx}\\\\NŇĖ¥GeJA¼ÄHfÈu~¸Æ«dE³ÉMA|bÒćhG¬CMõƤąAvüVéŀ_VÌ³ĐwQj´·ZeÈÁ¨X´Æ¡Qu·»ÕZ³ġqDoy`L¬gdp°şp¦ėìÅĮZ°Iähzĵf²å ĚÑKpIN|Ñz]ń·FU×é»R³MÉ»GM«kiér}Ã`¹ăÞmÈnÁîRǀ³ĜoİzŔwǶVÚ£À]ɜ»ĆlƂ²ĠþTº·àUȞÏʦ¶I«dĽĢdĬ¿»Ĕ×h\\\\c¬ä²GêëĤł¥ÀǿżÃÆMº}BÕĢyFVvwxBèĻĒ©ĈtCĢɽŠȣ¦āæ·HĽîôNÔ~^¤Ɗu^s¼{TA¼ø°¢İªDè¾Ň¶ÝJ®Z´ğ~Sn|ªWÚ©òzPOȸbð¢|øĞŒQìÛÐ@ĞǎRS¤Á§di´ezÝúØã]HqkIþËQÇ¦ÃsÇ¤[E¬ÉŪÍxXƒ·ÖƁİlƞ¹ª¹|XÊwnÆƄmÀêErĒtD®ċæcQE®³^ĭ¥©l}äQtoŖÜqÆkµªÔĻĴ¡@Ċ°B²Èw^^RsºTĀ£ŚæQPJvÄz^Đ¹Æ¯fLà´GC²dt­ĀRt¼¤ĦOðğfÔðDŨŁĞƘïPÈ®âbMüÀXZ ¸£@Å»»QÉ­]dsÖ×_Í_ÌêŮPrĔĐÕGĂeZÜîĘqBhtO ¤tE[h|YÔZśÎs´xº±Uñt|OĩĠºNbgþJy^dÂY Į]Řz¦gC³R`Āz¢Aj¸CL¤RÆ»@­Ŏk\\\\Ç´£YW}z@Z}Ã¶oû¶]´^NÒ}èNªPÍy¹`S°´ATeVamdUĐwʄvĮÕ\\\\uÆŗ¨Yp¹àZÂmWh{á}WØǍÉüwga§áCNęÎ[ĀÕĪgÖÉªXøx¬½Ů¦¦[NÎLÜUÖ´òrÙŠxR^JkĳnDX{U~ET{ļº¦PZcjF²Ė@pg¨B{u¨ŦyhoÚD®¯¢ WòàFÎ¤¨GDäz¦kŮPġqË¥À]eâÚ´ªKxīPÖ|æ[xÃ¤JÞĥsNÖ½I¬nĨY´®ÐƐmDŝuäđđEbee_v¡}ìęǊē}qÉåT¯µRs¡M@}ůaa­¯wvƉåZw\\\\Z{åû^\"]],encodeOffsets:[[[108815,30935]],[[110617,31811]]]}},{type:\"Feature\",id:\"520000\",properties:{id:\"520000\",cp:[106.713478,26.578343],name:\"贵州\",childNum:3},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@G\\\\lY£in\"],[\"@@q|mc¯tÏVSÎ\"],[\"@@hÑ£IsNgßHHªķÃh_¹¡ĝÄ§ń¦uÙùgS¯JH|sÝÅtÁïyMDč»eÕtA¤{b\\\\}G®u\\\\åPFqwÅaDK°ºâ_£ùbµmÁÛĹM[q|hlaªāI}Ñµ@swtwm^oµDéĽŠyVky°ÉûÛR³e¥]RÕěħ[ƅåÛDpJiVÂF²I»mN·£LbÒYbWsÀbpkiTZĄă¶Hq`ĥ_J¯ae«KpÝx]aĕÛPÇȟ[ÁåŵÏő÷Pw}TÙ@Õs«ĿÛq©½m¤ÙH·yǥĘĉBµĨÕnđ]K©œáGçş§ÕßgǗĦTèƤƺ{¶ÉHÎd¾ŚÊ·OÐjXWrãLyzÉAL¾ę¢bĶėy_qMĔąro¼hĊw¶øV¤w²Ĉ]ÊKx|`ź¦ÂÈdrcÈbe¸`I¼čTF´¼Óýȃr¹ÍJ©k_șl³´_pĐ`oÒh¶pa^ÓĔ}D»^Xy`d[KvJPhèhCrĂĚÂ^Êƌ wZL­Ġ£ÁbrzOIlMMĪŐžËr×ÎeŦtw|¢mKjSǘňĂStÎŦEtqFT¾Eì¬¬ôxÌO¢ K³ŀºäYPVgŎ¦ŊmŞ¼VZwVlz¤£Tl®ctĽÚó{G­AÇge~Îd¿æaSba¥KKûj®_Ä^\\\\Ø¾bP®¦x^sxjĶI_Ä Xâ¼Hu¨Qh¡À@Ëô}±GNìĎlT¸`V~R°tbÕĊ`¸úÛtÏFDu[MfqGH·¥yAztMFe|R_GkChZeÚ°tov`xbDnÐ{E}ZèxNEÞREn[Pv@{~rĆAB§EO¿|UZ~ìUf¨J²ĂÝÆsªB`s¶fvö¦Õ~dÔq¨¸º»uù[[§´sb¤¢zþF¢ÆÀhÂW\\\\ıËIÝo±ĭŠ£þÊs}¡R]ěDg´VG¢j±®èºÃmpU[Áëº°rÜbNu¸}º¼`niºÔXĄ¤¼ÔdaµÁ_ÃftQQgR·Ǔv}Ý×ĵ]µWc¤F²OĩųãW½¯K©]{LóµCIµ±Mß¿h©āq¬o½~@i~TUxŪÒ¢@£ÀEîôruńb[§nWuMÆLl¿]x}ĳ­½\"]],encodeOffsets:[[[112158,27383]],[[112105,27474]],[[112095,27476]]]}},{type:\"Feature\",id:\"530000\",properties:{id:\"530000\",cp:[101.512251,24.740609],name:\"云南\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@[ùx½}ÑRHYīĺûsÍniEoã½Ya²ė{c¬ĝgĂsAØÅwďõzFjw}«Dx¿}Uũlê@HÅ­F¨ÇoJ´Ónũuą¡Ã¢pÒÅØ TF²xa²ËXcÊlHîAßËŁkŻƑŷÉ©hW­æßUËs¡¦}teèÆ¶StÇÇ}Fd£jĈZĆÆ¤Tč\\\\D}O÷£U§~ŃGåŃDĝ¸Tsd¶¶Bª¤u¢ŌĎo~t¾ÍŶÒtD¦ÚiôözØX²ghįh½Û±¯ÿm·zR¦Ɵ`ªŊÃh¢rOÔ´£Ym¼èêf¯ŪĽncÚbw\\\\zlvWªâ ¦gmĿBĹ£¢ƹřbĥkǫßeeZkÙIKueT»sVesbaĕ  ¶®dNĄÄpªy¼³BE®lGŭCǶwêżĔÂepÍÀQƞpC¼ŲÈ­AÎô¶RäQ^Øu¬°_Èôc´¹ò¨PÎ¢hlĎ¦´ĦÆ´sâÇŲPnÊD^¯°Upv}®BPÌªjǬxSöwlfòªvqĸ|`H­viļndĜ­Ćhňem·FyÞqóSį¯³X_ĞçêtryvL¤§z¦c¦¥jnŞklD¤øz½ĜàĂŧMÅ|áƆàÊcðÂFÜáŢ¥\\\\\\\\ºİøÒÐJĴîD¦zK²ǏÎEh~CD­hMn^ÌöÄ©ČZÀaüfɭyœpį´ěFűk]Ôě¢qlÅĆÙa¶~ÄqêljN¬¼HÊNQ´ê¼VØ¸E^ŃÒyM{JLoÒęæe±Ķygã¯JYÆĭĘëo¥Šo¯hcK«z_prC´ĢÖY¼ v¸¢RÅW³Â§fÇ¸Yi³xR´ďUË`êĿUûuĆBƣöNDH«ĈgÑaB{ÊNF´¬c·Åv}eÇÃGB»If¦HňĕM~[iwjUÁKE¾dĪçWIèÀoÈXòyŞŮÈXâÎŚj|àsRyµÖPr´þ ¸^wþTDŔHr¸RÌmfżÕâCôoxĜƌÆĮÐYtâŦÔ@]ÈǮƒ\\\\Ī¼Ä£UsÈ¯LbîƲŚºyhr@ĒÔƀÀ²º\\\\êpJ}ĠvqtĠ@^xÀ£È¨mËÏğ}n¹_¿¢×Y_æpÅA^{½Lu¨GO±Õ½ßM¶wÁĢÛPƢ¼pcĲx|apÌ¬HÐŊSfsðBZ¿©XÏÒKk÷Eû¿SrEFsÕūkóVǥŉiTL¡n{uxţÏhôŝ¬ğōNNJkyPaqÂğ¤K®YxÉƋÁ]āęDqçgOgILu\\\\_gz]W¼~CÔē]bµogpÑ_oď`´³Țkl`IªºÎȄqÔþ»E³ĎSJ»_f·adÇqÇc¥Á_Źw{L^É±ćxU£µ÷xgĉp»ĆqNē`rĘzaĵĚ¡K½ÊBzyäKXqiWPÏÉ¸½řÍcÊG|µƕƣGË÷k°_^ý|_zċBZocmø¯hhcæ\\\\lMFlư£ĜÆyHF¨µêÕ]HAàÓ^it `þßäkĤÎT~Wlÿ¨ÔPzUCNVv [jâôDôď[}z¿msSh¯{jïğl}šĹ[őgK©U·µË@¾m_~q¡f¹ÅË^»f³ø}Q¡ÖË³gÍ±^Ç\\\\ëÃA_¿bWÏ[¶ƛé£F{īZgm@|kHǭƁć¦UĔť×ë}ǝeďºȡȘÏíBÉ£āĘPªĳ¶ŉÿy©nď£G¹¡I±LÉĺÑdĉÜW¥}gÁ{aqÃ¥aıęÏZï`\"],encodeOffsets:[[104636,22969]]}},{type:\"Feature\",id:\"540000\",properties:{id:\"540000\",cp:[89.132212,30.860361],name:\"西藏\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@ÂhľxŖxÒVºÅâAĪÝȆµę¯Ňa±r_w~uSÕňqOj]ɄQ£ZUDûoY»©M[L¼qãË{VÍçWVi]ë©Ä÷àyƛhÚU°adcQ~Mx¥cc¡ÙaSyFÖk­uRýq¿ÔµQĽ³aG{¿FµëªéĜÿª@¬·K·àariĕĀ«V»ŶĴūgèLǴŇƶaftèBŚ£^âǐÝ®M¦ÁǞÿ¬LhJ¾óƾÆºcxwf]Y´¦|QLn°adĊ\\\\¨oǀÍŎ´ĩĀd`tÊQŞŕ|¨C^©Ĉ¦¦ÎJĊ{ëĎjª²rÐl`¼Ą[t|¦Stè¾PÜK¸dƄı]s¤î_v¹ÎVòŦj£Əsc¬_Ğ´|Ł¦Av¦w`ăaÝaa­¢e¤ı²©ªSªÈMĄwÉØŔì@T¤Ę\\\\õª@þo´­xA sÂtŎKzó´ÇĊµ¢r^nĊ­Æ¬×üG¢³ {âĊ]G~bÀgVjzlhǶfOfdªB]pjTOtĊn¤}®¦Č¥d¢¼»ddY¼t¢eȤJ¤}Ǿ¡°§¤AÐlc@ĝsªćļđAçwxUuzEÖġ~AN¹ÄÅȀŻ¦¿ģŁéì±Hãd«g[Ø¼ēÀcīľġ¬cJµÐʥVȝ¸ßS¹ý±ğkƁ¼ą^ɛ¤Ûÿb[}¬ōõÃ]ËNm®g@Bg}ÍF±ǐyL¥íCIĳÏ÷Ñį[¹¦[âšEÛïÁÉdƅß{âNÆāŨß¾ě÷yC£k­´ÓH@Â¹TZ¥¢į·ÌAÐ§®Zcv½Z­¹|ÅWZqgW|ieZÅYVÓqdqbc²R@c¥Rã»GeeƃīQ}J[ÒK¬Ə|oėjġĠÑN¡ð¯EBčnwôɍėª²CλŹġǝʅįĭạ̃ūȹ]ΓͧgšsgȽóϧµǛęgſ¶ҍć`ĘąŌJÞä¤rÅň¥ÖÁUětęuůÞiĊÄÀ\\\\Æs¦ÓRb|Â^řÌkÄŷ¶½÷f±iMÝ@ĥ°G¬ÃM¥n£Øąğ¯ß§aëbéüÑOčk£{\\\\eµª×MÉfm«Ƒ{Å×Gŏǩãy³©WÑăû··Qòı}¯ãIéÕÂZ¨īès¶ZÈsæĔTŘvgÌsN@îá¾ó@ÙwU±ÉTå»£TđWxq¹Zobs[×¯cĩvėŧ³BM|¹kªħ¥TzNYnÝßpęrñĠĉRS~½ěVVµõ«M££µBĉ¥áºae~³AuĐh`Ü³ç@BÛïĿa©|z²Ý¼D£àč²ŸIûI āóK¥}rÝ_Á´éMaň¨~ªSĈ½½KÙóĿeƃÆB·¬ën×W|Uº}LJrƳlŒµ`bÔ`QÐÓ@s¬ñIÍ@ûws¡åQÑßÁ`ŋĴ{ĪTÚÅTSÄ³Yo|Ç[Ç¾µMW¢ĭiÕØ¿@MhpÕ]jéò¿OƇĆƇpêĉâlØwěsǩĵ¸cbU¹ř¨WavquSMzeo_^gsÏ·¥Ó@~¯¿RiīB\\\\qTGªÇĜçPoÿfñòą¦óQīÈáPābß{ZŗĸIæÅhnszÁCËìñÏ·ąĚÝUm®ó­L·ăUÈíoù´Êj°ŁŤ_uµ^°ìÇ@tĶĒ¡ÆM³Ģ«İĨÅ®ğRāðggheÆ¢zÊ©Ô\\\\°ÝĎz~ź¤PnMĪÖB£kné§żćĆKĒ°¼L¶èâz¨u¦¥LDĘz¬ýÎmĘd¾ßFzhg²Fy¦ĝ¤ċņbÎ@yĄæm°NĮZRÖíJ²öLĸÒ¨Y®ƌÐVàtt_ÚÂyĠz]ŢhzĎ{ÂĢXc|ÐqfO¢¤ögÌHNPKŖUú´xx[xvĐCûĀìÖT¬¸^}Ìsòd´_KgžLĴÀBon|H@Êx¦BpŰŌ¿fµƌA¾zǈRx¶FkĄźRzŀ~¶[´HnªVƞuĒ­È¨ƎcƽÌm¸ÁÈM¦x͊ëÀxǆBú^´W£dkɾĬpw˂ØɦļĬIŚÊnŔa¸~J°îlɌxĤÊÈðhÌ®gT´øàCÀ^ªerrƘd¢İP|Ė ŸWªĦ^¶´ÂLaT±üWƜǀRÂŶUńĖ[QhlLüAÜ\\\\qRĄ©\"],encodeOffsets:[[90849,37210]]}},{type:\"Feature\",id:\"610000\",properties:{id:\"610000\",cp:[108.948024,34.263161],name:\"陕西\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@p¢ȮµûGĦ}Ħðǚ¶òƄjɂz°{ºØkÈęâ¦jªBg\\\\ċ°s¬]jú EȌǆ¬stRÆdĠİwÜ¸ôW¾ƮłÒ_{Ìû¼jº¹¢GǪÒ¯ĘZ`ºŊecņą~BÂgzpâēòYǠȰÌTÎ¨ÂW|fcă§uF@N¢XLRMº[ğȣſï|¥Jkc`sŉǷY¹W@µ÷Kãï³ÛIcñ·VȋÚÒķø©þ¥yÓğęmWµÎumZyOŅƟĥÓ~sÑL¤µaÅY¦ocyZ{y c]{Ta©`U_Ěē£ωÊƍKùK¶ȱÝƷ§{û»ÅÁȹÍéuĳ|¹cÑdìUYOuFÕÈYvÁCqÓTǢí§·S¹NgV¬ë÷Át°DØ¯C´ŉƒópģ}ċcEËFéGU¥×K§­¶³BČ}C¿åċ`wġB·¤őcƭ²ő[Å^axwQOÿEËßŚĤNĔwƇÄńwĪ­o[_KÓª³ÙnKÇěÿ]ďă_d©·©Ýŏ°Ù®g]±ßå¬÷m\\\\iaǑkěX{¢|ZKlçhLtŇîŵœè[É@ƉĄEtƇÏ³­ħZ«mJ×¾MtÝĦ£IwÄå\\\\Õ{OwĬ©LÙ³ÙgBƕŀrÌĢŭO¥lãyC§HÍ£ßEñX¡­°ÙCgpťzb`wIvA|§hoĕ@E±iYd¥OĻ¹S|}F@¾oAO²{tfÜ¢FǂÒW²°BĤh^Wx{@¬­F¸¡ķn£P|ªĴ@^ĠĈæbÔc¶lYi^MicĎ°Â[ävï¶gv@ÀĬ·lJ¸sn|¼u~a]ÆÈtŌºJpþ£KKf~¦UbyäIĺãnÔ¿^­ŵMThĠÜ¤ko¼Ŏìąǜh`[tRd²Ĳ_XPrɲlXiL§à¹H°Ȧqº®QCbAŌJ¸ĕÚ³ĺ§ `d¨YjiZvRĺ±öVKkjGȊÄePĞZmļKÀ[`ösìhïÎoĬdtKÞ{¬èÒÒBÔpĲÇĬJŊ¦±J«Y§@·pHµàåVKepWftsAÅqC·¬ko«pHÆuK@oHĆÛķhxenS³àǍrqƶRbzy¸ËÐl¼EºpĤ¼x¼½~Ğà@ÚüdK^mÌSj\"],encodeOffsets:[[110234,38774]]}},{type:\"Feature\",id:\"620000\",properties:{id:\"620000\",cp:[103.823557,36.058039],name:\"甘肃\",childNum:2},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@VuUv\"],[\"@@ũEĠtt~nkh`Q¦ÅÄÜdwAb×ĠąJ¤DüègĺqBqj°lI¡ĨÒ¤úSHbjÎB°aZ¢KJO[|A£Dx}NĂ¬HUnrk kp¼Y kMJn[aGáÚÏ[½rc}aQxOgsPMnUsncZsKúvAtÞġ£®ĀYKdnFw¢JE°Latf`¼h¬we|Æbj}GA·~W`¢MC¤tL©Ĳ°qdfObÞĬ¹ttu`^ZúE`[@Æsîz®¡CƳƜG²R¢RmfwĸgÜą G@pzJM½mhVy¸uÈÔO±¨{LfæU¶ßGĂq\\\\ª¬²I¥IŉÈīoıÓÑAçÑ|«LÝcspīðÍgtë_õ\\\\ĉñLYnĝgRǡÁiHLlõUĹ²uQjYi§Z_c¨´ĹĖÙ·ŋIaBD­R¹ȥr¯GºßK¨jWkɱOqWĳ\\\\a­Q\\\\sg_ĆǛōëp»£lğÛgSŶN®À]ÓämĹãJaz¥V}Le¤Lýo¹IsŋÅÇ^bz³tmEÁ´a¹cčecÇNĊãÁ\\\\č¯dNj]jZµkÓdaćå]ğĳ@ ©O{¤ĸm¢E·®«|@Xwg]Aģ±¯XǁÑǳªcwQÚŝñsÕ³ÛV_ý¥\\\\ů¥©¾÷w©WÕÊĩhÿÖÁRo¸V¬âDb¨hûxÊ×ǌ~Zâg|XÁnßYoº§ZÅŘv[ĭÖʃuďxcVbnUSfB¯³_TzºÎO©çMÑ~M³]µ^püµÄY~y@X~¤Z³[Èōl@®Å¼£QK·Di¡ByÿQ_´D¥hŗy^ĭÁZ]cIzýah¹MĪğPs{ò²Vw¹t³ŜË[Ñ}X\\\\gsF£sPAgěp×ëfYHāďÖqēŭOÏëdLü\\\\it^c®RÊº¶¢H°mrY£B¹čIoľu¶uI]vģSQ{UŻÅ}QÂ|Ì°ƅ¤ĩŪU ęĄÌZÒ\\\\v²PĔ»ƢNHĂyAmƂwVm`]ÈbH`Ì¢²ILvĜH®¤Dlt_¢JJÄämèÔDëþgºƫaʎÌrêYi~ Îİ¤NpÀA¾Ĕ¼bð÷®üszMzÖĖQdȨýv§Tè|ªHÃ¾a¸|Ð ƒwKĢx¦ivr^ÿ ¸l öæfƟĴ·PJv}n\\\\h¹¶v·À|\\\\ƁĚN´ĜçèÁz]ġ¤²¨QÒŨTIlªťØ}¼˗ƦvÄùØEÂ«FïËIqōTvāÜŏíÛßÛVj³âwGăÂíNOPìyV³ŉĖýZso§HÑiYw[ß\\\\X¦¥c]ÔƩÜ·«jÐqvÁ¦m^ċ±R¦΋ƈťĚgÀ»IïĨʗƮ°ƝĻþÍAƉſ±tÍEÕÞāNUÍ¡\\\\ſčåÒʻĘm ƭÌŹöʥëQ¤µ­ÇcƕªoIýIÉ_mkl³ăƓ¦j¡YzŇi}Msßõīʋ }ÁVm_[n}eı­Uĥ¼ªI{Î§DÓƻėojqYhĹT©oūĶ£]ďxĩǑMĝq`B´ƃ˺Чç~²ņj@¥@đ´ί}ĥtPńÇ¾V¬ufÓÉCtÓ̻¹£G³]ƖƾŎĪŪĘ̖¨ʈĢƂlɘ۪üºňUðǜȢƢż̌ȦǼĤŊɲĖÂ­Kq´ï¦ºĒǲņɾªǀÞĈĂD½ĄĎÌŗĞrôñnN¼â¾ʄľԆ|Ǆ֦ज़ȗǉ̘̭ɺƅêgV̍ʆĠ·ÌĊv|ýĖÕWĊǎÞ´õ¼cÒÒBĢ͢UĜð͒s¨ňƃLĉÕÝ@ɛƯ÷¿Ľ­ĹeȏĳëCȚDŲyê×Ŗyò¯ļcÂßYtÁƤyAã˾J@ǝrý@¤rz¸oP¹ɐÚyáHĀ[JwcVeȴÏ»ÈĖ}ƒŰŐèȭǢόĀƪÈŶë;Ñ̆ȤМľĮEŔĹŊũ~ËUă{ĻƹɁύȩþĽvĽƓÉ@ēĽɲßǐƫʾǗĒpäWÐxnsÀ^ƆwW©¦cÅ¡Ji§vúF¶¨c~c¼īeXǚ\\\\đ¾JwÀďksãAfÕ¦L}waoZD½Ml«]eÒÅaÉ²áo½FõÛ]ĻÒ¡wYR£¢rvÓ®y®LFLzĈôe]gx}|KK}xklL]c¦£fRtív¦PĤoH{tK\"]],encodeOffsets:[[[108619,36299]],[[108589,36341]]]}},{type:\"Feature\",id:\"630000\",properties:{id:\"630000\",cp:[96.778916,35.623178],name:\"青海\",childNum:2},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@InJm\"],[\"@@CÆ½OŃĦsΰ~Ē³¦@@Ņi±è}ШƄ˹A³r_ĞǒNĪĐw¤^ŬĵªpĺSZgrpiƼĘÔ¨C|ÍJ©Ħ»®VĲ~f\\\\m `UnÂ~ʌĬàöNt~ňjy¢ZiƔ¥Ąk´nl`JÊJþ©pdƖ®È£¶ìRʦźõƮËnʼėæÑƀĎ[¢VÎĂMÖÝÎF²sƊƀÎBļýƞ¯ʘƭðħ¼Jh¿ŦęΌƇ¥²Q]Č¥nuÂÏri¸¬ƪÛ^Ó¦d¥[Wàx\\\\ZjÒ¨GtpþYŊĕ´zUOëPîMĄÁxH´áiÜUàîÜŐĂÛSuŎrJðÌ¬EFÁú×uÃÎkrĒ{V}İ«O_ÌËĬ©ÓŧSRÑ±§Ģ£^ÂyèçěM³Ƃę{[¸¿uºµ[gt£¸OƤĿéYõ·kĀq]juw¥DĩƍõÇPéÄ½G©ã¤GuȧþRcÕĕNyyût­øï»a½ē¿BMoį£Íj}éZËqbʍƬh¹ìÿÓAçãnIÃ¡I`ks£CG­ěUy×Cy@¶ʡÊBnāzGơMē¼±O÷õJËĚăVĪũƆ£¯{ËL½ÌzżVR|ĠTbuvJvµhĻĖHAëáa­OÇðñęNwœľ·LmI±íĠĩPÉ×®ÿscB³±JKßĊ«`ađ»·QAmOVţéÿ¤¹SQt]]Çx±¯A@ĉĳ¢Óļ©l¶ÅÛrŕspãRk~¦ª]Į­´FRåd­ČsCqđéFn¿ÅƃmÉx{W©ºƝºįkÕƂƑ¸wWūÐ©ÈF£\\\\tÈ¥ÄRÈýÌJ lGr^×äùyÞ³fjc¨£ÂZ|ǓMĝÏ@ëÜőRĝ÷¡{aïȷPu°ËXÙ{©TmĠ}Y³­ÞIňµç½©C¡į÷¯B»|St»]vųs»}MÓ ÿʪƟǭA¡fs»PY¼c¡»¦cċ­¥£~msĉPSi^o©AecPeǵkgyUi¿h}aHĉ^|á´¡HØûÅ«ĉ®]m¡qĉ¶³ÈyôōLÁstB®wn±ă¥HSòė£Së@×œÊăxÇN©©T±ª£Ĳ¡fb®Þbb_Ą¥xu¥B{łĝ³«`dƐt¤ťiñÍUuºí`£^tƃĲc·ÛLO½sç¥Ts{ă\\\\_»kÏ±q©čiìĉ|ÍI¥ć¥]ª§D{ŝŖÉR_sÿc³ĪōƿÎ§p[ĉc¯bKmR¥{³Ze^wx¹dƽÅ½ôIg §Mĕ ƹĴ¿ǣÜÍ]Ý]snåA{eƭ`ǻŊĿ\\\\ĳŬűYÂÿ¬jĖqßb¸L«¸©@ěĀ©ê¶ìÀEH|´bRľÓ¶rÀQþvl®ÕETzÜdb hw¤{LRdcb¯ÙVgƜßzÃôì®^jUèXÎ|UäÌ»rK\\\\ªN¼pZCüVY¤ɃRi^rPŇTÖ}|br°qňbĚ°ªiƶGQ¾²x¦PmlŜ[Ĥ¡ΞsĦÔÏâ\\\\ªÚŒU\\\\f¢N²§x|¤§xĔsZPòʛ²SÐqF`ªVÞŜĶƨVZÌL`¢dŐIqr\\\\oäõFÎ·¤»Ŷ×h¹]ClÙ\\\\¦ďÌį¬řtTӺƙgQÇÓHţĒ´ÃbEÄlbʔC|CŮkƮ[ʼ¬ň´KŮÈΰÌĪ¶ƶlðļATUvdTGº̼ÔsÊDÔveOg\"]],encodeOffsets:[[[105308,37219]],[[95370,40081]]]}},{type:\"Feature\",id:\"640000\",properties:{id:\"640000\",cp:[106.278179,37.26637],name:\"宁夏\",childNum:2},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@KëÀęĞ«Oęȿȕı]ŉ¡åįÕÔ«ǴõƪĚQÐZhv K°öqÀÑS[ÃÖHƖčËnL]ûcÙß@ĝ¾}w»»oģF¹»kÌÏ·{zP§B­¢íyÅt@@á]Yv_ssģ¼ißĻL¾ġsKD£¡N_X¸}B~HaiÅf{«x»ge_bsKF¯¡IxmELcÿZ¤­ĢÝsuBLùtYdmVtNmtOPhRw~bd¾qÐ\\\\âÙH\\\\bImlNZ»loqlVmGā§~QCw¤{A\\\\PKNY¯bFkC¥sks_Ã\\\\ă«¢ħkJi¯rrAhĹûç£CUĕĊ_ÔBixÅÙĄnªÑaM~ħpOu¥sîeQ¥¤^dkKwlL~{L~hw^ófćKyE­K­zuÔ¡qQ¤xZÑ¢^ļöÜ¾Ep±âbÊÑÆ^fk¬NC¾YpxbK~¥eÖäBlt¿Đx½I[ĒǙWf»Ĭ}d§dµùEuj¨IÆ¢¥dXªƅx¿]mtÏwßRĶX¢͎vÆzƂZò®ǢÌʆCrâºMÞzÆMÒÊÓŊZÄ¾r°Î®Ȉmª²ĈUªĚîøºĮ¦ÌĘk^FłĬhĚiĀĖ¾iİbjÕ\"],[\"@@mfwěwMrŢªv@G\"]],encodeOffsets:[[[109366,40242]],[[108600,36303]]]}},{type:\"Feature\",id:\"650000\",properties:{id:\"650000\",cp:[85.617733,40.792818],name:\"新疆\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@QØĔ²X¨~ǘBºjʐßØvKƔX¨vĊOÃ·¢i@~cĝe_«E}QxgɪëÏÃ@sÅyXoŖ{ô«ŸuXêÎf`C¹ÂÿÐGĮÕĞXŪōŸMźÈƺQèĽôe|¿ƸJR¤ĘEjcUóº¯Ĩ_ŘÁMª÷Ð¥OéÈ¿ÖğǤǷÂFÒzÉx[]­Ĥĝœ¦EP}ûƥé¿İƷTėƫœŕƅƱB»Đ±ēO¦E}`cȺrĦáŖuÒª«ĲπdƺÏØZƴwʄ¤ĖGĐǂZĶèH¶}ÚZצʥĪï|ÇĦMŔ»İĝǈì¥Βba­¯¥ǕǚkĆŵĦɑĺƯxūД̵nơʃĽá½M»òmqóŘĝčË¾ăCćāƿÝɽ©ǱŅ¹đ¥³ðLrÁ®ɱĕģŉǻ̋ȥơŻǛȡVï¹Ň۩ûkɗġƁ§ʇė̕ĩũƽō^ƕUv£ƁQïƵkŏ½ΉÃŭÇ³LŇʻ«ƭ\\\\lŭD{ʓDkaFÃÄa³ŤđÔGRÈƚhSӹŚsİ«ĐË[¥ÚDkº^Øg¼ŵ¸£EÍöůŉT¡c_ËKYƧUśĵÝU_©rETÏʜ±OñtYwē¨{£¨uM³x½şL©Ùá[ÓÐĥ Νtģ¢\\\\śnkOw¥±T»ƷFɯàĩÞáB¹ÆÑUwŕĽw[mG½Èå~Æ÷QyěCFmĭZīŵVÁƿQƛûXS²b½KÏ½ĉS©ŷXĕ{ĕK·¥Ɨcqq©f¿]ßDõU³h­gËÇïģÉɋwk¯í}I·œbmÉřīJɥĻˁ×xoɹīlc¤³Xù]ǅA¿w͉ì¥wÇN·ÂËnƾƍdÇ§đ®ƝvUm©³G\\\\}µĿQyŹlăµEwǇQ½yƋBe¶ŋÀůo¥AÉw@{Gpm¿AĳŽKLh³`ñcËtW±»ÕSëüÿďDu\\\\wwwù³VLŕOMËGh£õP¡erÏd{ġWÁč|yšg^ğyÁzÙs`s|ÉåªÇ}m¢Ń¨`x¥ù^}Ì¥H«YªƅAÐ¹n~ź¯f¤áÀzgÇDIÔ´AňĀÒ¶ûEYospõD[{ù°]uJqU|Soċxţ[õÔĥkŋÞŭZËºóYËüċrw ÞkrťË¿XGÉbřaDü·Ē÷AÃª[ÄäIÂ®BÕĐÞ_¢āĠpÛÄȉĖġDKwbmÄNôfƫVÉviǳHQµâFù­Âœ³¦{YGd¢ĚÜO {Ö¦ÞÍÀP^bƾl[vt×ĈÍEË¨¡Đ~´î¸ùÎhuè`¸HÕŔVºwĠââWò@{ÙNÝ´ə²ȕn{¿¥{l÷eé^eďXj©î\\\\ªÑòÜìc\\\\üqÕ[Č¡xoÂċªbØ­ø|¶ȴZdÆÂońéG\\\\¼C°ÌÆn´nxÊOĨŪƴĸ¢¸òTxÊǪMīĞÖŲÃɎOvʦƢ~FRěò¿ġ~åŊúN¸qĘ[Ĕ¶ÂćnÒPĒÜvúĀÊbÖ{Äî¸~Ŕünp¤ÂH¾ĄYÒ©ÊfºmÔĘcDoĬMŬS¤s²ʘÚžȂVŦ èW°ªB|ĲXŔþÈJĦÆæFĚêYĂªĂ]øªŖNÞüAfɨJ¯ÎrDDĤ`mz\\\\§~D¬{vJÂ«lµĂb¤pŌŰNĄ¨ĊXW|ų ¿¾ɄĦƐMTòP÷fØĶK¢ȝ˔Sô¹òEð­`Ɩ½ǒÂň×äı§ĤƝ§C~¡hlåǺŦŞkâ~}FøàĲaĞfƠ¥Ŕd®U¸źXv¢aƆúŪtŠųƠjdƺƺÅìnrh\\\\ĺ¯äɝĦ]èpĄ¦´LƞĬ´ƤǬ˼Ēɸ¤rºǼ²¨zÌPðŀbþ¹ļD¢¹\\\\ĜÑŚ¶ZƄ³àjĨoâȴLÊȮĐ­ĚăÀêZǚŐ¤qȂ\\\\L¢ŌİfÆs|zºeªÙæ§΢{Ā´ƐÚ¬¨Ĵà²łhʺKÞºÖTiƢ¾ªì°`öøu®Ê¾ãØ\"],encodeOffsets:[[88824,50096]]}},{type:\"Feature\",id:\"110000\",properties:{id:\"110000\",cp:[116.405285,39.904989],name:\"北京\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@ĽOÁûtŷmiÍt_H»Ĩ±d`¹­{bwYr³S]§§o¹qGtm_SŧoaFLgQN_dV@Zom_ć\\\\ßcÂ±x¯oœRcfe£o§ËgToÛJíĔóu|wP¤XnO¢ÉŦ¯rNÄā¤zâŖÈRpŢZÚ{GrFt¦Òx§ø¹RóäV¤XdżâºWbwŚ¨Ud®bêņ¾jnŎGŃŶnzÚSeîĜZczî¾i]ÍQaúÍÔiþĩȨWĢü|Ėu[qb[swP@ÅğP¿{\\\\¥A¨ÏÑ¨j¯X\\\\¯MKpA³[Hīu}}\"],encodeOffsets:[[120023,41045]]}},{type:\"Feature\",id:\"120000\",properties:{id:\"120000\",cp:[117.190182,39.125596],name:\"天津\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@ŬgX§Ü«E¶FÌ¬O_ïlÁgz±AXeµÄĵ{¶]gitgIj·¥îakS¨ÐƎk}ĕ{gBqGf{¿aU^fIư³õ{YıëNĿk©ïËZŏR§òoY×Ógcĥs¡bġ«@dekąI[nlPqCnp{ō³°`{PNdƗqSÄĻNNâyj]äÒD ĬH°Æ]~¡HO¾X}ÐxgpgWrDGpù^LrzWxZ^¨´T\\\\|~@IzbĤjeĊªz£®ĔvěLmV¾Ô_ÈNW~zbĬvG²ZmDM~~\"],encodeOffsets:[[120237,41215]]}},{type:\"Feature\",id:\"310000\",properties:{id:\"310000\",cp:[121.472644,31.231706],name:\"上海\",childNum:6},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@ɧư¬EpƸÁxc\"],[\"@@©ª\"],[\"@@MA\"],[\"@@QpİE§ÉC¾\"],[\"@@bŝÕÕEȣÚƥêImɇǦèÜĠÚÃƌÃ͎ó\"],[\"@@ǜûȬɋŭ×^sYɍDŋŽąñCG²«ªč@h_p¯A{oloY¬j@Ĳ`gQÚhr|ǀ^MĲvtbe´R¯Ô¬¨Yô¤r]ìƬį\"]],encodeOffsets:[[[124702,32062]],[[124547,32200]],[[124808,31991]],[[124726,32110]],[[124903,32376]],[[124438,32149]]]}},{type:\"Feature\",id:\"500000\",properties:{id:\"500000\",cp:[107.304962,29.533155],name:\"重庆\",childNum:2},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@vjG~nGŘŬĶȂƀƾ¹¸ØÎezĆT¸}êÐqHðqĖä¥^CÆIj²p\\\\_ æüY|[YxƊæu°xb®Űb@~¢NQt°¶Sæ Ê~rǉĔëĚ¢~uf`faĔJåĊnÖ]jƎćÊ@£¾a®£Ű{ŶĕFègLk{Y|¡ĜWƔtƬJÑxq±ĢN´òKLÈÃ¼D|s`ŋć]Ã`đMûƱ½~Y°ħ`ƏíW½eI½{aOIrÏ¡ĕŇapµÜƅġ^ÖÛbÙŽŏml½SêqDu[RãË»ÿw`»y¸_ĺę}÷`M¯ċfCVµqŉ÷Zgg`d½pDOÎCn^uf²ènh¼WtƏxRGg¦pVFI±G^Ic´ecGĹÞ½sëĬhxW}KÓe­XsbkF¦LØgTkïƵNï¶}Gyw\\\\oñ¡nmĈzj@Óc£»Wă¹Ój_m»¹·~MvÛaq»­ê\\\\ÂoVnÓØÍ²«bq¿efE Ĝ^Q~ Évýş¤²ĮpEİ}zcĺL½¿gÅ¡ýE¡ya£³t\\\\¨\\\\vú»¼§·Ñr_oÒý¥u_n»_At©ÞÅ±ā§IVeëY}{VPÀFA¨ąB}q@|Ou\\\\FmQFÝMwå}]|FmÏCawu_p¯sfÙgYDHl`{QEfNysB¦zG¸rHeN\\\\CvEsÐùÜ_·ÖĉsaQ¯}_UxÃđqNH¬Äd^ÝŰR¬ã°wećJE·vÝ·HgéFXjÉê`|ypxkAwWĐpb¥eOsmzwqChóUQl¥F^lafanòsrEvfQdÁUVfÎvÜ^eftET¬ôA\\\\¢sJnQTjPØxøK|nBzĞ»LYFDxÓvr[ehľvN¢o¾NiÂxGpâ¬zbfZo~hGi]öF||NbtOMn eA±tPTLjpYQ|SHYĀxinzDJÌg¢và¥Pg_ÇzIIII£®S¬ØsÎ¼£N\"],[\"@@ifjN@s\"]],encodeOffsets:[[[109628,30765]],[[111725,31320]]]}},{type:\"Feature\",id:\"810000\",properties:{id:\"810000\",cp:[114.173355,22.320048],name:\"香港\",childNum:5},geometry:{type:\"MultiPolygon\",coordinates:[[\"@@AlBk\"],[\"@@mn\"],[\"@@EpFo\"],[\"@@ea¢pl¸Eõ¹hj[]ÔCÎ@lj¡uBX´AI¹[yDU]W`çwZkmcMpÅv}IoJlcafŃK°ä¬XJmÐ đhI®æÔtSHnEÒrÈc\"],[\"@@rMUwAS®e\"]],encodeOffsets:[[[117111,23002]],[[117072,22876]],[[117045,22887]],[[116975,23082]],[[116882,22747]]]}},{type:\"Feature\",id:\"820000\",properties:{id:\"820000\",cp:[113.54909,22.198951],name:\"澳门\",childNum:1},geometry:{type:\"Polygon\",coordinates:[\"@@kÊd°å§s\"],encodeOffsets:[[116279,22639]]}}],UTF8Encoding:true})})?i.apply(e,r):i)||(t.exports=a)},function(t,e){var n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(0),s=n(8),r=n(211),a=n(34),o=n(21),l=n(213),u=\"silent\";function h(){o.stop(this.event)}function c(){}c.prototype.dispose=function(){};function d(t,e,n,i){a.call(this),this.storage=t,this.painter=e,this.painterRoot=i,n=n||new c,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,r.call(this),this.setHandlerProxy(n)}var f=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"];function p(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}d.prototype={constructor:d,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(i.each(f,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(t){var e=t.zrX,n=t.zrY,i=p(this,e,n),r=this._hovered,a=r.target;a&&!a.__zr&&(a=(r=this.findHover(r.x,r.y)).target);var o=this._hovered=i?{x:e,y:n}:this.findHover(e,n),s=o.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:\"default\"),a&&s!==a&&this.dispatchToElement(r,\"mouseout\",t),this.dispatchToElement(o,\"mousemove\",t),s&&s!==a&&this.dispatchToElement(o,\"mouseover\",t)},mouseout:function(t){var e=t.zrEventControl,n=t.zrIsToLocalDOM;\"only_globalout\"!==e&&this.dispatchToElement(this._hovered,\"mouseout\",t),\"no_globalout\"!==e&&(n||this.trigger(\"globalout\",{type:\"globalout\",event:t}))},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r,a,o=\"on\"+e,s={type:e,event:a=n,target:(r=t).target,topTarget:r.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:h};i&&(i[o]&&(s.cancelBubble=i[o].call(i,s)),i.trigger(e,s),i=i.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(e,s),this.painter&&this.painter.eachOtherLayer(function(t){\"function\"==typeof t[o]&&t[o].call(t,s),t.trigger&&t.trigger(e,s)}))}},findHover:function(t,e,n){for(var i,r=this.storage.getDisplayList(),a={x:t,y:e},o=r.length-1;0<=o;o--){if(r[o]!==n&&!r[o].ignore&&(i=function(t,e,n){if(t[t.rectHover?\"rectContain\":\"contain\"](e,n)){for(var i,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||u}return!1}(r[o],t,e))&&(a.topTarget||(a.topTarget=r[o]),i!==u)){a.target=r[o];break}}return a},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new l);var n=this._gestureMgr;\"start\"===e&&n.clear();var i,r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);\"end\"===e&&n.clear(),r&&(i=r.type,t.gestureEvent=i,this.dispatchToElement({target:r.target},i,r.event))}},i.each([\"click\",\"mousedown\",\"mouseup\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(o){d.prototype[o]=function(t){var e,n,i=t.zrX,r=t.zrY,a=p(this,i,r);if(\"mouseup\"===o&&a||(n=(e=this.findHover(i,r)).target),\"mousedown\"===o)this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if(\"mouseup\"===o)this._upEl=n;else if(\"click\"===o){if(this._downEl!==this._upEl||!this._downPoint||4<s.dist(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(e,o,t)}}),i.mixin(d,a),i.mixin(d,r),t.exports=d},function(t,e){function n(){this.on(\"mousedown\",this._dragStart,this),this.on(\"mousemove\",this._drag,this),this.on(\"mouseup\",this._dragEnd,this)}function l(t,e){return{target:t,topTarget:e&&e.topTarget}}n.prototype={constructor:n,_dragStart:function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(l(e,t),\"dragstart\",t.event))},_drag:function(t){var e,n,i,r,a,o,s=this._draggingTarget;s&&(e=t.offsetX,n=t.offsetY,i=e-this._x,r=n-this._y,this._x=e,this._y=n,s.drift(i,r,t),this.dispatchToElement(l(s,t),\"drag\",t.event),a=this.findHover(e,n,s).target,o=this._dropTarget,s!==(this._dropTarget=a)&&(o&&a!==o&&this.dispatchToElement(l(o,t),\"dragleave\",t.event),a&&a!==o&&this.dispatchToElement(l(a,t),\"dragenter\",t.event)))},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(l(e,t),\"dragend\",t.event),this._dropTarget&&this.dispatchToElement(l(this._dropTarget,t),\"drop\",t.event),this._draggingTarget=null,this._dropTarget=null}};t.exports=n},function(t,e){var g=Math.log(2);function m(t,e,n,i,r,a){var o=i+\"-\"+r,s=t.length;if(a.hasOwnProperty(o))return a[o];if(1===e){var l=Math.round(Math.log((1<<s)-1&~r)/g);return t[n][l]}for(var u=i|1<<n,h=n+1;i&1<<h;)h++;for(var c=0,d=0,f=0;d<s;d++){var p=1<<d;p&r||(c+=(f%2?-1:1)*t[n][d]*m(t,e-1,h,u,r|p,a),f++)}return a[o]=c}e.buildTransformer=function(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},r=m(n,8,0,0,0,i);if(0!==r){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*m(n,7,0===o?1:0,1<<o,1<<s,i)/r*e[o];return function(t,e,n){var i=e*a[6]+n*a[7]+1;t[0]=(e*a[0]+n*a[1]+a[2])/i,t[1]=(e*a[3]+n*a[4]+a[5])/i}}}},function(t,e,n){function i(){this._track=[]}var u=n(21);function l(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}i.prototype={constructor:i,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},a=0,o=i.length;a<o;a++){var s=i[a],l=u.clientToLocal(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},_recognize:function(t){for(var e in r)if(r.hasOwnProperty(e)){var n=r[e](this._track,t);if(n)return n}}};var r={pinch:function(t,e){var n=t.length;if(n){var i,r=(t[n-1]||{}).points,a=(t[n-2]||{}).points||r;if(a&&1<a.length&&r&&1<r.length){var o=l(r)/l(a);isFinite(o)||(o=1),e.pinchScale=o;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:\"pinch\",target:t[0].target,event:e}}}}};t.exports=i},function(t,e,n){var a=n(0),o=n(11),s=n(35),l=n(87);function u(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function i(){this._roots=[],this._displayList=[],this._displayListLen=0}i.prototype={constructor:i,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i<r;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,o.canvasSupported&&l(n,u)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var r=i,a=t;r;)r.parent=a,r.updateTransform(),e.push(r),r=(a=r).clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var l=o[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof s&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof s&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var r=a.indexOf(this._roots,t);0<=r&&(this.delFromStorage(t),this._roots.splice(r,1),t instanceof s&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:u},t.exports=i},function(t,e,n){function i(){this.animators=[]}var d=n(124),f=n(53),r=n(0),p=r.isString,g=r.isFunction,m=r.isObject,v=r.isArrayLike,y=r.indexOf;function o(t,e,n,i,r,a,o,s){p(i)?(a=r,r=i,i=0):g(r)?(a=r,r=\"linear\",i=0):g(i)?(a=i,i=0):n=g(n)?(a=n,500):n||500,t.stopAnimation(),function t(e,n,i,r,a,o,s){var l={};var u=0;for(var h in r)r.hasOwnProperty(h)&&(null!=i[h]?m(r[h])&&!v(r[h])?t(e,n?n+\".\"+h:h,i[h],r[h],a,o,s):(s?(l[h]=i[h],_(e,n,h,r[h])):l[h]=r[h],u++):null==r[h]||s||_(e,n,h,r[h]));0<u&&e.animate(n,!1).when(null==a?500:a,l).delay(o||0)}(t,\"\",t,e,n,i,s);var l=t.animators.slice(),u=l.length;function h(){--u||a&&a()}u||a&&a();for(var c=0;c<l.length;c++)l[c].done(h).start(r,o)}function _(t,e,n,i){var r;e?((r={})[e]={},r[e][n]=i,t.attr(r)):t.attr(n,i)}i.prototype={constructor:i,animate:function(t,e){var n,i=!1,r=this,a=this.__zr;if(t){for(var o=t.split(\".\"),s=r,i=\"shape\"===o[0],l=0,u=o.length;l<u;l++)s=s&&s[o[l]];s&&(n=s)}else n=r;if(n){var h=r.animators,c=new d(n,e);return c.during(function(t){r.dirty(i)}).done(function(){h.splice(y(h,c),1)}),h.push(c),a&&a.animation.addAnimator(c),c}f('Property \"'+t+'\" is not existed in element '+r.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,n,i,r,a){o(this,t,e,n,i,r,a)},animateFrom:function(t,e,n,i,r,a){o(this,t,e,n,i,r,a,!0)}},t.exports=i},function(t,e,n){var o=n(217);function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||\"Linear\",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,r=\"string\"==typeof i?o[i]:i,a=\"function\"==typeof r?r(n):n;return this.fire(\"frame\",a),1===n?this.loop?(this.restart(t),\"restart\"):(this._needsRemove=!0,\"destroy\"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t=\"on\"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};t.exports=i},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}};t.exports=n},function(t,e,n){var p=n(70).devicePixelRatio,v=n(0),u=n(53),i=n(9),s=n(87),g=n(219),a=n(128),y=n(43),_=n(11),m=314159;function l(t){return parseInt(t,10)}var c=new i(0,0,0,0),d=new i(0,0,0,0);function r(t,e,n){this.type=\"canvas\";var i=!t.nodeName||\"CANVAS\"===t.nodeName.toUpperCase();this._opts=n=v.extend({},n||{}),this.dpr=n.devicePixelRatio||p,this._singleCanvas=i;var r=(this.root=t).style;r&&(r[\"-webkit-tap-highlight-color\"]=\"transparent\",r[\"-webkit-user-select\"]=r[\"user-select\"]=r[\"-webkit-touch-callout\"]=\"none\",t.innerHTML=\"\"),this.storage=e;var a,o,s,l,u,h,c,d=this._zlevelList=[],f=this._layers={};this._layerConfig={},this._needsManuallyCompositing=!1,i?(a=t.width,o=t.height,null!=n.width&&(a=n.width),null!=n.height&&(o=n.height),this.dpr=n.devicePixelRatio||1,t.width=a*this.dpr,t.height=o*this.dpr,this._width=a,this._height=o,(s=new g(t,this,this.dpr)).__builtin__=!0,s.initContext(),(f[m]=s).zlevel=m,d.push(m),this._domRoot=t):(this._width=this._getSize(0),this._height=this._getSize(1),l=this._domRoot=(u=this._width,h=this._height,(c=document.createElement(\"div\")).style.cssText=[\"position:relative\",\"width:\"+u+\"px\",\"height:\"+h+\"px\",\"padding:0\",\"margin:0\",\"border-width:0\"].join(\";\")+\";\",c),t.appendChild(l)),this._hoverlayer=null,this._hoverElements=[]}r.prototype={constructor:r,getType:function(){return\"canvas\"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var r,a=n[i],o=this._layers[a];!o.__builtin__&&o.refresh&&(r=0===i?this._backgroundColor:null,o.refresh(r))}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return(n.__from=t).__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,i=v.indexOf(n,e);0<=i&&n.splice(i,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var i=e[n].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){s(t,this.storage.displayableSortFunc);var i={};(n=n||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var r=0;r<e;){var a=t[r],o=a.__from;o&&o.__zr?(r++,o.invisible||(a.transform=o.transform,a.invTransform=o.invTransform,a.__clipPaths=o.__clipPaths,this._doPaintEl(a,n,!0,i))):(t.splice(r,1),o.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){var i,r;this._redrawId===n&&(e=e||!1,this._updateLayerStatus(t),i=this._doPaintList(t,e),this._needsManuallyCompositing&&this._compositeManually(),i||(r=this,a(function(){r._paintList(t,e,n)})))},_compositeManually:function(){var e=this.getLayer(m).ctx,n=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,n,i),this.eachBuiltinLayer(function(t){t.virtual&&e.drawImage(t.dom,0,0,n,i)})},_doPaintList:function(t,e){for(var n=[],i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];(s=this._layers[r]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var a=!0,o=0;o<n.length;o++){var s,l=(s=n[o]).ctx,u={};l.save();var h,c=e?s.__startIndex:s.__drawIndex,d=!e&&s.incremental&&Date.now,f=d&&Date.now(),p=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;s.__startIndex===s.__endIndex?s.clear(!1,p):c===s.__startIndex&&((h=t[c]).incremental&&h.notClear&&!e||s.clear(!1,p)),-1===c&&(console.error(\"For some unknown reason. drawIndex is -1\"),c=s.__startIndex);for(var g=c;g<s.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,s,e,u),m.__dirty=m.__dirtyText=!1,d)if(15<Date.now()-f)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(a=!1),u.prevElClipPaths&&l.restore(),l.restore()}return _.wxa&&v.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,n,i){var r,a,o,s,l,u=e.ctx,h=t.transform;!e.__dirty&&!n||t.invisible||0===t.style.opacity||h&&!h[0]&&!h[3]||t.culling&&(o=t,s=this._width,l=this._height,c.copy(o.getBoundingRect()),o.transform&&c.applyTransform(o.transform),d.width=s,d.height=l,!c.intersect(d))||(r=t.__clipPaths,(a=i.prevElClipPaths)&&!function(t,e){if(t!==e){if(!t||!e||t.length!==e.length)return 1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return 1}}(r,a)||(a&&(u.restore(),i.prevElClipPaths=null,i.prevEl=null),r&&(u.save(),function(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}(r,u),i.prevElClipPaths=r)),t.beforeBrush&&t.beforeBrush(u),t.brush(u,i.prevEl||null),(i.prevEl=t).afterBrush&&t.afterBrush(u))},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=m);var n=this._layers[t];return n||((n=new g(\"zr_\"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?v.merge(n,this._layerConfig[t],!0):this._layerConfig[t-.01]&&v.merge(n,this._layerConfig[t-.01],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n,i=this._layers,r=this._zlevelList,a=r.length,o=null,s=-1,l=this._domRoot;if(i[t])u(\"ZLevel \"+t+\" has been used already\");else if(function(t){if(t){if(t.__builtin__)return 1;if(\"function\"==typeof t.resize&&\"function\"==typeof t.refresh)return 1}}(e)){if(0<a&&t>r[0]){for(s=0;s<a-1&&!(r[s]<t&&r[s+1]>t);s++);o=i[r[s]]}r.splice(s+1,0,t),(i[t]=e).virtual||(o?(n=o.dom).nextSibling?l.insertBefore(e.dom,n.nextSibling):l.appendChild(e.dom):l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom))}else u(\"Layer of zlevel \"+t+\" is not valid\")},eachLayer:function(t,e){for(var n,i=this._zlevelList,r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){for(var n,i,r=this._zlevelList,a=0;a<r.length;a++)i=r[a],(n=this._layers[i]).__builtin__&&t.call(e,n,i)},eachOtherLayer:function(t,e){for(var n,i,r=this._zlevelList,a=0;a<r.length;a++)i=r[a],(n=this._layers[i]).__builtin__||t.call(e,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){r&&(r.__endIndex!==t&&(r.__dirty=!0),r.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){if((o=t[n]).zlevel!==t[n-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}}for(var i,r=null,a=0,n=0;n<t.length;n++){var o,s,l=(o=t[n]).zlevel;i!==l&&(i=l,a=0),o.incremental?((s=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):s=this.getLayer(l+(0<a?.01:0),this._needsManuallyCompositing),s.__builtin__||u(\"ZLevel \"+l+\" has been used by unkown layer \"+s.id),s!==r&&(s.__used=!0,s.__startIndex!==n&&(s.__dirty=!0),s.__startIndex=n,s.incremental?s.__drawIndex=-1:s.__drawIndex=n,e(n),r=s),o.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=n))}e(n),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?v.merge(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r,a=this._zlevelList[i];a!==t&&a!==t+.01||(r=this._layers[a],v.merge(r,n[t],!0))}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(v.indexOf(n,t),1))},resize:function(e,n){if(this._domRoot.style){var t=this._domRoot;t.style.display=\"none\";var i=this._opts;if(null!=e&&(i.width=e),null!=n&&(i.height=n),e=this._getSize(0),n=this._getSize(1),t.style.display=\"\",this._width!==e||n!==this._height){for(var r in t.style.width=e+\"px\",t.style.height=n+\"px\",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,n);v.each(this._progressiveLayers,function(t){t.resize(e,n)}),this.refresh(!0)}this._width=e,this._height=n}else{if(null==e||null==n)return;this._width=e,this._height=n,this.getLayer(m).resize(e,n)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML=\"\",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[m].dom;var e=new g(\"image\",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,i=e.dom.height,r=e.ctx;this.eachLayer(function(t){t.__builtin__?r.drawImage(t.dom,0,0,n,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var l=o[s];this._doPaintEl(l,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=[\"width\",\"height\"][t],i=[\"clientWidth\",\"clientHeight\"][t],r=[\"paddingLeft\",\"paddingTop\"][t],a=[\"paddingRight\",\"paddingBottom\"][t];if(null!=e[n]&&\"auto\"!==e[n])return parseFloat(e[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[i]||l(s[n])||l(o.style[n]))-(l(s[r])||0)-(l(s[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement(\"canvas\"),i=n.getContext(\"2d\"),r=t.getBoundingRect(),a=t.style,o=a.shadowBlur*e,s=a.shadowOffsetX*e,l=a.shadowOffsetY*e,u=a.hasStroke()?a.lineWidth:0,h=Math.max(u/2,o-s),c=Math.max(u/2,s+o),d=Math.max(u/2,o-l),f=Math.max(u/2,l+o),p=r.width+h+c,g=r.height+d+f;n.width=p*e,n.height=g*e,i.scale(e,e),i.clearRect(0,0,p,g),i.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-r.x,d-r.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);var v=new y({style:{x:0,y:0,image:n}});return null!=m.position&&(v.position=t.position=m.position),null!=m.rotation&&(v.rotation=t.rotation=m.rotation),null!=m.scale&&(v.scale=t.scale=m.scale),v}},t.exports=r},function(t,e,n){var s=n(0),a=n(70).devicePixelRatio,c=n(88),d=n(127);function o(){return!1}function l(t,e,n){var i=s.createCanvas(),r=e.getWidth(),a=e.getHeight(),o=i.style;return o&&(o.position=\"absolute\",o.left=0,o.top=0,o.width=r+\"px\",o.height=a+\"px\",i.setAttribute(\"data-zr-dom-id\",t)),i.width=r*n,i.height=a*n,i}function i(t,e,n){var i;n=n||a,\"string\"==typeof t?i=l(t,e,n):s.isObject(t)&&(t=(i=t).id),this.id=t;var r=(this.dom=i).style;r&&(i.onselectstart=o,r[\"-webkit-user-select\"]=\"none\",r[\"user-select\"]=\"none\",r[\"-webkit-touch-callout\"]=\"none\",r[\"-webkit-tap-highlight-color\"]=\"rgba(0,0,0,0)\",r.padding=0,r.margin=0,r[\"border-width\"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n}i.prototype={constructor:i,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext(\"2d\"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=l(\"back-\"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext(\"2d\"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,i=this.dom,r=i.style,a=this.domBack;r&&(r.width=t+\"px\",r.height=e+\"px\"),i.width=t*n,i.height=e*n,a&&(a.width=t*n,a.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,i,r=this.dom,a=this.ctx,o=r.width,s=r.height,e=e||this.clearColor,l=this.motionBlur&&!t,u=this.lastFrameAlpha,h=this.dpr;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation=\"copy\",this.ctxBack.drawImage(r,0,0,o/h,s/h)),a.clearRect(0,0,o,s),e&&\"transparent\"!==e&&(e.colorStops?(n=e.__canvasGradient||c.getGradient(a,e,{x:0,y:0,width:o,height:s}),e.__canvasGradient=n):e.image&&(n=d.prototype.getCanvasPattern.call(e,a)),a.save(),a.fillStyle=n||e,a.fillRect(0,0,o,s),a.restore()),l&&(i=this.domBack,a.save(),a.globalAlpha=u,a.drawImage(i,0,0,o,s),a.restore())}},t.exports=i},function(t,e,n){function i(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,a.call(this)}var r=n(0),a=n(21).Dispatcher,o=n(128),s=n(124);i.prototype={constructor:i,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=r.indexOf(this._clips,t);0<=e&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,r=[],a=[],o=0;o<i;o++){var s=n[o],l=s.step(t,e);l&&(r.push(l),a.push(s))}for(o=0;o<i;)n[o]._needsRemove?(n[o]=n[i-1],n.pop(),i--):o++;i=r.length;for(o=0;o<i;o++)a[o].fire(r[o]);this._time=t,this.onframe(e),this.trigger(\"frame\",e),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,o(function t(){e._running&&(o(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new s(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},r.mixin(i,a),t.exports=i},function(t,e,n){var i,r,a=n(21),o=a.addEventListener,s=a.removeEventListener,l=a.normalizeEvent,u=a.getNativeEvent,h=n(0),c=n(34),d=n(11),f=d.domSupported,p=(r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:i=[\"click\",\"dblclick\",\"mousewheel\",\"mouseout\",\"mouseup\",\"mousedown\",\"mousemove\",\"contextmenu\"],touch:[\"touchstart\",\"touchend\",\"touchmove\"],pointer:h.map(i,function(t){var e=t.replace(\"mouse\",\"pointer\");return r.hasOwnProperty(e)?e:t})}),g={mouse:[\"mousemove\",\"mouseup\"],pointer:[\"pointermove\",\"pointerup\"]};function m(t){return\"mousewheel\"===t&&d.browser.firefox?\"DOMMouseScroll\":t}function v(t){var e=t.pointerType;return\"pen\"===e||\"touch\"===e}function y(t){t&&(t.zrByTouch=!0)}function _(t,e){for(var n=e,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}function x(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}var b=x.prototype;b.stopPropagation=b.stopImmediatePropagation=b.preventDefault=h.noop;var w={mousedown:function(t){t=l(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger(\"mousedown\",t)},mousemove:function(t){t=l(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||C(this,!0),this.trigger(\"mousemove\",t)},mouseup:function(t){t=l(this.dom,t),C(this,!1),this.trigger(\"mouseup\",t)},mouseout:function(t){t=l(this.dom,t),this._pointerCapturing&&(t.zrEventControl=\"no_globalout\");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=_(this,e),this.trigger(\"mouseout\",t)},touchstart:function(t){y(t=l(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,\"start\"),w.mousemove.call(this,t),w.mousedown.call(this,t)},touchmove:function(t){y(t=l(this.dom,t)),this.handler.processGesture(t,\"change\"),w.mousemove.call(this,t)},touchend:function(t){y(t=l(this.dom,t)),this.handler.processGesture(t,\"end\"),w.mouseup.call(this,t),new Date-this._lastTouchMoment<300&&w.click.call(this,t)},pointerdown:function(t){w.mousedown.call(this,t)},pointermove:function(t){v(t)||w.mousemove.call(this,t)},pointerup:function(t){w.mouseup.call(this,t)},pointerout:function(t){v(t)||w.mouseout.call(this,t)}};h.each([\"click\",\"mousewheel\",\"dblclick\",\"contextmenu\"],function(e){w[e]=function(t){t=l(this.dom,t),this.trigger(e,t)}});var T={pointermove:function(t){v(t)||T.mousemove.call(this,t)},pointerup:function(t){T.mouseup.call(this,t)},mousemove:function(t){this.trigger(\"mousemove\",t)},mouseup:function(t){var e=this._pointerCapturing;C(this,!1),this.trigger(\"mouseup\",t),e&&(t.zrEventControl=\"only_globalout\",this.trigger(\"mouseout\",t))}};function S(i,r){var a=r.domHandlers;d.pointerEventsSupported?h.each(p.pointer,function(e){A(r,e,function(t){a[e].call(i,t)})}):(d.touchEventsSupported&&h.each(p.touch,function(n){A(r,n,function(t){var e;a[n].call(i,t),(e=r).touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)})}),h.each(p.mouse,function(e){A(r,e,function(t){t=u(t),r.touching||a[e].call(i,t)})}))}function M(r,a){function t(i){A(a,i,function(t){var e,n;t=u(t),_(r,t.target)||(n=t,t=l((e=r).dom,new x(e,n),!0),a.domHandlers[i].call(r,t))},{capture:!0})}d.pointerEventsSupported?h.each(g.pointer,t):d.touchEventsSupported||h.each(g.mouse,t)}function A(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,o(t.domTarget,m(e),n,i)}function I(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&s(t.domTarget,m(n),e[n],t.listenerOpts[n]);t.mounted={}}function C(t,e){var n;t._mayPointerCapture=null,f&&t._pointerCapturing^e&&(t._pointerCapturing=e,n=t._globalHandlerScope,e?M(t,n):I(n))}function D(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function E(t,e){c.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new D(t,w),f&&(this._globalHandlerScope=new D(document,T)),this._pointerCapturing=!1,this._mayPointerCapture=null,S(this,this._localHandlerScope)}var L=E.prototype;L.dispose=function(){I(this._localHandlerScope),f&&I(this._globalHandlerScope)},L.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||\"default\")},h.mixin(E,c),t.exports=E},function(t,e,n){var i=n(44)([[\"lineWidth\",\"width\"],[\"stroke\",\"color\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),r={getLineStyle:function(t){var e=i(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get(\"type\"),n=Math.max(t,2),i=4*t;return\"solid\"!==e&&null!=e&&(\"dashed\"===e?[i,i]:[n,n])}};t.exports=r},function(t,e,n){var i=n(44)([[\"fill\",\"color\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"opacity\"],[\"shadowColor\"]]),r={getAreaStyle:function(t,e){return i(this,t,e)}};t.exports=r},function(t,e,n){var i=n(16),r=n(2),a=[\"textStyle\",\"color\"],o={getTextColor:function(t){var e=this.ecModel;return this.getShallow(\"color\")||(!t&&e?e.get(a):null)},getFont:function(){return r.getFont({fontStyle:this.getShallow(\"fontStyle\"),fontWeight:this.getShallow(\"fontWeight\"),fontSize:this.getShallow(\"fontSize\"),fontFamily:this.getShallow(\"fontFamily\")},this.ecModel)},getTextRect:function(t){return i.getBoundingRect(t,this.getFont(),this.getShallow(\"align\"),this.getShallow(\"verticalAlign\")||this.getShallow(\"baseline\"),this.getShallow(\"padding\"),this.getShallow(\"lineHeight\"),this.getShallow(\"rich\"),this.getShallow(\"truncateText\"))}};t.exports=o},function(t,e,n){var i=n(45),S=n(133),M=n(226),A=n(134),I=n(227),C=n(135).normalizeRadian,D=n(28),E=n(136),L=i.CMD,P=2*Math.PI,N=1e-4;var O=[-1,-1,-1],_=[-1,-1];function R(t,e,n,i,r,a,o,s,l,u){if(e<u&&i<u&&a<u&&s<u||u<e&&u<i&&u<a&&u<s)return 0;var h=D.cubicRootAt(e,i,a,s,u,O);if(0===h)return 0;for(var c,d,f,p=0,g=-1,m=0;m<h;m++){var v=O[m],y=0===v||1===v?.5:1;D.cubicAt(t,n,r,o,v)<l||(g<0&&(g=D.cubicExtrema(e,i,a,s,_),_[1]<_[0]&&1<g&&(f=_[0],_[0]=_[1],_[1]=f),c=D.cubicAt(e,i,a,s,_[0]),1<g&&(d=D.cubicAt(e,i,a,s,_[1]))),2===g?v<_[0]?p+=c<e?y:-y:v<_[1]?p+=d<c?y:-y:p+=s<d?y:-y:v<_[0]?p+=c<e?y:-y:p+=s<c?y:-y)}return p}function r(t,e,n,i,r){for(var a,o,s=0,l=0,u=0,h=0,c=0,d=0;d<t.length;){var f=t[d++];switch(f===L.M&&1<d&&(n||(s+=E(l,u,h,c,i,r))),1===d&&(h=l=t[d],c=u=t[d+1]),f){case L.M:l=h=t[d++],u=c=t[d++];break;case L.L:if(n){if(S.containStroke(l,u,t[d],t[d+1],e,i,r))return!0}else s+=E(l,u,t[d],t[d+1],i,r)||0;l=t[d++],u=t[d++];break;case L.C:if(n){if(M.containStroke(l,u,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],e,i,r))return!0}else s+=R(l,u,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],i,r)||0;l=t[d++],u=t[d++];break;case L.Q:if(n){if(A.containStroke(l,u,t[d++],t[d++],t[d],t[d+1],e,i,r))return!0}else s+=function(t,e,n,i,r,a,o,s){if(e<s&&i<s&&a<s||s<e&&s<i&&s<a)return 0;var l=D.quadraticRootAt(e,i,a,s,O);if(0===l)return 0;var u=D.quadraticExtremum(e,i,a);if(0<=u&&u<=1){for(var h=0,c=D.quadraticAt(e,i,a,u),d=0;d<l;d++){var f=0===O[d]||1===O[d]?.5:1;D.quadraticAt(t,n,r,O[d])<o||(O[d]<u?h+=c<e?f:-f:h+=a<c?f:-f)}return h}return f=0===O[0]||1===O[0]?.5:1,D.quadraticAt(t,n,r,O[0])<o?0:a<e?f:-f}(l,u,t[d++],t[d++],t[d],t[d+1],i,r)||0;l=t[d++],u=t[d++];break;case L.A:var p=t[d++],g=t[d++],m=t[d++],v=t[d++],y=t[d++],_=t[d++];d+=1;var x=1-t[d++],b=Math.cos(y)*m+p,w=Math.sin(y)*v+g;1<d?s+=E(l,u,b,w,i,r):(h=b,c=w);var T=(i-p)*v/m+p;if(n){if(I.containStroke(p,g,v,y,y+_,x,e,T,r))return!0}else s+=function(t,e,n,i,r,a,o,s){if(n<(s-=e)||s<-n)return 0;var l=Math.sqrt(n*n-s*s);O[0]=-l,O[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u%P<1e-4){r=P;var h=a?1:-1;return o>=O[i=0]+t&&o<=O[1]+t?h:0}(r=a?(l=i,i=C(r),C(l)):(i=C(i),C(r)))<i&&(r+=P);for(var c=0,d=0;d<2;d++){var f,p=O[d];o<p+t&&(h=a?1:-1,(f=Math.atan2(s,p))<0&&(f=P+f),(i<=f&&f<=r||i<=f+P&&f+P<=r)&&(f>Math.PI/2&&f<1.5*Math.PI&&(h=-h),c+=h))}return c}(p,g,v,y,y+_,x,T,r);l=Math.cos(y+_)*m+p,u=Math.sin(y+_)*v+g;break;case L.R:h=l=t[d++],c=u=t[d++];b=h+t[d++],w=c+t[d++];if(n){if(S.containStroke(h,c,b,c,e,i,r)||S.containStroke(b,c,b,w,e,i,r)||S.containStroke(b,w,h,w,e,i,r)||S.containStroke(h,w,h,c,e,i,r))return!0}else s+=E(b,c,b,w,i,r),s+=E(h,w,h,c,i,r);break;case L.Z:if(n){if(S.containStroke(l,u,h,c,e,i,r))return!0}else s+=E(l,u,h,c,i,r);l=h,u=c}}return n||(a=u,o=c,Math.abs(a-o)<N)||(s+=E(l,u,h,c,i,r)||0),0!==s}e.contain=function(t,e,n){return r(t,0,!1,e,n)},e.containStroke=function(t,e,n,i){return r(t,e,!0,n,i)}},function(t,e,n){var d=n(28);e.containStroke=function(t,e,n,i,r,a,o,s,l,u,h){if(0===l)return!1;var c=l;return!(e+c<h&&i+c<h&&a+c<h&&s+c<h||h<e-c&&h<i-c&&h<a-c&&h<s-c||t+c<u&&n+c<u&&r+c<u&&o+c<u||u<t-c&&u<n-c&&u<r-c&&u<o-c)&&d.cubicProjectPoint(t,e,n,i,r,a,o,s,u,h,null)<=c/2}},function(t,e,n){var f=n(135).normalizeRadian,p=2*Math.PI;e.containStroke=function(t,e,n,i,r,a,o,s,l){if(0===o)return!1;var u=o;s-=t,l-=e;var h,c=Math.sqrt(s*s+l*l);if(n<c-u||c+u<n)return!1;if(Math.abs(i-r)%p<1e-4)return!0;(r=a?(h=i,i=f(r),f(h)):(i=f(i),f(r)))<i&&(r+=p);var d=Math.atan2(l,s);return d<0&&(d+=p),i<=d&&d<=r||i<=d+p&&d+p<=r}},function(t,e,n){var i=n(45),x=n(8).applyTransform,b=i.CMD,w=[[],[],[]],T=Math.sqrt,S=Math.atan2;t.exports=function(t,e){for(var n,i,r,a,o=t.data,s=b.M,l=b.C,u=b.L,h=b.R,c=b.A,d=b.Q,f=0,p=0;f<o.length;){switch(n=o[f++],p=f,i=0,n){case s:case u:i=1;break;case l:i=3;break;case d:i=2;break;case c:var g=e[4],m=e[5],v=T(e[0]*e[0]+e[1]*e[1]),y=T(e[2]*e[2]+e[3]*e[3]),_=S(-e[1]/y,e[0]/v);o[f]*=v,o[f++]+=g,o[f]*=y,o[f++]+=m,o[f++]*=v,o[f++]*=y,o[f++]+=_,o[f++]+=_,p=f+=2;break;case h:a[0]=o[f++],a[1]=o[f++],x(a,a,e),o[p++]=a[0],o[p++]=a[1],a[0]+=o[f++],a[1]+=o[f++],x(a,a,e),o[p++]=a[0],o[p++]=a[1]}for(r=0;r<i;r++){(a=w[r])[0]=o[f++],a[1]=o[f++],x(a,a,e),o[p++]=a[0],o[p++]=a[1]}}}},function(t,e,n){var i=n(10),r=n(138),a=i.extend({type:\"sector\",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:r(i.prototype.brush),buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(o),h=Math.sin(o);t.moveTo(u*r+n,h*r+i),t.lineTo(u*a+n,h*a+i),t.arc(n,i,a,o,s,!l),t.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&t.arc(n,i,r,s,o,l),t.closePath()}});t.exports=a},function(t,e,n){var i=n(10).extend({type:\"ring\",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)}});t.exports=i},function(t,e,n){var m=n(8).distance;function v(t,e,n,i,r,a,o){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*o+(-3*(e-n)-2*s-l)*a+s*r+e}t.exports=function(t,e){for(var n=t.length,i=[],r=0,a=1;a<n;a++)r+=m(t[a-1],t[a]);for(var o=(o=r/2)<n?n:o,a=0;a<o;a++){var s,l,u=a/(o-1)*(e?n:n-1),h=Math.floor(u),c=u-h,d=t[h%n],f=e?(s=t[(h-1+n)%n],l=t[(h+1)%n],t[(h+2)%n]):(s=t[0===h?h:h-1],l=t[n-2<h?n-1:h+1],t[n-3<h?n-1:h+2]),p=c*c,g=c*p;i.push([v(s[0],d[0],l[0],f[0],c,p,g),v(s[1],d[1],l[1],f[1],c,p,g)])}return i}},function(t,e,n){var i=n(8),x=i.min,b=i.max,w=i.scale,T=i.distance,S=i.add,M=i.clone,A=i.sub;t.exports=function(t,e,n,i){var r,a,o,s,l=[],u=[],h=[],c=[];if(i){o=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)x(o,o,t[d]),b(s,s,t[d]);x(o,o,i[0]),b(s,s,i[1])}for(d=0,f=t.length;d<f;d++){var p=t[d];if(n)r=t[d?d-1:f-1],a=t[(d+1)%f];else{if(0===d||d===f-1){l.push(M(t[d]));continue}r=t[d-1],a=t[d+1]}A(u,a,r),w(u,u,e);var g=T(p,r),m=T(p,a),v=g+m;0!==v&&(g/=v,m/=v),w(h,u,-g),w(c,u,m);var y=S([],p,h),_=S([],p,c);i&&(b(y,y,o),x(y,y,s),b(_,_,o),x(_,_,s)),l.push(y),l.push(_)}return n&&l.push(l.shift()),l}},function(t,e,n){var i=n(10),r=n(8),a=n(28),c=a.quadraticSubdivide,d=a.cubicSubdivide,o=a.quadraticAt,s=a.cubicAt,l=a.quadraticDerivativeAt,u=a.cubicDerivativeAt,f=[];function h(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?u:s)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?u:s)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?l:o)(t.x1,t.cpx1,t.x2,e),(n?l:o)(t.y1,t.cpy1,t.y2,e)]}var p=i.extend({type:\"bezier-curve\",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,a=e.y2,o=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(n,i),null==l||null==u?(h<1&&(c(n,o,r,h,f),o=f[1],r=f[2],c(i,s,a,h,f),s=f[1],a=f[2]),t.quadraticCurveTo(o,s,r,a)):(h<1&&(d(n,o,l,r,h,f),o=f[1],l=f[2],r=f[3],d(i,s,u,a,h,f),s=f[1],u=f[2],a=f[3]),t.bezierCurveTo(o,s,l,u,r,a)))},pointAt:function(t){return h(this.shape,t,!1)},tangentAt:function(t){var e=h(this.shape,t,!0);return r.normalize(e,e)}});t.exports=p},function(t,e,n){var i=n(10).extend({type:\"arc\",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),a=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(a),u=Math.sin(a);t.moveTo(l*r+n,u*r+i),t.arc(n,i,r,a,o,!s)}});t.exports=i},function(t,e,n){var i=n(10),r=i.extend({type:\"compound\",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),i.prototype.getBoundingRect.call(this)}});t.exports=r},function(t,e,n){function i(t,e,n,i,r){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type=\"radial\",this.global=r||!1,a.call(this,i)}var r=n(0),a=n(73);i.prototype={constructor:i},r.inherits(i,a),t.exports=i},function(t,e,n){var r=n(44)([[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"],[\"textPosition\"],[\"textAlign\"]]),i={getItemStyle:function(t,e){var n=r(this,t,e),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var t=this.get(\"borderType\");return\"solid\"===t||null==t?null:\"dashed\"===t?[5,5]:[1,1]}};t.exports=i},function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get(\"left\"),top:this.get(\"top\"),right:this.get(\"right\"),bottom:this.get(\"bottom\"),width:this.get(\"width\"),height:this.get(\"height\")}}}},function(t,e){var n=\"\";\"undefined\"!=typeof navigator&&(n=navigator.platform||\"\");var i={color:[\"#c23531\",\"#2f4554\",\"#61a0a8\",\"#d48265\",\"#91c7ae\",\"#749f83\",\"#ca8622\",\"#bda29a\",\"#6e7074\",\"#546570\",\"#c4ccd3\"],gradientColor:[\"#f6efa6\",\"#d88273\",\"#bf444c\"],textStyle:{fontFamily:n.match(/^Win/)?\"Microsoft YaHei\":\"sans-serif\",fontSize:12,fontStyle:\"normal\",fontWeight:\"normal\"},blendMode:null,animation:\"auto\",animationDuration:1e3,animationDurationUpdate:300,animationEasing:\"exponentialOut\",animationEasingUpdate:\"cubicOut\",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};t.exports=i},function(t,e,n){var c=n(0),o=n(4),s=n(13),u=c.each,d=c.clone,f=c.map,l=c.merge,p=/^(min|max)?(.+)$/;function i(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}i.prototype={constructor:i,setOption:function(t,e){t&&c.each(o.normalizeToArray(t.series),function(t){t&&t.data&&c.isTypedArray(t.data)&&c.setAsPrimitive(t.data)}),t=d(t);var r,n,i=this._optionBackup,a=function(t,n,i){var e,r,a=[],o=[],s=t.timeline;t.baseOption&&(r=t.baseOption);(s||t.options)&&(r=r||{},a=(t.options||[]).slice());{var l;t.media&&(r=r||{},l=t.media,u(l,function(t){t&&t.option&&(t.query?o.push(t):e=e||t)}))}r=r||t;r.timeline||(r.timeline=s);return u([r].concat(a).concat(c.map(o,function(t){return t.option})),function(e){u(n,function(t){t(e,i)})}),{baseOption:r,timelineOptions:a,mediaDefault:e,mediaList:o}}.call(this,t,e,!i);this._newBaseOption=a.baseOption,i?(r=i.baseOption,n=a.baseOption,u(n=n||{},function(t,e){var n,i;null!=t&&(n=r[e],s.hasClass(e)?(t=o.normalizeToArray(t),n=o.normalizeToArray(n),i=o.mappingToExists(n,t),r[e]=f(i,function(t){return t.option&&t.exist?l(t.exist,t.option,!0):t.exist||t.option})):r[e]=l(n,t,!0))}),a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=f(e.timelineOptions,d),this._mediaList=f(e.mediaList,d),this._mediaDefault=d(e.mediaDefault),this._currentMediaIndices=[],d(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n,i=this._timelineOptions;return!i.length||(n=t.getComponent(\"timeline\"))&&(e=d(i[n.getCurrentIndex()],!0)),e},getMediaOption:function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,a=[],o=[];if(!i.length&&!r)return o;for(var s,l,u=0,h=i.length;u<h;u++)!function(t,e,n){var l={width:e,height:n,aspectratio:e/n},u=!0;return c.each(t,function(t,e){var n,i,r,a,o,s=e.match(p);s&&s[1]&&s[2]&&(n=s[1],i=s[2].toLowerCase(),r=l[i],a=t,(\"min\"===(o=n)?a<=r:\"max\"===o?r<=a:r===a)||(u=!1))}),u}(i[u].query,e,n)||a.push(u);return!a.length&&r&&(a=[-1]),a.length&&(s=a,l=this._currentMediaIndices,s.join(\",\")!==l.join(\",\"))&&(o=f(a,function(t){return d(-1===t?r.option:i[t].option)})),this._currentMediaIndices=a,o}},t.exports=i},function(t,e,n){var i=n(0),r=i.each,a=i.isArray,o=i.isObject,s=n(242),l=n(4).normalizeToArray;function u(e){r(h,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var h=[[\"x\",\"left\"],[\"y\",\"top\"],[\"x2\",\"right\"],[\"y2\",\"bottom\"]],c=[\"grid\",\"geo\",\"parallel\",\"legend\",\"toolbox\",\"title\",\"visualMap\",\"dataZoom\",\"timeline\"];t.exports=function(n,t){s(n,t),n.series=l(n.series),r(n.series,function(t){var e,n;o(t)&&(\"line\"===(e=t.type)?null!=t.clipOverflow&&(t.clip=t.clipOverflow):\"pie\"===e||\"gauge\"===e?null!=t.clockWise&&(t.clockwise=t.clockWise):\"gauge\"===e&&null!=(n=function(t,e){e=e.split(\",\");for(var n=t,i=0;i<e.length&&null!=(n=n&&n[e[i]]);i++);return n}(t,\"pointer.color\"))&&function(t,e,n,i){e=e.split(\",\");for(var r,a=t,o=0;o<e.length-1;o++)null==a[r=e[o]]&&(a[r]={}),a=a[r];!i&&null!=a[e[o]]||(a[e[o]]=n)}(t,\"itemStyle.color\",n),u(t))}),n.dataRange&&(n.visualMap=n.dataRange),r(c,function(t){var e=n[t];e&&(a(e)||(e=[e]),r(e,function(t){u(t)}))})}},function(t,e,n){var u=n(0),o=n(4),i=u.each,h=u.isObject,s=[\"areaStyle\",\"lineStyle\",\"nodeStyle\",\"linkStyle\",\"chordStyle\",\"label\",\"labelLine\"];function c(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=s.length;n<i;n++){var r=s[n],a=e.normal,o=e.emphasis;a&&a[r]&&(t[r]=t[r]||{},t[r].normal?u.merge(t[r].normal,a[r]):t[r].normal=a[r],a[r]=null),o&&o[r]&&(t[r]=t[r]||{},t[r].emphasis?u.merge(t[r].emphasis,o[r]):t[r].emphasis=o[r],o[r]=null)}}function d(t,e,n){var i,r;t&&t[e]&&(t[e].normal||t[e].emphasis)&&(i=t[e].normal,r=t[e].emphasis,i&&(n?(t[e].normal=t[e].emphasis=null,u.defaults(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r))}function f(t){d(t,\"itemStyle\"),d(t,\"lineStyle\"),d(t,\"areaStyle\"),d(t,\"label\"),d(t,\"labelLine\"),d(t,\"upperLabel\"),d(t,\"edgeLabel\")}function p(t,e){var n=h(t)&&t[e],i=h(n)&&n.textStyle;if(i)for(var r=0,a=o.TEXT_STYLE_OPTIONS.length;r<a;r++){e=o.TEXT_STYLE_OPTIONS[r];i.hasOwnProperty(e)&&(n[e]=i[e])}}function g(t){t&&(f(t),p(t,\"label\"),t.emphasis&&p(t.emphasis,\"label\"))}function r(t){return u.isArray(t)?t:t?[t]:[]}function a(t){return(u.isArray(t)?t[0]:t)||{}}t.exports=function(e,t){i(r(e.series),function(t){h(t)&&function(t){if(h(t)){c(t),f(t),p(t,\"label\"),p(t,\"upperLabel\"),p(t,\"edgeLabel\"),t.emphasis&&(p(t.emphasis,\"label\"),p(t.emphasis,\"upperLabel\"),p(t.emphasis,\"edgeLabel\"));var e=t.markPoint;e&&(c(e),g(e));var n=t.markLine;n&&(c(n),g(n));var i=t.markArea;i&&g(i);var r=t.data;if(\"graph\"===t.type){r=r||t.nodes;var a=t.links||t.edges;if(a&&!u.isTypedArray(a))for(var o=0;o<a.length;o++)g(a[o]);u.each(t.categories,function(t){f(t)})}if(r&&!u.isTypedArray(r))for(o=0;o<r.length;o++)g(r[o]);if((e=t.markPoint)&&e.data)for(var s=e.data,o=0;o<s.length;o++)g(s[o]);if((n=t.markLine)&&n.data)for(var l=n.data,o=0;o<l.length;o++)u.isArray(l[o])?(g(l[o][0]),g(l[o][1])):g(l[o]);\"gauge\"===t.type?(p(t,\"axisLabel\"),p(t,\"title\"),p(t,\"detail\")):\"treemap\"===t.type?(d(t.breadcrumb,\"itemStyle\"),u.each(t.levels,function(t){f(t)})):\"tree\"===t.type&&f(t.leaves)}}(t)});var n=[\"xAxis\",\"yAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"parallelAxis\",\"radar\"];t&&n.push(\"valueAxis\",\"categoryAxis\",\"logAxis\",\"timeAxis\"),i(n,function(t){i(r(e[t]),function(t){t&&(p(t,\"axisLabel\"),p(t.axisPointer,\"label\"))})}),i(r(e.parallel),function(t){var e=t&&t.parallelAxisDefault;p(e,\"axisLabel\"),p(e&&e.axisPointer,\"label\")}),i(r(e.calendar),function(t){d(t,\"itemStyle\"),p(t,\"dayLabel\"),p(t,\"monthLabel\"),p(t,\"yearLabel\")}),i(r(e.radar),function(t){p(t,\"name\")}),i(r(e.geo),function(t){h(t)&&(g(t),i(r(t.regions),function(t){g(t)}))}),i(r(e.timeline),function(t){g(t),d(t,\"label\"),d(t,\"itemStyle\"),d(t,\"controlStyle\",!0);var e=t.data;u.isArray(e)&&u.each(e,function(t){u.isObject(t)&&(d(t,\"label\"),d(t,\"itemStyle\"))})}),i(r(e.toolbox),function(t){d(t,\"iconStyle\"),i(t.feature,function(t){d(t,\"iconStyle\")})}),p(a(e.axisPointer),\"label\"),p(a(e.tooltip).axisPointer,\"label\")}},function(t,e,n){var i=n(0),r=i.createHashMap,a=i.each;function o(m){a(m,function(h,c){var d=[],f=[NaN,NaN],t=[h.stackResultDimension,h.stackedOverDimension],p=h.data,g=h.isStackedByIndex,e=p.map(t,function(t,e,n){var i,r,a=p.get(h.stackedDimension,n);if(isNaN(a))return f;g?r=p.getRawIndex(n):i=p.get(h.stackedByDimension,n);for(var o=NaN,s=c-1;0<=s;s--){var l=m[s];if(g||(r=l.data.rawIndexOf(l.stackedByDimension,i)),0<=r){var u=l.data.getByRawIndex(l.stackResultDimension,r);if(0<=a&&0<u||a<=0&&u<0){a+=u,o=u;break}}}return d[0]=a,d[1]=o,d});p.hostModel.setData(e),h.data=e})}t.exports=function(t){var a=r();t.eachSeries(function(t){var e=t.get(\"stack\");if(e){var n=a.get(e)||a.set(e,[]),i=t.getData(),r={stackResultDimension:i.getCalculationInfo(\"stackResultDimension\"),stackedOverDimension:i.getCalculationInfo(\"stackedOverDimension\"),stackedDimension:i.getCalculationInfo(\"stackedDimension\"),stackedByDimension:i.getCalculationInfo(\"stackedByDimension\"),isStackedByIndex:i.getCalculationInfo(\"isStackedByIndex\"),data:i,seriesModel:t};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;n.length&&i.setCalculationInfo(\"stackedOnSeries\",n[n.length-1].seriesModel),n.push(r)}}),a.each(o)}},function(t,e,n){var l=n(73),u=n(0).isFunction,i={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),a=(e.visualColorAccessPath||\"itemStyle.color\").split(\".\"),i=e.get(a),r=!u(i)||i instanceof l?null:i;i&&!r||(i=e.getColorFromPalette(e.name,null,t.getSeriesCount())),n.setVisual(\"color\",i);var o=(e.visualBorderColorAccessPath||\"itemStyle.borderColor\").split(\".\"),s=e.get(o);if(n.setVisual(\"borderColor\",s),!t.isSeriesFiltered(e)){r&&n.each(function(t){n.setItemVisual(t,\"color\",r(e.getDataParams(t)))});return{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e),i=n.get(a,!0),r=n.get(o,!0);null!=i&&t.setItemVisual(e,\"color\",i),null!=r&&t.setItemVisual(e,\"borderColor\",r)}:null}}}};t.exports=i},function(t,e,n){var o=n(0),v=n(30),y=n(37).retrieveRawValue;t.exports=function(t,e){var c,d,n,f,i,r,p,a=e.getModel(\"aria\");function g(t,e){if(\"string\"!=typeof t)return t;var n=t;return o.each(e,function(t,e){n=n.replace(new RegExp(\"\\\\{\\\\s*\"+e+\"\\\\s*\\\\}\",\"g\"),t)}),n}function m(t){var e=a.get(t);if(null!=e)return e;for(var n=t.split(\".\"),i=v.aria,r=0;r<n.length;++r)i=i[n[r]];return i}a.get(\"show\")&&(a.get(\"description\")?t.setAttribute(\"aria-label\",a.get(\"description\")):(c=0,e.eachSeries(function(t,e){++c},this),d=a.get(\"data.maxCount\")||10,n=a.get(\"series.maxCount\")||10,f=Math.min(c,n),c<1||(r=(i=function(){var t=e.getModel(\"title\").option;t&&t.length&&(t=t[0]);return t&&t.text}())?g(m(\"general.withTitle\"),{title:i}):m(\"general.withoutTitle\"),p=[],r+=g(m(1<c?\"series.multiple.prefix\":\"series.single.prefix\"),{seriesCount:c}),e.eachSeries(function(t,e){if(e<f){var n=t.get(\"name\"),i=\"series.\"+(1<c?\"multiple\":\"single\")+\".\",r=m(n?i+\"withName\":i+\"withoutName\");r=g(r,{seriesId:t.seriesIndex,seriesName:t.get(\"name\"),seriesType:(h=t.subType,v.series.typeNames[h]||\"自定义图\")});var a=t.getData();(window.data=a).count()>d?r+=g(m(\"data.partialData\"),{displayCnt:d}):r+=m(\"data.allData\");for(var o,s,l=[],u=0;u<a.count();u++){u<d&&(o=a.getName(u),s=y(a,u),l.push(g(m(o?\"data.withName\":\"data.withoutName\"),{name:o,value:s})))}r+=l.join(m(\"data.separator.middle\"))+m(\"data.separator.end\"),p.push(r)}var h}),r+=p.join(m(\"series.multiple.separator.middle\"))+m(\"series.multiple.separator.end\"),t.setAttribute(\"aria-label\",r))))}},function(t,e,n){var i=n(0),h=n(2),c=n(16),d=Math.PI;t.exports=function(r,a){a=a||{},i.defaults(a,{text:\"loading\",textColor:\"#000\",fontSize:\"12px\",maskColor:\"rgba(255, 255, 255, 0.8)\",showSpinner:!0,color:\"#c23531\",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new h.Group,o=new h.Rect({style:{fill:a.maskColor},zlevel:a.zlevel,z:1e4});t.add(o);var s,l=a.fontSize+\" sans-serif\",u=new h.Rect({style:{fill:\"none\",text:a.text,font:l,textPosition:\"right\",textDistance:10,textFill:a.textColor},zlevel:a.zlevel,z:10001});return t.add(u),a.showSpinner&&((s=new h.Arc({shape:{startAngle:-d/2,endAngle:-d/2+.1,r:a.spinnerRadius},style:{stroke:a.color,lineCap:\"round\",lineWidth:a.lineWidth},zlevel:a.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*d/2}).start(\"circularInOut\"),s.animateShape(!0).when(1e3,{startAngle:3*d/2}).delay(300).start(\"circularInOut\"),t.add(s)),t.resize=function(){var t=c.getWidth(a.text,l),e=a.showSpinner?a.spinnerRadius:0,n=(r.getWidth()-2*e-(a.showSpinner&&t?10:0)-t)/2-(a.showSpinner?0:t/2),i=r.getHeight()/2;a.showSpinner&&s.setShape({cx:n,cy:i}),u.setShape({x:n-e,y:i-e,width:2*e,height:2*e}),o.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},t.resize(),t}},function(t,e,n){var i=n(0),p=i.each,r=i.map,a=i.isFunction,f=i.createHashMap,o=i.noop,g=n(95).createTask,s=n(56).getUID,l=n(131),u=n(144),h=n(4).normalizeToArray;function c(t,e,n,i){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice();this._allHandlers=n.concat(i),this._stageTaskMap=f()}var d=c.prototype;function m(l,t,u,h,c){var d;function f(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}c=c||{},p(t,function(i,t){var e,n,r,a,o,s;c.visualType&&c.visualType!==i.visualType||(n=(e=l._stageTaskMap.get(i.uid)).seriesTaskMap,(r=e.overallTask)?((o=r.agentStubMap).each(function(t){f(c,t)&&(t.dirty(),a=!0)}),a&&r.dirty(),v(r,h),s=l.getPerformArgs(r,c.block),o.each(function(t){t.perform(s)}),d|=r.perform(s)):n&&n.each(function(t,e){f(c,t)&&t.dirty();var n=l.getPerformArgs(t,c.block);n.skip=!i.performRawSeries&&u.isSeriesFiltered(t.context.model),v(t,h),d|=t.perform(n)}))}),l.unfinished|=d}d.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},d.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,a=i&&i.modDataCount;return{step:r,modBy:null!=a?Math.ceil(a/r):null,modDataCount:a}}},d.getPipeline=function(t){return this._pipelineMap.get(t)},d.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,a=t.get(\"large\")&&i>=t.get(\"largeThreshold\"),o=\"mod\"===t.get(\"progressiveChunkMode\")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:o,large:a}},d.restorePipelines=function(t){var i=this,r=i._pipelineMap=f();t.eachSeries(function(t){var e=t.getProgressive(),n=t.uid;r.set(n,{id:n,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:e&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),I(i,t,t.dataTask)})},d.prepareStageTasks=function(){var n=this._stageTaskMap,i=this.ecInstance.getModel(),r=this.api;p(this._allHandlers,function(t){var e=n.get(t.uid)||n.set(t.uid,[]);t.reset&&function(i,r,t,a,o){var s=t.seriesTaskMap||(t.seriesTaskMap=f()),e=r.seriesType,n=r.getTargetSeries;r.createOnAllSeries?a.eachRawSeries(l):e?a.eachRawSeriesByType(e,l):n&&n(a,o).each(l);function l(t){var e=t.uid,n=s.get(e)||s.set(e,g({plan:w,reset:T,count:A}));n.context={model:t,ecModel:a,api:o,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:i},I(i,t,n)}var u=i._pipelineMap;s.each(function(t,e){u.get(e)||(t.dispose(),s.removeKey(e))})}(this,t,e,i,r),t.overallReset&&function(i,t,e,n,r){var a=e.overallTask=e.overallTask||g({reset:y});a.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:i};var o=a.agentStubMap=a.agentStubMap||f(),s=t.seriesType,l=t.getTargetSeries,u=!0,h=t.modifyOutputEnd;s?n.eachRawSeriesByType(s,c):l?l(n,r).each(c):(u=!1,p(n.getSeries(),c));function c(t){var e=t.uid,n=o.get(e);n||(n=o.set(e,g({reset:_,onDirty:b})),a.dirty()),n.context={model:t,overallProgress:u,modifyOutputEnd:h},n.agent=a,n.__block=u,I(i,t,n)}var d=i._pipelineMap;o.each(function(t,e){d.get(e)||(t.dispose(),a.dirty(),o.removeKey(e))})}(this,t,e,i,r)},this)},d.prepareView=function(t,e,n,i){var r=t.renderTask,a=r.context;a.model=e,a.ecModel=n,a.api=i,r.__block=!t.incrementalPrepareRender,I(this,e,r)},d.performDataProcessorTasks=function(t,e){m(this,this._dataProcessorHandlers,t,e,{block:!0})},d.performVisualTasks=function(t,e,n){m(this,this._visualHandlers,t,e,n)},d.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},d.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var v=d.updatePayload=function(t,e){\"remain\"!==e&&(t.context.payload=e)};function y(t){t.overallReset(t.ecModel,t.api,t.payload)}function _(t,e){return t.overallProgress&&x}function x(){this.agent.dirty(),this.getDownstream().dirty()}function b(){this.agent&&this.agent.dirty()}function w(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function T(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=h(t.reset(t.model,t.ecModel,t.api,t.payload));return 1<e.length?r(e,function(t,e){return M(e)}):S}var S=M(0);function M(a){return function(t,e){var n=e.data,i=e.resetDefines[a];if(i&&i.dataEach)for(var r=t.start;r<t.end;r++)i.dataEach(n,r);else i&&i.progress&&i.progress(t,n)}}function A(t){return t.data.count()}function I(t,e,n){var i=e.uid,r=t._pipelineMap.get(i);r.head||(r.head=n),r.tail&&r.tail.pipe(n),(r.tail=n).__idxInPipeline=r.count++,n.__pipeline=r}c.wrapStageHandler=function(t,e){return a(t)&&(t={overallReset:t,seriesType:function(t){C=null;try{t(D,E)}catch(t){}return C}(t)}),t.uid=s(\"stageHandler\"),e&&(t.visualType=e),t};var C,D={},E={};function L(t,e){for(var n in e.prototype)t[n]=o}L(D,l),L(E,u),D.eachSeriesByType=D.eachRawSeriesByType=function(t){C=t},D.eachComponent=function(t){\"series\"===t.mainType&&t.subType&&(C=t.subType)},t.exports=c},function(t,e){var n=[\"#37A2DA\",\"#32C5E9\",\"#67E0E3\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#E062AE\",\"#E690D1\",\"#e7bcf3\",\"#9d96f5\",\"#8378EA\",\"#96BFFF\"],i={color:n,colorLayer:[[\"#37A2DA\",\"#ffd85c\",\"#fd7b5f\"],[\"#37A2DA\",\"#67E0E3\",\"#FFDB5C\",\"#ff9f7f\",\"#E062AE\",\"#9d96f5\"],[\"#37A2DA\",\"#32C5E9\",\"#9FE6B8\",\"#FFDB5C\",\"#ff9f7f\",\"#fb7293\",\"#e7bcf3\",\"#8378EA\",\"#96BFFF\"],n]};t.exports=i},function(t,e){function n(){return{axisLine:{lineStyle:{color:i}},axisTick:{lineStyle:{color:i}},axisLabel:{textStyle:{color:i}},splitLine:{lineStyle:{type:\"dashed\",color:\"#aaa\"}},splitArea:{areaStyle:{color:i}}}}var i=\"#eee\",r=[\"#dd6b66\",\"#759aa0\",\"#e69d87\",\"#8dc1a9\",\"#ea7e53\",\"#eedd78\",\"#73a373\",\"#73b9bc\",\"#7289ab\",\"#91ca8c\",\"#f49f42\"],a={color:r,backgroundColor:\"#333\",tooltip:{axisPointer:{lineStyle:{color:i},crossStyle:{color:i},label:{color:\"#000\"}}},legend:{textStyle:{color:i}},textStyle:{color:i},title:{textStyle:{color:i}},toolbox:{iconStyle:{normal:{borderColor:i}}},dataZoom:{textStyle:{color:i}},visualMap:{textStyle:{color:i}},timeline:{lineStyle:{color:i},itemStyle:{normal:{color:r[1]}},label:{normal:{textStyle:{color:i}}},controlStyle:{normal:{color:i,borderColor:i}}},timeAxis:n(),logAxis:n(),valueAxis:n(),categoryAxis:n(),line:{symbol:\"circle\"},graph:{color:r},gauge:{title:{textStyle:{color:i}}},candlestick:{itemStyle:{normal:{color:\"#FD1050\",color0:\"#0CF49B\",borderColor:\"#FD1050\",borderColor0:\"#0CF49B\"}}}};a.categoryAxis.splitLine.show=!1,t.exports=a},function(t,e,n){var i=n(10).extend({type:\"ellipse\",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.rx,a=e.ry,o=.5522848*r,s=.5522848*a;t.moveTo(n-r,i),t.bezierCurveTo(n-r,i-s,n-o,i-a,n,i-a),t.bezierCurveTo(n+o,i-a,n+r,i-s,n+r,i),t.bezierCurveTo(n+r,i+s,n+o,i+a,n,i+a),t.bezierCurveTo(n-o,i+a,n-r,i+s,n-r,i),t.closePath()}});t.exports=i},function(t,e,n){var r=n(0),i=n(27),a=n(20),o=n(48),s=n(12),l=n(6);l.getLayoutRect;e.getLayoutRect=l.getLayoutRect;var u=n(24),h=u.enableDataStack,c=u.isDimensionStacked,d=u.getStackedDimension,f=n(149);e.completeDimensions=f;var p=n(47);e.createDimensions=p;var g=n(18);e.createSymbol=g.createSymbol;var m={isDimensionStacked:c,enableDataStack:h,getStackedDimension:d};e.createList=function(t){return i(t.getSource(),t)},e.dataStack=m,e.createScale=function(t,e){var n=e;s.isInstance(e)||(n=new s(e),r.mixin(n,o));var i=a.createScaleByModel(n);return i.setExtent(t[0],t[1]),a.niceScaleExtent(i,n),i},e.mixinAxisModelCommonMethods=function(t){r.mixin(t,o)}},function(t,e,n){n(5).__DEV__;var i=n(0),r=i.createHashMap,u=(i.retrieve,i.each);function a(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=r(),this.categoryAxisMap=r(),this.firstCategoryDimIndex=null}var o={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents(\"xAxis\")[0],a=t.getReferringComponents(\"yAxis\")[0];e.coordSysDims=[\"x\",\"y\"],n.set(\"x\",r),n.set(\"y\",a),h(r)&&(i.set(\"x\",r),e.firstCategoryDimIndex=0),h(a)&&(i.set(\"y\",a),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,i){var r=t.getReferringComponents(\"singleAxis\")[0];e.coordSysDims=[\"single\"],n.set(\"single\",r),h(r)&&(i.set(\"single\",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents(\"polar\")[0],a=r.findAxisModel(\"radiusAxis\"),o=r.findAxisModel(\"angleAxis\");e.coordSysDims=[\"radius\",\"angle\"],n.set(\"radius\",a),n.set(\"angle\",o),h(a)&&(i.set(\"radius\",a),e.firstCategoryDimIndex=0),h(o)&&(i.set(\"angle\",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=[\"lng\",\"lat\"]},parallel:function(t,r,a,o){var s=t.ecModel,e=s.getComponent(\"parallel\",t.get(\"parallelIndex\")),l=r.coordSysDims=e.dimensions.slice();u(e.parallelAxisIndex,function(t,e){var n=s.getComponent(\"parallelAxis\",t),i=l[e];a.set(i,n),h(n)&&null==r.firstCategoryDimIndex&&(o.set(i,n),r.firstCategoryDimIndex=e)})}};function h(t){return\"category\"===t.get(\"type\")}e.getCoordSysInfoBySeries=function(t){var e=t.get(\"coordinateSystem\"),n=new a(e),i=o[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}},function(t,e,n){var i=n(0),r=n(75),a=n(150),o=r.prototype,s=r.extend({type:\"ordinal\",init:function(t,e){t&&!i.isArray(t)||(t=new a({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return\"string\"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),o.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return o.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(o.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:i.noop,niceExtent:i.noop});s.create=function(){return new s},t.exports=s},function(t,e,n){var i=n(0),f=n(3),r=n(7),p=n(151),a=n(76),o=a.prototype,g=Math.ceil,m=Math.floor,s=864e5,l=a.extend({type:\"time\",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return r.formatTime(e[0],n,this.getSetting(\"useUTC\"))},niceExtent:function(t){var e,n=this._extent;n[0]===n[1]&&(n[0]-=s,n[1]+=s),n[1]===-1/0&&n[0]===1/0&&(e=new Date,n[1]=+new Date(e.getFullYear(),e.getMonth(),e.getDate()),n[0]=n[1]-s),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(n[0]=f.round(m(n[0]/i)*i)),t.fixMax||(n[1]=f.round(g(n[1]/i)*i))},niceTicks:function(t,e,n){t=t||10;var i=this._extent,r=i[1]-i[0],a=r/t;null!=e&&a<e&&(a=e),null!=n&&n<a&&(a=n);var o,s=v.length,l=function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=1+r:i=r}return n}(v,a,0,s),u=v[Math.min(l,s-1)],h=u[1];\"year\"===u[0]&&(o=r/h,h*=f.nice(o/t,!0));var c=this.getSetting(\"useUTC\")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,d=[Math.round(g((i[0]-c)/h)*h+c),Math.round(m((i[1]-c)/h)*h+c)];p.fixExtent(d,i),this._stepLvl=u,this._interval=h,this._niceExtent=d},parse:function(t){return+f.parseDate(t)}});i.each([\"contain\",\"normalize\"],function(e){l.prototype[e]=function(t){return o[e].call(this,this.parse(t))}});var v=[[\"hh:mm:ss\",1e3],[\"hh:mm:ss\",5e3],[\"hh:mm:ss\",1e4],[\"hh:mm:ss\",15e3],[\"hh:mm:ss\",3e4],[\"hh:mm\\nMM-dd\",6e4],[\"hh:mm\\nMM-dd\",3e5],[\"hh:mm\\nMM-dd\",6e5],[\"hh:mm\\nMM-dd\",9e5],[\"hh:mm\\nMM-dd\",18e5],[\"hh:mm\\nMM-dd\",36e5],[\"hh:mm\\nMM-dd\",72e5],[\"hh:mm\\nMM-dd\",216e5],[\"hh:mm\\nMM-dd\",432e5],[\"MM-dd\\nyyyy\",s],[\"MM-dd\\nyyyy\",2*s],[\"MM-dd\\nyyyy\",3*s],[\"MM-dd\\nyyyy\",4*s],[\"MM-dd\\nyyyy\",432e6],[\"MM-dd\\nyyyy\",6*s],[\"week\",7*s],[\"MM-dd\\nyyyy\",864e6],[\"week\",14*s],[\"week\",21*s],[\"month\",31*s],[\"week\",42*s],[\"month\",62*s],[\"week\",6048e6],[\"quarter\",8208e6],[\"month\",107136e5],[\"month\",13392e6],[\"half-year\",16416e6],[\"month\",214272e5],[\"month\",26784e6],[\"year\",32832e6]];l.create=function(t){return new l({useUTC:t.ecModel.get(\"useUTC\")})},t.exports=l},function(t,e,n){var l=n(0),A=n(16),i=n(4).makeInner,r=n(20),I=r.makeLabelFormatter,u=r.getOptionCategoryInterval,m=r.shouldShowAllLabels,C=i();function h(t,e){var n,i,r,a=c(t,\"labels\"),o=u(e),s=d(a,o);return s||f(a,o,{labels:l.isFunction(o)?g(t,o):p(t,n=\"auto\"===o?null!=(r=C(i=t).autoInterval)?r:C(i).autoInterval=i.calculateCategoryInterval():o),labelCategoryInterval:n})}function c(t,e){return C(t)[e]||(C(t)[e]=[])}function d(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function f(t,e,n){return t.push({key:e,value:n}),n}function p(t,e,n){var i=I(t),r=t.scale,a=r.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],h=r.count();0!==u&&1<l&&2<h/l&&(u=Math.round(Math.ceil(u/l)*l));var c=m(t),d=o.get(\"showMinLabel\")||c,f=o.get(\"showMaxLabel\")||c;d&&u!==a[0]&&g(a[0]);for(var p=u;p<=a[1];p+=l)g(p);function g(t){s.push(n?t:{formattedLabel:i(t),rawLabel:r.getLabel(t),tickValue:t})}return f&&p-l!==a[1]&&g(a[1]),s}function g(t,n,i){var r=t.scale,a=I(t),o=[];return l.each(r.getTicks(),function(t){var e=r.getLabel(t);n(t,e)&&o.push(i?t:{formattedLabel:a(t),rawLabel:e,tickValue:t})}),o}e.createAxisLabels=function(t){return\"category\"===t.type?(a=(r=t).getLabelModel(),o=h(r,a),!a.get(\"show\")||r.scale.isBlank()?{labels:[],labelCategoryInterval:o.labelCategoryInterval}:o):(e=(n=t).scale.getTicks(),i=I(n),{labels:l.map(e,function(t,e){return{formattedLabel:i(t,e),rawLabel:n.scale.getLabel(t),tickValue:t}})});var n,e,i,r,a,o},e.createAxisTicks=function(t,e){return\"category\"===t.type?function(t,e){var n,i,r=c(t,\"ticks\"),a=u(e),o=d(r,a);if(o)return o;e.get(\"show\")&&!t.scale.isBlank()||(n=[]);{var s;n=l.isFunction(a)?g(t,a,!0):\"auto\"===a?(s=h(t,t.getLabelModel()),i=s.labelCategoryInterval,l.map(s.labels,function(t){return t.tickValue})):p(t,i=a,!0)}return f(r,a,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:t.scale.getTicks()}},e.calculateCategoryInterval=function(t){var e,n,i=(n=(e=t).getLabelModel(),{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:n.get(\"rotate\")||0,font:n.getFont()}),r=I(t),a=(i.axisRotate-i.labelRotate)/180*Math.PI,o=t.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1;40<l&&(u=Math.max(1,Math.floor(l/40)));for(var h=s[0],c=t.dataToCoord(h+1)-t.dataToCoord(h),d=Math.abs(c*Math.cos(a)),f=Math.abs(c*Math.sin(a)),p=0,g=0;h<=s[1];h+=u)var m=A.getBoundingRect(r(h),i.font,\"center\",\"top\"),v=1.3*m.width,y=1.3*m.height,p=Math.max(p,v,7),g=Math.max(g,y,7);var _=p/d,x=g/f;isNaN(_)&&(_=1/0),isNaN(x)&&(x=1/0);var b=Math.max(0,Math.floor(Math.min(_,x))),w=C(t.model),T=t.getExtent(),S=w.lastAutoInterval,M=w.lastTickCount;return null!=S&&null!=M&&Math.abs(S-b)<=1&&Math.abs(M-l)<=1&&b<S&&w.axisExtend0===T[0]&&w.axisExtend1===T[1]?b=S:(w.lastTickCount=l,w.lastAutoInterval=b,w.axisExtend0=T[0],w.axisExtend1=T[1]),b}},function(t,e,n){var i=n(1);n(257),n(258);var r=n(39),a=n(62),o=n(260);n(63),i.registerVisual(r(\"line\",\"circle\",\"line\")),i.registerLayout(a(\"line\")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,o(\"line\"))},function(t,e,n){n(5).__DEV__;var i=n(27),r=n(14).extend({type:\"series.line\",dependencies:[\"grid\",\"polar\"],getInitialData:function(t,e){return i(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:\"top\"},lineStyle:{width:2,type:\"solid\"},step:!1,smooth:!1,smoothMonotone:null,symbol:\"emptyCircle\",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:\"auto\",connectNulls:!1,sampling:\"none\",animationEasing:\"linear\",progressive:0,hoverLayerThreshold:1/0}});t.exports=r},function(t,e,n){n(5).__DEV__;var C=n(0),o=n(55).fromPoints,i=n(60),l=n(78),y=n(259),D=n(2),u=n(4),r=n(157),a=r.Polyline,s=r.Polygon,h=n(23),c=n(156),E=c.prepareDataCoordInfo,L=c.getStackedOnPoint,d=n(61),f=d.createGridClipPath,p=d.createPolarClipPath;function P(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i[0]!==r[0]||i[1]!==r[1])return}return 1}}function _(t,e){var n=[],i=[],r=[],a=[];return o(t,n,i),o(e,r,a),Math.max(Math.abs(n[0]-r[0]),Math.abs(n[1]-r[1]),Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]))}function N(t){return\"number\"==typeof t?t:t?.5:0}function O(t,e,n){for(var i=e.getBaseAxis(),r=\"x\"===i.dim||\"radius\"===i.dim?0:1,a=[],o=0;o<t.length-1;o++){var s=t[o+1],l=t[o];a.push(l);var u=[];switch(n){case\"end\":u[r]=s[r],u[1-r]=l[1-r],a.push(u);break;case\"middle\":var h=(l[r]+s[r])/2,c=[];u[r]=c[r]=h,u[1-r]=l[1-r],c[1-r]=s[1-r],a.push(u),a.push(c);break;default:u[r]=l[r],u[1-r]=s[1-r],a.push(u)}}return t[o]&&a.push(t[o]),a}function R(t,e,n){var i=t.get(\"showAllSymbol\"),r=\"auto\"===i;if(!i||r){var a=n.getAxesByScale(\"ordinal\")[0];if(a&&(!r||!function(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),a=Math.max(1,Math.round(r/5)),o=0;o<r;o+=a)if(1.5*l.getSymbolSize(e,o)[t.isHorizontal()?1:0]>i)return!1;return!0}(a,e))){var o=e.mapDimension(a.dim),s={};return C.each(a.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(o,t))}}}}function k(t,e,n){if(\"cartesian2d\"!==t.type)return p(t,e,n);var i,r,a=t.getBaseAxis().isHorizontal(),o=f(t,e,n);return n.get(\"clip\",!0)||(i=o.shape,r=Math.max(i.width,i.height),a?(i.y-=r,i.height+=2*r):(i.x-=r,i.width+=2*r)),o}var g=h.extend({type:\"line\",init:function(){var t=new D.Group,e=new i;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var i=t.coordinateSystem,r=this.group,a=t.getData(),o=t.getModel(\"lineStyle\"),s=t.getModel(\"areaStyle\"),l=a.mapArray(a.getItemLayout),u=\"polar\"===i.type,h=this._coordSys,c=this._symbolDraw,d=this._polyline,f=this._polygon,p=this._lineGroup,g=t.get(\"animation\"),m=!s.isEmpty(),v=s.get(\"origin\"),y=function(t,e,n){if(!n.valueDim)return[];for(var i=[],r=0,a=e.count();r<a;r++)i.push(L(n,t,e,r));return i}(i,a,E(i,a,v)),_=t.get(\"showSymbol\"),x=_&&!u&&R(t,a,i),b=this._data;b&&b.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),b.setItemGraphicEl(e,null))}),_||c.remove(),r.add(p);var w,T=!u&&t.get(\"step\");i&&i.getArea&&t.get(\"clip\",!0)&&(null!=(w=i.getArea()).width?(w.x-=.1,w.y-=.1,w.width+=.2,w.height+=.2):w.r0&&(w.r0-=.5,w.r1+=.5)),this._clipShapeForSymbol=w,d&&h.type===i.type&&T===this._step?(m&&!f?f=this._newPolygon(l,y,i,g):f&&!m&&(p.remove(f),f=this._polygon=null),p.setClipPath(k(i,!1,t)),_&&c.updateData(a,{isIgnore:x,clipShape:w}),a.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),P(this._stackedOnPoints,y)&&P(this._points,l)||(g?this._updateAnimation(a,y,i,n,T,v):(T&&(l=O(l,i,T),y=O(y,i,T)),d.setShape({points:l}),f&&f.setShape({points:l,stackedOnPoints:y})))):(_&&c.updateData(a,{isIgnore:x,clipShape:w}),T&&(l=O(l,i,T),y=O(y,i,T)),d=this._newPolyline(l,i,g),m&&(f=this._newPolygon(l,y,i,g)),p.setClipPath(k(i,!0,t)));var S=function(t,e){var n=t.getVisual(\"visualMeta\");if(n&&n.length&&t.count()&&\"cartesian2d\"===e.type){for(var i,r=n.length-1;0<=r;r--){var a,o=n[r].dimension,s=t.dimensions[o],l=t.getDimensionInfo(s);if(\"x\"===(a=l&&l.coordDim)||\"y\"===a){i=n[r];break}}if(i){var u=e.getAxis(a),h=C.map(i.stops,function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}}),c=h.length,d=i.outerColors.slice();c&&h[0].coord>h[c-1].coord&&(h.reverse(),d.reverse());var f=h[0].coord-10,p=h[c-1].coord+10,g=p-f;if(g<.001)return\"transparent\";C.each(h,function(t){t.offset=(t.coord-f)/g}),h.push({offset:c?h[c-1].offset:.5,color:d[1]||\"transparent\"}),h.unshift({offset:c?h[0].offset:.5,color:d[0]||\"transparent\"});var m=new D.LinearGradient(0,0,0,0,h,!0);return m[a]=f,m[a+\"2\"]=p,m}}}(a,i)||a.getVisual(\"color\");d.useStyle(C.defaults(o.getLineStyle(),{fill:\"none\",stroke:S,lineJoin:\"bevel\"}));var M,A,I=t.get(\"smooth\"),I=N(t.get(\"smooth\"));d.setShape({smooth:I,smoothMonotone:t.get(\"smoothMonotone\"),connectNulls:t.get(\"connectNulls\")}),f&&(M=a.getCalculationInfo(\"stackedOnSeries\"),A=0,f.useStyle(C.defaults(s.getAreaStyle(),{fill:S,opacity:.7,lineJoin:\"bevel\"})),M&&(A=N(M.get(\"smooth\"))),f.setShape({smooth:I,stackedOnSmooth:A,smoothMonotone:t.get(\"smoothMonotone\"),connectNulls:t.get(\"connectNulls\")})),this._data=a,this._coordSys=i,this._stackedOnPoints=y,this._points=l,this._step=T,this._valueOrigin=v},dispose:function(){},highlight:function(t,e,n,i){var r=t.getData(),a=u.queryDataIndex(r,i);if(!(a instanceof Array)&&null!=a&&0<=a){var o=r.getItemGraphicEl(a);if(!o){var s=r.getItemLayout(a);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;(o=new l(r,a)).position=s,o.setZ(t.get(\"zlevel\"),t.get(\"z\")),o.ignore=isNaN(s[0])||isNaN(s[1]),o.__temp=!0,r.setItemGraphicEl(a,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else h.prototype.highlight.call(this,t,e,n,i)},downplay:function(t,e,n,i){var r,a=t.getData(),o=u.queryDataIndex(a,i);null!=o&&0<=o?(r=a.getItemGraphicEl(o))&&(r.__temp?(a.setItemGraphicEl(o,null),this.group.remove(r)):r.downplay()):h.prototype.downplay.call(this,t,e,n,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new a({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new s({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n},_updateAnimation:function(t,e,n,i,r,a){var o=this._polyline,s=this._polygon,l=t.hostModel,u=y(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,a),h=u.current,c=u.stackedOnCurrent,d=u.next,f=u.stackedOnNext;if(r&&(h=O(u.current,n,r),c=O(u.stackedOnCurrent,n,r),d=O(u.next,n,r),f=O(u.stackedOnNext,n,r)),3e3<_(h,d)||s&&3e3<_(c,f))return o.setShape({points:d}),void(s&&s.setShape({points:d,stackedOnPoints:f}));o.shape.__points=u.current,o.shape.points=h,D.updateProps(o,{shape:{points:d}},l),s&&(s.setShape({points:h,stackedOnPoints:c}),D.updateProps(s,{shape:{points:d,stackedOnPoints:f}},l));for(var p,g=[],m=u.status,v=0;v<m.length;v++){\"=\"!==m[v].cmd||(p=t.getItemGraphicEl(m[v].idx1))&&g.push({el:p,ptIdx:v})}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var t=0;t<g.length;t++){g[t].el.attr(\"position\",o.shape.__points[g[t].ptIdx])}})},remove:function(t){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,e){t.__temp&&(n.remove(t),i.setItemGraphicEl(e,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});t.exports=g},function(t,e,n){var i=n(156),P=i.prepareDataCoordInfo,N=i.getStackedOnPoint;t.exports=function(t,e,n,i,r,a,o,s){for(var l,u,h=(l=t,u=[],e.diff(l).add(function(t){u.push({cmd:\"+\",idx:t})}).update(function(t,e){u.push({cmd:\"=\",idx:e,idx1:t})}).remove(function(t){u.push({cmd:\"-\",idx:t})}).execute(),u),c=[],d=[],f=[],p=[],g=[],m=[],v=[],y=P(r,e,o),_=P(a,t,s),x=0;x<h.length;x++){var b=h[x],w=!0;switch(b.cmd){case\"=\":var T=t.getItemLayout(b.idx),S=e.getItemLayout(b.idx1);(isNaN(T[0])||isNaN(T[1]))&&(T=S.slice()),c.push(T),d.push(S),f.push(n[b.idx]),p.push(i[b.idx1]),v.push(e.getRawIndex(b.idx1));break;case\"+\":var M=b.idx;c.push(r.dataToPoint([e.get(y.dataDimsForPoint[0],M),e.get(y.dataDimsForPoint[1],M)])),d.push(e.getItemLayout(M).slice()),f.push(N(y,r,e,M)),p.push(i[M]),v.push(e.getRawIndex(M));break;case\"-\":var M=b.idx,A=t.getRawIndex(M);A!==M?(c.push(t.getItemLayout(M)),d.push(a.dataToPoint([t.get(_.dataDimsForPoint[0],M),t.get(_.dataDimsForPoint[1],M)])),f.push(n[M]),p.push(N(_,a,t,M)),v.push(A)):w=!1}w&&(g.push(b),m.push(m.length))}m.sort(function(t,e){return v[t]-v[e]});for(var I=[],C=[],D=[],E=[],L=[],x=0;x<m.length;x++){M=m[x];I[x]=c[M],C[x]=d[M],D[x]=f[M],E[x]=p[M],L[x]=g[M]}return{current:I,next:C,stackedOnCurrent:D,stackedOnNext:E,status:L}}},function(t,e){function d(t,e){return Math.round(t.length/2)}var f={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}};t.exports=function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,n){var i,r,a,o,s,l,u=t.getData(),h=t.get(\"sampling\"),c=t.coordinateSystem;\"cartesian2d\"===c.type&&h&&(i=c.getBaseAxis(),r=c.getOtherAxis(i),o=(a=i.getExtent())[1]-a[0],1<(s=Math.round(u.count()/o))&&(\"string\"==typeof h?l=f[h]:\"function\"==typeof h&&(l=h),l&&t.setData(u.downSample(u.mapDimension(r.dim),1/s,l,d))))}}}},function(t,e,n){var i=n(0),o=n(9),r=n(262);function a(t){r.call(this,t)}a.prototype={constructor:a,type:\"cartesian2d\",dimensions:[\"x\",\"y\"],getBaseAxis:function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAxis(\"x\")},containPoint:function(t){var e=this.getAxis(\"x\"),n=this.getAxis(\"y\");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis(\"x\").containData(t[0])&&this.getAxis(\"y\").containData(t[1])},dataToPoint:function(t,e,n){var i=this.getAxis(\"x\"),r=this.getAxis(\"y\");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(t[0])),n[1]=r.toGlobalCoord(r.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis(\"x\").scale,i=this.getAxis(\"y\").scale,r=n.getExtent(),a=i.getExtent(),o=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},pointToData:function(t,e){var n=this.getAxis(\"x\"),i=this.getAxis(\"y\");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis(\"x\"===t.dim?\"y\":\"x\")},getArea:function(){var t=this.getAxis(\"x\").getGlobalExtent(),e=this.getAxis(\"y\").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),r=Math.max(t[0],t[1])-n,a=Math.max(e[0],e[1])-i;return new o(n,i,r,a)}},i.inherits(a,r),t.exports=a},function(t,e,n){var i=n(0);function r(t){return this._axes[t]}function a(t){this._axes={},this._dimList=[],this.name=t||\"\"}a.prototype={constructor:a,type:\"cartesian\",getAxis:function(t){return this._axes[t]},getAxes:function(){return i.map(this._dimList,r,this)},getAxesByScale:function(e){return e=e.toLowerCase(),i.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,\"dataToCoord\")},coordToData:function(t){return this._dataCoordConvert(t,\"coordToData\")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var a=n[r],o=this._axes[a];i[a]=o[e](t[a])}return i}};t.exports=a},function(t,e,n){function i(t,e,n,i,r){a.call(this,t,e,n),this.type=i||\"value\",this.position=r||\"bottom\"}var r=n(0),a=n(31);i.prototype={constructor:i,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return\"top\"===t||\"bottom\"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t[\"x\"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},r.inherits(i,a),t.exports=i},function(t,e,n){n(158);var i=n(13).extend({type:\"grid\",dependencies:[\"xAxis\",\"yAxis\"],layoutMode:\"box\",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:\"10%\",top:60,right:\"10%\",bottom:60,containLabel:!1,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:1,borderColor:\"#ccc\"}});t.exports=i},function(t,e,n){n(158),n(266)},function(t,e,n){var v=n(0),y=n(2),l=n(32),i=n(40),u=n(160),r=n(161),a=r.rectCoordAxisBuildSplitArea,o=r.rectCoordAxisHandleRemove,h=[\"axisLine\",\"axisTickLabel\",\"axisName\"],c=[\"splitArea\",\"splitLine\",\"minorSplitLine\"],d=i.extend({type:\"cartesianAxis\",axisPointerClass:\"CartesianAxisPointer\",render:function(e,t,n,i){this.group.removeAll();var r,a,o,s=this._axisGroup;this._axisGroup=new y.Group,this.group.add(this._axisGroup),e.get(\"show\")&&(r=e.getCoordSysModel(),a=u.layout(r,e),o=new l(e,a),v.each(h,o.add,o),this._axisGroup.add(o.getGroup()),v.each(c,function(t){e.get(t+\".show\")&&this[\"_\"+t](e,r)},this),y.groupTransition(s,this._axisGroup,e),d.superCall(this,\"render\",e,t,n,i))},remove:function(){o(this)},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank())for(var i=t.getModel(\"splitLine\"),r=i.getModel(\"lineStyle\"),a=r.get(\"color\"),a=v.isArray(a)?a:[a],o=e.coordinateSystem.getRect(),s=n.isHorizontal(),l=0,u=n.getTicksCoords({tickModel:i}),h=[],c=[],d=r.getLineStyle(),f=0;f<u.length;f++){var p=n.toGlobalCoord(u[f].coord);s?(h[0]=p,h[1]=o.y,c[0]=p,c[1]=o.y+o.height):(h[0]=o.x,h[1]=p,c[0]=o.x+o.width,c[1]=p);var g=l++%a.length,m=u[f].tickValue;this._axisGroup.add(new y.Line({anid:null!=m?\"line_\"+u[f].tickValue:null,subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:v.defaults({stroke:a[g]},d),silent:!0}))}},_minorSplitLine:function(t,e){var n=t.axis,i=t.getModel(\"minorSplitLine\").getModel(\"lineStyle\"),r=e.coordinateSystem.getRect(),a=n.isHorizontal(),o=n.getMinorTicksCoords();if(o.length)for(var s=[],l=[],u=i.getLineStyle(),h=0;h<o.length;h++)for(var c=0;c<o[h].length;c++){var d=n.toGlobalCoord(o[h][c].coord);a?(s[0]=d,s[1]=r.y,l[0]=d,l[1]=r.y+r.height):(s[0]=r.x,s[1]=d,l[0]=r.x+r.width,l[1]=d),this._axisGroup.add(new y.Line({anid:\"minor_line_\"+o[h][c].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,silent:!0}))}},_splitArea:function(t,e){a(this,this._axisGroup,t,e)}});d.extend({type:\"xAxis\"}),d.extend({type:\"yAxis\"})},function(t,e,n){var i=n(1),r=n(0),a=n(77),o=a.layout,s=a.largeLayout;n(98),n(268),n(269),n(63),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,r.curry(o,\"bar\")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,s),i.registerVisual({seriesType:\"bar\",reset:function(t){t.getData().setVisual(\"legendSymbol\",\"roundRect\")}})},function(t,e,n){var i=n(162).extend({type:\"series.bar\",dependencies:[\"grid\",\"polar\"],brushSelector:\"rect\",getProgressive:function(){return!!this.get(\"large\")&&this.get(\"progressive\")},getProgressiveThreshold:function(){var t=this.get(\"progressiveThreshold\"),e=this.get(\"largeThreshold\");return t<e&&(t=e),t},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:\"rgba(180, 180, 180, 0.2)\",borderColor:null,borderWidth:0,borderType:\"solid\",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});t.exports=i},function(t,e,n){n(5).__DEV__;var i=n(1),g=n(0),M=n(2),m=n(163).setLabel,r=n(12),a=n(270),o=n(10),A=n(35),s=n(29).throttle,l=n(61).createClipPath,h=n(271),c=[\"itemStyle\",\"barBorderWidth\"],y=[0,0];g.extend(r.prototype,a);var u=i.extendChartView({type:\"bar\",render:function(t,e,n){this._updateDrawMode(t);var i=t.get(\"coordinateSystem\");return\"cartesian2d\"!==i&&\"polar\"!==i||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n)),this.group},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,i){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(u,t,e){var h,c=this.group,d=u.getData(),l=this._data,f=u.coordinateSystem,n=f.getBaseAxis();\"cartesian2d\"===f.type?h=n.isHorizontal():\"polar\"===f.type&&(h=\"angle\"===n.dim);var i,r,a,o,s,p=u.isAnimationEnabled()?u:null,g=u.get(\"clip\",!0),m=(r=d,s=(i=f).getArea&&i.getArea(),\"cartesian2d\"===i.type&&(\"category\"===(a=i.getBaseAxis()).type&&a.onBand||(o=r.getLayout(\"bandWidth\"),a.isHorizontal()?(s.x-=o,s.width+=2*o):(s.y-=o,s.height+=2*o))),s);c.removeClipPath();var v=u.get(\"roundCap\",!0),y=u.get(\"showBackground\",!0),_=u.getModel(\"backgroundStyle\"),x=_.get(\"barBorderRadius\")||0,b=[],w=this._backgroundEls||[];d.diff(l).add(function(t){var e,n,i,r,a,o=d.getItemModel(t),s=L[f.type](d,t,o);if(y&&(e=L[f.type](d,t),r=h,a=e,(n=new(\"polar\"===(i=f).type?M.Sector:M.Rect)({shape:N(r,a,i),silent:!0,z2:0})).useStyle(_.getBarItemStyle()),\"cartesian2d\"===f.type&&n.setShape(\"r\",x),b[t]=n),d.hasValue(t)){if(g)if(I[f.type](m,s))return void c.remove(l);var l=C[f.type](t,s,h,p,!1,v);d.setItemGraphicEl(t,l),c.add(l),P(l,d,t,o,s,u,h,\"polar\"===f.type)}}).update(function(t,e){var n,i,r,a=d.getItemModel(t),o=L[f.type](d,t,a);y&&((n=w[e]).useStyle(_.getBarItemStyle()),\"cartesian2d\"===f.type&&n.setShape(\"r\",x),b[t]=n,i=L[f.type](d,t),r=N(h,i,f),M.updateProps(n,{shape:r},p,t));var s=l.getItemGraphicEl(e);if(d.hasValue(t)){if(g)if(I[f.type](m,o))return void c.remove(s);s?M.updateProps(s,{shape:o},p,t):s=C[f.type](t,o,h,p,!0,v),d.setItemGraphicEl(t,s),c.add(s),P(s,d,t,a,o,u,h,\"polar\"===f.type)}else c.remove(s)}).remove(function(t){var e=l.getItemGraphicEl(t);\"cartesian2d\"===f.type?e&&D(t,p,e):e&&E(t,p,e)}).execute();var T=this._backgroundGroup||(this._backgroundGroup=new A);T.removeAll();for(var S=0;S<b.length;++S)T.add(b[S]);c.add(T),this._backgroundEls=b,this._data=d},_renderLarge:function(t,e,n){this._clear(),p(t,this.group);var i=t.get(\"clip\",!0)?l(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){this._removeBackground(),p(e,this.group,!0)},dispose:g.noop,remove:function(t){this._clear(t)},_clear:function(e){var t=this.group,n=this._data;e&&e.get(\"animation\")&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(t){(\"sector\"===t.type?E:D)(t.dataIndex,e,t)})):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),d=Math.max,f=Math.min,I={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=d(e.x,t.x),a=f(e.x+e.width,t.x+t.width),o=d(e.y,t.y),s=f(e.y+e.height,t.y+t.height);e.x=r,e.y=o,e.width=a-r,e.height=s-o;var l=e.width<0||e.height<0;return n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),l},polar:function(t){return!1}},C={cartesian2d:function(t,e,n,i,r){var a,o,s=new M.Rect({shape:g.extend({},e),z2:1});return s.name=\"item\",i&&(a=n?\"height\":\"width\",o={},s.shape[a]=0,o[a]=e[a],M[r?\"updateProps\":\"initProps\"](s,{shape:o},i,t)),s},polar:function(t,e,n,i,r,a){var o,s,l=e.startAngle<e.endAngle,u=new(!n&&a?h:M.Sector)({shape:g.defaults({clockwise:l},e),z2:1});return u.name=\"item\",i&&(o=n?\"r\":\"endAngle\",s={},u.shape[o]=n?0:e.startAngle,s[o]=e[o],M[r?\"updateProps\":\"initProps\"](u,{shape:s},i,t)),u}};function D(t,e,n){n.style.text=null,M.updateProps(n,{shape:{width:0}},e,t,function(){n.parent&&n.parent.remove(n)})}function E(t,e,n){n.style.text=null,M.updateProps(n,{shape:{r:n.shape.r0}},e,t,function(){n.parent&&n.parent.remove(n)})}var L={cartesian2d:function(t,e,n){var i,r,a,o,s=t.getItemLayout(e),l=n?(i=s,r=n.get(c)||0,a=isNaN(i.width)?Number.MAX_VALUE:Math.abs(i.width),o=isNaN(i.height)?Number.MAX_VALUE:Math.abs(i.height),Math.min(r,a,o)):0,u=0<s.width?1:-1,h=0<s.height?1:-1;return{x:s.x+u*l/2,y:s.y+h*l/2,width:s.width-u*l,height:s.height-h*l}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}};function v(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function P(t,e,n,i,r,a,o,s){var l=e.getItemVisual(n,\"color\"),u=e.getItemVisual(n,\"opacity\"),h=e.getVisual(\"borderColor\"),c=i.getModel(\"itemStyle\"),d=i.getModel(\"emphasis.itemStyle\").getBarItemStyle();s||t.setShape(\"r\",c.get(\"barBorderRadius\")||0),t.useStyle(g.defaults({stroke:v(r)?\"none\":h,fill:v(r)?\"none\":l,opacity:u},c.getBarItemStyle()));var f=i.getShallow(\"cursor\");f&&t.attr(\"cursor\",f);var p=o?0<r.height?\"bottom\":\"top\":0<r.width?\"left\":\"right\";s||m(t.style,d,i,l,a,n,p),v(r)&&(d.fill=d.stroke=\"none\"),M.setHoverStyle(t,d)}var T=o.extend({type:\"largeBar\",shape:{points:[]},buildPath:function(t,e){for(var n=e.points,i=this.__startPoint,r=this.__baseDimIdx,a=0;a<n.length;a+=2)i[r]=n[a+r],t.moveTo(i[0],i[1]),t.lineTo(n[a],n[a+1])}});function p(t,e,n){var i=t.getData(),r=[],a=i.getLayout(\"valueAxisHorizontal\")?1:0;r[1-a]=i.getLayout(\"valueAxisStart\");var o,s,l,u,h,c,d,f,p=i.getLayout(\"largeDataIndices\"),g=i.getLayout(\"barWidth\"),m=t.getModel(\"backgroundStyle\");t.get(\"showBackground\",!0)&&(o=i.getLayout(\"largeBackgroundPoints\"),(s=[])[1-a]=i.getLayout(\"backgroundStart\"),l=new T({shape:{points:o},incremental:!!n,__startPoint:s,__baseDimIdx:a,__largeDataIndices:p,__barWidth:g,silent:!0,z2:0}),u=l,c=i,d=(h=m).get(\"borderColor\")||h.get(\"color\"),f=h.getItemStyle([\"color\",\"borderColor\"]),u.useStyle(f),u.style.fill=null,u.style.stroke=d,u.style.lineWidth=c.getLayout(\"barWidth\"),e.add(l));var v,y,_,x,b,w=new T({shape:{points:i.getLayout(\"largePoints\")},incremental:!!n,__startPoint:r,__baseDimIdx:a,__largeDataIndices:p,__barWidth:g});e.add(w),v=w,y=t,x=(_=i).getVisual(\"borderColor\")||_.getVisual(\"color\"),b=y.getModel(\"itemStyle\").getItemStyle([\"color\",\"borderColor\"]),v.useStyle(b),v.style.fill=null,v.style.stroke=x,v.style.lineWidth=_.getLayout(\"barWidth\"),w.seriesIndex=t.seriesIndex,t.get(\"silent\")||(w.on(\"mousedown\",S),w.on(\"mousemove\",S))}var S=s(function(t){var e=function(t,e,n){var i=t.__baseDimIdx,r=1-i,a=t.shape.points,o=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[r];y[0]=e,y[1]=n;for(var u=y[i],h=y[1-i],c=u-s,d=u+s,f=0,p=a.length/2;f<p;f++){var g=2*f,m=a[g+i],v=a[g+r];if(c<=m&&m<=d&&(l<=v?l<=h&&h<=v:v<=h&&h<=l))return o[f]}return-1}(this,t.offsetX,t.offsetY);this.dataIndex=0<=e?e:null},30,!1);function N(t,e,n){var i=\"polar\"===n.type,r=i?n.getArea():n.grid.getRect();return i?{cx:r.cx,cy:r.cy,r0:t?r.r0:e.r0,r:t?r.r:e.r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}:{x:t?e.x:r.x,y:t?r.y:e.y,width:t?e.width:r.width,height:t?r.height:e.height}}t.exports=u},function(t,e,n){var i=n(44)([[\"fill\",\"color\"],[\"stroke\",\"borderColor\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"barBorderColor\"],[\"lineWidth\",\"barBorderWidth\"],[\"opacity\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),r={getBarItemStyle:function(t){var e,n=i(this,t);return!this.getBorderLineDash||(e=this.getBorderLineDash())&&(n.lineDash=e),n}};t.exports=r},function(t,e,n){var i=(0,n(2).extendShape)({type:\"sausage\",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=.5*(a-r),s=r+o,l=e.startAngle,u=e.endAngle,h=e.clockwise,c=Math.cos(l),d=Math.sin(l),f=Math.cos(u),p=Math.sin(u);(h?u-l<2*Math.PI:l-u<2*Math.PI)&&(t.moveTo(c*r+n,d*r+i),t.arc(c*s+n,d*s+i,o,-Math.PI+l,l,!h)),t.arc(n,i,a,l,u,!h),t.moveTo(f*a+n,p*a+i),t.arc(f*s+n,p*s+i,o,u-2*Math.PI,u-Math.PI,!h),0!==r&&(t.arc(n,i,r,u,l,h),t.moveTo(c*r+n,p*r+i)),t.closePath()}});t.exports=i},function(t,e,n){var i=n(1),r=n(0);n(273),n(274);var a=n(164),o=n(81),s=n(275),l=n(65);a(\"pie\",[{type:\"pieToggleSelect\",event:\"pieselectchanged\",method:\"toggleSelected\"},{type:\"pieSelect\",event:\"pieselected\",method:\"select\"},{type:\"pieUnSelect\",event:\"pieunselected\",method:\"unSelect\"}]),i.registerVisual(o(\"pie\")),i.registerLayout(r.curry(s,\"pie\")),i.registerProcessor(l(\"pie\"))},function(t,e,n){var i=n(1),r=n(49),a=n(0),o=n(4),s=n(3).getPercentWithPrecision,l=n(99),u=n(37).retrieveRawAttr,h=n(26).makeSeriesEncodeForNameBased,c=n(64),d=i.extendSeriesModel({type:\"series.pie\",init:function(t){d.superApply(this,\"init\",arguments),this.legendVisualProvider=new c(a.bind(this.getData,this),a.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){d.superCall(this,\"mergeOption\",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return r(this,{coordDimensions:[\"value\"],encodeDefaulter:a.curry(h,this)})},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension(\"value\"),n=[],i=0,r=t.count();i<r;i++)n.push({name:t.getName(i),value:t.get(e,i),selected:u(t,i,\"selected\")});return n},getDataParams:function(t){var e=this.getData(),n=d.superCall(this,\"getDataParams\",t),i=[];return e.each(e.mapDimension(\"value\"),function(t){i.push(t)}),n.percent=s(i,t,e.hostModel.get(\"percentPrecision\")),n.$vars.push(\"percent\"),n},_defaultLabelLine:function(t){o.defaultEmphasis(t,\"labelLine\",[\"show\"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:\"outer\",alignTo:\"none\",margin:\"25%\",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderWidth:1},animationType:\"expansion\",animationTypeUpdate:\"transition\",animationEasing:\"cubicOut\"}});a.mixin(d,l),t.exports=d},function(t,e,n){var v=n(0),m=n(2),i=n(23);function y(t,e,n,i){var r=e.getData(),a=this.dataIndex,o=r.getName(a),s=e.get(\"selectedOffset\");i.dispatchAction({type:\"pieToggleSelect\",from:t,name:o,seriesId:e.id}),r.each(function(t){p(r.getItemGraphicEl(t),r.getItemLayout(t),e.isSelected(r.getName(t)),s,n)})}function p(t,e,n,i,r){var a=(e.startAngle+e.endAngle)/2,o=n?i:0,s=[Math.cos(a)*o,Math.sin(a)*o];r?t.animate().when(200,{position:s}).start(\"bounceOut\"):t.attr(\"position\",s)}function _(t,e){m.Group.call(this);var n=new m.Sector({z2:2}),i=new m.Polyline,r=new m.Text;this.add(n),this.add(i),this.add(r),this.updateData(t,e,!0)}var r=_.prototype;r.updateData=function(t,e,n){var i=this.childAt(0),r=this.childAt(1),a=this.childAt(2),o=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),u=v.extend({},l);u.label=null;var h=o.getShallow(\"animationTypeUpdate\");n?(i.setShape(u),\"scale\"===o.getShallow(\"animationType\")?(i.shape.r=l.r0,m.initProps(i,{shape:{r:l.r}},o,e)):(i.shape.endAngle=l.startAngle,m.updateProps(i,{shape:{endAngle:l.endAngle}},o,e))):\"expansion\"===h?i.setShape(u):m.updateProps(i,{shape:u},o,e);var c=t.getItemVisual(e,\"color\");i.useStyle(v.defaults({lineJoin:\"bevel\",fill:c},s.getModel(\"itemStyle\").getItemStyle())),i.hoverStyle=s.getModel(\"emphasis.itemStyle\").getItemStyle();var d=s.getShallow(\"cursor\");d&&i.attr(\"cursor\",d),p(this,t.getItemLayout(e),o.isSelected(t.getName(e)),o.get(\"selectedOffset\"),o.get(\"animation\"));var f=!n&&\"transition\"===h;this._updateLabel(t,e,f),this.highDownOnUpdate=o.get(\"silent\")?null:function(t,e){var n=o.isAnimationEnabled()&&s.get(\"hoverAnimation\");\"emphasis\"===e?(r.ignore=r.hoverIgnore,a.ignore=a.hoverIgnore,n&&(i.stopAnimation(!0),i.animateTo({shape:{r:l.r+o.get(\"hoverOffset\")}},300,\"elasticOut\"))):(r.ignore=r.normalIgnore,a.ignore=a.normalIgnore,n&&(i.stopAnimation(!0),i.animateTo({shape:{r:l.r}},300,\"elasticOut\")))},m.setHoverStyle(this)},r._updateLabel=function(t,e,n){var i,r,a,o,s,l,u,h=this.childAt(1),c=this.childAt(2),d=t.hostModel,f=t.getItemModel(e),p=t.getItemLayout(e).label,g=t.getItemVisual(e,\"color\");!p||isNaN(p.x)||isNaN(p.y)?c.ignore=c.normalIgnore=c.hoverIgnore=h.ignore=h.normalIgnore=h.hoverIgnore=!0:(i={points:p.linePoints||[[p.x,p.y],[p.x,p.y],[p.x,p.y]]},r={x:p.x,y:p.y},n?(m.updateProps(h,{shape:i},d,e),m.updateProps(c,{style:r},d,e)):(h.attr({shape:i}),c.attr({style:r})),c.attr({rotation:p.rotation,origin:[p.x,p.y],z2:10}),a=f.getModel(\"label\"),o=f.getModel(\"emphasis.label\"),s=f.getModel(\"labelLine\"),l=f.getModel(\"emphasis.labelLine\"),g=t.getItemVisual(e,\"color\"),m.setLabelStyle(c.style,c.hoverStyle={},a,o,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:p.text,autoColor:g,useInsideStyle:!!p.inside},{textAlign:p.textAlign,textVerticalAlign:p.verticalAlign,opacity:t.getItemVisual(e,\"opacity\")}),c.ignore=c.normalIgnore=!a.get(\"show\"),c.hoverIgnore=!o.get(\"show\"),h.ignore=h.normalIgnore=!s.get(\"show\"),h.hoverIgnore=!l.get(\"show\"),h.setStyle({stroke:g,opacity:t.getItemVisual(e,\"opacity\")}),h.setStyle(s.getModel(\"lineStyle\").getLineStyle()),h.hoverStyle=l.getModel(\"lineStyle\").getLineStyle(),(u=s.get(\"smooth\"))&&!0===u&&(u=.4),h.setShape({smooth:u}))},v.inherits(_,m.Group);var a=i.extend({type:\"pie\",init:function(){var t=new m.Group;this._sectorGroup=t},render:function(t,e,n,i){if(!i||i.from!==this.uid){var r=t.getData(),a=this._data,o=this.group,s=e.get(\"animation\"),l=!a,u=t.get(\"animationType\"),h=t.get(\"animationTypeUpdate\"),c=v.curry(y,this.uid,t,s,n),d=t.get(\"selectedMode\");if(r.diff(a).add(function(t){var e=new _(r,t);l&&\"scale\"!==u&&e.eachChild(function(t){t.stopAnimation(!0)}),d&&e.on(\"click\",c),r.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){var n=a.getItemGraphicEl(e);l||\"transition\"===h||n.eachChild(function(t){t.stopAnimation(!0)}),n.updateData(r,t),n.off(\"click\"),d&&n.on(\"click\",c),o.add(n),r.setItemGraphicEl(t,n)}).remove(function(t){var e=a.getItemGraphicEl(t);o.remove(e)}).execute(),s&&0<r.count()&&(l?\"scale\"!==u:\"transition\"!==h)){for(var f=r.getItemLayout(0),p=1;isNaN(f.startAngle)&&p<r.count();++p)f=r.getItemLayout(p);var g=Math.max(n.getWidth(),n.getHeight())/2,m=v.bind(o.removeClipPath,o);o.setClipPath(this._createClipPath(f.cx,f.cy,g,f.startAngle,f.clockwise,m,t,l))}else o.removeClipPath();this._data=r}},dispose:function(){},_createClipPath:function(t,e,n,i,r,a,o,s){var l=new m.Sector({shape:{cx:t,cy:e,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return(s?m.initProps:m.updateProps)(l,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},o,a),l},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,a=Math.sqrt(i*i+r*r);return a<=n.r&&a>=n.r0}}});t.exports=a},function(t,e,n){var i=n(3),E=i.parsePercent,L=i.linearMap,P=n(6),N=n(276),O=n(0),R=2*Math.PI,k=Math.PI/180;t.exports=function(t,e,D,n){e.eachSeriesByType(t,function(t){var e,n,r=t.getData(),i=r.mapDimension(\"value\"),a=(e=t,n=D,P.getLayoutRect(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})),o=t.get(\"center\"),s=t.get(\"radius\");O.isArray(s)||(s=[0,s]),O.isArray(o)||(o=[o,o]);var l=E(a.width,D.getWidth()),u=E(a.height,D.getHeight()),h=Math.min(l,u),c=E(o[0],l)+a.x,d=E(o[1],u)+a.y,f=E(s[0],h/2),p=E(s[1],h/2),g=-t.get(\"startAngle\")*k,m=t.get(\"minAngle\")*k,v=0;r.each(i,function(t){isNaN(t)||v++});var y=r.getSum(i),_=Math.PI/(y||v)*2,x=t.get(\"clockwise\"),b=t.get(\"roseType\"),w=t.get(\"stillShowZeroSum\"),T=r.getDataExtent(i);T[0]=0;var S,M=R,A=0,I=g,C=x?1:-1;r.each(i,function(t,e){var n,i;isNaN(t)?r.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:c,cy:d,r0:f,r:b?NaN:p,viewRect:a}):((n=\"area\"!==b?0===y&&w?_:t*_:R/v)<m?M-=n=m:A+=t,i=I+C*n,r.setItemLayout(e,{angle:n,startAngle:I,endAngle:i,clockwise:x,cx:c,cy:d,r0:f,r:b?L(t,T,[f,p]):p,viewRect:a}),I=i)}),M<R&&v&&(M<=.001?(S=R/v,r.each(i,function(t,e){var n;isNaN(t)||((n=r.getItemLayout(e)).angle=S,n.startAngle=g+C*e*S,n.endAngle=g+C*(e+1)*S)})):(_=M/A,I=g,r.each(i,function(t,e){var n,i;isNaN(t)||(i=(n=r.getItemLayout(e)).angle===m?m:t*_,n.startAngle=I,n.endAngle=I+C*i,I+=C*i)}))),N(t,p,a.width,a.height,a.x,a.y)})}},function(t,e,n){var V=n(16),G=n(3).parsePercent,i=Math.PI/180;function _(r,t,e,n,i,a,o,s,l,u){function h(t,e){for(var n=t;0<=n&&!(r[n].y-e<l)&&(r[n].y-=e,!(0<n&&r[n].y>r[n-1].y+r[n-1].height));n--);}function c(t,e,n,i,r,a){for(var o,s,l,u,h=e?Number.MAX_VALUE:0,c=0,d=t.length;c<d;c++){\"none\"===t[c].labelAlignTo&&(o=Math.abs(t[c].y-i),s=t[c].len,l=t[c].len2,u=o<r+s?Math.sqrt((r+s+l)*(r+s+l)-o*o):Math.abs(t[c].x-n),e&&h<=u&&(u=h-10),!e&&u<=h&&(u=h+10),t[c].x=n+u*a,h=u)}}r.sort(function(t,e){return t.y-e.y});for(var d,f,p=0,g=r.length,m=[],v=[],y=0;y<g;y++){\"outer\"===r[y].position&&\"labelLine\"===r[y].labelAlignTo&&(f=r[y].x-u,r[y].linePoints[1][0]+=f,r[y].x=u),(d=r[y].y-p)<0&&function(t,e,n){for(var i=t;i<e&&!(r[i].y+n>l+o);i++)if(r[i].y+=n,t<i&&i+1<e&&r[i+1].y>r[i].y+r[i].height)return h(i,n/2);h(e-1,n/2)}(y,g,-d),p=r[y].y+r[y].height}o-p<0&&h(g-1,p-o);for(y=0;y<g;y++)r[y].y>=e?v.push(r[y]):m.push(r[y]);c(m,!1,t,e,n,i),c(v,!0,t,e,n,i)}function x(t){return\"center\"===t.position}t.exports=function(E,L,P,t,N,e){var O,R,k=E.getData(),z=[],B=!1,F=(E.get(\"minShowLabelAngle\")||0)*i;k.each(function(t){var e,n,i,r,a,o,s,l,u,h,c,d,f,p,g,m,v,y=k.getItemLayout(t),_=k.getItemModel(t),x=_.getModel(\"label\"),b=x.get(\"position\")||_.get(\"emphasis.label.position\"),w=x.get(\"distanceToLabelLine\"),T=x.get(\"alignTo\"),S=G(x.get(\"margin\"),P),M=x.get(\"bleedMargin\"),A=x.getFont(),I=_.getModel(\"labelLine\"),C=I.get(\"length\"),C=G(C,P),D=I.get(\"length2\"),D=G(D,P);y.angle<F||(e=(y.startAngle+y.endAngle)/2,n=Math.cos(e),i=Math.sin(e),O=y.cx,R=y.cy,r=E.getFormattedLabel(t,\"normal\")||k.getName(t),a=V.getBoundingRect(r,A,g,\"top\"),o=\"inside\"===b||\"inner\"===b,g=\"center\"===b?(d=y.cx,f=y.cy,\"center\"):(d=(s=(o?(y.r+y.r0)/2*n:y.r*n)+O)+3*n,f=(l=(o?(y.r+y.r0)/2*i:y.r*i)+R)+3*i,o||(u=s+n*(C+L-y.r),h=l+i*(C+L-y.r),c=u+(n<0?-1:1)*D,d=\"edge\"===T?n<0?N+S:N+P-S:c+(n<0?-w:w),p=[[s,l],[u,f=h],[c,h]]),o?\"center\":\"edge\"===T?0<n?\"right\":\"left\":0<n?\"left\":\"right\"),v=\"number\"==typeof(m=x.get(\"rotate\"))?m*(Math.PI/180):m?n<0?-e+Math.PI:-e:0,B=!!v,y.label={x:d,y:f,position:b,height:a.height,len:C,len2:D,linePoints:p,textAlign:g,verticalAlign:\"middle\",rotation:v,inside:o,labelDistance:w,labelAlignTo:T,labelMargin:S,bleedMargin:M,textRect:a,text:r,font:A},o||z.push(y.label))}),!B&&E.get(\"avoidLabelOverlap\")&&function(t,e,n,i,r,a,o,s){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=0;d<t.length;d++)x(t[d])||(t[d].x<e?(h=Math.min(h,t[d].x),l.push(t[d])):(c=Math.max(c,t[d].x),u.push(t[d])));for(_(u,e,n,i,1,0,a,0,s,c),_(l,e,n,i,-1,0,a,0,s,h),d=0;d<t.length;d++){var f,p,g,m,v,y=t[d];x(y)||(f=y.linePoints)&&(p=\"edge\"===y.labelAlignTo,g=y.textRect.width,(m=p?y.x<e?f[2][0]-y.labelDistance-o-y.labelMargin:o+r-y.labelMargin-f[2][0]-y.labelDistance:y.x<e?y.x-o-y.bleedMargin:o+r-y.x-y.bleedMargin)<y.textRect.width&&(y.text=V.truncateText(y.text,m,y.font),\"edge\"===y.labelAlignTo&&(g=V.getWidth(y.text,y.font))),v=f[1][0]-f[2][0],p?y.x<e?f[2][0]=o+y.labelMargin+g+y.labelDistance:f[2][0]=o+r-y.labelMargin-g-y.labelDistance:(y.x<e?f[2][0]=y.x+y.labelDistance:f[2][0]=y.x-y.labelDistance,f[1][0]=f[2][0]+v),f[1][1]=f[2][1]=y.y)}}(z,O,R,L,P,t,N,e)}},function(t,e,n){var i=n(1);n(278),n(279);var r=n(39),a=n(62);n(63),i.registerVisual(r(\"scatter\",\"circle\")),i.registerLayout(a(\"scatter\"))},function(t,e,n){var i=n(27),r=n(14).extend({type:\"series.scatter\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],getInitialData:function(t,e){return i(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:\"point\",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get(\"progressive\"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get(\"progressiveThreshold\"):t},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});t.exports=r},function(t,e,n){var i=n(1),r=n(60),a=n(280),o=n(62);i.extendChartView({type:\"scatter\",render:function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},incrementalPrepareRender:function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||1e4<i.count()||!this._symbolDraw.isPersistent())return{update:!0};var r=o().reset(t);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get(\"clip\",!0)?n:null},_updateSymbolDraw:function(t,e){var n=this._symbolDraw,i=e.pipelineContext.large;return n&&i===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=new(i?a:r),this._isLargeDraw=i,this.group.removeAll()),this.group.add(n.group),n},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},function(t,e,n){var i=n(2),l=n(18).createSymbol,r=n(93),a=i.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(t,e){var n=e.points,i=e.size,r=this.symbolProxy,a=r.shape;if(!((t.getContext?t.getContext():t)&&i[0]<4))for(var o=0;o<n.length;){var s=n[o++],l=n[o++];isNaN(s)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(s,l)||(a.x=s-i[0]/2,a.y=l-i[1]/2,a.width=i[0],a.height=i[1],r.buildPath(t,a,!0))}},afterBrush:function(t){var e=this.shape,n=e.points,i=e.size;if(i[0]<4){this.setTransform(t);for(var r=0;r<n.length;){var a=n[r++],o=n[r++];isNaN(a)||isNaN(o)||this.softClipShape&&!this.softClipShape.contain(a,o)||t.fillRect(a-i[0]/2,o-i[1]/2,i[0],i[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var n=this.shape,i=n.points,r=n.size,a=Math.max(r[0],4),o=Math.max(r[1],4),s=i.length/2-1;0<=s;s--){var l=2*s,u=i[l]-a/2,h=i[1+l]-o/2;if(u<=t&&h<=e&&t<=u+a&&e<=h+o)return s}return-1}});function o(){this.group=new i.Group}var s=o.prototype;s.isPersistent=function(){return!this._incremental},s.updateData=function(t,e){this.group.removeAll();var n=new a({rectHover:!0,cursor:\"default\"});n.setShape({points:t.getLayout(\"symbolPoints\")}),this._setCommon(n,t,!1,e),this.group.add(n),this._incremental=null},s.updateLayout=function(t){var i;this._incremental||(i=t.getLayout(\"symbolPoints\"),this.group.eachChild(function(t){var e,n;null!=t.startIndex&&(e=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2,i=new Float32Array(i.buffer,n,e)),t.setShape(\"points\",i)}))},s.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),2e6<t.count()?(this._incremental||(this._incremental=new r({silent:!0})),this.group.add(this._incremental)):this._incremental=null},s.incrementalUpdate=function(t,e,n){var i;this._incremental?(i=new a,this._incremental.addDisplayable(i,!0)):((i=new a({rectHover:!0,cursor:\"default\",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout(\"symbolPoints\")}),this._setCommon(i,e,!!this._incremental,n)},s._setCommon=function(n,t,e,i){var r=t.hostModel;i=i||{};var a=t.getVisual(\"symbolSize\");n.setShape(\"size\",a instanceof Array?a:[a,a]),n.softClipShape=i.clipShape||null,n.symbolProxy=l(t.getVisual(\"symbol\"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var o=n.shape.size[0]<4;n.useStyle(r.getModel(\"itemStyle\").getItemStyle(o?[\"color\",\"shadowBlur\",\"shadowColor\"]:[\"color\"]));var s=t.getVisual(\"color\");s&&n.setColor(s),e||(n.seriesIndex=r.seriesIndex,n.on(\"mousemove\",function(t){n.dataIndex=null;var e=n.findDataIndex(t.offsetX,t.offsetY);0<=e&&(n.dataIndex=e+(n.startIndex||0))}))},s.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},s._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},t.exports=o},function(t,e,n){var i=n(1);n(282),n(287),n(288);var r=n(81),a=n(39),o=n(289),s=n(65),l=n(290);i.registerVisual(r(\"radar\")),i.registerVisual(a(\"radar\",\"circle\")),i.registerLayout(o),i.registerProcessor(s(\"radar\")),i.registerPreprocessor(l)},function(t,e,n){n(283),n(285),n(286)},function(t,e,n){var s=n(0),r=n(284),a=n(76),f=n(3),i=n(20),p=i.getScaleExtent,g=i.niceScaleExtent,o=n(19),l=n(152);function u(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=s.map(t.getIndicatorModels(),function(t,e){var n=\"indicator_\"+e,i=new r(n,new(\"log\"===t.get(\"axisType\")?l:a));return i.name=t.get(\"name\"),(i.model=t).axis=i,this.dimensions.push(n),i},this),this.resize(t,n),this.cx,this.cy,this.r,this.r0,this.startAngle}u.prototype.getIndicatorAxes=function(){return this._indicatorAxes},u.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},u.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},u.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,a=Math.atan2(-n,e),o=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var u=this._indicatorAxes[l],h=Math.abs(a-u.angle);h<o&&(r=u,s=l,o=h)}return[s,+(r&&r.coordToData(i))]},u.prototype.resize=function(t,e){var n=t.get(\"center\"),i=e.getWidth(),r=e.getHeight(),a=Math.min(i,r)/2;this.cx=f.parsePercent(n[0],i),this.cy=f.parsePercent(n[1],r),this.startAngle=t.get(\"startAngle\")*Math.PI/180;var o=t.get(\"radius\");\"string\"!=typeof o&&\"number\"!=typeof o||(o=[0,o]),this.r0=f.parsePercent(o[0],a),this.r=f.parsePercent(o[1],a),s.each(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length,n=Math.atan2(Math.sin(n),Math.cos(n));t.angle=n},this)},u.prototype.update=function(i,t){var r=this._indicatorAxes,a=this._model;s.each(r,function(t){t.scale.setExtent(1/0,-1/0)}),i.eachSeriesByType(\"radar\",function(t,e){var n;\"radar\"===t.get(\"coordinateSystem\")&&i.getComponent(\"radar\",t.get(\"radarIndex\"))===a&&(n=t.getData(),s.each(r,function(t){t.scale.unionExtentFromData(n,n.mapDimension(t.dim))}))},this);var c=a.get(\"splitNumber\");function d(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),n=t/e;return 2===n?n=5:n*=2,n*e}s.each(r,function(t,e){var n=p(t.scale,t.model).extent;g(t.scale,t.model);var i=t.model,r=t.scale,a=i.getMin(),o=i.getMax(),s=r.getInterval();if(null!=a&&null!=o)r.setExtent(+a,+o),r.setInterval((o-a)/c);else if(null!=a)for(;u=a+s*c,r.setExtent(+a,u),r.setInterval(s),s=d(s),u<n[1]&&isFinite(u)&&isFinite(n[1]););else if(null!=o)for(;h=o-s*c,r.setExtent(h,+o),r.setInterval(s),s=d(s),h>n[0]&&isFinite(h)&&isFinite(n[0]););else{var l=r.getTicks().length-1;c<l&&(s=d(s));var u=Math.ceil(n[1]/s)*s,h=f.round(u-s*c);r.setExtent(h,u),r.setInterval(s)}})},u.dimensions=[],u.create=function(t,n){var i=[];return t.eachComponent(\"radar\",function(t){var e=new u(t,0,n);i.push(e),t.coordinateSystem=e}),t.eachSeriesByType(\"radar\",function(t){\"radar\"===t.get(\"coordinateSystem\")&&(t.coordinateSystem=i[t.get(\"radarIndex\")||0])}),i},o.register(\"radar\",u),t.exports=u},function(t,e,n){var i=n(0),r=n(31);function a(t,e,n){r.call(this,t,e,n),this.type=\"value\",this.angle=0,this.name=\"\",this.model}i.inherits(a,r),t.exports=a},function(t,e,n){var i=n(1),m=n(0),r=n(159),v=n(12),y=n(48),a=r.valueAxis;function o(t,e){return m.defaults({show:e},t)}var s=i.extendComponentModel({type:\"radar\",optionUpdated:function(){var r=this.get(\"boundaryGap\"),a=this.get(\"splitNumber\"),o=this.get(\"scale\"),s=this.get(\"axisLine\"),l=this.get(\"axisTick\"),u=this.get(\"axisType\"),h=this.get(\"axisLabel\"),c=this.get(\"name\"),d=this.get(\"name.show\"),f=this.get(\"name.formatter\"),p=this.get(\"nameGap\"),g=this.get(\"triggerEvent\"),t=m.map(this.get(\"indicator\")||[],function(t){null!=t.max&&0<t.max&&!t.min?t.min=0:null!=t.min&&t.min<0&&!t.max&&(t.max=0);var e,n=c;null!=t.color&&(n=m.defaults({color:t.color},c)),t=m.merge(m.clone(t),{boundaryGap:r,splitNumber:a,scale:o,axisLine:s,axisTick:l,axisType:u,axisLabel:h,name:t.text,nameLocation:\"end\",nameGap:p,nameTextStyle:n,triggerEvent:g},!1),d||(t.name=\"\"),\"string\"==typeof f?(e=t.name,t.name=f.replace(\"{value}\",null!=e?e:\"\")):\"function\"==typeof f&&(t.name=f(t.name,t));var i=m.extend(new v(t,null,this.ecModel),y);return i.mainType=\"radar\",i.componentIndex=this.componentIndex,i},this);this.getIndicatorModels=function(){return t}},defaultOption:{zlevel:0,z:0,center:[\"50%\",\"50%\"],radius:\"75%\",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:\"polygon\",axisLine:m.merge({lineStyle:{color:\"#bbb\"}},a.axisLine),axisLabel:o(a.axisLabel,!1),axisTick:o(a.axisTick,!1),axisType:\"interval\",splitLine:o(a.splitLine,!0),splitArea:o(a.splitArea,!0),indicator:[]}});t.exports=s},function(t,e,n){n(5).__DEV__;var i=n(1),A=n(0),r=n(32),I=n(2),a=[\"axisLine\",\"axisTickLabel\",\"axisName\"],o=i.extendComponentView({type:\"radar\",render:function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),i=A.map(n,function(t){return new r(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});A.each(i,function(t){A.each(a,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){var i=t.coordinateSystem,e=i.getIndicatorAxes();if(e.length){var n=t.get(\"shape\"),r=t.getModel(\"splitLine\"),a=t.getModel(\"splitArea\"),o=r.getModel(\"lineStyle\"),s=a.getModel(\"areaStyle\"),l=r.get(\"show\"),u=a.get(\"show\"),h=o.get(\"color\"),c=s.get(\"color\"),h=A.isArray(h)?h:[h],c=A.isArray(c)?c:[c],d=[],f=[];if(\"circle\"===n)for(var p=e[0].getTicksCoords(),g=i.cx,m=i.cy,v=0;v<p.length;v++){l&&d[M(d,h,v)].push(new I.Circle({shape:{cx:g,cy:m,r:p[v].coord}})),u&&v<p.length-1&&f[M(f,c,v)].push(new I.Ring({shape:{cx:g,cy:m,r0:p[v].coord,r:p[v+1].coord}}))}else for(var y,_=A.map(e,function(t,e){var n=t.getTicksCoords();return y=null==y?n.length-1:Math.min(n.length-1,y),A.map(n,function(t){return i.coordToPoint(t.coord,e)})}),x=[],v=0;v<=y;v++){for(var b=[],w=0;w<e.length;w++)b.push(_[w][v]);b[0]&&b.push(b[0].slice()),l&&d[M(d,h,v)].push(new I.Polyline({shape:{points:b}})),u&&x&&f[M(f,c,v-1)].push(new I.Polygon({shape:{points:b.concat(x)}})),x=b.slice().reverse()}var T=o.getLineStyle(),S=s.getAreaStyle();A.each(f,function(t,e){this.group.add(I.mergePath(t,{style:A.defaults({stroke:\"none\",fill:c[e%c.length]},S),silent:!0}))},this),A.each(d,function(t,e){this.group.add(I.mergePath(t,{style:A.defaults({fill:\"none\",stroke:h[e%h.length]},T),silent:!0}))},this)}function M(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}}});t.exports=o},function(t,e,n){var i=n(14),r=n(49),s=n(0),a=n(7).encodeHTML,o=n(64),l=i.extend({type:\"series.radar\",dependencies:[\"radar\"],init:function(t){l.superApply(this,\"init\",arguments),this.legendVisualProvider=new o(s.bind(this.getData,this),s.bind(this.getRawData,this))},getInitialData:function(t,e){return r(this,{generateCoord:\"indicator_\",generateCoordCount:1/0})},formatTooltip:function(i){var r=this.getData(),t=this.coordinateSystem.getIndicatorAxes(),e=this.getData().getName(i);return a(\"\"===e?this.name:e)+\"<br/>\"+s.map(t,function(t,e){var n=r.get(r.mapDimension(t.dim),i);return a(t.name+\" : \"+n)}).join(\"<br />\")},getTooltipPosition:function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,i=e.getValues(s.map(n.dimensions,function(t){return e.mapDimension(t)}),t,!0),r=0,a=i.length;r<a;r++)if(!isNaN(i[r])){var o=n.getIndicatorAxes();return n.coordToPoint(o[r].dataToCoord(i[r]),r)}},defaultOption:{zlevel:0,z:2,coordinateSystem:\"radar\",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:\"solid\"},label:{position:\"top\"},symbol:\"emptyCircle\",symbolSize:4}});t.exports=l},function(t,e,n){var i=n(1),v=n(2),y=n(0),d=n(18);var r=i.extendChartView({type:\"radar\",render:function(l,t,e){var n=l.coordinateSystem,g=this.group,m=l.getData(),s=this._data;function u(t,e){var n=t.getItemVisual(e,\"symbol\")||\"circle\",i=t.getItemVisual(e,\"color\");if(\"none\"!==n){var r,a=(r=t.getItemVisual(e,\"symbolSize\"),y.isArray(r)||(r=[+r,+r]),r),o=d.createSymbol(n,-1,-1,2,2,i);return o.attr({style:{strokeNoScale:!0},z2:100,scale:[a[0]/2,a[1]/2]}),o}}function h(t,e,n,i,r,a){n.removeAll();for(var o=0;o<e.length-1;o++){var s=u(i,r);s&&(t[s.__dimIdx=o]?(s.attr(\"position\",t[o]),v[a?\"initProps\":\"updateProps\"](s,{position:e[o]},l,r)):s.attr(\"position\",e[o]),n.add(s))}}function c(t){return y.map(t,function(t){return[n.cx,n.cy]})}m.diff(s).add(function(t){var e,n,i,r,a,o=m.getItemLayout(t);o&&(e=new v.Polygon,n=new v.Polyline,i={shape:{points:o}},e.shape.points=c(o),n.shape.points=c(o),v.initProps(e,i,l,t),v.initProps(n,i,l,t),r=new v.Group,a=new v.Group,r.add(n),r.add(e),r.add(a),h(n.shape.points,o,a,m,t,!0),m.setItemGraphicEl(t,r))}).update(function(t,e){var n=s.getItemGraphicEl(e),i=n.childAt(0),r=n.childAt(1),a=n.childAt(2),o={shape:{points:m.getItemLayout(t)}};o.shape.points&&(h(i.shape.points,o.shape.points,a,m,t,!1),v.updateProps(i,o,l),v.updateProps(r,o,l),m.setItemGraphicEl(t,n))}).remove(function(t){g.remove(s.getItemGraphicEl(t))}).execute(),m.eachItemGraphicEl(function(t,n){var e=m.getItemModel(n),i=t.childAt(0),r=t.childAt(1),a=t.childAt(2),o=m.getItemVisual(n,\"color\");g.add(t),i.useStyle(y.defaults(e.getModel(\"lineStyle\").getLineStyle(),{fill:\"none\",stroke:o})),i.hoverStyle=e.getModel(\"emphasis.lineStyle\").getLineStyle();var s=e.getModel(\"areaStyle\"),l=e.getModel(\"emphasis.areaStyle\"),u=s.isEmpty()&&s.parentModel.isEmpty(),h=(h=l.isEmpty()&&l.parentModel.isEmpty())&&u;r.ignore=u,r.useStyle(y.defaults(s.getAreaStyle(),{fill:o,opacity:.7})),r.hoverStyle=l.getAreaStyle();var c=e.getModel(\"itemStyle\").getItemStyle([\"color\"]),d=e.getModel(\"emphasis.itemStyle\").getItemStyle(),f=e.getModel(\"label\"),p=e.getModel(\"emphasis.label\");a.eachChild(function(t){t.setStyle(c),t.hoverStyle=y.clone(d);var e=m.get(m.dimensions[t.__dimIdx],n);null!=e&&!isNaN(e)||(e=\"\"),v.setLabelStyle(t.style,t.hoverStyle,f,p,{labelFetcher:m.hostModel,labelDataIndex:n,labelDimIndex:t.__dimIdx,defaultText:e,autoColor:o,isRectText:!0})}),t.highDownOnUpdate=function(t,e){r.attr(\"ignore\",\"emphasis\"===e?h:u)},v.setHoverStyle(t)}),this._data=m},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=r},function(t,e,n){var i=n(0);function o(t){return!isNaN(t[0])&&!isNaN(t[1])}function s(t){return[t.cx,t.cy]}t.exports=function(t){t.eachSeriesByType(\"radar\",function(t){var e,n=t.getData(),r=[],a=t.coordinateSystem;a&&(e=a.getIndicatorAxes(),i.each(e,function(t,i){n.each(n.mapDimension(e[i].dim),function(t,e){r[e]=r[e]||[];var n=a.dataToPoint(t,i);r[e][i]=o(n)?n:s(a)})}),n.each(function(t){var e=i.find(r[t],o)||s(a);r[t].push(e.slice()),n.setItemLayout(t,r[t])}))})}},function(t,e,n){var r=n(0);t.exports=function(n){var i,t=n.polar;t&&(r.isArray(t)||(t=[t]),i=[],r.each(t,function(t,e){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),n.radar=n.radar||[],r.isArray(n.radar)||(n.radar=[n.radar]),n.radar.push(t)):i.push(t)}),n.polar=i),r.each(n.series,function(t){t&&\"radar\"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}},function(t,e,n){var i=n(1);n(292),n(299),n(167),n(102);var r=n(301),a=n(302),o=n(303),s=n(304),l=n(164);i.registerLayout(r),i.registerVisual(a),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,o),i.registerPreprocessor(s),l(\"map\",[{type:\"mapToggleSelect\",event:\"mapselectchanged\",method:\"toggleSelected\"},{type:\"mapSelect\",event:\"mapselected\",method:\"select\"},{type:\"mapUnSelect\",event:\"mapunselected\",method:\"unSelect\"}])},function(t,e,n){var h=n(0),c=n(49),i=n(14),r=n(7),u=r.encodeHTML,d=r.addCommas,a=n(99),f=n(37).retrieveRawAttr,p=n(82),g=n(26).makeSeriesEncodeForNameBased,o=i.extend({type:\"series.map\",dependencies:[\"geo\"],layoutMode:\"box\",needsDrawMap:!1,seriesGroup:[],getInitialData:function(t){for(var e=c(this,{coordDimensions:[\"value\"],encodeDefaulter:h.curry(g,this)}),n=e.mapDimension(\"value\"),i=h.createHashMap(),r=[],a=[],o=0,s=e.count();o<s;o++){var l=e.getName(o);i.set(l,!0),r.push({name:l,value:e.get(n,o),selected:f(e,o,\"selected\")})}var u=p.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return h.each(u.regions,function(t){var e=t.name;i.get(e)||(r.push({name:e}),a.push(e))}),this.updateSelectedMap(r),e.appendValues([],a),e},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension(\"value\"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),n=d(this.getRawValue(t)),i=e.getName(t),r=this.seriesGroup,a=[],o=0;o<r.length;o++){var s=r[o].originalData.indexOfName(i),l=e.mapDimension(\"value\");isNaN(r[o].originalData.get(l,s))||a.push(u(r[o].name))}return a.join(\", \")+\"<br />\"+u(i+\" : \"+n)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:\"geo\",map:\"\",left:\"center\",top:\"center\",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",areaColor:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{areaColor:\"rgba(255,215,0,0.8)\"}},nameProperty:\"name\"}});h.mixin(o,a),t.exports=o},function(t,e,n){var s=n(0).each,l=n(153),i=n(4).makeInner,u=n(294),h=n(295),c=n(296),d=n(297),f=i(),r={load:function(i,t,e){var n=f(t).parsed;if(n)return n;var r,a=t.specialAreas||{},o=t.geoJSON;try{r=o?l(o,e):[]}catch(t){throw new Error(\"Invalid geoJson format\\n\"+t.message)}return u(i,r),s(r,function(t){var e=t.name;h(i,t),c(i,t),d(i,t);var n=a[e];n&&t.transformTo(n.left,n.top,n.width,n.height)}),f(t).parsed={regions:r,boundingRect:function(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}(r)}}};t.exports=r},function(t,e,n){for(var i=n(0),r=n(154),a=[126,25],o=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l][0]/=10.5,o[s][l][1]/=-14,o[s][l][0]+=a[0],o[s][l][1]+=a[1];t.exports=function(t,e){\"china\"===t&&e.push(new r(\"南海诸岛\",i.map(o,function(t){return{type:\"polygon\",exterior:t}}),a))}},function(t,e){var r={\"南海诸岛\":[32,80],\"广东\":[0,-10],\"香港\":[10,5],\"澳门\":[-10,10],\"天津\":[5,5]};t.exports=function(t,e){var n,i;\"china\"!==t||(n=r[e.name])&&((i=e.center)[0]+=n[0]/10.5,i[1]+=-n[1]/14)}},function(t,e){var r={Russia:[100,60],\"United States\":[-99,38],\"United States of America\":[-99,38]};t.exports=function(t,e){var n,i;\"world\"!==t||(n=r[e.name])&&((i=e.center)[0]=n[0],i[1]=n[1])}},function(t,e){var n=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];t.exports=function(t,e){\"china\"===t&&\"台湾\"===e.name&&e.geometries.push({type:\"polygon\",exterior:n[0]})}},function(t,e,n){var i=n(146),h=i.parseSVG,c=i.makeViewBoxTransform,d=n(35),f=n(90),r=n(0),p=r.assert,l=r.createHashMap,g=n(9),u=(0,n(4).makeInner)(),a={load:function(t,e){var n=u(e).originRoot;if(n)return{root:n,boundingRect:u(e).boundingRect};var i=m(e);return u(e).originRoot=i.root,u(e).boundingRect=i.boundingRect,i},makeGraphic:function(t,e,n){var i=u(e),r=i.rootMap||(i.rootMap=l());if(s=r.get(n))return s;var a=i.originRoot,o=i.boundingRect,s=i.originRootHostKey?m(e,o).root:(i.originRootHostKey=n,a);return r.set(n,s)},removeGraphic:function(t,e,n){var i=u(e),r=i.rootMap;r&&r.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}};function m(t,e){var n,i=t.svgXML;try{o=(n=i&&h(i,{ignoreViewBox:!0,ignoreRootClip:!0})||{}).root,p(null!=o)}catch(t){throw new Error(\"Invalid svg format\\n\"+t.message)}var r,a,o,s=n.width,l=n.height,u=n.viewBoxRect;return e||(e=null==s||null==l?o.getBoundingRect():new g(0,0,0,0),null!=s&&(e.width=s),null!=l&&(e.height=l)),u&&(r=c(u,e.width,e.height),a=o,(o=new d).add(a),a.scale=r.scale,a.position=r.position),o.setClipPath(new f({shape:e.plain()})),{root:o,boundingRect:e}}t.exports=a},function(t,e,n){var i=n(1),w=n(0),T=n(2),o=n(165),S=\"__seriesMapHighDown\",M=\"__seriesMapCallKey\",r=i.extendChartView({type:\"map\",render:function(t,e,n,i){var r,a;i&&\"mapToggleSelect\"===i.type&&i.from===this.uid||((r=this.group).removeAll(),t.getHostGeoModel()||(i&&\"geoRoam\"===i.type&&\"series\"===i.componentType&&i.seriesId===t.id?(a=this._mapDraw)&&r.add(a.group):t.needsDrawMap?(a=this._mapDraw||new o(n,!0),r.add(a.group),a.draw(t,e,n,this,i),this._mapDraw=a):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),t.get(\"showLegendSymbol\")&&e.getComponent(\"legend\")&&this._renderSymbols(t,e,n)))},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(_,t,e){var x=_.originalData,b=this.group;x.each(x.mapDimension(\"value\"),function(t,e){var n,i,r,a,o,s,l,u,h,c,d,f,p,g,m,v,y;isNaN(t)||(n=x.getItemLayout(e))&&n.point&&(i=n.point,r=n.offset,a=new T.Circle({style:{fill:_.getData().getVisual(\"color\")},shape:{cx:i[0]+9*r,cy:i[1],r:3},silent:!0,z2:8+(r?0:T.Z2_EMPHASIS_LIFT+1)}),r||(o=_.mainSeries.getData(),s=x.getName(e),l=o.indexOfName(s),h=(u=x.getItemModel(e)).getModel(\"label\"),c=u.getModel(\"emphasis.label\"),d=o.getItemGraphicEl(l),f=w.retrieve2(_.getFormattedLabel(l,\"normal\"),s),p=w.retrieve2(_.getFormattedLabel(l,\"emphasis\"),f),g=d[S],m=Math.random(),g||(g=d[S]={},v=w.curry(A,!0),y=w.curry(A,!1),d.on(\"mouseover\",v).on(\"mouseout\",y).on(\"emphasis\",v).on(\"normal\",y)),d[M]=m,w.extend(g,{recordVersion:m,circle:a,labelModel:h,hoverLabelModel:c,emphasisText:p,normalText:f}),I(g,!1)),b.add(a))})}});function A(t){var e=this[S];e&&e.recordVersion===this[M]&&I(e,t)}function I(t,e){var n=t.circle,i=t.labelModel,r=t.hoverLabelModel,a=t.emphasisText,o=t.normalText;e?(n.style.extendFrom(T.setTextStyle({},r,{text:r.get(\"show\")?a:null},{isRectText:!0,useInsideStyle:!1},!0)),n.__mapOriginalZ2=n.z2,n.z2+=T.Z2_EMPHASIS_LIFT):(T.setTextStyle(n.style,i,{text:i.get(\"show\")?o:null,textPosition:i.getShallow(\"position\")||\"bottom\"},{isRectText:!0,useInsideStyle:!1}),n.dirty(!1),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null))}t.exports=r},function(t,e,n){var i=n(0),l=n(9),a=n(103),o=n(82);function r(t,e,n,i){a.call(this,t),this.map=e;var r=o.load(e,n);this._nameCoordMap=r.nameCoordMap,this._regionsMap=r.regionsMap,this._invertLongitute=null==i||i,this.regions=r.regions,this._rect=r.boundingRect}function s(t,e,n,i){var r=n.geoModel,a=n.seriesModel,o=r?r.coordinateSystem:a?a.coordinateSystem||(a.getReferringComponents(\"geo\")[0]||{}).coordinateSystem:null;return o===this?o[t](i):null}r.prototype={constructor:r,type:\"geo\",dimensions:[\"lng\",\"lat\"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),a=this._invertLongitute,r=r.clone();a&&(r.y=-r.y-r.height);var o,s=this._rawTransformable;s.transform=r.calculateTransform(new l(t,e,n,i)),s.decomposeTransform(),a&&((o=s.scale)[1]=-o[1]),s.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,e,n){if(\"string\"==typeof t&&(t=this.getGeoCoord(t)),t)return a.prototype.dataToPoint.call(this,t,e,n)},convertToPixel:i.curry(s,\"dataToPoint\"),convertFromPixel:i.curry(s,\"pointToData\")},i.mixin(r,a),t.exports=r},function(t,e,n){var a=n(0);t.exports=function(n){var r={};n.eachSeriesByType(\"map\",function(t){var l,i,e=t.getMapType();t.getHostGeoModel()||r[e]||(l={},a.each(t.seriesGroup,function(t){var o=t.coordinateSystem,s=t.originalData;t.get(\"showLegendSymbol\")&&n.getComponent(\"legend\")&&s.each(s.mapDimension(\"value\"),function(t,e){var n,i,r=s.getName(e),a=o.getRegion(r);a&&!isNaN(t)&&(n=l[r]||0,i=o.dataToPoint(a.center),l[r]=n+1,s.setItemLayout(e,{point:i,offset:n}))})}),(i=t.getData()).each(function(t){var e=i.getName(t),n=i.getItemLayout(t)||{};n.showLabel=!l[e],i.setItemLayout(t,n)}),r[e]=!0)})}},function(t,e){t.exports=function(t){t.eachSeriesByType(\"map\",function(t){var e=t.get(\"color\"),n=t.getModel(\"itemStyle\"),i=n.get(\"areaColor\"),r=n.get(\"color\")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:i,color:r})})}},function(t,e,n){var r=n(0);t.exports=function(t){var i={};t.eachSeriesByType(\"map\",function(t){var e=t.getHostGeoModel(),n=e?\"o\"+e.id:\"i\"+t.getMapType();(i[n]=i[n]||[]).push(t)}),r.each(i,function(t,e){for(var u,h,c,n=(u=r.map(t,function(t){return t.getData()}),h=t[0].get(\"mapValueCalculation\"),c={},r.each(u,function(i){i.each(i.mapDimension(\"value\"),function(t,e){var n=\"ec-\"+i.getName(e);c[n]=c[n]||[],isNaN(t)||c[n].push(t)})}),u[0].map(u[0].mapDimension(\"value\"),function(t,e){for(var n,i=\"ec-\"+u[0].getName(e),r=0,a=1/0,o=-1/0,s=c[i].length,l=0;l<s;l++)a=Math.min(a,c[i][l]),o=Math.max(o,c[i][l]),r+=c[i][l];return n=\"min\"===h?a:\"max\"===h?o:\"average\"===h?r/s:r,0===s?NaN:n})),i=0;i<t.length;i++)t[i].originalData=t[i].getData();for(i=0;i<t.length;i++)(t[i].seriesGroup=t)[i].needsDrawMap=0===i&&!t[i].getHostGeoModel(),t[i].setData(n.cloneShallow()),t[i].mainSeries=t[0]})}},function(t,e,n){var i=n(0);t.exports=function(t){var e=[];i.each(t.series,function(t){t&&\"map\"===t.type&&(e.push(t),t.map=t.map||t.mapType,i.defaults(t,t.mapLocation))})}},function(t,e,n){var i=n(1);n(306),n(307),n(308);var r=n(39),a=n(309);i.registerVisual(r(\"tree\",\"circle\")),i.registerLayout(a)},function(t,e,n){var i=n(14),s=n(104),o=n(7).encodeHTML,l=n(12),r=i.extend({type:\"series.tree\",layoutInfo:null,layoutMode:\"box\",getInitialData:function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new l(n,this,this.ecModel),r=s.createTree(e,this,{},function(t){t.wrapMethod(\"getItemModel\",function(t,e){var n=r.getNodeByDataIndex(e);return n.children.length&&n.isExpand||(t.parentModel=i),t})});var a=0;r.eachNode(\"preorder\",function(t){t.depth>a&&(a=t.depth)});var o=t.expandAndCollapse&&0<=t.initialTreeDepth?t.initialTreeDepth:a;return r.root.eachNode(\"preorder\",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=o}),r.data},getOrient:function(){var t=this.get(\"orient\");return\"horizontal\"===t?t=\"LR\":\"vertical\"===t&&(t=\"TB\"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],i=e.getNodeByDataIndex(t),r=i.getValue(),a=i.name;i&&i!==n;)a=i.parentNode.name+\".\"+a,i=i.parentNode;return o(a+(isNaN(r)||null==r?\"\":\" : \"+r))},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",left:\"12%\",top:\"12%\",right:\"12%\",bottom:\"12%\",layout:\"orthogonal\",edgeShape:\"curve\",edgeForkPosition:\"50%\",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:\"LR\",symbol:\"emptyCircle\",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:\"#ccc\",width:1.5,curveness:.5},itemStyle:{color:\"lightsteelblue\",borderColor:\"#c23531\",borderWidth:1.5},label:{show:!0,color:\"#555\"},leaves:{label:{show:!0}},animationEasing:\"linear\",animationDuration:700,animationDurationUpdate:1e3}});t.exports=r},function(t,e,n){var M=n(0),A=n(2),I=n(78),m=n(169).radialCoordinate,i=n(1),l=n(55),u=n(103),s=n(100),r=n(66),h=n(83).onIrrelevantElement,p=(n(5).__DEV__,n(3).parsePercent),C=A.extendShape({shape:{parentPoint:[],childPoints:[],orient:\"\",forkPosition:\"\"},style:{stroke:\"#000\",fill:null},buildPath:function(t,e){var n=e.childPoints,i=n.length,r=e.parentPoint,a=n[0],o=n[i-1];if(1===i)return t.moveTo(r[0],r[1]),void t.lineTo(a[0],a[1]);var s=e.orient,l=\"TB\"===s||\"BT\"===s?0:1,u=1-l,h=p(e.forkPosition,1),c=[];c[l]=r[l],c[u]=r[u]+(o[u]-r[u])*h,t.moveTo(r[0],r[1]),t.lineTo(c[0],c[1]),t.moveTo(a[0],a[1]),c[l]=a[l],t.lineTo(c[0],c[1]),c[l]=o[l],t.lineTo(c[0],c[1]),t.lineTo(o[0],o[1]);for(var d=1;d<i-1;d++){var f=n[d];t.moveTo(f[0],f[1]),c[l]=f[l],t.lineTo(c[0],c[1])}}}),a=i.extendChartView({type:\"tree\",init:function(t,e){this._oldTree,this._mainGroup=new A.Group,this._controller=new r(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(i,t,n,e){var r=i.getData(),a=i.layoutInfo,o=this._mainGroup,s=i.get(\"layout\");\"radial\"===s?o.attr(\"position\",[a.x+a.width/2,a.y+a.height/2]):o.attr(\"position\",[a.x,a.y]),this._updateViewCoordSys(i,a,s),this._updateController(i,t,n);var l=this._data,u={expandAndCollapse:i.get(\"expandAndCollapse\"),layout:s,edgeShape:i.get(\"edgeShape\"),edgeForkPosition:i.get(\"edgeForkPosition\"),orient:i.getOrient(),curvature:i.get(\"lineStyle.curveness\"),symbolRotate:i.get(\"symbolRotate\"),symbolOffset:i.get(\"symbolOffset\"),hoverAnimation:i.get(\"hoverAnimation\"),useNameLabel:!0,fadeIn:!0};r.diff(l).add(function(t){c(r,t)&&d(r,t,null,o,i,u)}).update(function(t,e){var n=l.getItemGraphicEl(e);c(r,t)?d(r,t,n,o,i,u):n&&f(l,e,n,o,i,u)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&f(l,t,e,o,i,u)}).execute(),this._nodeScaleRatio=i.get(\"nodeScaleRatio\"),this._updateNodeAndLinkScale(i),!0===u.expandAndCollapse&&r.eachItemGraphicEl(function(t,e){t.off(\"click\").on(\"click\",function(){n.dispatchAction({type:\"treeExpandAndCollapse\",seriesId:i.id,dataIndex:e})})}),this._data=r},_updateViewCoordSys:function(t){var n=t.getData(),i=[];n.each(function(t){var e=n.getItemLayout(t);!e||isNaN(e.x)||isNaN(e.y)||i.push([+e.x,+e.y])});var e=[],r=[];l.fromPoints(i,e,r);var a=this._min,o=this._max;r[0]-e[0]==0&&(e[0]=a?a[0]:e[0]-1,r[0]=o?o[0]:r[0]+1),r[1]-e[1]==0&&(e[1]=a?a[1]:e[1]-1,r[1]=o?o[1]:r[1]+1);var s=t.coordinateSystem=new u;s.zoomLimit=t.get(\"scaleLimit\"),s.setBoundingRect(e[0],e[1],r[0]-e[0],r[1]-e[1]),s.setCenter(t.get(\"center\")),s.setZoom(t.get(\"zoom\")),this.group.attr({position:s.position,scale:s.scale}),this._viewCoordSys=s,this._min=e,this._max=r},_updateController:function(r,t,a){var e=this._controller,n=this._controllerHost,o=this.group;e.setPointerChecker(function(t,e,n){var i=o.getBoundingRect();return i.applyTransform(o.transform),i.contain(e,n)&&!h(t,a,r)}),e.enable(r.get(\"roam\")),n.zoomLimit=r.get(\"scaleLimit\"),n.zoom=r.coordinateSystem.getZoom(),e.off(\"pan\").off(\"zoom\").on(\"pan\",function(t){s.updateViewOnPan(n,t.dx,t.dy),a.dispatchAction({seriesId:r.id,type:\"treeRoam\",dx:t.dx,dy:t.dy})},this).on(\"zoom\",function(t){s.updateViewOnZoom(n,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:r.id,type:\"treeRoam\",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(r)},this)},_updateNodeAndLinkScale:function(t){var e=t.getData(),n=this._getNodeGlobalScale(t),i=[n,n];e.eachItemGraphicEl(function(t,e){t.attr(\"scale\",i)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if(\"view\"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scale,r=i&&i[0]||1;return((e.getZoom()-1)*n+1)/r},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function c(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)&&\"none\"!==t.getItemVisual(e,\"symbol\")}function D(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel(\"itemStyle\").getItemStyle(),n.hoverItemStyle=e.getModel(\"emphasis.itemStyle\").getItemStyle(),n.lineStyle=e.getModel(\"lineStyle\").getLineStyle(),n.labelModel=e.getModel(\"label\"),n.hoverLabelModel=e.getModel(\"emphasis.label\"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor=\"#fff\",n}function d(t,e,n,i,r,a){var o=!n,s=t.tree.getNodeByDataIndex(e),l=s.getModel(),a=D(s,l,a),u=t.tree.root,h=s.parentNode!==u&&s.parentNode||s,c=t.getItemGraphicEl(h.dataIndex),d=h.getLayout(),f=c?{x:c.position[0],y:c.position[1],rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:d,p=s.getLayout();o?(n=new I(t,e,a)).attr(\"position\",[f.x,f.y]):n.updateData(t,e,a),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=p.rawX,n.__radialRawY=p.rawY,i.add(n),t.setItemGraphicEl(e,n),A.updateProps(n,{position:[p.x,p.y]},r);var g,m,v,y,_,x,b,w,T,S=n.getSymbolPath();\"radial\"===a.layout&&(m=(g=u.children[0]).getLayout(),v=g.children.length,p.x===m.x&&!0===s.isExpand?((x={}).x=(g.children[0].getLayout().x+g.children[v-1].getLayout().x)/2,x.y=(g.children[0].getLayout().y+g.children[v-1].getLayout().y)/2,(y=Math.atan2(x.y-m.y,x.x-m.x))<0&&(y=2*Math.PI+y),(_=x.x<m.x)&&(y-=Math.PI)):((y=Math.atan2(p.y-m.y,p.x-m.x))<0&&(y=2*Math.PI+y),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(_=p.x<m.x)&&(y-=Math.PI):(_=p.x>m.x)||(y-=Math.PI)),b=_?\"left\":\"right\",T=(w=a.labelModel.get(\"rotate\"))*(Math.PI/180),S.setStyle({textPosition:a.labelModel.get(\"position\")||b,textRotation:null==w?-y:T,textOrigin:\"center\",verticalAlign:\"middle\"})),function(t,e,n,i,r,a,o,s,l){var u=l.edgeShape,h=i.__edge;if(\"curve\"===u)e.parentNode&&e.parentNode!==n&&(h=h||(i.__edge=new A.BezierCurve({shape:E(l,r,r),style:M.defaults({opacity:0,strokeNoScale:!0},l.lineStyle)})),A.updateProps(h,{shape:E(l,a,o),style:{opacity:1}},t));else if(\"polyline\"===u&&\"orthogonal\"===l.layout&&e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var c=e.children,d=[],f=0;f<c.length;f++){var p=c[f].getLayout();d.push([p.x,p.y])}h=h||(i.__edge=new C({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:l.orient,forkPosition:l.edgeForkPosition},style:M.defaults({opacity:0,strokeNoScale:!0},l.lineStyle)})),A.updateProps(h,{shape:{parentPoint:[o.x,o.y],childPoints:d},style:{opacity:1}},t)}s.add(h)}(r,s,u,n,f,d,p,i,a)}function f(t,e,n,i,r,a){for(var o,s=t.tree.getNodeByDataIndex(e),l=t.tree.root,u=s.getModel(),a=D(s,u,a),h=s.parentNode!==l&&s.parentNode||s,c=a.edgeShape;null==(o=h.getLayout());)h=h.parentNode!==l&&h.parentNode||h;A.updateProps(n,{position:[o.x+1,o.y+1]},r,function(){i.remove(n),t.setItemGraphicEl(e,null)}),n.fadeOut(null,{keepLabel:!0});var d=t.getItemGraphicEl(h.dataIndex).__edge,f=n.__edge||(!1===h.isExpand||1===h.children.length?d:void 0),c=a.edgeShape;f&&(\"curve\"===c?A.updateProps(f,{shape:E(a,o,o),style:{opacity:0}},r,function(){i.remove(f)}):\"polyline\"===c&&\"orthogonal\"===a.layout&&A.updateProps(f,{shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]]},style:{opacity:0}},r,function(){i.remove(f)}))}function E(t,e,n){var i,r,a,o,s,l,u,h,c=t.orient;if(\"radial\"!==t.layout)return s=e.x,u=e.y,l=n.x,h=n.y,\"LR\"!==c&&\"RL\"!==c||(i=s+(l-s)*t.curvature,r=u,a=l+(s-l)*t.curvature,o=h),\"TB\"!==c&&\"BT\"!==c||(i=s,r=u+(h-u)*t.curvature,a=l,o=h+(u-h)*t.curvature),{x1:s,y1:u,x2:l,y2:h,cpx1:i,cpy1:r,cpx2:a,cpy2:o};s=e.rawX,u=e.rawY,l=n.rawX,h=n.rawY;var d=m(s,u),f=m(s,u+(h-u)*t.curvature),p=m(l,h+(u-h)*t.curvature),g=m(l,h);return{x1:d.x,y1:d.y,x2:g.x,y2:g.y,cpx1:f.x,cpy1:f.y,cpx2:p.x,cpy2:p.y}}t.exports=a},function(t,e,n){var i=n(1),r=n(101).updateCenterAndZoom;i.registerAction({type:\"treeExpandAndCollapse\",event:\"treeExpandAndCollapse\",update:\"update\"},function(i,t){t.eachComponent({mainType:\"series\",subType:\"tree\",query:i},function(t){var e=i.dataIndex,n=t.getData().tree.getNodeByDataIndex(e);n.isExpand=!n.isExpand})}),i.registerAction({type:\"treeRoam\",event:\"treeRoam\",update:\"none\"},function(i,t){t.eachComponent({mainType:\"series\",subType:\"tree\",query:i},function(t){var e=t.coordinateSystem,n=r(e,i);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)})})},function(t,e,n){var i=n(310),_=i.eachAfter,x=i.eachBefore,r=n(169),b=r.init,w=r.firstWalk,T=r.secondWalk,S=r.separation,M=r.radialCoordinate,A=r.getViewRect;t.exports=function(t,e){t.eachSeriesByType(\"tree\",function(t){!function(t,e){var n=A(t,e);t.layoutInfo=n;var i=t.get(\"layout\"),r=0,a=0,o=null;o=\"radial\"===i?(r=2*Math.PI,a=Math.min(n.height,n.width)/2,S(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(r=n.width,a=n.height,S());var s=t.getData().tree.root,l=s.children[0];{var u,h,c,d,f,p,g,m,v,y;l&&(b(s),_(l,w,o),s.hierNode.modifier=-l.hierNode.prelim,x(l,T),x(c=h=u=l,function(t){var e=t.getLayout().x;e<u.getLayout().x&&(u=t),e>h.getLayout().x&&(h=t),t.depth>c.depth&&(c=t)}),d=u===h?1:o(u,h)/2,f=d-u.getLayout().x,v=m=g=p=0,\"radial\"===i?(p=r/(h.getLayout().x+d+f),g=a/(c.depth-1||1),x(l,function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g;var e=M(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)})):\"RL\"===(y=t.getOrient())||\"LR\"===y?(g=a/(h.getLayout().x+d+f),p=r/(c.depth-1||1),x(l,function(t){v=(t.getLayout().x+f)*g,m=\"LR\"===y?(t.depth-1)*p:r-(t.depth-1)*p,t.setLayout({x:m,y:v},!0)})):\"TB\"!==y&&\"BT\"!==y||(p=r/(h.getLayout().x+d+f),g=a/(c.depth-1||1),x(l,function(t){m=(t.getLayout().x+f)*p,v=\"TB\"===y?(t.depth-1)*g:a-(t.depth-1)*g,t.setLayout({x:m,y:v},!0)})))}}(t,e)})}},function(t,e){e.eachAfter=function(t,e,n){for(var i,r=[t],a=[];i=r.pop();)if(a.push(i),i.isExpand){var o=i.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}for(;i=a.pop();)e(i,n)},e.eachBefore=function(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var a=r.length-1;0<=a;a--)i.push(r[a])}}},function(t,e,n){var i=n(1);n(312),n(313),n(316);var r=n(317),a=n(318);i.registerVisual(r),i.registerLayout(a)},function(t,e,n){var o=n(0),i=n(14),s=n(104),l=n(12),r=n(7),a=r.encodeHTML,u=r.addCommas,h=n(41).wrapTreePathInfo,c=i.extend({type:\"series.treemap\",layoutMode:\"box\",dependencies:[\"grid\",\"polar\"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:\"center\",top:\"middle\",right:null,bottom:null,width:\"80%\",height:\"80%\",sort:!0,clipWindow:\"origin\",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:\"▶\",zoomToNodeRatio:.1024,roam:!0,nodeClick:\"zoomToNode\",animation:!0,animationDurationUpdate:900,animationEasing:\"quinticInOut\",breadcrumb:{show:!0,height:22,left:\"center\",top:\"bottom\",emptyItemWidth:25,itemStyle:{color:\"rgba(0,0,0,0.7)\",borderColor:\"rgba(255,255,255,0.7)\",borderWidth:1,shadowColor:\"rgba(150,150,150,1)\",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:\"#fff\"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:\"inside\",color:\"#fff\",ellipsis:!0},upperLabel:{show:!1,position:[0,\"50%\"],height:20,color:\"#fff\",ellipsis:!0,verticalAlign:\"middle\"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:\"#fff\",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,\"50%\"],color:\"#fff\",ellipsis:!0,verticalAlign:\"middle\"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:\"index\",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n={name:t.name,children:t.data};!function n(t){var i=0;o.each(t.children,function(t){n(t);var e=t.value;o.isArray(e)&&(e=e[0]),i+=e});var e=t.value;o.isArray(e)&&(e=e[0]);null!=e&&!isNaN(e)||(e=i);e<0&&(e=0);o.isArray(t.value)?t.value[0]=e:t.value=e}(n);var i=t.levels||[],i=t.levels=function(t,e){var i,n=e.get(\"color\");if(!n)return;{t=t||[],o.each(t,function(t){var e=new l(t),n=e.get(\"color\");(e.get(\"itemStyle.color\")||n&&\"none\"!==n)&&(i=!0)}),i||((t[0]||(t[0]={})).color=n.slice())}return t}(i,e),r=o.map(i||[],function(t){return new l(t,this,e)},this),a=s.createTree(n,this,null,function(t){t.wrapMethod(\"getItemModel\",function(t,e){var n=a.getNodeByDataIndex(e),i=r[n.depth];return i&&(t.parentModel=i),t})});return a.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=o.isArray(n)?u(n[0]):u(n),r=e.getName(t);return a(r+\": \"+i)},getDataParams:function(t){var e=i.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=h(n,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},o.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=o.createHashMap(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=c},function(t,e,n){function L(t){var e=G(t);return e.stroke=e.fill=e.lineWidth=null,e}var i=n(1),P=n(0),N=n(2),f=n(38),p=n(41),r=n(314),a=n(66),l=n(9),u=n(15),o=n(315),s=n(44),h=n(7).windowOpen,c=P.bind,O=N.Group,R=N.Rect,g=P.each,k=[\"label\"],z=[\"emphasis\",\"label\"],B=[\"upperLabel\"],F=[\"emphasis\",\"upperLabel\"],V=10,G=s([[\"fill\",\"color\"],[\"stroke\",\"strokeColor\"],[\"lineWidth\",\"strokeWidth\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),d=i.extendChartView({type:\"treemap\",init:function(t,e){this._containerGroup,this._storage=m(),this._oldTree,this._breadcrumb,this._controller,this._state=\"ready\"},render:function(t,e,n,i){var r,a,o,s,l,u,h,c,d=e.findComponents({mainType:\"series\",subType:\"treemap\",query:i});P.indexOf(d,t)<0||(this.seriesModel=t,this.api=n,this.ecModel=e,r=p.retrieveTargetInfo(i,[\"treemapZoomToNode\",\"treemapRootToNode\"],t),a=i&&i.type,o=t.layoutInfo,s=!this._oldTree,l=this._storage,u=\"treemapRootToNode\"===a&&r&&l?{rootNodeGroup:l.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,h=this._giveContainerGroup(o),c=this._doRender(h,t,u),s||a&&\"treemapZoomToNode\"!==a&&\"treemapRootToNode\"!==a?c.renderFinally():this._doAnimation(h,c,t,u),this._resetController(n),this._renderBreadcrumb(t,n,r))},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new O,this._initEvents(e),this.group.add(e)),e.attr(\"position\",[t.x,t.y]),e},_doRender:function(t,e,n){var i=e.getData().tree,r=this._oldTree,a=m(),o=m(),s=this._storage,l=[],c=P.curry(v,e,o,s,n,a,l);!function a(o,s,l,u,h){u?g(s=o,function(t,e){t.isRemoved()||n(e,e)}):new f(s,o,t,t).add(n).update(n).remove(P.curry(n,null)).execute();function t(t){return t.getId()}function n(t,e){var n=null!=t?o[t]:null,i=null!=e?s[e]:null,r=c(n,i,l,h);r&&a(n&&n.viewChildren||[],i&&i.viewChildren||[],r,u,h+1)}}(i.root?[i.root]:[],r&&r.root?[r.root]:[],t,i===r||!r,0);var u,h,d=(h=m(),(u=s)&&g(u,function(t,e){var n=h[e];g(t,function(t){t&&(n.push(t),t.__tmWillDelete=1)})}),h);return this._oldTree=i,this._storage=o,{lastsForAnimation:a,willDeleteEls:d,renderFinally:function(){g(d,function(t){g(t,function(t){t.parent&&t.parent.remove(t)})}),g(l,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,a,e,s){var l,u,h;e.get(\"animation\")&&(l=e.get(\"animationDurationUpdate\"),u=e.get(\"animationEasing\"),h=o.createWrap(),g(a.willDeleteEls,function(t,o){g(t,function(t,e){var n,i,r,a;t.invisible||(n=t.parent,(a=s&&\"drillDown\"===s.direction?n===s.rootNodeGroup?{shape:{x:0,y:0,width:n.__tmNodeWidth,height:n.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}:(r=i=0,n.__tmWillDelete||(i=n.__tmNodeWidth/2,r=n.__tmNodeHeight/2),\"nodeGroup\"===o?{position:[i,r],style:{opacity:0}}:{shape:{x:i,y:r,width:0,height:0},style:{opacity:0}}))&&h.add(t,a,l,u))})}),g(this._storage,function(t,r){g(t,function(t,e){var n=a.lastsForAnimation[r][e],i={};n&&(\"nodeGroup\"===r?n.old&&(i.position=t.position.slice(),t.attr(\"position\",n.old)):(n.old&&(i.shape=P.extend({},t.shape),t.setShape(n.old)),n.fadein?(t.setStyle(\"opacity\",0),i.style={opacity:1}):1!==t.style.opacity&&(i.style={opacity:1})),h.add(t,i,l,u))})},this),this._state=\"animating\",h.done(c(function(){this._state=\"ready\",a.renderFinally()},this)).start())},_resetController:function(t){var e=this._controller;e||((e=this._controller=new a(t.getZr())).enable(this.seriesModel.get(\"roam\")),e.on(\"pan\",c(this._onPan,this)),e.on(\"zoom\",c(this._onZoom,this)));var i=new l(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,n){return i.contain(e,n)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t){if(\"animating\"!==this._state&&(3<Math.abs(t.dx)||3<Math.abs(t.dy))){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:\"treemapMove\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},_onZoom:function(t){var e=t.originX,n=t.originY;if(\"animating\"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var a=new l(r.x,r.y,r.width,r.height),o=this.seriesModel.layoutInfo;e-=o.x,n-=o.y;var s=u.create();u.translate(s,s,[-e,-n]),u.scale(s,s,[t.scale,t.scale]),u.translate(s,s,[e,n]),a.applyTransform(s),this.api.dispatchAction({type:\"treemapRender\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(t){t.on(\"click\",function(t){var e,n,i,r,a,o;\"ready\"===this._state&&(!(e=this.seriesModel.get(\"nodeClick\",!0))||(n=this.findTarget(t.offsetX,t.offsetY))&&((i=n.node).getLayout().isLeafRoot?this._rootToNode(n):\"zoomToNode\"===e?this._zoomToNode(n):\"link\"===e&&(a=(r=i.hostTree.data.getItemModel(i.dataIndex)).get(\"link\",!0),o=r.get(\"target\",!0)||\"blank\",a&&h(a,o))))},this)},_renderBreadcrumb:function(e,t,n){n=n||((n=null!=e.get(\"leafDepth\",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||{node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new r(this.group))).render(e,t,n.node,c(function(t){\"animating\"!==this._state&&(p.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=m(),this._state=\"ready\",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:\"treemapZoomToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:\"treemapRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(r,a){var o;return this.seriesModel.getViewRoot().eachNode({attr:\"viewChildren\",order:\"preorder\"},function(t){var e=this._storage.background[t.getRawIndex()];if(e){var n=e.transformCoordToLocal(r,a),i=e.shape;if(!(i.x<=n[0]&&n[0]<=i.x+i.width&&i.y<=n[1]&&n[1]<=i.y+i.height))return!1;o={node:t,offsetX:n[0],offsetY:n[1]}}},this),o}});function m(){return{nodeGroup:[],background:[],content:[]}}function v(h,u,c,d,f,e,p,t,n,i){if(p){var g=p.getLayout(),r=h.getData();if(r.setItemGraphicEl(p.dataIndex,null),g&&g.isInView){var l=g.width,m=g.height,v=g.borderWidth,y=g.invisible,_=p.getRawIndex(),x=t&&t.getRawIndex(),a=p.viewChildren,b=g.upperHeight,o=a&&a.length,w=p.getModel(\"itemStyle\"),T=p.getModel(\"emphasis.itemStyle\"),s=E(\"nodeGroup\",O);if(s){if(n.add(s),s.attr(\"position\",[g.x||0,g.y||0]),s.__tmNodeWidth=l,s.__tmNodeHeight=m,g.isAboveViewRoot)return s;var S,M=p.getModel(),A=E(\"background\",R,i,1);return A&&function(t,e,n){{var i,r,a,o,s;e.dataIndex=p.dataIndex,e.seriesIndex=h.seriesIndex,e.setShape({x:0,y:0,width:l,height:m}),y?I(e):(e.invisible=!1,i=p.getVisual(\"borderColor\",!0),r=T.get(\"borderColor\"),(a=L(w)).fill=i,(o=G(T)).fill=r,n?C(a,o,i,s=l-2*v,b,{x:v,y:0,width:s,height:b}):a.text=o.text=null,e.setStyle(a),N.setElementHoverStyle(e,o))}t.add(e)}(s,A,o&&g.upperLabelHeight),o?(N.isHighDownDispatcher(s)&&N.setAsHighDownDispatcher(s,!1),A&&(N.setAsHighDownDispatcher(A,!0),r.setItemGraphicEl(p.dataIndex,A))):((S=E(\"content\",R,i,2))&&function(t,e){e.dataIndex=p.dataIndex,e.seriesIndex=h.seriesIndex;var n=Math.max(l-2*v,0),i=Math.max(m-2*v,0);{var r,a,o;e.culling=!0,e.setShape({x:v,y:v,width:n,height:i}),y?I(e):(e.invisible=!1,r=p.getVisual(\"color\",!0),(a=L(w)).fill=r,o=G(T),C(a,o,r,n,i),e.setStyle(a),N.setElementHoverStyle(e,o))}t.add(e)}(s,S),A&&N.isHighDownDispatcher(A)&&N.setAsHighDownDispatcher(A,!1),N.setAsHighDownDispatcher(s,!0),r.setItemGraphicEl(p.dataIndex,s)),s}}}function I(t){t.invisible||e.push(t)}function C(t,e,n,i,r,a){var o=M.get(\"name\"),s=M.getModel(a?B:k),l=M.getModel(a?F:z),u=s.getShallow(\"show\");N.setLabelStyle(t,e,s,l,{defaultText:u?o:null,autoColor:n,isRectText:!0,labelFetcher:h,labelDataIndex:p.dataIndex,labelProp:a?\"upperLabel\":\"label\"}),D(t,a,g),D(e,a,g),a&&(t.textRect=P.clone(a)),t.truncate=u&&s.get(\"ellipsis\")?{outerWidth:i,outerHeight:r,minChar:2}:null}function D(t,e,n){var i,r=t.text;!e&&n.isLeafRoot&&null!=r&&(i=h.get(\"drillDownIcon\",!0),t.text=i?i+\" \"+r:r)}function E(t,e,n,i){var r,a,o,s=null!=x&&c[t][x],l=f[t];return s?(c[t][x]=null,a=s,o=t,(l[_]={}).old=\"nodeGroup\"===o?a.position.slice():P.extend({},a.shape)):y||((s=new e({z:((r=n*V+i)-1)/r})).__tmDepth=n,function(t,e){var n=t[_]={},i=p.parentNode;{var r,a,o;!i||d&&\"drillDown\"!==d.direction||(a=r=0,o=f.background[i.getRawIndex()],!d&&o&&o.old&&(r=o.old.width,a=o.old.height),n.old=\"nodeGroup\"===e?[0,a]:{x:r,y:a,width:0,height:0})}n.fadein=\"nodeGroup\"!==e}(l,s.__tmStorageName=t)),u[t][_]=s}}t.exports=d},function(t,e,n){var M=n(2),A=n(6),I=n(0),C=n(41).wrapTreePathInfo,D=5;function i(t){this.group=new M.Group,t.add(this.group)}i.prototype={constructor:i,render:function(t,e,n,i){var r,a,o,s=t.getModel(\"breadcrumb\"),l=this.group;l.removeAll(),s.get(\"show\")&&n&&(a=(r=s.getModel(\"itemStyle\")).getModel(\"textStyle\"),o={pos:{left:s.get(\"left\"),right:s.get(\"right\"),top:s.get(\"top\"),bottom:s.get(\"bottom\")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:s.get(\"emptyItemWidth\"),totalWidth:0,renderList:[]},this._prepare(n,o,a),this._renderContent(t,o,r,a,i),A.positionElement(l,o.pos,o.box))},_prepare:function(t,e,n){for(var i=t;i;i=i.parentNode){var r=i.getModel().get(\"name\"),a=n.getTextRect(r),o=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=o+8,e.renderList.push({node:i,text:r,width:o})}},_renderContent:function(t,e,n,i,r){for(var a,o,s,l,u,h,c,d,f=0,p=e.emptyItemWidth,g=t.get(\"breadcrumb.height\"),m=A.getAvailableSize(e.pos,e.box),v=e.totalWidth,y=e.renderList,_=y.length-1;0<=_;_--){var x=y[_],b=x.node,w=x.width,T=x.text;v>m.width&&(v-=w-p,w=p,T=null);var S=new M.Polygon({shape:{points:(s=f,l=0,u=w,h=g,c=_===y.length-1,d=void 0,d=[[c?s:s-D,l],[s+u,l],[s+u,l+h],[c?s:s-D,l+h]],0===_||d.splice(2,0,[s+u+D,l+h/2]),c||d.push([s,l+h/2]),d)},style:I.defaults(n.getItemStyle(),{lineJoin:\"bevel\",text:T,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:I.curry(r,b)});this.group.add(S),a=t,o=b,S.eventData={componentType:\"series\",componentSubType:\"treemap\",componentIndex:a.componentIndex,seriesIndex:a.componentIndex,seriesName:a.name,seriesType:\"treemap\",selfType:\"breadcrumb\",nodeData:{dataIndex:o&&o.dataIndex,name:o&&o.name},treePathInfo:o&&C(o,a)},f+=w+8}},remove:function(){this.group.removeAll()}},t.exports=i},function(t,e,n){var l=n(0);e.createWrap=function(){var a,o=[],s={};return{add:function(t,e,n,i,r){return l.isString(i)&&(r=i,i=0),!s[t.id]&&(s[t.id]=1,o.push({el:t,target:e,time:n,delay:i,easing:r}),!0)},done:function(t){return a=t,this},start:function(){for(var t=o.length,e=0,n=o.length;e<n;e++){var i=o[e];i.el.animateTo(i.target,i.time,i.delay,i.easing,r)}return this;function r(){--t||(o.length=0,s={},a&&a())}}}}},function(t,e,n){function i(){}for(var r=n(1),a=n(41),o=[\"treemapZoomToNode\",\"treemapRender\",\"treemapMove\"],s=0;s<o.length;s++)r.registerAction({type:o[s],update:\"updateView\"},i);r.registerAction({type:\"treemapRootToNode\",update:\"updateView\"},function(r,t){t.eachComponent({mainType:\"series\",subType:\"treemap\",query:r},function(t,e){var n=a.retrieveTargetInfo(r,[\"treemapZoomToNode\",\"treemapRootToNode\"],t);{var i;n&&((i=t.getViewRoot())&&(r.direction=a.aboveViewRoot(i,n.node)?\"rollUp\":\"drillDown\"),t.resetViewRoot(n.node))}})})},function(t,e,n){var f=n(42),_=n(22),x=n(0),i=x.isArray,b=\"itemStyle\",r={seriesType:\"treemap\",reset:function(t,e,n,i){var r=t.getData().tree,a=r.root,o=t.getModel(b);a.isRemoved()||!function i(t,e,r,a,o,s){var l=t.getModel();var n=t.getLayout();if(!n||n.invisible||!n.isInView)return;var u=t.getModel(b);var h=r[t.depth];var c=w(u,e,h,a);var d=u.get(\"borderColor\");var f=u.get(\"borderColorSaturation\");var p;null!=f&&(p=T(c),g=f,d=null!=(m=p)?_.modifyHSL(m,null,null,g):null);var g,m;t.setVisual(\"borderColor\",d);var v=t.viewChildren;{var y;v&&v.length?(y=S(0,l,n,0,c,v),x.each(v,function(t,e){var n;(t.depth>=o.length||t===o[t.depth])&&(n=M(l,c,t,e,y,s),i(t,n,r,a,o,s))})):(p=T(c),t.setVisual(\"color\",p))}}(a,{},x.map(r.levelModels,function(t){return t?t.get(b):null}),o,t.getViewRoot().getAncestors(),t)}};function w(n,i,r,a){var o=x.extend({},i);return x.each([\"color\",\"colorAlpha\",\"colorSaturation\"],function(t){var e=n.get(t,!0);null==e&&r&&(e=r[t]),null==e&&(e=i[t]),null==e&&(e=a.get(t)),null!=e&&(o[t]=e)}),o}function T(t){var e=a(t,\"color\");if(e){var n=a(t,\"colorAlpha\"),i=a(t,\"colorSaturation\");return i&&(e=_.modifyHSL(e,null,null,i)),n&&(e=_.modifyAlpha(e,n)),e}}function a(t,e){var n=t[e];if(null!=n&&\"none\"!==n)return n}function S(t,e,n,i,r,a){if(a&&a.length){var o=p(e,\"color\")||null!=r.color&&\"none\"!==r.color&&(p(e,\"colorAlpha\")||p(e,\"colorSaturation\"));if(o){var s=e.get(\"visualMin\"),l=e.get(\"visualMax\"),u=n.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=l&&l>u[1]&&(u[1]=l);var h=e.get(\"colorMappingBy\"),c={type:o.name,dataExtent:u,visual:o.range};\"color\"!==c.type||\"index\"!==h&&\"id\"!==h?c.mappingMethod=\"linear\":(c.mappingMethod=\"category\",c.loop=!0);var d=new f(c);return d.__drColorMappingBy=h,d}}}function p(t,e){var n=t.get(e);return i(n)&&n.length?{name:e,range:n}:null}function M(t,e,n,i,r,a){var o,s,l,u=x.extend({},e);return r&&(l=\"index\"===(s=\"color\"===(o=r.type)&&r.__drColorMappingBy)?i:\"id\"===s?a.mapIdToIndex(n.getId()):n.getValue(t.get(\"visualDimension\")),u[o]=r.mapValueToVisual(l)),u}t.exports=r},function(t,e,n){var b=n(0),w=n(9),i=n(3),T=i.parsePercent,S=i.MAX_SAFE_INTEGER,M=n(6),A=n(41),I=Math.max,C=Math.min,D=b.retrieve,E=b.each,L=[\"itemStyle\",\"borderWidth\"],P=[\"itemStyle\",\"gapWidth\"],r=[\"upperLabel\",\"show\"],a=[\"upperLabel\",\"height\"],o={seriesType:\"treemap\",reset:function(t,e,n,i){var r,a,o,s,l=n.getWidth(),u=n.getHeight(),h=t.option,c=M.getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),d=h.size||[],f=T(D(c.width,d[0]),l),p=T(D(c.height,d[1]),u),g=i&&i.type,m=A.retrieveTargetInfo(i,[\"treemapZoomToNode\",\"treemapRootToNode\"],t),v=\"treemapRender\"===g||\"treemapMove\"===g?i.rootRect:null,y=t.getViewRoot(),_=A.getPathToRoot(y);\"treemapMove\"!==g&&(r=\"treemapZoomToNode\"===g?function(t,e,n,i,r){var a,o=(e||{}).node,s=[i,r];if(!o||o===n)return s;var l=i*r,u=l*t.option.zoomToNodeRatio;for(;a=o.parentNode;){for(var h=0,c=a.children,d=0,f=c.length;d<f;d++)h+=c[d].getValue();var p=o.getValue();if(0===p)return s;u*=h/p;var g=a.getModel(),m=g.get(L),v=Math.max(m,k(g));u+=4*m*m+(3*m+v)*Math.pow(u,.5),S<u&&(u=S),o=a}u<l&&(u=l);var y=Math.pow(u/l,.5);return[i*y,r*y]}(t,m,y,f,p):v?[v.width,v.height]:[f,p],(a=h.sort)&&\"asc\"!==a&&\"desc\"!==a&&(a=\"desc\"),o={squareRatio:h.squareRatio,sort:a,leafDepth:h.leafDepth},y.hostTree.clearLayouts(),s={x:0,y:0,width:r[0],height:r[1],area:r[0]*r[1]},y.setLayout(s),function t(e,n,i,r){var a;var o;if(e.isRemoved())return;var s=e.getLayout();a=s.width;o=s.height;var l=e.getModel();var u=l.get(L);var h=l.get(P)/2;var c=k(l);var d=Math.max(u,c);var f=u-h;var p=d-h;var l=e.getModel();e.setLayout({borderWidth:u,upperHeight:d,upperLabelHeight:c},!0);a=I(a-2*f,0);o=I(o-f-p,0);var g=a*o;var m=N(e,l,g,n,i,r);if(!m.length)return;var v={x:f,y:p,width:a,height:o};var y=C(a,o);var _=1/0;var x=[];x.area=0;for(var b=0,w=m.length;b<w;){var T=m[b];x.push(T),x.area+=T.getLayout().area;var S=O(x,y,n.squareRatio);_=S<=_?(b++,S):(x.area-=x.pop().getLayout().area,R(x,y,v,h,!1),y=C(v.width,v.height),x.length=x.area=0,1/0)}x.length&&R(x,y,v,h,!0);{var M;i||null!=(M=l.get(\"childrenVisibleMin\"))&&g<M&&(i=!0)}for(var b=0,w=m.length;b<w;b++)t(m[b],n,i,r+1)}(y,o,!1,0),s=y.getLayout(),E(_,function(t,e){var n=(_[e+1]||y).getValue();t.setLayout(b.extend({dataExtent:[n,n],borderWidth:0,upperHeight:0},s))}));var x=t.getData().tree.root;x.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,a=r.getLayout();if(!a)return i;var o=[a.width/2,a.height/2],s=r;for(;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}(c,v,m),!0),t.setLayoutInfo(c),function e(t,n,i,r,a){var o=t.getLayout();var s=i[a];var l=s&&s===t;if(s&&!l||a===i.length&&t!==r)return;t.setLayout({isInView:!0,invisible:!l&&!n.intersect(o),isAboveViewRoot:l},!0);var u=new w(n.x-o.x,n.y-o.y,n.width,n.height);E(t.viewChildren||[],function(t){e(t,u,i,r,a+1)})}(x,new w(-c.x,-c.y,l,u),_,y,0)}};function N(t,e,n,i,r,a){var o=t.children||[],s=i.sort;\"asc\"!==s&&\"desc\"!==s&&(s=null);var l,u,h=null!=i.leafDepth&&i.leafDepth<=a;if(r&&!h)return t.viewChildren=[];o=b.filter(o,function(t){return!t.isRemoved()}),l=o,(u=s)&&l.sort(function(t,e){var n=\"asc\"===u?t.getValue()-e.getValue():e.getValue()-t.getValue();return 0==n?\"asc\"===u?t.dataIndex-e.dataIndex:e.dataIndex-t.dataIndex:n});var c=function(t,e,n){for(var i=0,r=0,a=e.length;r<a;r++)i+=e[r].getValue();var o=t.get(\"visualDimension\");{var s;e&&e.length?\"value\"===o&&n?(s=[e[e.length-1].getValue(),e[0].getValue()],\"asc\"===n&&s.reverse()):(s=[1/0,-1/0],E(e,function(t){var e=t.getValue(o);e<s[0]&&(s[0]=e),e>s[1]&&(s[1]=e)})):s=[NaN,NaN]}return{sum:i,dataExtent:s}}(e,o,s);if(0===c.sum)return t.viewChildren=[];if(c.sum=function(t,e,n,i,r){if(!i)return n;for(var a=t.get(\"visibleMin\"),o=r.length,s=o,l=o-1;0<=l;l--){var u=r[\"asc\"===i?o-l-1:l].getValue();u/n*e<a&&(s=l,n-=u)}return\"asc\"===i?r.splice(0,o-s):r.splice(s,o-s),n}(e,n,c.sum,s,o),0===c.sum)return t.viewChildren=[];for(var d=0,f=o.length;d<f;d++){var p=o[d].getValue()/c.sum*n;o[d].setLayout({area:p})}return h&&(o.length&&t.setLayout({isLeafRoot:!0},!0),o.length=0),t.viewChildren=o,t.setLayout({dataExtent:c.dataExtent},!0),o}function O(t,e,n){for(var i,r=0,a=1/0,o=0,s=t.length;o<s;o++)(i=t[o].getLayout().area)&&(i<a&&(a=i),r<i&&(r=i));var l=t.area*t.area,u=e*e*n;return l?I(u*r/l,l/(u*a)):1/0}function R(t,e,n,i,r){var a=e===n.width?0:1,o=1-a,s=[\"x\",\"y\"],l=[\"width\",\"height\"],u=n[s[a]],h=e?t.area/e:0;(r||h>n[l[o]])&&(h=n[l[o]]);for(var c=0,d=t.length;c<d;c++){var f=t[c],p={},g=h?f.getLayout().area/h:0,m=p[l[o]]=I(h-2*i,0),v=n[s[a]]+n[l[a]]-u,y=c===d-1||v<g?v:g,_=p[l[a]]=I(y-2*i,0);p[s[o]]=n[s[o]]+C(i,m/2),p[s[a]]=u+C(i,_/2),u+=y,f.setLayout(p,!0)}n[s[o]]+=h,n[l[o]]-=h}function k(t){return t.get(r)?t.get(a):0}t.exports=o},function(t,e,n){var i=n(1);n(320),n(322),n(325);var r=n(326),a=n(39),o=n(327),s=n(328),l=n(329),u=n(330),h=n(331),c=n(333);i.registerProcessor(r),i.registerVisual(a(\"graph\",\"circle\",null)),i.registerVisual(o),i.registerVisual(s),i.registerLayout(l),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,u),i.registerLayout(h),i.registerCoordinateSystem(\"graphView\",{create:c})},function(t,e,n){var i=n(1),r=n(17),a=n(0),o=n(4).defaultEmphasis,u=n(12),h=n(7).encodeHTML,c=n(170),s=n(64),d=i.extendSeriesModel({type:\"series.graph\",init:function(t){d.superApply(this,\"init\",arguments);var e=this;function n(){return e._categoriesData}this.legendVisualProvider=new s(n,n),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){d.superApply(this,\"mergeOption\",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){d.superApply(this,\"mergeDefaultAndTheme\",arguments),o(t,[\"edgeLabel\"],[\"show\"])},getInitialData:function(t,s){var e=t.edges||t.links||[],n=t.data||t.nodes||[],l=this;if(n&&e)return c(n,e,this,!0,function(t,e){t.wrapMethod(\"getItemModel\",function(t){var e=l._categoriesModels[t.getShallow(\"category\")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var n=l.getModel(\"edgeLabel\"),i=new u({label:n.option},n.parentModel,s),r=l.getModel(\"emphasis.edgeLabel\"),a=new u({emphasis:{label:r.option}},r.parentModel,s);function o(t){return(t=this.parsePath(t))&&\"label\"===t[0]?i:t&&\"emphasis\"===t[0]&&\"label\"===t[1]?a:this.parentModel}e.wrapMethod(\"getItemModel\",function(t){return t.customizeGetParent(o),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if(\"edge\"!==n)return d.superApply(this,\"formatTooltip\",arguments);var i=this.getData(),r=this.getDataParams(t,n),a=i.graph.getEdgeByIndex(t),o=i.getName(a.node1.dataIndex),s=i.getName(a.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),l=h(l.join(\" > \")),r.value&&(l+=\" : \"+h(r.value)),l},_updateCategoriesData:function(){var t=a.map(this.option.categories||[],function(t){return null!=t.value?t:a.extend({value:0},t)}),e=new r([\"value\"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return d.superCall(this,\"isAnimationEnabled\")&&!(\"force\"===this.get(\"layout\")&&this.get(\"force.layoutAnimation\"))},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:\"center\",top:\"center\",symbol:\"circle\",symbolSize:10,edgeSymbol:[\"none\",\"none\"],edgeSymbolSize:10,edgeLabel:{position:\"middle\",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:\"{b}\"},itemStyle:{},lineStyle:{color:\"#aaa\",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}});t.exports=d},function(t,e,n){n(5).__DEV__;var i=n(0),r=n(25).enableClassCheck;function c(t){return\"_EC_\"+t}function a(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData}var o=a.prototype;function d(t,e){this.id=null==t?\"\":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function s(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}o.type=\"graph\",o.isDirected=function(){return this._directed},o.addNode=function(t,e){t=null==t?\"\"+e:\"\"+t;var n=this._nodesMap;if(!n[c(t)]){var i=new d(t,e);return(i.hostGraph=this).nodes.push(i),n[c(t)]=i}},o.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},o.getNodeById=function(t){return this._nodesMap[c(t)]},o.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if(\"number\"==typeof t&&(t=this.nodes[t]),\"number\"==typeof e&&(e=this.nodes[e]),d.isInstance(t)||(t=i[c(t)]),d.isInstance(e)||(e=i[c(e)]),t&&e){var a=t.id+\"-\"+e.id;if(!r[a]){var o=new s(t,e,n);return(o.hostGraph=this)._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),r[a]=o}}},o.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},o.getEdge=function(t,e){d.isInstance(t)&&(t=t.id),d.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+\"-\"+e]:n[t+\"-\"+e]||n[e+\"-\"+t]},o.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)0<=n[r].dataIndex&&t.call(e,n[r],r)},o.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)0<=n[r].dataIndex&&0<=n[r].node1.dataIndex&&0<=n[r].node2.dataIndex&&t.call(e,n[r],r)},o.breadthFirstTraverse=function(t,e,n,i){if(d.isInstance(e)||(e=this._nodesMap[c(e)]),e){for(var r=\"out\"===n?\"outEdges\":\"in\"===n?\"inEdges\":\"edges\",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,e,null))for(var o=[e];o.length;)for(var s=o.shift(),l=s[r],a=0;a<l.length;a++){var u=l[a],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(i,h,s))return;o.push(h),h.__visited=!0}}}},o.update=function(){for(var t=this.data,n=this.edgeData,e=this.nodes,i=this.edges,r=0,a=e.length;r<a;r++)e[r].dataIndex=-1;for(r=0,a=t.count();r<a;r++)e[t.getRawIndex(r)].dataIndex=r;n.filterSelf(function(t){var e=i[n.getRawIndex(t)];return 0<=e.node1.dataIndex&&0<=e.node2.dataIndex});for(r=0,a=i.length;r<a;r++)i[r].dataIndex=-1;for(r=0,a=n.count();r<a;r++)i[n.getRawIndex(r)].dataIndex=r},o.clone=function(){for(var t=new a(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<n.length;i++){var r=n[i];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},d.prototype={constructor:d,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},s.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};function l(n,i){return{getValue:function(t){var e=this[n][i];return e.get(e.getDimension(t||\"value\"),this.dataIndex)},setVisual:function(t,e){0<=this.dataIndex&&this[n][i].setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this[n][i].getItemVisual(this.dataIndex,t,e)},setLayout:function(t,e){0<=this.dataIndex&&this[n][i].setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this[n][i].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][i].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][i].getRawIndex(this.dataIndex)}}}i.mixin(d,l(\"hostGraph\",\"data\")),i.mixin(s,l(\"hostGraph\",\"edgeData\")),a.Node=d,a.Edge=s,r(d),r(s),t.exports=a},function(t,e,n){var i=n(1),u=n(0),a=n(60),o=n(105),s=n(66),l=n(100),h=n(83).onIrrelevantElement,m=n(2),v=n(324),y=n(107).getNodeGlobalScale,_=\"__focusNodeAdjacency\",x=\"__unfocusNodeAdjacency\",c=[\"itemStyle\",\"opacity\"],d=[\"lineStyle\",\"opacity\"];function f(t,e){var n=t.getVisual(\"opacity\");return null!=n?n:t.getModel().get(e)}function p(t,e,n){var i=t.getGraphicEl(),r=f(t,e);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse(function(t){var e;t.isGroup||(null!=(e=t.lineLabelOriginalOpacity)&&null==n||(e=r),t.setStyle(\"opacity\",e))})}function g(t,e){var n=f(t,e),i=t.getGraphicEl();i.traverse(function(t){t.isGroup||t.setStyle(\"opacity\",n)}),i.highlight&&i.highlight()}var r=i.extendChartView({type:\"graph\",init:function(t,e){var n=new a,i=new o,r=this.group;this._controller=new s(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(r,t,a){var o=this,e=r.coordinateSystem;this._model=r;var n,i=this._symbolDraw,s=this._lineDraw,l=this.group;\"view\"===e.type&&(n={position:e.position,scale:e.scale},this._firstRender?l.attr(n):m.updateProps(l,n,r)),v(r.getGraph(),y(r));var u=r.getData();i.updateData(u);var h=r.getEdgeData();s.updateData(h),this._updateNodeAndLinkScale(),this._updateController(r,t,a),clearTimeout(this._layoutTimeout);var c=r.forceLayout,d=r.get(\"force.layoutAnimation\");c&&this._startForceLayoutIteration(c,d),u.eachItemGraphicEl(function(t,e){var n=u.getItemModel(e);t.off(\"drag\").off(\"dragend\");var i=n.get(\"draggable\");i&&t.on(\"drag\",function(){c&&(c.warmUp(),this._layouting||this._startForceLayoutIteration(c,d),c.setFixed(e),u.setItemLayout(e,t.position))},this).on(\"dragend\",function(){c&&c.setUnfixed(e)},this),t.setDraggable(i&&c),t[_]&&t.off(\"mouseover\",t[_]),t[x]&&t.off(\"mouseout\",t[x]),n.get(\"focusNodeAdjacency\")&&(t.on(\"mouseover\",t[_]=function(){o._clearTimer(),a.dispatchAction({type:\"focusNodeAdjacency\",seriesId:r.id,dataIndex:t.dataIndex})}),t.on(\"mouseout\",t[x]=function(){o._dispatchUnfocus(a)}))},this),u.graph.eachEdge(function(t){var e=t.getGraphicEl();e[_]&&e.off(\"mouseover\",e[_]),e[x]&&e.off(\"mouseout\",e[x]),t.getModel().get(\"focusNodeAdjacency\")&&(e.on(\"mouseover\",e[_]=function(){o._clearTimer(),a.dispatchAction({type:\"focusNodeAdjacency\",seriesId:r.id,edgeDataIndex:t.dataIndex})}),e.on(\"mouseout\",e[x]=function(){o._dispatchUnfocus(a)}))});var f=\"circular\"===r.get(\"layout\")&&r.get(\"circular.rotateLabel\"),p=u.getLayout(\"cx\"),g=u.getLayout(\"cy\");u.eachItemGraphicEl(function(t,e){var n,i,r,a,o=u.getItemModel(e).get(\"label.rotate\")||0,s=t.getSymbolPath();f?(n=u.getItemLayout(e),(i=Math.atan2(n[1]-g,n[0]-p))<0&&(i=2*Math.PI+i),(r=n[0]<p)&&(i-=Math.PI),a=r?\"left\":\"right\",m.modifyLabelStyle(s,{textRotation:-i,textPosition:a,textOrigin:\"center\"},{textPosition:a})):m.modifyLabelStyle(s,{textRotation:o*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(t,e){var n=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){n._unfocusDelayTimer=null,t.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:n._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(t,e,n,i){var r=t.getData().graph,a=i.dataIndex,o=i.edgeDataIndex,s=r.getNodeByIndex(a),l=r.getEdgeByIndex(o);(s||l)&&(r.eachNode(function(t){p(t,c,.1)}),r.eachEdge(function(t){p(t,d,.1)}),s&&(g(s,c),u.each(s.edges,function(t){t.dataIndex<0||(g(t,d),g(t.node1,c),g(t.node2,c))})),l&&(g(l,d),g(l.node1,c),g(l.node2,c)))},unfocusNodeAdjacency:function(t,e,n,i){var r=t.getData().graph;r.eachNode(function(t){p(t,c)}),r.eachEdge(function(t){p(t,d)})},_startForceLayoutIteration:function(t,n){var i=this;!function e(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(n?i._layoutTimeout=setTimeout(e,16):e())})}()},_updateController:function(r,t,a){var e=this._controller,n=this._controllerHost,o=this.group;e.setPointerChecker(function(t,e,n){var i=o.getBoundingRect();return i.applyTransform(o.transform),i.contain(e,n)&&!h(t,a,r)}),\"view\"===r.coordinateSystem.type?(e.enable(r.get(\"roam\")),n.zoomLimit=r.get(\"scaleLimit\"),n.zoom=r.coordinateSystem.getZoom(),e.off(\"pan\").off(\"zoom\").on(\"pan\",function(t){l.updateViewOnPan(n,t.dx,t.dy),a.dispatchAction({seriesId:r.id,type:\"graphRoam\",dx:t.dx,dy:t.dy})}).on(\"zoom\",function(t){l.updateViewOnZoom(n,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:r.id,type:\"graphRoam\",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),v(r.getGraph(),y(r)),this._lineDraw.updateLayout()},this)):e.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),n=y(t),i=[n,n];e.eachItemGraphicEl(function(t,e){t.attr(\"scale\",i)})},updateLayout:function(t){v(t.getGraph(),y(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});t.exports=r},function(t,e,n){var i=n(2),r=n(8),a=i.Line.prototype,o=i.BezierCurve.prototype;function s(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var l=i.extendShape({type:\"ec-line\",style:{stroke:\"#000\",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){this[s(e)?\"_buildPathLine\":\"_buildPathCurve\"](t,e)},_buildPathLine:a.buildPath,_buildPathCurve:o.buildPath,pointAt:function(t){return this[s(this.shape)?\"_pointAtLine\":\"_pointAtCurve\"](t)},_pointAtLine:a.pointAt,_pointAtCurve:o.pointAt,tangentAt:function(t){var e=this.shape,n=s(e)?[e.x2-e.x1,e.y2-e.y1]:this._tangentAtCurve(t);return r.normalize(n,n)},_tangentAtCurve:o.tangentAt});t.exports=l},function(t,e,n){var i=n(28),p=n(8),g=n(107).getSymbolSize,m=[],v=[],y=[],_=i.quadraticAt,x=p.distSquare,b=Math.abs;function w(t,e,n){for(var i,r=t[0],a=t[1],o=t[2],s=1/0,l=n*n,u=.1,h=.1;h<=.9;h+=.1){m[0]=_(r[0],a[0],o[0],h),m[1]=_(r[1],a[1],o[1],h),(f=b(x(m,e)-l))<s&&(s=f,i=h)}for(var c=0;c<32;c++){var d=i+u;v[0]=_(r[0],a[0],o[0],i),v[1]=_(r[1],a[1],o[1],i),y[0]=_(r[0],a[0],o[0],d),y[1]=_(r[1],a[1],o[1],d);var f=x(v,e)-l;if(b(f)<.01)break;var p=x(y,e)-l;u/=2,f<0?0<=p?i+=u:i-=u:0<=p?i-=u:i+=u}return i}t.exports=function(t,l){var u=[],h=i.quadraticSubdivide,c=[[],[],[]],d=[[],[]],f=[];l/=2,t.eachEdge(function(t,e){var n=t.getLayout(),i=t.getVisual(\"fromSymbol\"),r=t.getVisual(\"toSymbol\");n.__original||(n.__original=[p.clone(n[0]),p.clone(n[1])],n[2]&&n.__original.push(p.clone(n[2])));var a,o,s=n.__original;null!=n[2]?(p.copy(c[0],s[0]),p.copy(c[1],s[2]),p.copy(c[2],s[1]),i&&\"none\"!==i&&(o=g(t.node1),a=w(c,s[0],o*l),h(c[0][0],c[1][0],c[2][0],a,u),c[0][0]=u[3],c[1][0]=u[4],h(c[0][1],c[1][1],c[2][1],a,u),c[0][1]=u[3],c[1][1]=u[4]),r&&\"none\"!==r&&(o=g(t.node2),a=w(c,s[1],o*l),h(c[0][0],c[1][0],c[2][0],a,u),c[1][0]=u[1],c[2][0]=u[2],h(c[0][1],c[1][1],c[2][1],a,u),c[1][1]=u[1],c[2][1]=u[2]),p.copy(n[0],c[0]),p.copy(n[1],c[2]),p.copy(n[2],c[1])):(p.copy(d[0],s[0]),p.copy(d[1],s[1]),p.sub(f,d[1],d[0]),p.normalize(f,f),i&&\"none\"!==i&&(o=g(t.node1),p.scaleAndAdd(d[0],d[0],f,o*l)),r&&\"none\"!==r&&(o=g(t.node2),p.scaleAndAdd(d[1],d[1],f,-o*l)),p.copy(n[0],d[0]),p.copy(n[1],d[1]))})}},function(t,e,n){var i=n(1),r=n(101).updateCenterAndZoom;n(171);i.registerAction({type:\"graphRoam\",event:\"graphRoam\",update:\"none\"},function(i,t){t.eachComponent({mainType:\"series\",query:i},function(t){var e=t.coordinateSystem,n=r(e,i);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)})})},function(t,e){t.exports=function(t){var a=t.findComponents({mainType:\"legend\"});a&&a.length&&t.eachSeriesByType(\"graph\",function(t){var e=t.getCategoriesData(),i=t.getGraph().data,r=e.mapArray(e.getName);i.filterSelf(function(t){var e=i.getItemModel(t).getShallow(\"category\");if(null!=e){\"number\"==typeof e&&(e=r[e]);for(var n=0;n<a.length;n++)if(!a[n].isSelected(e))return!1}return!0})},this)}},function(t,e){t.exports=function(t){var h={};t.eachSeriesByType(\"graph\",function(s){var l=s.getCategoriesData(),r=s.getData(),u={};l.each(function(t){var e=l.getName(t);u[\"ec-\"+e]=t;var n=l.getItemModel(t),i=n.get(\"itemStyle.color\")||s.getColorFromPalette(e,h);l.setItemVisual(t,\"color\",i);for(var r=[\"opacity\",\"symbol\",\"symbolSize\",\"symbolKeepAspect\"],a=0;a<r.length;a++){var o=n.getShallow(r[a],!0);null!=o&&l.setItemVisual(t,r[a],o)}}),l.count()&&r.each(function(t){var e=r.getItemModel(t).getShallow(\"category\");if(null!=e){\"string\"==typeof e&&(e=u[\"ec-\"+e]);for(var n=[\"color\",\"opacity\",\"symbol\",\"symbolSize\",\"symbolKeepAspect\"],i=0;i<n.length;i++)null==r.getItemVisual(t,n[i],!0)&&r.setItemVisual(t,n[i],l.getItemVisual(e,n[i]))}})})}},function(t,e){function c(t){return t instanceof Array||(t=[t,t]),t}t.exports=function(t){t.eachSeriesByType(\"graph\",function(t){var s=t.getGraph(),l=t.getEdgeData(),e=c(t.get(\"edgeSymbol\")),n=c(t.get(\"edgeSymbolSize\")),u=\"lineStyle.color\".split(\".\"),h=\"lineStyle.opacity\".split(\".\");l.setVisual(\"fromSymbol\",e&&e[0]),l.setVisual(\"toSymbol\",e&&e[1]),l.setVisual(\"fromSymbolSize\",n&&n[0]),l.setVisual(\"toSymbolSize\",n&&n[1]),l.setVisual(\"color\",t.get(u)),l.setVisual(\"opacity\",t.get(h)),l.each(function(t){var e=l.getItemModel(t),n=s.getEdgeByIndex(t),i=c(e.getShallow(\"symbol\",!0)),r=c(e.getShallow(\"symbolSize\",!0)),a=e.get(u),o=e.get(h);switch(a){case\"source\":a=n.node1.getVisual(\"color\");break;case\"target\":a=n.node2.getVisual(\"color\")}i[0]&&n.setVisual(\"fromSymbol\",i[0]),i[1]&&n.setVisual(\"toSymbol\",i[1]),r[0]&&n.setVisual(\"fromSymbolSize\",r[0]),r[1]&&n.setVisual(\"toSymbolSize\",r[1]),n.setVisual(\"color\",a),n.setVisual(\"opacity\",o)})})}},function(t,e,n){var h=n(0).each,i=n(172),c=i.simpleLayout,d=i.simpleLayoutEdge;t.exports=function(t,e){t.eachSeriesByType(\"graph\",function(t){var e=t.get(\"layout\"),n=t.coordinateSystem;if(n&&\"view\"!==n.type){var i=t.getData(),r=[];h(n.dimensions,function(t){r=r.concat(i.mapDimension(t,!0))});for(var a=0;a<i.count();a++){for(var o=[],s=!1,l=0;l<r.length;l++){var u=i.get(r[l],a);isNaN(u)||(s=!0),o.push(u)}s?i.setItemLayout(a,n.dataToPoint(o)):i.setItemLayout(a,[NaN,NaN])}d(i.graph)}else e&&\"none\"!==e||c(t)})}},function(t,e,n){var i=n(173).circularLayout;t.exports=function(t){t.eachSeriesByType(\"graph\",function(t){\"circular\"===t.get(\"layout\")&&i(t,\"symbolSize\")})}},function(t,e,n){var v=n(332).forceLayout,y=n(172).simpleLayout,_=n(173).circularLayout,x=n(3).linearMap,b=n(8),w=n(0);t.exports=function(t){t.eachSeriesByType(\"graph\",function(t){var c,d,f,e,n,i,r,a,o,s,l,u,h,p,g,m=t.coordinateSystem;m&&\"view\"!==m.type||(\"force\"===t.get(\"layout\")?(c=t.preservedPoints||{},d=t.getGraph(),f=d.data,e=d.edgeData,i=(n=t.getModel(\"force\")).get(\"initLayout\"),t.preservedPoints?f.each(function(t){var e=f.getId(t);f.setItemLayout(t,c[e]||[NaN,NaN])}):i&&\"none\"!==i?\"circular\"===i&&_(t,\"value\"):y(t),r=f.getDataExtent(\"value\"),a=e.getDataExtent(\"value\"),o=n.get(\"repulsion\"),s=n.get(\"edgeLength\"),w.isArray(o)||(o=[o,o]),w.isArray(s)||(s=[s,s]),s=[s[1],s[0]],l=f.mapArray(\"value\",function(t,e){var n=f.getItemLayout(e),i=x(t,r,o);return isNaN(i)&&(i=(o[0]+o[1])/2),{w:i,rep:i,fixed:f.getItemModel(e).get(\"fixed\"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),u=e.mapArray(\"value\",function(t,e){var n=d.getEdgeByIndex(e),i=x(t,a,s);isNaN(i)&&(i=(s[0]+s[1])/2);var r=n.getModel();return{n1:l[n.node1.dataIndex],n2:l[n.node2.dataIndex],d:i,curveness:r.get(\"lineStyle.curveness\")||0,ignoreForceLayout:r.get(\"ignoreForceLayout\")}}),h=(m=t.coordinateSystem).getBoundingRect(),p=v(l,u,{rect:h,gravity:n.get(\"gravity\"),friction:n.get(\"friction\")}),g=p.step,p.step=function(h){for(var t=0,e=l.length;t<e;t++)l[t].fixed&&b.copy(l[t].p,d.getNodeByIndex(t).getLayout());g(function(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i].fixed||d.getNodeByIndex(i).setLayout(t[i].p),c[f.getId(i)]=t[i].p;for(i=0,r=e.length;i<r;i++){var a=e[i],o=d.getEdgeByIndex(i),s=a.n1.p,l=a.n2.p,u=o.getLayout();(u=u?u.slice():[])[0]=u[0]||[],u[1]=u[1]||[],b.copy(u[0],s),b.copy(u[1],l),+a.curveness&&(u[2]=[(s[0]+l[0])/2-(s[1]-l[1])*a.curveness,(s[1]+l[1])/2-(l[0]-s[0])*a.curveness]),o.setLayout(u)}h&&h(n)})},t.forceLayout=p,t.preservedPoints=c,p.step()):t.forceLayout=null)})}},function(t,e,n){var y=n(8),_=y.scaleAndAdd;e.forceLayout=function(f,p,t){for(var e=t.rect,n=e.width,i=e.height,g=[e.x+n/2,e.y+i/2],m=null==t.gravity?.1:t.gravity,r=0;r<f.length;r++){var a=f[r];a.p||(a.p=y.create(n*(Math.random()-.5)+g[0],i*(Math.random()-.5)+g[1])),a.pp=y.clone(a.p),a.edges=null}var o=null==t.friction?.6:t.friction,v=o;return{warmUp:function(){v=.8*o},setFixed:function(t){f[t].fixed=!0},setUnfixed:function(t){f[t].fixed=!1},step:function(t){for(var e=[],n=f.length,i=0;i<p.length;i++){var r,a=p[i];a.ignoreForceLayout||(o=a.n1,u=a.n2,y.sub(e,u.p,o.p),l=y.len(e)-a.d,r=u.w/(o.w+u.w),isNaN(r)&&(r=0),y.normalize(e,e),o.fixed||_(o.p,o.p,e,r*l*v),u.fixed||_(u.p,u.p,e,-(1-r)*l*v))}for(i=0;i<n;i++){(c=f[i]).fixed||(y.sub(e,g,c.p),_(c.p,c.p,e,m*v))}for(i=0;i<n;i++)for(var o=f[i],s=i+1;s<n;s++){var l,u=f[s];y.sub(e,u.p,o.p),0===(l=y.len(e))&&(y.set(e,Math.random()-.5,Math.random()-.5),l=1);var h=(o.rep+u.rep)/l/l;o.fixed||_(o.pp,o.pp,e,h),u.fixed||_(u.pp,u.pp,e,-h)}for(var c,d=[],i=0;i<n;i++){(c=f[i]).fixed||(y.sub(d,c.p,c.pp),_(c.p,c.p,d,v),y.copy(c.pp,c.p))}v*=.992,t&&t(f,p,v<.01)}}}},function(t,e,n){var y=n(103),_=n(6).getLayoutRect,x=n(55);t.exports=function(t,m){var v=[];return t.eachSeriesByType(\"graph\",function(t){var n,e,i,r,a,o,s,l,u,h,c,d,f,p,g=t.get(\"coordinateSystem\");g&&\"view\"!==g||(e=(n=t.getData()).mapArray(function(t){var e=n.getItemModel(t);return[+e.get(\"x\"),+e.get(\"y\")]}),i=[],r=[],x.fromPoints(e,i,r),r[0]-i[0]==0&&(r[0]+=1,--i[0]),r[1]-i[1]==0&&(r[1]+=1,--i[1]),a=(r[0]-i[0])/(r[1]-i[1]),d=m,f=a,(p=t.getBoxLayoutParams()).aspect=f,o=_(p,{width:d.getWidth(),height:d.getHeight()}),isNaN(a)&&(i=[o.x,o.y],r=[o.x+o.width,o.y+o.height]),s=r[0]-i[0],l=r[1]-i[1],u=o.width,h=o.height,(c=t.coordinateSystem=new y).zoomLimit=t.get(\"scaleLimit\"),c.setBoundingRect(i[0],i[1],s,l),c.setViewRect(o.x,o.y,u,h),c.setCenter(t.get(\"center\")),c.setZoom(t.get(\"zoom\")),v.push(c))}),v}},function(t,e,n){n(335),n(336)},function(t,e,n){var i=n(49),r=n(14).extend({type:\"series.gauge\",getInitialData:function(t,e){return i(this,[\"value\"])},defaultOption:{zlevel:0,z:2,center:[\"50%\",\"50%\"],legendHoverLink:!0,radius:\"75%\",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,\"#91c7ae\"],[.8,\"#63869e\"],[1,\"#c23531\"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:\"#eee\",width:2,type:\"solid\"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:\"#eee\",width:1,type:\"solid\"}},axisLabel:{show:!0,distance:5,color:\"auto\"},pointer:{show:!0,length:\"80%\",width:8},itemStyle:{color:\"auto\"},title:{show:!0,offsetCenter:[0,\"-40%\"],color:\"#333\",fontSize:15},detail:{show:!0,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:0,borderColor:\"#ccc\",width:100,height:null,padding:[5,10],offsetCenter:[0,\"40%\"],color:\"auto\",fontSize:30}}});t.exports=r},function(t,e,n){var p=n(337),R=n(2),i=n(23),r=n(3),k=r.parsePercent,z=r.round,m=r.linearMap;function B(t,e){return e&&(\"string\"==typeof e?t=e.replace(\"{value}\",null!=t?t:\"\"):\"function\"==typeof e&&(t=e(t))),t}var _=2*Math.PI,a=i.extend({type:\"gauge\",render:function(t,e,n){this.group.removeAll();var i,r,a,o,s,l,u=t.get(\"axisLine.lineStyle.color\"),h=(r=n,a=(i=t).get(\"center\"),o=r.getWidth(),s=r.getHeight(),l=Math.min(o,s),{cx:k(a[0],r.getWidth()),cy:k(a[1],r.getHeight()),r:k(i.get(\"radius\"),l/2)});this._renderMain(t,e,n,u,h)},dispose:function(){},_renderMain:function(t,e,n,i,r){for(var a=this.group,o=t.getModel(\"axisLine\"),s=o.getModel(\"lineStyle\"),l=t.get(\"clockwise\"),u=-t.get(\"startAngle\")/180*Math.PI,h=((g=-t.get(\"endAngle\")/180*Math.PI)-u)%_,c=u,d=s.get(\"width\"),f=o.get(\"show\"),p=0;f&&p<i.length;p++){var g=u+h*Math.min(Math.max(i[p][0],0),1),m=new R.Sector({shape:{startAngle:c,endAngle:g,cx:r.cx,cy:r.cy,clockwise:l,r0:r.r-d,r:r.r},silent:!0});m.setStyle({fill:i[p][1]}),m.setStyle(s.getLineStyle([\"color\",\"borderWidth\",\"borderColor\"])),a.add(m),c=g}function v(t){if(t<=0)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]}var y;l||(y=u,u=g,g=y),this._renderTicks(t,e,n,v,r,u,g,l),this._renderPointer(t,e,n,v,r,u,g,l),this._renderTitle(t,e,n,v,r),this._renderDetail(t,e,n,v,r)},_renderTicks:function(t,e,n,i,r,a,o,s){for(var l=this.group,u=r.cx,h=r.cy,c=r.r,d=+t.get(\"min\"),f=+t.get(\"max\"),p=t.getModel(\"splitLine\"),g=t.getModel(\"axisTick\"),m=t.getModel(\"axisLabel\"),v=t.get(\"splitNumber\"),y=g.get(\"splitNumber\"),_=k(p.get(\"length\"),c),x=k(g.get(\"length\"),c),b=a,w=(o-a)/v,T=w/y,S=p.getModel(\"lineStyle\").getLineStyle(),M=g.getModel(\"lineStyle\").getLineStyle(),A=0;A<=v;A++){var I,C,D,E,L=Math.cos(b),P=Math.sin(b);if(p.get(\"show\")&&(I=new R.Line({shape:{x1:L*c+u,y1:P*c+h,x2:L*(c-_)+u,y2:P*(c-_)+h},style:S,silent:!0}),\"auto\"===S.stroke&&I.setStyle({stroke:i(A/v)}),l.add(I)),m.get(\"show\")&&(C=B(z(A/v*(f-d)+d),m.get(\"formatter\")),D=m.get(\"distance\"),E=i(A/v),l.add(new R.Text({style:R.setTextStyle({},m,{text:C,x:L*(c-_-D)+u,y:P*(c-_-D)+h,textVerticalAlign:P<-.4?\"top\":.4<P?\"bottom\":\"middle\",textAlign:L<-.4?\"left\":.4<L?\"right\":\"center\"},{autoColor:E}),silent:!0}))),g.get(\"show\")&&A!==v){for(var N=0;N<=y;N++){var L=Math.cos(b),P=Math.sin(b),O=new R.Line({shape:{x1:L*c+u,y1:P*c+h,x2:L*(c-x)+u,y2:P*(c-x)+h},silent:!0,style:M});\"auto\"===M.stroke&&O.setStyle({stroke:i((A+N/y)/v)}),l.add(O),b+=T}b-=T}else b+=w}},_renderPointer:function(i,t,e,r,a,n,o,s){var l,u,h,c,d=this.group,f=this._data;i.get(\"pointer.show\")?(l=[+i.get(\"min\"),+i.get(\"max\")],u=[n,o],h=i.getData(),c=h.mapDimension(\"value\"),h.diff(f).add(function(t){var e=new p({shape:{angle:n}});R.initProps(e,{shape:{angle:m(h.get(c,t),l,u,!0)}},i),d.add(e),h.setItemGraphicEl(t,e)}).update(function(t,e){var n=f.getItemGraphicEl(e);R.updateProps(n,{shape:{angle:m(h.get(c,t),l,u,!0)}},i),d.add(n),h.setItemGraphicEl(t,n)}).remove(function(t){var e=f.getItemGraphicEl(t);d.remove(e)}).execute(),h.eachItemGraphicEl(function(t,e){var n=h.getItemModel(e),i=n.getModel(\"pointer\");t.setShape({x:a.cx,y:a.cy,width:k(i.get(\"width\"),a.r),r:k(i.get(\"length\"),a.r)}),t.useStyle(n.getModel(\"itemStyle\").getItemStyle()),\"auto\"===t.style.fill&&t.setStyle(\"fill\",r(m(h.get(c,e),l,[0,1],!0))),R.setHoverStyle(t,n.getModel(\"emphasis.itemStyle\").getItemStyle())}),this._data=h):f&&f.eachItemGraphicEl(function(t){d.remove(t)})},_renderTitle:function(t,e,n,i,r){var a,o,s,l,u,h,c,d=t.getData(),f=d.mapDimension(\"value\"),p=t.getModel(\"title\");p.get(\"show\")&&(a=p.get(\"offsetCenter\"),o=r.cx+k(a[0],r.r),s=r.cy+k(a[1],r.r),l=+t.get(\"min\"),u=+t.get(\"max\"),h=t.getData().get(f,0),c=i(m(h,[l,u],[0,1],!0)),this.group.add(new R.Text({silent:!0,style:R.setTextStyle({},p,{x:o,y:s,text:d.getName(0),textAlign:\"center\",textVerticalAlign:\"middle\"},{autoColor:c,forceRich:!0})})))},_renderDetail:function(t,e,n,i,r){var a,o,s,l,u,h,c,d,f=t.getModel(\"detail\"),p=+t.get(\"min\"),g=+t.get(\"max\");f.get(\"show\")&&(a=f.get(\"offsetCenter\"),o=r.cx+k(a[0],r.r),s=r.cy+k(a[1],r.r),l=k(f.get(\"width\"),r.r),u=k(f.get(\"height\"),r.r),c=(h=t.getData()).get(h.mapDimension(\"value\"),0),d=i(m(c,[p,g],[0,1],!0)),this.group.add(new R.Text({silent:!0,style:R.setTextStyle({},f,{x:o,y:s,text:B(c,f.get(\"formatter\")),textWidth:isNaN(l)?null:l,textHeight:isNaN(u)?null:u,textAlign:\"center\",textVerticalAlign:\"middle\"},{autoColor:d,forceRich:!0})})))}});t.exports=a},function(t,e,n){var i=n(10).extend({type:\"echartsGaugePointer\",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,i=Math.sin,r=e.r,a=e.width,o=e.angle,s=e.x-n(o)*a*(r/3<=a?1:2),l=e.y-i(o)*a*(r/3<=a?1:2),o=e.angle-Math.PI/2;t.moveTo(s,l),t.lineTo(e.x+n(o)*a,e.y+i(o)*a),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(o)*a,e.y-i(o)*a),t.lineTo(s,l)}});t.exports=i},function(t,e,n){var i=n(1);n(339),n(340);var r=n(81),a=n(341),o=n(65);i.registerVisual(r(\"funnel\")),i.registerLayout(a),i.registerProcessor(o(\"funnel\"))},function(t,e,n){var i=n(1),r=n(0),a=n(49),o=n(4).defaultEmphasis,s=n(26).makeSeriesEncodeForNameBased,l=n(64),u=i.extendSeriesModel({type:\"series.funnel\",init:function(t){u.superApply(this,\"init\",arguments),this.legendVisualProvider=new l(r.bind(this.getData,this),r.bind(this.getRawData,this)),this._defaultLabelLine(t)},getInitialData:function(t,e){return a(this,{coordDimensions:[\"value\"],encodeDefaulter:r.curry(s,this)})},_defaultLabelLine:function(t){o(t,\"labelLine\",[\"show\"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),n=u.superCall(this,\"getDataParams\",t),i=e.mapDimension(\"value\"),r=e.getSum(i);return n.percent=r?+(e.get(i,t)/r*100).toFixed(2):0,n.$vars.push(\"percent\"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:\"0%\",maxSize:\"100%\",sort:\"descending\",gap:0,funnelAlign:\"center\",label:{show:!0,position:\"outer\"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderColor:\"#fff\",borderWidth:1},emphasis:{label:{show:!0}}}});t.exports=u},function(t,e,n){var d=n(2),h=n(0),i=n(23);function o(t,e){d.Group.call(this);var n=new d.Polygon,i=new d.Polyline,r=new d.Text;this.add(n),this.add(i),this.add(r),this.highDownOnUpdate=function(t,e){\"emphasis\"===e?(i.ignore=i.hoverIgnore,r.ignore=r.hoverIgnore):(i.ignore=i.normalIgnore,r.ignore=r.normalIgnore)},this.updateData(t,e,!0)}var r=o.prototype,c=[\"itemStyle\",\"opacity\"];r.updateData=function(t,e,n){var i=this.childAt(0),r=t.hostModel,a=t.getItemModel(e),o=t.getItemLayout(e),s=null==(s=t.getItemModel(e).get(c))?1:s;i.useStyle({}),n?(i.setShape({points:o.points}),i.setStyle({opacity:0}),d.initProps(i,{style:{opacity:s}},r,e)):d.updateProps(i,{style:{opacity:s},shape:{points:o.points}},r,e);var l=a.getModel(\"itemStyle\"),u=t.getItemVisual(e,\"color\");i.setStyle(h.defaults({lineJoin:\"round\",fill:u},l.getItemStyle([\"opacity\"]))),i.hoverStyle=l.getModel(\"emphasis\").getItemStyle(),this._updateLabel(t,e),d.setHoverStyle(this)},r._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),r=t.hostModel,a=t.getItemModel(e),o=t.getItemLayout(e).label,s=t.getItemVisual(e,\"color\");d.updateProps(n,{shape:{points:o.linePoints||o.linePoints}},r,e),d.updateProps(i,{style:{x:o.x,y:o.y}},r,e),i.attr({rotation:o.rotation,origin:[o.x,o.y],z2:10});var l=a.getModel(\"label\"),u=a.getModel(\"emphasis.label\"),h=a.getModel(\"labelLine\"),c=a.getModel(\"emphasis.labelLine\"),s=t.getItemVisual(e,\"color\");d.setLabelStyle(i.style,i.hoverStyle={},l,u,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!o.inside},{textAlign:o.textAlign,textVerticalAlign:o.verticalAlign}),i.ignore=i.normalIgnore=!l.get(\"show\"),i.hoverIgnore=!u.get(\"show\"),n.ignore=n.normalIgnore=!h.get(\"show\"),n.hoverIgnore=!c.get(\"show\"),n.setStyle({stroke:s}),n.setStyle(h.getModel(\"lineStyle\").getLineStyle()),n.hoverStyle=c.getModel(\"lineStyle\").getLineStyle()},h.inherits(o,d.Group);var a=i.extend({type:\"funnel\",render:function(t,e,n){var i=t.getData(),r=this._data,a=this.group;i.diff(r).add(function(t){var e=new o(i,t);i.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var n=r.getItemGraphicEl(e);n.updateData(i,t),a.add(n),i.setItemGraphicEl(t,n)}).remove(function(t){var e=r.getItemGraphicEl(t);a.remove(e)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});t.exports=a},function(t,e,n){var M=n(6),i=n(3),A=i.parsePercent,I=i.linearMap;t.exports=function(t,S,e){t.eachSeriesByType(\"funnel\",function(t){var e,n,a=t.getData(),o=a.mapDimension(\"value\"),i=t.get(\"sort\"),s=(e=t,n=S,M.getLayoutRect(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})),r=function(t,e){for(var n=t.mapDimension(\"value\"),i=t.mapArray(n,function(t){return t}),r=[],a=\"ascending\"===e,o=0,s=t.count();o<s;o++)r[o]=o;return\"function\"==typeof e?r.sort(e):\"none\"!==e&&r.sort(function(t,e){return a?i[t]-i[e]:i[e]-i[t]}),r}(a,i),l=[A(t.get(\"minSize\"),s.width),A(t.get(\"maxSize\"),s.width)],u=a.getDataExtent(o),h=t.get(\"min\"),c=t.get(\"max\");null==h&&(h=Math.min(u[0],0)),null==c&&(c=u[1]);function d(t,e){var n,i=a.get(o,t)||0,r=I(i,[h,c],l,!0);switch(f){case\"left\":n=s.x;break;case\"center\":n=s.x+(s.width-r)/2;break;case\"right\":n=s.x+s.width-r}return[[n,e],[n+r,e]]}var f=t.get(\"funnelAlign\"),p=t.get(\"gap\"),g=(s.height-p*(a.count()-1))/a.count(),m=s.y;\"ascending\"===i&&(g=-g,p=-p,m+=s.height,r=r.reverse());for(var v,y=0;y<r.length;y++){var _=r[y],x=r[y+1],b=a.getItemModel(_).get(\"itemStyle.height\");null==b?b=g:(b=A(b,s.height),\"ascending\"===i&&(b=-b));var w=d(_,m),T=d(x,m+b);m+=b+p,a.setItemLayout(_,{points:w.concat(T.slice().reverse())})}(v=a).each(function(t){var e,n,i,r,a,o,s,l,u=v.getItemModel(t),h=u.getModel(\"label\").get(\"position\"),c=u.getModel(\"labelLine\"),d=v.getItemLayout(t),f=d.points,p=\"inner\"===h||\"inside\"===h||\"center\"===h||\"insideLeft\"===h||\"insideRight\"===h;p?(o=\"insideLeft\"===h?(e=(f[0][0]+f[3][0])/2+5,l=(f[0][1]+f[3][1])/2,\"left\"):\"insideRight\"===h?(e=(f[1][0]+f[2][0])/2-5,l=(f[1][1]+f[2][1])/2,\"right\"):(e=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,l=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4,\"center\"),s=[[e,l],[e,l]]):(a=c.get(\"length\"),o=\"left\"===h?(n=(f[3][0]+f[0][0])/2,i=(f[3][1]+f[0][1])/2,e=(r=n-a)-5,\"right\"):\"right\"===h?(n=(f[1][0]+f[2][0])/2,i=(f[1][1]+f[2][1])/2,e=(r=n+a)+5,\"left\"):\"rightTop\"===h?(n=f[1][0],i=f[1][1],e=(r=n+a)+5,\"top\"):\"rightBottom\"===h?(n=f[2][0],i=f[2][1],e=(r=n+a)+5,\"bottom\"):\"leftTop\"===h?(n=f[0][0],i=f[1][1],e=(r=n-a)-5,\"right\"):\"leftBottom\"===h?(n=f[3][0],i=f[2][1],e=(r=n-a)-5,\"right\"):(n=(f[1][0]+f[2][0])/2,i=(f[1][1]+f[2][1])/2,e=(r=n+a)+5,\"left\"),s=[[n,i],[r,i]],l=i),d.label={linePoints:s,x:e,y:l,verticalAlign:\"middle\",textAlign:o,inside:p}})})}},function(t,e,n){var i=n(1);n(174),n(351),n(352);var r=n(353);i.registerVisual(r)},function(t,e,n){var r=n(0),a=n(4);t.exports=function(t){var i,e;!function(t){if(t.parallel)return;var e=!1;r.each(t.series,function(t){t&&\"parallel\"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}(t),i=t,e=a.normalizeToArray(i.parallelAxis),r.each(e,function(t){var e,n;r.isObject(t)&&(e=t.parallelIndex||0,(n=a.normalizeToArray(i.parallel)[e])&&n.parallelAxisDefault&&r.merge(t,n.parallelAxisDefault,!1))})}},function(t,e,n){var p=n(0),c=n(15),i=n(6),l=n(20),u=n(345),r=n(2),a=n(3),d=n(50),f=p.each,g=Math.min,m=Math.max,v=Math.floor,y=Math.ceil,_=a.round,x=Math.PI;function o(t,e,n){this._axesMap=p.createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}function b(t,e){return g(m(t,e[0]),e[1])}o.prototype={type:\"parallel\",constructor:o,_init:function(t,o,e){var n=t.dimensions,s=t.parallelAxisIndex;f(n,function(t,e){var n=s[e],i=o.getComponent(\"parallelAxis\",n),r=this._axesMap.set(t,new u(t,l.createScaleByModel(i),[0,0],i.get(\"type\"),n)),a=\"category\"===r.type;r.onBand=a&&i.get(\"boundaryGap\"),r.inverse=i.get(\"inverse\"),(i.axis=r).model=i,r.coordinateSystem=i.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,a=t[1-r],o=t[r];return n<=a&&a<=n+e.axisLength&&i<=o&&o<=i+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,i){i.eachSeries(function(t){var n;e.contains(t,i)&&(n=t.getData(),f(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(n,n.mapDimension(t)),l.niceScaleExtent(e.scale,e.model)},this))},this)},resize:function(t,e){this._rect=i.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,n=this._rect,i=[\"x\",\"y\"],r=[\"width\",\"height\"],a=e.get(\"layout\"),o=\"horizontal\"===a?0:1,s=n[r[o]],l=[0,s],u=this.dimensions.length,h=b(e.get(\"axisExpandWidth\"),l),c=b(e.get(\"axisExpandCount\")||0,[0,u]),d=e.get(\"axisExpandable\")&&3<u&&c<u&&1<c&&0<h&&0<s,f=e.get(\"axisExpandWindow\");f?(t=b(f[1]-f[0],l),f[1]=f[0]+t):(t=b(h*(c-1),l),(f=[h*(e.get(\"axisExpandCenter\")||v(u/2))-t/2])[1]=f[0]+t);var p=(s-t)/(u-c);p<3&&(p=0);var g=[v(_(f[0]/h,1))+1,y(_(f[1]/h,1))-1],m=p/h*f[0];return{layout:a,pixelDimIndex:o,layoutBase:n[i[o]],layoutLength:s,axisBase:n[i[1-o]],axisLength:n[r[1-o]],axisExpandable:d,axisExpandWidth:h,axisCollapseWidth:p,axisExpandWindow:f,axisCount:u,winInnerIndices:g,axisExpandWindow0Pos:m}},_layoutAxes:function(){var l=this._rect,t=this._axesMap,e=this.dimensions,u=this._makeLayoutInfo(),h=u.layout;t.each(function(t){var e=[0,u.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),f(e,function(t,e){var n=(u.axisExpandable?function(t,e){var n,i,r=e.layoutLength,a=e.axisExpandWidth,o=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,h=!1;t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],u=a,h=!0):(n=r-(o-1-t)*s,i=s);return{position:n,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:i}}:function(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}})(e,u),i={horizontal:{x:n.position,y:u.axisLength},vertical:{x:0,y:n.position}},r={horizontal:x/2,vertical:0},a=[i[h].x+l.x,i[h].y+l.y],o=r[h],s=c.create();c.rotate(s,s,o),c.translate(s,s,a),this._axesLayout[t]={position:a,rotation:o,transform:s,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var r=this._axesMap,a=this.dimensions,o=[],s=[];p.each(a,function(t){o.push(e.mapDimension(t)),s.push(r.get(t).model)});for(var l,u=this.hasAxisBrushed(),h=n;h<i;h++){if(u){l=\"active\";for(var c=e.getValues(o,h),d=0,f=a.length;d<f;d++){if(\"inactive\"===s[d].getActiveState(c[d])){l=\"inactive\";break}}}else l=\"normal\";t(l,h)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i<r;i++)\"normal\"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){var n=this._axesLayout[e];return r.applyTransform([t,0],n.transform)},getAxisLayout:function(t){return p.clone(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:\"none\",axisExpandWindow:i};var o,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l=\"slide\",u=e.axisCollapseWidth,h=this._model.get(\"axisExpandSlideTriggerArea\"),c=null!=h[0];return u?(c&&u&&s<r*h[0]?(l=\"jump\",o=s-r*h[2]):c&&u&&s>r*(1-h[0])?(l=\"jump\",o=s-r*(1-h[2])):0<=(o=s-r*h[1])&&(o=s-r*(1-h[1]))<=0&&(o=0),(o*=e.axisExpandWidth/u)?d(o,i,a,\"all\"):l=\"none\"):(r=i[1]-i[0],(i=[m(0,a[1]*s/r-r/2)])[1]=g(a[1],i[0]+r),i[0]=i[1]-r),{axisExpandWindow:i,behavior:l}}},t.exports=o},function(t,e,n){function i(t,e,n,i,r){a.call(this,t,e,n),this.type=i||\"value\",this.axisIndex=r}var r=n(0),a=n(31);i.prototype={constructor:i,model:null,isHorizontal:function(){return\"horizontal\"!==this.coordinateSystem.getModel().get(\"layout\")}},r.inherits(i,a),t.exports=i},function(t,e,n){var i=n(0),r=n(13);n(347);var a=r.extend({type:\"parallel\",dependencies:[\"parallelAxis\"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:\"box\",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:\"horizontal\",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:\"click\",parallelAxisDefault:null},init:function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&i.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var n=t.get(\"parallelIndex\");return null!=n&&e.getComponent(\"parallel\",n)===this},setAxisExpand:function(e){i.each([\"axisExpandable\",\"axisExpandCenter\",\"axisExpandCount\",\"axisExpandWidth\",\"axisExpandWindow\"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[],t=i.filter(this.dependentModels.parallelAxis,function(t){return(t.get(\"parallelIndex\")||0)===this.componentIndex},this);i.each(t,function(t){e.push(\"dim\"+t.get(\"dim\")),n.push(t.componentIndex)})}});t.exports=a},function(t,e,n){var i=n(0),r=n(13),a=n(44),o=n(79),s=n(3),l=n(48),u=r.extend({type:\"baseParallelAxis\",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return a([[\"fill\",\"color\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"borderColor\"],[\"width\",\"width\"],[\"opacity\",\"opacity\"]])(this.getModel(\"areaSelectStyle\"))},setActiveIntervals:function(t){var e=this.activeIntervals=i.clone(t);if(e)for(var n=e.length-1;0<=n;n--)s.asc(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return\"normal\";if(null==t||isNaN(t))return\"inactive\";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return\"active\"}else for(var i=0,r=e.length;i<r;i++)if(e[i][0]<=t&&t<=e[i][1])return\"active\";return\"inactive\"}});i.merge(u.prototype,l),o(\"parallel\",u,function(t,e){return e.type||(e.data?\"category\":\"value\")},{type:\"value\",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:\"rgba(160,197,232)\",color:\"rgba(160,197,232)\",opacity:.3},realtime:!0,z:10}),t.exports=u},function(t,e,n){n(175),n(349),n(350)},function(t,e,n){var i=n(1);i.registerAction({type:\"axisAreaSelect\",event:\"axisAreaSelected\"},function(e,t){t.eachComponent({mainType:\"parallelAxis\",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),i.registerAction(\"parallelAxisExpand\",function(e,t){t.eachComponent({mainType:\"parallel\",query:e},function(t){t.setAxisExpand(e)})})},function(t,e,n){var i=n(1),y=n(0),_=n(32),r=n(108),d=n(176),x=n(2),b=[\"axisLine\",\"axisTickLabel\",\"axisName\"],a=i.extendComponentView({type:\"parallelAxis\",init:function(t,e){a.superApply(this,\"init\",arguments),(this._brushController=new r(e.getZr())).on(\"brush\",y.bind(this._onBrush,this))},render:function(t,e,n,i){var r,a,o,s,l,u,h,c,d,f,p,g,m,v;r=t,a=e,(o=i)&&\"axisAreaSelect\"===o.type&&a.findComponents({mainType:\"parallelAxis\",query:o})[0]===r||(this.axisModel=t,this.api=n,this.group.removeAll(),s=this._axisGroup,this._axisGroup=new x.Group,this.group.add(this._axisGroup),t.get(\"show\")&&(u=t,h=(l=e.getComponent(\"parallel\",u.get(\"parallelIndex\"))).coordinateSystem,d=(c=t.getAreaSelectStyle()).width,f=t.axis.dim,p=h.getAxisLayout(f),g=y.extend({strokeContainThreshold:d},p),m=new _(t,g),y.each(b,m.add,m),this._axisGroup.add(m.getGroup()),this._refreshBrushController(g,c,t,l,d,n),v=i&&!1===i.animation?null:t,x.groupTransition(s,this._axisGroup,v)))},_refreshBrushController:function(t,e,n,i,r,a){var o,s,l=n.axis.getExtent(),u=l[1]-l[0],h=Math.min(30,.1*Math.abs(u)),c=x.BoundingRect.create({x:l[0],y:-r/2,width:u,height:r});c.x-=h,c.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:\"pl\",clipPath:d.makeRectPanelClipPath(c),isTargetByCursor:d.makeRectIsTargetByCursor(c,a,i),getLinearBrushOtherExtent:d.makeLinearBrushOtherExtent(c,0)}]).enableBrush({brushType:\"lineX\",brushStyle:e,removeOnClick:!0}).updateCovers((s=(o=n).axis,y.map(o.activeIntervals,function(t){return{brushType:\"lineX\",panelId:\"pl\",range:[s.dataToCoord(t[0],!0),s.dataToCoord(t[1],!0)]}})))},_onBrush:function(t,e){var n=this.axisModel,i=n.axis,r=y.map(t,function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]});!n.option.realtime!==e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:\"axisAreaSelect\",parallelAxisId:n.id,intervals:r})},dispose:function(){this._brushController.dispose()}});t.exports=a},function(t,e,n){var i=n(0),r=i.each,a=i.createHashMap,o=n(14),s=n(27),l=o.extend({type:\"series.parallel\",dependencies:[\"parallel\"],visualColorAccessPath:\"lineStyle.color\",getInitialData:function(t,e){var n=this.getSource();return function(t,e){if(t.encodeDefine)return;var n=e.ecModel.getComponent(\"parallel\",e.get(\"parallelIndex\"));if(!n)return;var i=t.encodeDefine=a();r(n.dimensions,function(t){var e=+t.replace(\"dim\",\"\");i.set(t,e)})}(n,this),s(n,this)},getRawIndicesByActiveState:function(n){var t=this.coordinateSystem,i=this.getData(),r=[];return t.eachActiveState(i,function(t,e){n===t&&r.push(i.getRawIndex(e))}),r},defaultOption:{zlevel:0,z:2,coordinateSystem:\"parallel\",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:\"solid\"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:\"linear\"}});t.exports=l},function(t,e,n){var y=n(2),i=n(23),r=i.extend({type:\"parallel\",init:function(){this._dataGroup=new y.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(a,t,e,o){var n,i,r,s,l,u,h,c,d=this._dataGroup,f=a.getData(),p=this._data,g=a.coordinateSystem,m=g.dimensions,v=b(a);f.diff(p).add(function(t){w(x(f,d,t,m,g),f,t,v)}).update(function(t,e){var n=p.getItemGraphicEl(e),i=_(f,t,m,g);f.setItemGraphicEl(t,n);var r=o&&!1===o.animation?null:a;y.updateProps(n,{shape:{points:i}},r,t),w(n,f,t,v)}).remove(function(t){var e=p.getItemGraphicEl(t);d.remove(e)}).execute(),this._initialized||(this._initialized=!0,r=a,s=function(){setTimeout(function(){d.removeClipPath()})},l=(i=g).model,u=i.getRect(),h=new y.Rect({shape:{x:u.x,y:u.y,width:u.width,height:u.height}}),c=\"horizontal\"===l.get(\"layout\")?\"width\":\"height\",h.setShape(c,0),y.initProps(h,{shape:{width:u.width,height:u.height}},r,s),n=h,d.setClipPath(n)),this._data=f},incrementalPrepareRender:function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,a=r.dimensions,o=b(e),s=t.start;s<t.end;s++){var l=x(i,this._dataGroup,s,a,r);l.incremental=!0,w(l,i,s,o)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function _(t,e,n,i){for(var r,a=[],o=0;o<n.length;o++){var s=n[o],l=t.get(t.mapDimension(s),e);r=l,(\"category\"===i.getAxis(s).type?null==r:null==r||isNaN(r))||a.push(i.dataToPoint(l,s))}return a}function x(t,e,n,i,r){var a=_(t,n,i,r),o=new y.Polyline({shape:{points:a},silent:!0,z2:10});return e.add(o),t.setItemGraphicEl(n,o),o}function b(t){var e=t.get(\"smooth\",!0);return!0===e&&(e=.3),{lineStyle:t.getModel(\"lineStyle\").getLineStyle(),smooth:null!=e?e:.3}}function w(t,e,n,i){var r=i.lineStyle;e.hasItemOption&&(r=e.getItemModel(n).getModel(\"lineStyle\").getLineStyle()),t.useStyle(r);var a=t.style;a.fill=null,a.stroke=e.getItemVisual(n,\"color\"),a.opacity=e.getItemVisual(n,\"opacity\"),i.smooth&&(t.shape.smooth=i.smooth)}t.exports=r},function(t,e){var f=[\"lineStyle\",\"normal\",\"opacity\"],n={seriesType:\"parallel\",reset:function(t,e,n){var i=t.getModel(\"itemStyle\"),r=t.getModel(\"lineStyle\"),a=e.get(\"color\"),o=r.get(\"color\")||i.get(\"color\")||a[t.seriesIndex%a.length],s=t.get(\"inactiveOpacity\"),l=t.get(\"activeOpacity\"),u=t.getModel(\"lineStyle\").getLineStyle(),h=t.coordinateSystem,c=t.getData(),d={normal:u.opacity,active:l,inactive:s};return c.setVisual(\"color\",o),{progress:function(t,r){h.eachActiveState(r,function(t,e){var n,i=d[t];\"normal\"!==t||!r.hasItemOption||null!=(n=r.getItemModel(e).get(f,!0))&&(i=n),r.setItemVisual(e,\"opacity\",i)},t.start,t.end)}}}};t.exports=n},function(t,e,n){var i=n(1);n(355),n(356),n(357);var r=n(358),a=n(359);i.registerLayout(r),i.registerVisual(a)},function(t,e,n){var i=n(14),s=n(170),l=n(7).encodeHTML,u=n(12),h=(n(5).__DEV__,i.extend({type:\"series.sankey\",layoutInfo:null,levelModels:null,getInitialData:function(t,e){for(var n=t.edges||t.links,i=t.data||t.nodes,r=t.levels,a=this.levelModels={},o=0;o<r.length;o++)null!=r[o].depth&&0<=r[o].depth&&(a[r[o].depth]=new u(r[o],this,e));if(i&&n)return s(i,n,this,!0,function(t,e){t.wrapMethod(\"getItemModel\",function(t,i){return t.customizeGetParent(function(t){var e=this.parentModel,n=e.getData().getItemLayout(i).depth;return e.levelModels[n]||this.parentModel}),t}),e.wrapMethod(\"getItemModel\",function(t,i){return t.customizeGetParent(function(t){var e=this.parentModel,n=e.getGraph().getEdgeByIndex(i).node1.getLayout().depth;return e.levelModels[n]||this.parentModel}),t})}).data},setNodePosition:function(t,e){var n=this.option.data[t];n.localX=e[0],n.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if(\"edge\"===n){var i=this.getDataParams(t,n),r=i.data,a=r.source+\" -- \"+r.target;return i.value&&(a+=\" : \"+i.value),l(a)}if(\"node\"!==n)return h.superCall(this,\"formatTooltip\",t,e);var o=this.getGraph().getNodeByIndex(t).getLayout().value,s=this.getDataParams(t,n).data.name;return o&&(a=s+\" : \"+o),l(a)},optionUpdated:function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency=\"allEdges\")},getDataParams:function(t,e){var n,i=h.superCall(this,\"getDataParams\",t,e);return null==i.value&&\"node\"===e&&(n=this.getGraph().getNodeByIndex(t).getLayout().value,i.value=n),i},defaultOption:{zlevel:0,z:2,coordinateSystem:\"view\",layout:null,left:\"5%\",top:\"5%\",right:\"20%\",bottom:\"5%\",orient:\"horizontal\",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:\"right\",color:\"#000\",fontSize:12},levels:[],nodeAlign:\"justify\",itemStyle:{borderWidth:1,borderColor:\"#333\"},lineStyle:{color:\"#314656\",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:\"linear\",animationDuration:1e3}}));t.exports=h},function(t,e,n){var I=n(2),i=n(1),d=n(0),f=[\"itemStyle\",\"opacity\"],p=[\"emphasis\",\"itemStyle\",\"opacity\"],g=[\"lineStyle\",\"opacity\"],m=[\"emphasis\",\"lineStyle\",\"opacity\"];function a(t,e){return t.getVisual(\"opacity\")||t.getModel().get(e)}function v(t,e,n){var i=t.getGraphicEl(),r=a(t,e);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse(function(t){\"group\"!==t.type&&t.setStyle(\"opacity\",r)})}function y(t,e){var n=a(t,e),i=t.getGraphicEl();i.traverse(function(t){\"group\"!==t.type&&t.setStyle(\"opacity\",n)}),i.highlight&&i.highlight()}var C=I.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:\"\"},buildPath:function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),\"vertical\"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},highlight:function(){this.trigger(\"emphasis\")},downplay:function(){this.trigger(\"normal\")}}),r=i.extendChartView({type:\"sankey\",_model:null,_focusAdjacencyDisabled:!1,render:function(b,t,i){var e,n,r,a,o=this,s=b.getGraph(),w=this.group,l=b.layoutInfo,T=l.width,S=l.height,u=b.getData(),M=b.getData(\"edge\"),A=b.get(\"orient\");this._model=b,w.removeAll(),w.attr(\"position\",[l.x,l.y]),s.eachEdge(function(t){var e=new C;e.dataIndex=t.dataIndex,e.seriesIndex=b.seriesIndex,e.dataType=\"edge\";var n,i,r,a,o,s,l,u,h=t.getModel(\"lineStyle\"),c=h.get(\"curveness\"),d=t.node1.getLayout(),f=t.node1.getModel(),p=f.get(\"localX\"),g=f.get(\"localY\"),m=t.node2.getLayout(),v=t.node2.getModel(),y=v.get(\"localX\"),_=v.get(\"localY\"),x=t.getLayout();switch(e.shape.extent=Math.max(1,x.dy),u=\"vertical\"===(e.shape.orient=A)?(n=(null!=p?p*T:d.x)+x.sy,i=(null!=g?g*S:d.y)+d.dy,r=(null!=y?y*T:m.x)+x.ty,o=n,s=i*(1-c)+(a=null!=_?_*S:m.y)*c,l=r,i*c+a*(1-c)):(n=(null!=p?p*T:d.x)+d.dx,i=(null!=g?g*S:d.y)+x.sy,o=n*(1-c)+(r=null!=y?y*T:m.x)*c,s=i,l=n*c+r*(1-c),a=(null!=_?_*S:m.y)+x.ty),e.setShape({x1:n,y1:i,x2:r,y2:a,cpx1:o,cpy1:s,cpx2:l,cpy2:u}),e.setStyle(h.getItemStyle()),e.style.fill){case\"source\":e.style.fill=t.node1.getVisual(\"color\");break;case\"target\":e.style.fill=t.node2.getVisual(\"color\")}I.setHoverStyle(e,t.getModel(\"emphasis.lineStyle\").getItemStyle()),w.add(e),M.setItemGraphicEl(t.dataIndex,e)}),s.eachNode(function(t){var e=t.getLayout(),n=t.getModel(),i=n.get(\"localX\"),r=n.get(\"localY\"),a=n.getModel(\"label\"),o=n.getModel(\"emphasis.label\"),s=new I.Rect({shape:{x:null!=i?i*T:e.x,y:null!=r?r*S:e.y,width:e.dx,height:e.dy},style:n.getModel(\"itemStyle\").getItemStyle()}),l=t.getModel(\"emphasis.itemStyle\").getItemStyle();I.setLabelStyle(s.style,l,a,o,{labelFetcher:b,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),s.setStyle(\"fill\",t.getVisual(\"color\")),I.setHoverStyle(s,l),w.add(s),u.setItemGraphicEl(t.dataIndex,s),s.dataType=\"node\"}),u.eachItemGraphicEl(function(t,n){var e=u.getItemModel(n);e.get(\"draggable\")&&(t.drift=function(t,e){o._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=e,this.dirty(),i.dispatchAction({type:\"dragNode\",seriesId:b.id,dataIndex:u.getRawIndex(n),localX:this.shape.x/T,localY:this.shape.y/S})},t.ondragend=function(){o._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor=\"move\"),t.highlight=function(){this.trigger(\"emphasis\")},t.downplay=function(){this.trigger(\"normal\")},t.focusNodeAdjHandler&&t.off(\"mouseover\",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off(\"mouseout\",t.unfocusNodeAdjHandler),e.get(\"focusNodeAdjacency\")&&(t.on(\"mouseover\",t.focusNodeAdjHandler=function(){o._focusAdjacencyDisabled||(o._clearTimer(),i.dispatchAction({type:\"focusNodeAdjacency\",seriesId:b.id,dataIndex:t.dataIndex}))}),t.on(\"mouseout\",t.unfocusNodeAdjHandler=function(){o._focusAdjacencyDisabled||o._dispatchUnfocus(i)}))}),M.eachItemGraphicEl(function(t,e){var n=M.getItemModel(e);t.focusNodeAdjHandler&&t.off(\"mouseover\",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off(\"mouseout\",t.unfocusNodeAdjHandler),n.get(\"focusNodeAdjacency\")&&(t.on(\"mouseover\",t.focusNodeAdjHandler=function(){o._focusAdjacencyDisabled||(o._clearTimer(),i.dispatchAction({type:\"focusNodeAdjacency\",seriesId:b.id,edgeDataIndex:t.dataIndex}))}),t.on(\"mouseout\",t.unfocusNodeAdjHandler=function(){o._focusAdjacencyDisabled||o._dispatchUnfocus(i)}))}),!this._data&&b.get(\"animation\")&&w.setClipPath((e=w.getBoundingRect(),n=b,r=function(){w.removeClipPath()},a=new I.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}}),I.initProps(a,{shape:{width:e.width+20}},n,r),a)),this._data=b.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(t){var e=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){e._unfocusDelayTimer=null,t.dispatchAction({type:\"unfocusNodeAdjacency\",seriesId:e._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(t,e,n,i){var r,a,o,s=t.getData(),l=s.graph,u=i.dataIndex,h=s.getItemModel(u),c=i.edgeDataIndex;null==u&&null==c||(r=l.getNodeByIndex(u),a=l.getEdgeByIndex(c),l.eachNode(function(t){v(t,f,.1)}),l.eachEdge(function(t){v(t,g,.1)}),r&&(y(r,p),\"outEdges\"===(o=h.get(\"focusNodeAdjacency\"))?d.each(r.outEdges,function(t){t.dataIndex<0||(y(t,m),y(t.node2,p))}):\"inEdges\"===o?d.each(r.inEdges,function(t){t.dataIndex<0||(y(t,m),y(t.node1,p))}):\"allEdges\"===o&&d.each(r.edges,function(t){t.dataIndex<0||(y(t,m),t.node1!==r&&y(t.node1,p),t.node2!==r&&y(t.node2,p))})),a&&(y(a,m),y(a.node1,p),y(a.node2,p)))},unfocusNodeAdjacency:function(t,e,n,i){var r=t.getGraph();r.eachNode(function(t){v(t,f)}),r.eachEdge(function(t){v(t,g)})}});t.exports=r},function(t,e,n){var i=n(1);n(171),i.registerAction({type:\"dragNode\",event:\"dragnode\",update:\"update\"},function(e,t){t.eachComponent({mainType:\"series\",subType:\"sankey\",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},function(t,e,n){var T=n(6),S=n(0),M=n(4).groupData;function A(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&0<=e.depth}function I(t,l,u,h,c){var d=\"vertical\"===c?\"x\":\"y\";S.each(t,function(t){var e,n;t.sort(function(t,e){return t.getLayout()[d]-e.getLayout()[d]});for(var i,r=0,a=t.length,o=\"vertical\"===c?\"dx\":\"dy\",s=0;s<a;s++)0<(i=r-(n=t[s]).getLayout()[d])&&(e=n.getLayout()[d]+i,\"vertical\"===c?n.setLayout({x:e},!0):n.setLayout({y:e},!0)),r=n.getLayout()[d]+n.getLayout()[o]+l;if(0<(i=r-l-(\"vertical\"===c?h:u)))for(e=n.getLayout()[d]-i,\"vertical\"===c?n.setLayout({x:e},!0):n.setLayout({y:e},!0),r=e,s=a-2;0<=s;--s)0<(i=(n=t[s]).getLayout()[d]+n.getLayout()[o]+l-r)&&(e=n.getLayout()[d]-i,\"vertical\"===c?n.setLayout({x:e},!0):n.setLayout({y:e},!0)),r=n.getLayout()[d]})}function C(t,e){return P(t.node2,e)*t.getValue()}function D(t,e){return P(t.node2,e)}function E(t,e){return P(t.node1,e)*t.getValue()}function L(t,e){return P(t.node1,e)}function P(t,e){return\"vertical\"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function N(t){return t.getValue()}function O(t,e,n){for(var i=0,r=t.length,a=-1;++a<r;){var o=+e.call(t,t[a],n);isNaN(o)||(i+=o)}return i}t.exports=function(t,w,e){t.eachSeriesByType(\"sankey\",function(t){var e,n,i,r=t.get(\"nodeWidth\"),a=t.get(\"nodeGap\"),o=(e=t,n=w,T.getLayoutRect(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})),s=(t.layoutInfo=o).width,l=o.height,u=t.getGraph(),h=u.nodes,c=u.edges;i=h,S.each(i,function(t){var e=O(t.outEdges,N),n=O(t.inEdges,N),i=t.getValue()||0,r=Math.max(e,n,i);t.setLayout({value:r},!0)});var d,f,p,g,m,v,y,_=0!==S.filter(h,function(t){return 0===t.getLayout().value}).length?0:t.get(\"layoutIterations\"),x=t.get(\"orient\"),b=t.get(\"nodeAlign\");p=a,v=_,function(t,e,n,i,r,a,o){for(var s=[],l=[],u=[],h=[],c=0,d=0;d<e.length;d++)s[d]=1;for(d=0;d<t.length;d++)l[d]=t[d].inEdges.length,0===l[d]&&u.push(t[d]);var f=-1;for(;u.length;){for(var p=0;p<u.length;p++){var g=u[p],m=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=m.depth&&0<=m.depth;v&&m.depth>f&&(f=m.depth),g.setLayout({depth:v?m.depth:c},!0),\"vertical\"===a?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var y=0;y<g.outEdges.length;y++){var _=g.outEdges[y],x=e.indexOf(_);s[x]=0;var b=_.node2,w=t.indexOf(b);0==--l[w]&&h.indexOf(b)<0&&h.push(b)}}++c,u=h,h=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error(\"Sankey is a DAG, the original data has cycle!\");var T=c-1<f?f:c-1;o&&\"left\"!==o&&function(t,e,n){if(\"right\"===e){for(var i=[],r=t,a=0;r.length;){for(var o=0;o<r.length;o++){var s=r[o];s.setLayout({skNodeHeight:a},!0);for(var l=0;l<s.inEdges.length;l++){var u=s.inEdges[l];i.indexOf(u.node1)<0&&i.push(u.node1)}}r=i,i=[],++a}S.each(t,function(t){A(t)||t.setLayout({depth:Math.max(0,n-t.getLayout().skNodeHeight)},!0)})}else\"justify\"===e&&function(t,e){S.each(t,function(t){A(t)||t.outEdges.length||t.setLayout({depth:e},!0)})}(t,n)}(t,o,T);!function(t,n,i){S.each(t,function(t){var e=t.getLayout().depth*n;\"vertical\"===i?t.setLayout({y:e},!0):t.setLayout({x:e},!0)})}(t,\"vertical\"===a?(r-n)/T:(i-n)/T,a)}(d=h,f=c,r,g=s,m=l,y=x,b),function(t,e,n,i,r,a,o){var s=function(t,e){var n=[],i=\"vertical\"===e?\"y\":\"x\",r=M(t,function(t){return t.getLayout()[i]});return r.keys.sort(function(t,e){return t-e}),S.each(r.keys,function(t){n.push(r.buckets.get(t))}),n}(t,o);(function(t,e,r,a,o,s){var l=1/0;S.each(t,function(t){var e=t.length,n=0;S.each(t,function(t){n+=t.getLayout().value});var i=\"vertical\"===s?(a-(e-1)*o)/n:(r-(e-1)*o)/n;i<l&&(l=i)}),S.each(t,function(t){S.each(t,function(t,e){var n=t.getLayout().value*l;\"vertical\"===s?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))})}),S.each(e,function(t){var e=t.getValue()*l;t.setLayout({dy:e},!0)})})(s,e,n,i,r,o),I(s,r,n,i,o);for(var l=1;0<a;a--)(function(t,a,o){S.each(t.slice().reverse(),function(t){S.each(t,function(t){var e,n,i,r;t.outEdges.length&&(n=O(t.outEdges,C,o)/O(t.outEdges,N,o),isNaN(n)&&(n=(e=t.outEdges.length)?O(t.outEdges,D,o)/e:0),\"vertical\"===o?(i=t.getLayout().x+(n-P(t,o))*a,t.setLayout({x:i},!0)):(r=t.getLayout().y+(n-P(t,o))*a,t.setLayout({y:r},!0)))})})})(s,l*=.99,o),I(s,r,n,i,o),function(t,a,o){S.each(t,function(t){S.each(t,function(t){var e,n,i,r;t.inEdges.length&&(n=O(t.inEdges,E,o)/O(t.inEdges,N,o),isNaN(n)&&(n=(e=t.inEdges.length)?O(t.inEdges,L,o)/e:0),\"vertical\"===o?(i=t.getLayout().x+(n-P(t,o))*a,t.setLayout({x:i},!0)):(r=t.getLayout().y+(n-P(t,o))*a,t.setLayout({y:r},!0)))})})}(s,l,o),I(s,r,n,i,o)}(d,f,m,g,p,v,y),function(t,e){var n=\"vertical\"===e?\"x\":\"y\";S.each(t,function(t){t.outEdges.sort(function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]}),t.inEdges.sort(function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]})}),S.each(t,function(t){var e=0,n=0;S.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),S.each(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}(d,y)})}},function(t,e,n){var o=n(42),s=n(0);t.exports=function(t,e){t.eachSeriesByType(\"sankey\",function(i){var r,a,t=i.getGraph().nodes;t.length&&(r=1/0,a=-1/0,s.each(t,function(t){var e=t.getLayout().value;e<r&&(r=e),a<e&&(a=e)}),s.each(t,function(t){var e=new o({type:\"color\",mappingMethod:\"linear\",dataExtent:[r,a],visual:i.get(\"color\")}).mapValueToVisual(t.getLayout().value),n=t.getModel().get(\"itemStyle.color\");null!=n?t.setVisual(\"color\",n):t.setVisual(\"color\",e)}))})}},function(t,e,n){var i=n(1);n(361),n(362);var r=n(363),a=n(364);i.registerVisual(r),i.registerLayout(a)},function(t,e,n){var i=n(0),r=n(14),a=n(177).seriesModelMixin,o=r.extend({type:\"series.boxplot\",dependencies:[\"xAxis\",\"yAxis\",\"grid\"],defaultValueDimensions:[{name:\"min\",defaultTooltip:!0},{name:\"Q1\",defaultTooltip:!0},{name:\"median\",defaultTooltip:!0},{name:\"Q3\",defaultTooltip:!0},{name:\"max\",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:\"#fff\",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:\"rgba(0,0,0,0.4)\"}},animationEasing:\"elasticOut\",animationDuration:800}});i.mixin(o,a,!0),t.exports=o},function(t,e,n){var h=n(0),i=n(23),c=n(2),r=n(10),d=[\"itemStyle\"],f=[\"emphasis\",\"itemStyle\"],a=i.extend({type:\"boxplot\",render:function(t,e,n){var r=t.getData(),a=this.group,o=this._data;this._data||a.removeAll();var s=\"horizontal\"===t.get(\"layout\")?1:0;r.diff(o).add(function(t){var e;r.hasValue(t)&&(e=l(r.getItemLayout(t),r,t,s,!0),r.setItemGraphicEl(t,e),a.add(e))}).update(function(t,e){var n,i=o.getItemGraphicEl(e);r.hasValue(t)?(n=r.getItemLayout(t),i?g(n,i,r,t):i=l(n,r,t,s),a.add(i),r.setItemGraphicEl(t,i)):a.remove(i)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&a.remove(e)}).execute(),this._data=r},remove:function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:h.noop}),p=r.extend({type:\"boxplotBoxPath\",shape:{},buildPath:function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])}});function l(t,e,n,i,r){var a,o,s,l=t.ends,u=new p({shape:{points:r?(a=l,o=i,s=t,h.map(a,function(t){return(t=t.slice())[o]=s.initBaseline,t})):l}});return g(t,u,e,n,r),u}function g(t,e,n,i,r){var a=n.hostModel;(0,c[r?\"initProps\":\"updateProps\"])(e,{shape:{points:t.ends}},a,i);var o=n.getItemModel(i),s=o.getModel(d),l=n.getItemVisual(i,\"color\"),u=s.getItemStyle([\"borderColor\"]);u.stroke=l,u.strokeNoScale=!0,e.useStyle(u),e.z2=100;var h=o.getModel(f).getItemStyle();c.setHoverStyle(e,h)}t.exports=a},function(t,e){var a=[\"itemStyle\",\"borderColor\"];t.exports=function(i,t){var r=i.get(\"color\");i.eachRawSeriesByType(\"boxplot\",function(t){var e=r[t.seriesIndex%r.length],n=t.getData();n.setVisual({legendSymbol:\"roundRect\",color:t.get(a)||e}),i.isSeriesFiltered(t)||n.each(function(t){var e=n.getItemModel(t);n.setItemVisual(t,{color:e.get(a,!0)})})})}},function(t,e,n){var p=n(0),g=n(3).parsePercent,m=p.each;t.exports=function(t){var i,r,e=(i=[],r=[],t.eachSeriesByType(\"boxplot\",function(t){var e=t.getBaseAxis(),n=p.indexOf(r,e);n<0&&(n=r.length,r[n]=e,i[n]={axis:e,seriesModels:[]}),i[n].seriesModels.push(t)}),i);m(e,function(n){var t=n.seriesModels;t.length&&(function(t){var e,n,i=t.axis,r=t.seriesModels,a=r.length,o=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];{var u;\"category\"===i.type?n=i.getBandWidth():(u=0,m(r,function(t){u=Math.max(u,t.getData().count())}),e=i.getExtent(),Math.abs(e[1]-e[0]))}m(r,function(t){var e=t.get(\"boxWidth\");p.isArray(e)||(e=[e,e]),l.push([g(e[0],n)||0,g(e[1],n)||0])});var h=.8*n-2,c=h/a*.3,d=(h-c*(a-1))/a,f=d/2-h/2;m(r,function(t,e){s.push(f),f+=c+d,o.push(Math.min(Math.max(d,l[e][0]),l[e][1]))})}(n),m(t,function(t,e){!function(t,o,e){var s=t.coordinateSystem,l=t.getData(),a=e/2,u=\"horizontal\"===t.get(\"layout\")?0:1,h=1-u,n=[\"x\",\"y\"],i=l.mapDimension(n[u]),r=l.mapDimension(n[h],!0);if(null==i||r.length<5)return;for(var c=0;c<l.count();c++){var d=l.get(i,c),f=_(d,r[2],c),p=_(d,r[0],c),g=_(d,r[1],c),m=_(d,r[3],c),v=_(d,r[4],c),y=[];x(y,g,0),x(y,m,1),y.push(p,g,v,m),b(y,p),b(y,v),b(y,f),l.setItemLayout(c,{initBaseline:f[h],ends:y})}function _(t,e,n){var i,r=l.get(e,n),a=[];return a[u]=t,a[h]=r,isNaN(t)||isNaN(r)?i=[NaN,NaN]:(i=s.dataToPoint(a))[u]+=o,i}function x(t,e,n){var i=e.slice(),r=e.slice();i[u]+=a,r[u]-=a,n?t.push(i,r):t.push(r,i)}function b(t,e){var n=e.slice(),i=e.slice();n[u]-=a,i[u]+=a,t.push(n,i)}}(t,n.boxOffsetList[e],n.boxWidthList[e])}))})}},function(t,e,n){var i=n(1);n(366),n(367);var r=n(368),a=n(369),o=n(370);i.registerPreprocessor(r),i.registerVisual(a),i.registerLayout(o)},function(t,e,n){var i=n(0),r=n(14),a=n(177).seriesModelMixin,o=r.extend({type:\"series.candlestick\",dependencies:[\"xAxis\",\"yAxis\",\"grid\"],defaultValueDimensions:[{name:\"open\",defaultTooltip:!0},{name:\"close\",defaultTooltip:!0},{name:\"lowest\",defaultTooltip:!0},{name:\"highest\",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:\"#c23531\",color0:\"#314656\",borderWidth:1,borderColor:\"#c23531\",borderColor0:\"#314656\"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:\"mod\",animationUpdate:!1,animationEasing:\"linear\",animationDuration:300},getShadowDim:function(){return\"open\"},brushSelector:function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)}});i.mixin(o,a,!0),t.exports=o},function(t,e,n){var o=n(0),i=n(23),c=n(2),r=n(10),a=n(61).createClipPath,h=[\"itemStyle\"],d=[\"emphasis\",\"itemStyle\"],f=[\"color\",\"color0\",\"borderColor\",\"borderColor0\"],s=i.extend({type:\"candlestick\",render:function(t,e,n){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,i){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(r){var a=r.getData(),o=this._data,s=this.group,l=a.getLayout(\"isSimpleBox\"),u=r.get(\"clip\",!0),t=r.coordinateSystem,h=t.getArea&&t.getArea();this._data||s.removeAll(),a.diff(o).add(function(t){if(a.hasValue(t)){var e,n=a.getItemLayout(t);if(u&&g(h,n))return;e=p(n,0,!0),c.initProps(e,{shape:{points:n.ends}},r,t),m(e,a,t,l),s.add(e),a.setItemGraphicEl(t,e)}}).update(function(t,e){var n,i=o.getItemGraphicEl(e);a.hasValue(t)?(n=a.getItemLayout(t),u&&g(h,n)?s.remove(i):(i?c.updateProps(i,{shape:{points:n.ends}},r,t):i=p(n),m(i,a,t,l),s.add(i),a.setItemGraphicEl(t,i))):s.remove(i)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&s.remove(e)}).execute(),this._data=a},_renderLarge:function(t){this._clear(),v(t,this.group);var e=t.get(\"clip\",!0)?a(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderNormal:function(t,e){for(var n,i=e.getData(),r=i.getLayout(\"isSimpleBox\");null!=(n=t.next());){var a=p(i.getItemLayout(n));m(a,i,n,r),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(t,e){v(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:o.noop}),l=r.extend({type:\"normalCandlestickBox\",shape:{},buildPath:function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))}});function p(t,e,n){var i,r,a=t.ends;return new l({shape:{points:n?(i=a,r=t,o.map(i,function(t){return(t=t.slice())[1]=r.initBaseline,t})):a},z2:100})}function g(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function m(t,e,n,i){var r=e.getItemModel(n),a=r.getModel(h),o=e.getItemVisual(n,\"color\"),s=e.getItemVisual(n,\"borderColor\")||o,l=a.getItemStyle(f);t.useStyle(l),t.style.strokeNoScale=!0,t.style.fill=o,t.style.stroke=s,t.__simpleBox=i;var u=r.getModel(d).getItemStyle();c.setHoverStyle(t,u)}var u=r.extend({type:\"largeCandlestickBox\",shape:{},buildPath:function(t,e){for(var n,i=e.points,r=0;r<i.length;){this.__sign===i[r++]?(n=i[r++],t.moveTo(n,i[r++]),t.lineTo(n,i[r++])):r+=3}}});function v(t,e,n){var i=t.getData(),r=i.getLayout(\"largePoints\"),a=new u({shape:{points:r},__sign:1});e.add(a);var o=new u({shape:{points:r},__sign:-1});e.add(o),y(1,a,t,i),y(-1,o,t,i),n&&(a.incremental=!0,o.incremental=!0)}function y(t,e,n,i){var r=0<t?\"P\":\"N\",a=i.getVisual(\"borderColor\"+r)||i.getVisual(\"color\"+r),o=n.getModel(h).getItemStyle(f);e.useStyle(o),e.style.fill=null,e.style.stroke=a}t.exports=s},function(t,e,n){var i=n(0);t.exports=function(t){t&&i.isArray(t.series)&&i.each(t.series,function(t){i.isObject(t)&&\"k\"===t.type&&(t.type=\"candlestick\")})}},function(t,e,n){var i=n(46),r=[\"itemStyle\",\"borderColor\"],s=[\"itemStyle\",\"borderColor0\"],l=[\"itemStyle\",\"color\"],u=[\"itemStyle\",\"color0\"],a={seriesType:\"candlestick\",plan:i(),performRawSeries:!0,reset:function(t,e){if(t.getData().setVisual({legendSymbol:\"roundRect\",colorP:a(1,t),colorN:a(-1,t),borderColorP:o(1,t),borderColorN:o(-1,t)}),!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){var n;for(;null!=(n=t.next());){var i=e.getItemModel(n),r=e.getItemLayout(n).sign;e.setItemVisual(n,{color:a(r,i),borderColor:o(r,i)})}}};function a(t,e){return e.get(0<t?l:u)}function o(t,e){return e.get(0<t?r:s)}}};t.exports=a},function(t,e,n){var M=n(2).subPixelOptimize,i=n(46),d=n(3).parsePercent,f=n(0).retrieve2,p=\"undefined\"!=typeof Float32Array?Float32Array:Array,r={seriesType:\"candlestick\",plan:i(),reset:function(t){var e,n,i,r,a,o,s,l,y=t.coordinateSystem,u=t.getData(),_=(n=u,r=(e=t).getBaseAxis(),a=\"category\"===r.type?r.getBandWidth():(i=r.getExtent(),Math.abs(i[1]-i[0])/n.count()),o=d(f(e.get(\"barMaxWidth\"),a),a),s=d(f(e.get(\"barMinWidth\"),1),a),null!=(l=e.get(\"barWidth\"))?d(l,a):Math.max(Math.min(a/2,o),s)),h=[\"x\",\"y\"],x=u.mapDimension(h[0]),c=u.mapDimension(h[1],!0),b=c[0],w=c[1],T=c[2],S=c[3];if(u.setLayout({candleWidth:_,isSimpleBox:_<=1.3}),!(null==x||c.length<4))return{progress:t.pipelineContext.large?function(t,e){var n,i,r=new p(4*t.count),a=0,o=[],s=[];for(;null!=(i=t.next());){var l=e.get(x,i),u=e.get(b,i),h=e.get(w,i),c=e.get(T,i),d=e.get(S,i);isNaN(l)||isNaN(c)||isNaN(d)?(r[a++]=NaN,a+=3):(r[a++]=A(e,i,u,h,w),o[0]=l,o[1]=c,n=y.dataToPoint(o,null,s),r[a++]=n?n[0]:NaN,r[a++]=n?n[1]:NaN,o[1]=d,n=y.dataToPoint(o,null,s),r[a++]=n?n[1]:NaN)}e.setLayout(\"largePoints\",r)}:function(t,e){var n;for(;null!=(n=t.next());){var i=e.get(x,n),r=e.get(b,n),a=e.get(w,n),o=e.get(T,n),s=e.get(S,n),l=Math.min(r,a),u=Math.max(r,a),h=g(l,i),c=g(u,i),d=g(o,i),f=g(s,i),p=[];m(p,c,0),m(p,h,1),p.push(v(f),v(c),v(d),v(h)),e.setItemLayout(n,{sign:A(e,n,r,a,w),initBaseline:a<r?c[1]:h[1],ends:p,brushRect:function(t,e,n){var i=g(t,n),r=g(e,n);return i[0]-=_/2,r[0]-=_/2,{x:i[0],y:i[1],width:_,height:r[1]-i[1]}}(o,s,i)})}function g(t,e){var n=[];return n[0]=e,n[1]=t,isNaN(e)||isNaN(t)?[NaN,NaN]:y.dataToPoint(n)}function m(t,e,n){var i=e.slice(),r=e.slice();i[0]=M(i[0]+_/2,1,!1),r[0]=M(r[0]-_/2,1,!0),n?t.push(i,r):t.push(r,i)}function v(t){return t[0]=M(t[0],1),t}}}}};function A(t,e,n,i,r){var a=!(i<n)&&(n<i||!(0<e)||t.get(r,e-1)<=i)?1:-1;return a}t.exports=r},function(t,e,n){var i=n(1);n(372),n(373);var r=n(39),a=n(62);i.registerVisual(r(\"effectScatter\",\"circle\")),i.registerLayout(a(\"effectScatter\"))},function(t,e,n){var i=n(27),r=n(14).extend({type:\"series.effectScatter\",dependencies:[\"grid\",\"polar\"],getInitialData:function(t,e){return i(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:\"point\",defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,effectType:\"ripple\",progressive:0,showEffectOn:\"render\",rippleEffect:{period:4,scale:2.5,brushType:\"fill\"},symbolSize:10}});t.exports=r},function(t,e,n){var i=n(1),r=n(60),a=n(374),o=n(15),s=n(62),l=i.extendChartView({type:\"effectScatter\",init:function(){this._symbolDraw=new r(a)},render:function(t,e,n){var i=t.getData(),r=this._symbolDraw;r.updateData(i),this.group.add(r.group)},updateTransform:function(t,e,n){var i=t.getData();this.group.dirty();var r=s().reset(t);r.progress&&r.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=o.clone(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}});t.exports=l},function(t,e,n){var m=n(0),s=n(18).createSymbol,r=n(2).Group,v=n(3).parsePercent,a=n(78);function l(t,e){var n=e.rippleEffectColor||e.color;t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:\"stroke\"===e.brushType?n:null,fill:\"fill\"===e.brushType?n:null}})})}function i(t,e){r.call(this);var n=new a(t,e),i=new r;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}var o=i.prototype;o.stopEffectAnimation=function(){this.childAt(1).removeAll()},o.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=this.childAt(1),r=0;r<3;r++){var a=s(e,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var o=-r/3*t.period+t.effectOffset;a.animate(\"\",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(o).start(),a.animateStyle(!0).when(t.period,{opacity:0}).delay(o).start(),i.add(a)}l(i,t)},o.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=[\"symbolType\",\"period\",\"rippleScale\"],r=0;r<i.length;r++){var a=i[r];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}l(n,t)},o.highlight=function(){this.trigger(\"emphasis\")},o.downplay=function(){this.trigger(\"normal\")},o.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var i,r=this.childAt(1),a=t.getItemModel(e),o=t.getItemVisual(e,\"symbol\"),s=(i=t.getItemVisual(e,\"symbolSize\"),m.isArray(i)||(i=[+i,+i]),i),l=t.getItemVisual(e,\"color\");r.attr(\"scale\",s),r.traverse(function(t){t.attr({fill:l})});var u,h=a.getShallow(\"symbolOffset\");h&&((u=r.position)[0]=v(h[0],s[0]),u[1]=v(h[1],s[1]));var c=t.getItemVisual(e,\"symbolRotate\");r.rotation=(c||0)*Math.PI/180||0;var d,f,p,g={};g.showEffectOn=n.get(\"showEffectOn\"),g.rippleScale=a.get(\"rippleEffect.scale\"),g.brushType=a.get(\"rippleEffect.brushType\"),g.period=1e3*a.get(\"rippleEffect.period\"),g.effectOffset=e/t.count(),g.z=a.getShallow(\"z\")||0,g.zlevel=a.getShallow(\"zlevel\")||0,g.symbolType=o,g.color=l,g.rippleEffectColor=a.get(\"rippleEffect.color\"),this.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),\"render\"===g.showEffectOn?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),d=this.childAt(0),f=function(){d.highlight(),\"render\"!==g.showEffectOn&&this.startEffectAnimation(g)},p=function(){d.downplay(),\"render\"!==g.showEffectOn&&this.stopEffectAnimation()},this.on(\"mouseover\",f,this).on(\"mouseout\",p,this).on(\"emphasis\",f,this).on(\"normal\",p,this)),this._effectCfg=g},o.fadeOut=function(t){this.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\"),t&&t()},m.inherits(i,r),t.exports=i},function(t,e,n){var i=n(1);n(376),n(377);var r=n(180),a=n(380);i.registerLayout(r),i.registerVisual(a)},function(t,e,n){n(5).__DEV__;var i=n(14),r=n(17),a=n(0),o=a.concatArray,s=a.mergeAll,l=a.map,u=n(7).encodeHTML,f=(n(19),\"undefined\"==typeof Uint32Array?Array:Uint32Array),p=\"undefined\"==typeof Float64Array?Array:Float64Array;function h(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=l(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),s([e,t[0],t[1]])}))}var c=i.extend({type:\"series.lines\",dependencies:[\"grid\",\"polar\"],visualColorAccessPath:\"lineStyle.color\",init:function(t){t.data=t.data||[],h(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),c.superApply(this,\"init\",arguments)},mergeOption:function(t){var e;t.data=t.data||[],h(t),t.data&&(e=this._processFlatCoordsArray(t.data),this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))),c.superApply(this,\"mergeOption\",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=o(this._flatCoords,e.flatCoords),this._flatCoordsOffset=o(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t);return e.option instanceof Array?e.option:e.getShallow(\"coords\")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}for(var a=this._getCoordsFromItemModel(t),r=0;r<a.length;r++)e[r]=e[r]||[],e[r][0]=a[r][0],e[r][1]=a[r][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),\"number\"!=typeof t[0])return{flatCoordsOffset:null,flatCoords:null,count:t.length};for(var n=t.length,i=new f(n),r=new p(n),a=0,o=0,s=0,l=0;l<n;){s++;var u=t[l++];i[o++]=a+e,i[o++]=u;for(var h=0;h<u;h++){var c=t[l++],d=t[l++];r[a++]=c,r[a++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:r,count:s}},getInitialData:function(t,e){var a=new r([\"value\"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(t,e,n,i){if(t instanceof Array)return NaN;a.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[i]:r:void 0}),a},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get(\"name\");if(n)return n;var i=e.get(\"fromName\"),r=e.get(\"toName\"),a=[];return null!=i&&a.push(i),null!=r&&a.push(r),u(a.join(\" > \"))},preventIncremental:function(){return!!this.get(\"effect.show\")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get(\"progressive\"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get(\"progressiveThreshold\"):t},defaultOption:{coordinateSystem:\"geo\",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:[\"none\",\"none\"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:\"circle\",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:\"end\"},lineStyle:{opacity:.5}}});t.exports=c},function(t,e,n){n(5).__DEV__;var i=n(1),o=n(105),s=n(178),l=n(106),u=n(179),h=n(378),c=n(379),d=n(180),f=n(61).createClipPath,r=i.extendChartView({type:\"lines\",init:function(){},render:function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),a=t.get(\"zlevel\"),o=t.get(\"effect.trailLength\"),s=n.getZr(),l=\"svg\"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&o&&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),r.updateData(i);var u=t.get(\"clip\",!0)&&f(t.coordinateSystem,!1,t);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var a=d.reset(t);a.progress&&a.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,i=this._showEffect(e),r=!!e.get(\"polyline\"),a=e.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&a===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=a?new c:new o(r?i?h:u:i?s:l),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=a,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get(\"effect.show\")},_clearLayer:function(t){var e=t.getZr();\"svg\"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});t.exports=r},function(t,e,n){var i=n(179),r=n(0),a=n(178),u=n(8);function o(t,e,n){a.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}var s=o.prototype;s.createLine=function(t,e,n){return new i(t,e,n)},s.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var a=e[r-1],o=e[r];i+=u.dist(a,o),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},s.getLineLength=function(t){return this._length},s.updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var a=this._lastFrame;if(e<this._lastFramePercent){for(o=Math.min(a+1,r-1);0<=o&&!(i[o]<=e);o--);o=Math.min(o,r-2)}else{for(var o=a;o<r&&!(i[o]>e);o++);o=Math.min(o-1,r-2)}u.lerp(t.position,n[o],n[o+1],(e-i[o])/(i[o+1]-i[o]));var s=n[o+1][0]-n[o][0],l=n[o+1][1]-n[o][1];t.rotation=-Math.atan2(l,s)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=e,t.ignore=!1}},r.inherits(o,a),t.exports=o},function(t,e,n){var i=n(2),r=n(93),g=n(133),m=n(134),a=i.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,i=e.curveness;if(e.polyline)for(var r=0;r<n.length;){var a=n[r++];if(0<a){t.moveTo(n[r++],n[r++]);for(var o=1;o<a;o++)t.lineTo(n[r++],n[r++])}}else for(r=0;r<n.length;){var s,l,u=n[r++],h=n[r++],c=n[r++],d=n[r++];t.moveTo(u,h),0<i?(s=(u+c)/2-(h-d)*i,l=(h+d)/2-(c-u)*i,t.quadraticCurveTo(s,l,c,d)):t.lineTo(c,d)}},findDataIndex:function(t,e){var n=this.shape,i=n.segs,r=n.curveness;if(n.polyline)for(var a=0,o=0;o<i.length;){var s=i[o++];if(0<s)for(var l=i[o++],u=i[o++],h=1;h<s;h++){var c=i[o++],d=i[o++];if(g.containStroke(l,u,c,d))return a}a++}else for(a=0,o=0;o<i.length;){l=i[o++],u=i[o++],c=i[o++],d=i[o++];if(0<r){var f=(l+c)/2-(u-d)*r,p=(u+d)/2-(c-l)*r;if(m.containStroke(l,u,f,p,c,d))return a}else if(g.containStroke(l,u,c,d))return a;a++}return-1}});function o(){this.group=new i.Group}var s=o.prototype;s.isPersistent=function(){return!this._incremental},s.updateData=function(t){this.group.removeAll();var e=new a({rectHover:!0,cursor:\"default\"});e.setShape({segs:t.getLayout(\"linesPoints\")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},s.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),5e5<t.count()?(this._incremental||(this._incremental=new r({silent:!0})),this.group.add(this._incremental)):this._incremental=null},s.incrementalUpdate=function(t,e){var n=new a;n.setShape({segs:e.getLayout(\"linesPoints\")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor=\"default\",n.__startIndex=t.start,this.group.add(n))},s.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},s._setCommon=function(n,t,e){var i=t.hostModel;n.setShape({polyline:i.get(\"polyline\"),curveness:i.get(\"lineStyle.curveness\")}),n.useStyle(i.getModel(\"lineStyle\").getLineStyle()),n.style.strokeNoScale=!0;var r=t.getVisual(\"color\");r&&n.setStyle(\"stroke\",r),n.setStyle(\"fill\"),e||(n.seriesIndex=i.seriesIndex,n.on(\"mousemove\",function(t){n.dataIndex=null;var e=n.findDataIndex(t.offsetX,t.offsetY);0<e&&(n.dataIndex=e+n.__startIndex)}))},s._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},t.exports=o},function(t,e){function o(t){return t instanceof Array||(t=[t,t]),t}var s=\"lineStyle.opacity\".split(\".\"),n={seriesType:\"lines\",reset:function(t,e,n){var i=o(t.get(\"symbol\")),r=o(t.get(\"symbolSize\")),a=t.getData();return a.setVisual(\"fromSymbol\",i&&i[0]),a.setVisual(\"toSymbol\",i&&i[1]),a.setVisual(\"fromSymbolSize\",r&&r[0]),a.setVisual(\"toSymbolSize\",r&&r[1]),a.setVisual(\"opacity\",t.get(s)),{dataEach:a.hasItemOption?function(t,e){var n=t.getItemModel(e),i=o(n.getShallow(\"symbol\",!0)),r=o(n.getShallow(\"symbolSize\",!0)),a=n.get(s);i[0]&&t.setItemVisual(e,\"fromSymbol\",i[0]),i[1]&&t.setItemVisual(e,\"toSymbol\",i[1]),r[0]&&t.setItemVisual(e,\"fromSymbolSize\",r[0]),r[1]&&t.setItemVisual(e,\"toSymbolSize\",r[1]),t.setItemVisual(e,\"opacity\",a)}:null}}};t.exports=n},function(t,e,n){n(382),n(383)},function(t,e,n){var i=n(14),r=n(27),a=n(19),o=i.extend({type:\"series.heatmap\",getInitialData:function(t,e){return r(this.getSource(),this,{generateCoord:\"value\"})},preventIncremental:function(){var t=a.get(this.get(\"coordinateSystem\"));if(t&&t.dimensions)return\"lng\"===t.dimensions[0]&&\"lat\"===t.dimensions[1]},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});t.exports=o},function(t,e,n){n(5).__DEV__;var i=n(1),E=n(2),L=n(384),P=n(0);var r=i.extendChartView({type:\"heatmap\",render:function(n,t,e){var i;t.eachComponent(\"visualMap\",function(e){e.eachTargetSeries(function(t){t===n&&(i=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var r,a=n.coordinateSystem;\"cartesian2d\"===a.type||\"calendar\"===a.type?this._renderOnCartesianAndCalendar(n,e,0,n.getData().count()):\"lng\"===(r=a.dimensions)[0]&&\"lat\"===r[1]&&this._renderOnGeo(a,n,i,e)},incrementalPrepareRender:function(t,e,n){this.group.removeAll()},incrementalRender:function(t,e,n,i){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,n,i,r){var a,o,s,l,u=t.coordinateSystem;\"cartesian2d\"===u.type&&(a=u.getAxis(\"x\"),o=u.getAxis(\"y\"),s=a.getBandWidth(),l=o.getBandWidth());for(var h=this.group,c=t.getData(),d=\"emphasis.itemStyle\",f=\"emphasis.label\",p=t.getModel(\"itemStyle\").getItemStyle([\"color\"]),g=t.getModel(d).getItemStyle(),m=t.getModel(\"label\"),v=t.getModel(f),y=u.type,_=\"cartesian2d\"===y?[c.mapDimension(\"x\"),c.mapDimension(\"y\"),c.mapDimension(\"value\")]:[c.mapDimension(\"time\"),c.mapDimension(\"value\")],x=n;x<i;x++){if(\"cartesian2d\"===y){if(isNaN(c.get(_[2],x)))continue;var b=u.dataToPoint([c.get(_[0],x),c.get(_[1],x)]),w=new E.Rect({shape:{x:Math.floor(Math.round(b[0])-s/2),y:Math.floor(Math.round(b[1])-l/2),width:Math.ceil(s),height:Math.ceil(l)},style:{fill:c.getItemVisual(x,\"color\"),opacity:c.getItemVisual(x,\"opacity\")}})}else{if(isNaN(c.get(_[1],x)))continue;w=new E.Rect({z2:1,shape:u.dataToRect([c.get(_[0],x)]).contentShape,style:{fill:c.getItemVisual(x,\"color\"),opacity:c.getItemVisual(x,\"opacity\")}})}var T=c.getItemModel(x);c.hasItemOption&&(p=T.getModel(\"itemStyle\").getItemStyle([\"color\"]),g=T.getModel(d).getItemStyle(),m=T.getModel(\"label\"),v=T.getModel(f));var S=t.getRawValue(x),M=\"-\";S&&null!=S[2]&&(M=S[2]),E.setLabelStyle(p,g,m,v,{labelFetcher:t,labelDataIndex:x,defaultText:M,isRectText:!0}),w.setStyle(p),E.setHoverStyle(w,c.hasItemOption?g:P.extend({},g)),(w.incremental=r)&&(w.useHoverLayer=!0),h.add(w),c.setItemGraphicEl(x,w)}},_renderOnGeo:function(r,t,e,n){var i=e.targetVisuals.inRange,a=e.targetVisuals.outOfRange,o=t.getData(),s=this._hmLayer||this._hmLayer||new L;s.blurSize=t.get(\"blurSize\"),s.pointSize=t.get(\"pointSize\"),s.minOpacity=t.get(\"minOpacity\"),s.maxOpacity=t.get(\"maxOpacity\");var l=r.getViewRect().clone(),u=r.getRoamTransform();l.applyTransform(u);var h,c,d,f,p,g,m,v,y,_=Math.max(l.x,0),x=Math.max(l.y,0),b=Math.min(l.width+l.x,n.getWidth()),w=Math.min(l.height+l.y,n.getHeight()),T=b-_,S=w-x,M=[o.mapDimension(\"lng\"),o.mapDimension(\"lat\"),o.mapDimension(\"value\")],A=o.mapArray(M,function(t,e,n){var i=r.dataToPoint([t,e]);return i[0]-=_,i[1]-=x,i.push(n),i}),I=e.getExtent(),C=\"visualMap.continuous\"===e.type?(m=I,v=e.option.range,y=m[1]-m[0],v=[(v[0]-m[0])/y,(v[1]-m[0])/y],function(t){return t>=v[0]&&t<=v[1]}):(h=I,c=e.getPieceList(),d=e.option.selected,f=h[1]-h[0],p=(c=P.map(c,function(t){return{interval:[(t.interval[0]-h[0])/f,(t.interval[1]-h[0])/f]}})).length,g=0,function(t){for(var e=g;e<p;e++)if((n=c[e].interval)[0]<=t&&t<=n[1]){g=e;break}if(e===p)for(var n,e=g-1;0<=e;e--)if((n=c[e].interval)[0]<=t&&t<=n[1]){g=e;break}return 0<=e&&e<p&&d[e]});s.update(A,T,S,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:a.color.getColorMapper()},C);var D=new E.Image({style:{width:T,height:S,x:_,y:x,image:s.canvas},silent:!0});this.group.add(D)},dispose:function(){}});t.exports=r},function(t,e,n){var r=n(0);function i(){var t=r.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}i.prototype={update:function(t,e,n,i,r,a){var o=this._getBrush(),s=this._getGradient(t,r,\"inRange\"),l=this._getGradient(t,r,\"outOfRange\"),u=this.pointSize+this.blurSize,h=this.canvas,c=h.getContext(\"2d\"),d=t.length;h.width=e,h.height=n;for(var f=0;f<d;++f){var p=t[f],g=p[0],m=p[1],v=i(p[2]);c.globalAlpha=v,c.drawImage(o,g-u,m-u)}if(!h.width||!h.height)return h;for(var y=c.getImageData(0,0,h.width,h.height),_=y.data,x=0,b=_.length,w=this.minOpacity,T=this.maxOpacity-w;x<b;){var S,v=_[x+3]/256,M=4*Math.floor(255*v);0<v?(S=a(v)?s:l,0<v&&(v=v*T+w),_[x++]=S[M],_[x++]=S[1+M],_[x++]=S[2+M],_[x++]=S[3+M]*v*256):x+=4}return c.putImageData(y,0,0),h},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=r.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext(\"2d\");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor=\"#000\",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},_getGradient:function(t,e,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,s=0;s<256;s++)e[n](s/255,!0,a),r[o++]=a[0],r[o++]=a[1],r[o++]=a[2],r[o++]=a[3];return r}},t.exports=i},function(t,e,n){var i=n(1),r=n(0);n(98),n(386),n(387);var a=n(77).layout,o=n(39);n(63),i.registerLayout(r.curry(a,\"pictorialBar\")),i.registerVisual(o(\"pictorialBar\",\"roundRect\"))},function(t,e,n){var i=n(162).extend({type:\"series.pictorialBar\",dependencies:[\"grid\"],defaultOption:{symbol:\"circle\",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:\"end\",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:\"-100%\",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,i.superApply(this,\"getInitialData\",arguments)}});t.exports=i},function(t,e,n){var i=n(1),C=n(0),d=n(2),r=n(18).createSymbol,a=n(3),D=a.parsePercent,E=a.isNumeric,f=n(163).setLabel,p=[\"itemStyle\",\"borderWidth\"],h=[{xy:\"x\",wh:\"width\",index:0,posDesc:[\"left\",\"right\"]},{xy:\"y\",wh:\"height\",index:1,posDesc:[\"top\",\"bottom\"]}],g=new d.Circle,o=i.extendChartView({type:\"pictorialBar\",render:function(t,e,n){var o=this.group,s=t.getData(),l=this._data,i=t.coordinateSystem,r=!!i.getBaseAxis().isHorizontal(),a=i.grid.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:i,coordSysExtent:[[a.x,a.x+a.width],[a.y,a.y+a.height]],isHorizontal:r,valueDim:h[+r],categoryDim:h[1-r]};return s.diff(l).add(function(t){var e,n,i;s.hasValue(t)&&(e=w(s,t),n=c(s,t,e,u),i=S(s,u,n),s.setItemGraphicEl(t,i),o.add(i),P(i,u,n))}).update(function(t,e){var n,i,r,a=l.getItemGraphicEl(e);s.hasValue(t)?(n=w(s,t),i=c(s,t,n,u),r=A(s,i),a&&r!==a.__pictorialShapeStr&&(o.remove(a),s.setItemGraphicEl(t,null),a=null),a?function(t,e,n){var i=n.animationModel,r=n.dataIndex,a=t.__pictorialBundle;d.updateProps(a,{position:n.bundlePosition.slice()},i,r),(n.symbolRepeat?y:_)(t,e,n,!0);x(t,n,!0),b(t,e,n,!0)}(a,u,i):a=S(s,u,i,!0),s.setItemGraphicEl(t,a),a.__pictorialSymbolMeta=i,o.add(a),P(a,u,i)):o.remove(a)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&M(l,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=s,this.group},dispose:C.noop,remove:function(e,t){var n=this.group,i=this._data;e.get(\"animation\")?i&&i.eachItemGraphicEl(function(t){M(i,t.dataIndex,e,t)}):n.removeAll()}});function c(t,e,n,i){var r=t.getItemLayout(e),a=n.get(\"symbolRepeat\"),o=n.get(\"symbolClip\"),s=n.get(\"symbolPosition\")||\"start\",l=(n.get(\"symbolRotate\")||0)*Math.PI/180||0,u=n.get(\"symbolPatternSize\")||2,h=n.isAnimationEnabled(),c={dataIndex:e,layout:r,itemModel:n,symbolType:t.getItemVisual(e,\"symbol\")||\"circle\",color:t.getItemVisual(e,\"color\"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:n.get(\"symbolRepeatDirection\"),symbolPatternSize:u,rotation:l,animationModel:h?n:null,hoverAnimation:h&&n.get(\"hoverAnimation\"),z2:n.getShallow(\"z\",!0)||0};!function(t,e,n,i,r){var a,o=i.valueDim,s=t.get(\"symbolBoundingData\"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),h=1-(n[o.wh]<=0);{var c;a=C.isArray(s)?((c=[m(l,s[0])-u,m(l,s[1])-u])[1]<c[0]&&c.reverse(),c[h]):null!=s?m(l,s)-u:e?i.coordSysExtent[o.index][h]-u:n[o.wh]}r.boundingLength=a,e&&(r.repeatCutLength=n[o.wh]);r.pxSign=0<a?1:a<0?-1:0}(n,a,r,i,c),function(t,e,n,i,r,a,o,s,l){var u=s.valueDim,h=s.categoryDim,c=Math.abs(n[h.wh]),d=t.getItemVisual(e,\"symbolSize\");d=C.isArray(d)?d.slice():(null==d&&(d=\"100%\"),[d,d]);d[h.index]=D(d[h.index],c),d[u.index]=D(d[u.index],i?c:Math.abs(r)),l.symbolSize=d,(l.symbolScale=[d[0]/o,d[1]/o])[u.index]*=(s.isHorizontal?-1:1)*a}(t,e,r,a,c.boundingLength,c.pxSign,u,i,c),function(t,e,n,i,r){var a=t.get(p)||0;a&&(g.attr({scale:e.slice(),rotation:n}),g.updateTransform(),a/=g.getLineScale(),a*=e[i.valueDim.index]);r.valueLineWidth=a}(n,c.symbolScale,l,i,c);var d=c.symbolSize,f=n.get(\"symbolOffset\");return C.isArray(f)&&(f=[D(f[0],d[0]),D(f[1],d[1])]),function(t,e,n,i,r,a,o,s,l,u,h){var c=u.categoryDim,d=u.valueDim,f=h.pxSign,p=Math.max(e[d.index]+o,0),g=p;{var m,v,y,_,x,b,w;i&&(m=Math.abs(s),v=C.retrieve(t.get(\"symbolMargin\"),\"15%\")+\"\",y=!1,v.lastIndexOf(\"!\")===v.length-1&&(y=!0,v=v.slice(0,v.length-1)),v=D(v,e[d.index]),_=Math.max(p+2*v,0),x=y?0:2*v,b=E(i),w=b?i:N((m+x)/_),_=p+2*(v=(m-w*p)/2/(y?w:w-1)),x=y?0:2*v,b||\"fixed\"===i||(w=l?N((Math.abs(l)+x)/_):0),g=w*_-x,h.repeatTimes=w,h.symbolMargin=v)}var T=f*(g/2),S=h.pathPosition=[];S[c.index]=n[c.wh]/2,S[d.index]=\"start\"===a?T:\"end\"===a?s-T:s/2,r&&(S[0]+=r[0],S[1]+=r[1]);var M=h.bundlePosition=[];M[c.index]=n[c.xy],M[d.index]=n[d.xy];var A=h.barRectShape=C.extend({},n);A[d.wh]=f*Math.max(Math.abs(n[d.wh]),Math.abs(S[d.index]+T)),A[c.wh]=n[c.wh];var I=h.clipShape={};I[c.xy]=-n[c.xy],I[c.wh]=u.ecSize[c.wh],I[d.xy]=0,I[d.wh]=n[d.wh]}(n,d,r,a,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c),c}function m(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function v(t){var e=t.symbolPatternSize,n=r(t.symbolType,-e/2,-e/2,e,e,t.color);return n.attr({culling:!0}),\"image\"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function y(t,e,r,n){var i=t.__pictorialBundle,a=r.symbolSize,o=r.valueLineWidth,s=r.pathPosition,l=e.valueDim,u=r.repeatTimes||0,h=0,c=a[e.valueDim.index]+o+2*r.symbolMargin;for(I(t,function(t){t.__pictorialAnimationIndex=h,t.__pictorialRepeatTimes=u,h<u?L(t,null,p(h),r,n):L(t,null,{scale:[0,0]},r,n,function(){i.remove(t)}),T(t,r),h++});h<u;h++){var d=v(r);d.__pictorialAnimationIndex=h,d.__pictorialRepeatTimes=u,i.add(d);var f=p(h);L(d,{position:f.position,scale:[0,0]},{scale:f.scale,rotation:f.rotation},r,n),d.on(\"mouseover\",g).on(\"mouseout\",m),T(d,r)}function p(t){var e=s.slice(),n=r.pxSign,i=t;return(\"start\"===r.symbolRepeatDirection?0<n:n<0)&&(i=u-1-t),e[l.index]=c*(i-u/2+.5)+s[l.index],{position:e,scale:r.symbolScale.slice(),rotation:r.rotation}}function g(){I(t,function(t){t.trigger(\"emphasis\")})}function m(){I(t,function(t){t.trigger(\"normal\")})}}function _(t,e,n,i){var r=t.__pictorialBundle,a=t.__pictorialMainPath;a?L(a,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(a=t.__pictorialMainPath=v(n),r.add(a),L(a,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),a.on(\"mouseover\",function(){this.trigger(\"emphasis\")}).on(\"mouseout\",function(){this.trigger(\"normal\")})),T(a,n)}function x(t,e,n){var i=C.extend({},e.barRectShape),r=t.__pictorialBarRect;r?L(r,null,{shape:i},e,n):(r=t.__pictorialBarRect=new d.Rect({z2:2,shape:i,silent:!0,style:{stroke:\"transparent\",fill:\"transparent\",lineWidth:0}}),t.add(r))}function b(t,e,n,i){var r,a,o,s,l,u;n.symbolClip&&(r=t.__pictorialClipPath,a=C.extend({},n.clipShape),o=e.valueDim,s=n.animationModel,l=n.dataIndex,r?d.updateProps(r,{shape:a},s,l):(a[o.wh]=0,r=new d.Rect({shape:a}),t.__pictorialBundle.setClipPath(r),t.__pictorialClipPath=r,(u={})[o.wh]=n.clipShape[o.wh],d[i?\"updateProps\":\"initProps\"](r,{shape:u},s,l)))}function w(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=s,n.isAnimationEnabled=l,n}function s(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function l(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow(\"animation\")}function T(t,e){t.off(\"emphasis\").off(\"normal\");var n=e.symbolScale.slice();e.hoverAnimation&&t.on(\"emphasis\",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,\"elasticOut\")}).on(\"normal\",function(){this.animateTo({scale:n.slice()},400,\"elasticOut\")})}function S(t,e,n,i){var r=new d.Group,a=new d.Group;return r.add(a),(r.__pictorialBundle=a).attr(\"position\",n.bundlePosition.slice()),n.symbolRepeat?y(r,e,n):_(r,0,n),x(r,n,i),b(r,e,n,i),r.__pictorialShapeStr=A(t,n),r.__pictorialSymbolMeta=n,r}function M(t,e,n,i){var r=i.__pictorialBarRect;r&&(r.style.text=null);var a=[];I(i,function(t){a.push(t)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),C.each(a,function(t){d.updateProps(t,{scale:[0,0]},n,e,function(){i.parent&&i.parent.remove(i)})}),t.setItemGraphicEl(e,null)}function A(t,e){return[t.getItemVisual(e.dataIndex,\"symbol\")||\"none\",!!e.symbolRepeat,!!e.symbolClip].join(\":\")}function I(e,n,i){C.each(e.__pictorialBundle.children(),function(t){t!==e.__pictorialBarRect&&n.call(i,t)})}function L(t,e,n,i,r,a){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&d[r?\"updateProps\":\"initProps\"](t,n,i.animationModel,i.dataIndex,a)}function P(t,e,n){var i=n.color,r=n.dataIndex,a=n.itemModel,o=a.getModel(\"itemStyle\").getItemStyle([\"color\"]),s=a.getModel(\"emphasis.itemStyle\").getItemStyle(),l=a.getShallow(\"cursor\");I(t,function(t){t.setColor(i),t.setStyle(C.defaults({fill:i,opacity:n.opacity},o)),d.setHoverStyle(t,s),l&&(t.cursor=l),t.z2=n.z2});var u={},h=e.valueDim.posDesc[+(0<n.boundingLength)],c=t.__pictorialBarRect;f(c.style,u,a,i,e.seriesModel,r,h),d.setHoverStyle(c,u)}function N(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}t.exports=o},function(t,e,n){var i=n(1);n(181),n(398),n(399);var r=n(400),a=n(401),o=n(65);i.registerLayout(r),i.registerVisual(a),i.registerProcessor(o(\"themeRiver\"))},function(t,e,n){var o=n(390);n(19).register(\"single\",{create:function(i,r){var a=[];return i.eachComponent(\"singleAxis\",function(t,e){var n=new o(t,i,r);n.name=\"single_\"+e,n.resize(t,r),t.coordinateSystem=n,a.push(n)}),i.eachSeries(function(t){var e;\"singleAxis\"===t.get(\"coordinateSystem\")&&(e=i.queryComponents({mainType:\"singleAxis\",index:t.get(\"singleAxisIndex\"),id:t.get(\"singleAxisId\")})[0],t.coordinateSystem=e&&e.coordinateSystem)}),a},dimensions:o.prototype.dimensions})},function(t,e,n){var o=n(391),s=n(20),i=n(6).getLayoutRect,r=n(0).each;function a(t,e,n){this.dimension=\"single\",this.dimensions=[\"single\"],this._axis=null,this._rect,this._init(t,e,n),this.model=t}a.prototype={type:\"singleAxis\",axisPointerEnabled:!0,constructor:a,_init:function(t,e,n){var i=this.dimension,r=new o(i,s.createScaleByModel(t),[0,0],t.get(\"type\"),t.get(\"position\")),a=\"category\"===r.type;r.onBand=a&&t.get(\"boundaryGap\"),r.inverse=t.get(\"inverse\"),r.orient=t.get(\"orient\"),(t.axis=r).model=t,(r.coordinateSystem=this)._axis=r},update:function(t,e){t.eachSeries(function(t){var e;t.coordinateSystem===this&&(e=t.getData(),r(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),s.niceScaleExtent(this._axis.scale,this._axis.model))},this)},resize:function(t,e){this._rect=i({left:t.get(\"left\"),top:t.get(\"top\"),right:t.get(\"right\"),bottom:t.get(\"bottom\"),width:t.get(\"width\"),height:t.get(\"height\")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),n=this.getAxis();return\"horizontal\"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t[\"horizontal\"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),i=[],r=\"horizontal\"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0==r?n.y+n.height/2:n.x+n.width/2,i}},t.exports=a},function(t,e,n){function i(t,e,n,i,r){a.call(this,t,e,n),this.type=i||\"value\",this.position=r||\"bottom\",this.orient=null}var r=n(0),a=n(31);i.prototype={constructor:i,model:null,isHorizontal:function(){var t=this.position;return\"top\"===t||\"bottom\"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},r.inherits(i,a),t.exports=i},function(t,e,n){var l=n(0),u=n(32),m=n(2),h=n(182),i=n(40),r=n(161),a=r.rectCoordAxisBuildSplitArea,o=r.rectCoordAxisHandleRemove,c=[\"axisLine\",\"axisTickLabel\",\"axisName\"],d=[\"splitArea\",\"splitLine\"],f=i.extend({type:\"singleAxis\",axisPointerClass:\"SingleAxisPointer\",render:function(e,t,n,i){var r=this.group;r.removeAll();var a=this._axisGroup;this._axisGroup=new m.Group;var o=h.layout(e),s=new u(e,o);l.each(c,s.add,s),r.add(this._axisGroup),r.add(s.getGroup()),l.each(d,function(t){e.get(t+\".show\")&&this[\"_\"+t](e)},this),m.groupTransition(a,this._axisGroup,e),f.superCall(this,\"render\",e,t,n,i)},remove:function(){o(this)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){for(var n=t.getModel(\"splitLine\"),i=n.getModel(\"lineStyle\"),r=i.get(\"width\"),a=(a=i.get(\"color\"))instanceof Array?a:[a],o=t.coordinateSystem.getRect(),s=e.isHorizontal(),l=[],u=0,h=e.getTicksCoords({tickModel:n}),c=[],d=[],f=0;f<h.length;++f){var p=e.toGlobalCoord(h[f].coord);s?(c[0]=p,c[1]=o.y,d[0]=p,d[1]=o.y+o.height):(c[0]=o.x,c[1]=p,d[0]=o.x+o.width,d[1]=p);var g=u++%a.length;l[g]=l[g]||[],l[g].push(new m.Line({subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:{lineWidth:r},silent:!0}))}for(f=0;f<l.length;++f)this.group.add(m.mergePath(l[f],{style:{stroke:a[f%a.length],lineDash:i.getLineDash(r),lineWidth:r},silent:!0}))}},_splitArea:function(t){a(this,this._axisGroup,t,t)}});t.exports=f},function(t,e,n){var i=n(0),r=n(13),a=n(79),o=n(48),s=r.extend({type:\"singleAxis\",layoutMode:\"box\",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});i.merge(s.prototype,o),a(\"single\",s,function(t,e){return e.type||(e.data?\"category\":\"value\")},{left:\"5%\",top:\"5%\",right:\"5%\",bottom:\"5%\",type:\"value\",position:\"bottom\",orient:\"horizontal\",axisLine:{show:!0,lineStyle:{width:1,type:\"solid\"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:\"auto\"},splitLine:{show:!0,lineStyle:{type:\"dashed\",opacity:.2}}}),t.exports=s},function(t,e,n){var x=n(0),i=n(4).makeInner,c=n(80),b=n(183),w=x.each,T=x.curry,S=i();function M(t,e,n,i,r){var a,l,o,u,h,c,d,f,p,s,g,m=t.axis;!m.scale.isBlank()&&m.containData(e)&&(t.involveSeries?(g=(a=(l=e,u=(o=t).axis,h=u.dim,c=l,d=[],f=Number.MAX_VALUE,p=-1,w(o.seriesModels,function(e,t){var n,i,r=e.getData().mapDimension(h,!0);if(e.getAxisTooltipData)var a=e.getAxisTooltipData(r,l,u),o=a.dataIndices,s=a.nestestValue;else{if(!(o=e.getData().indicesOfNearest(r[0],l,\"category\"===u.type?.5:null)).length)return;s=e.getData().get(r[0],o[0])}null!=s&&isFinite(s)&&(n=l-s,(i=Math.abs(n))<=f&&((i<f||0<=n&&p<0)&&(f=i,p=n,c=s,d.length=0),w(o,function(t){d.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}),{payloadBatch:d,snapToValue:c})).snapToValue,(s=a.payloadBatch)[0]&&null==r.seriesIndex&&x.extend(r,s[0]),!i&&t.snap&&m.containData(g)&&null!=g&&(e=g),n.showPointer(t,e,s,r),n.showTooltip(t,a,g)):n.showPointer(t,e))}function A(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function I(t,e,n,i){var r,a,o,s=n.payloadBatch,l=e.axis,u=l.model,h=e.axisPointerModel;e.triggerTooltip&&s.length&&(r=e.coordSys.model,a=c.makeKey(r),(o=t.map[a])||(o=t.map[a]={coordSysId:r.id,coordSysIndex:r.componentIndex,coordSysType:r.type,coordSysMainType:r.mainType,dataByAxis:[]},t.list.push(o)),o.dataByAxis.push({axisDim:l.dim,axisIndex:u.componentIndex,axisType:u.type,axisId:u.id,value:i,valueLabelOpt:{precision:h.get(\"label.precision\"),formatter:h.get(\"label.formatter\")},seriesDataIndices:s.slice()}))}function C(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+\"AxisIndex\"]=e.componentIndex,n.axisName=n[i+\"AxisName\"]=e.name,n.axisId=n[i+\"AxisId\"]=e.id,n}function D(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}t.exports=function(t,e,n){var i=t.currTrigger,o=[t.x,t.y],r=t,a=t.dispatchAction||x.bind(n.dispatchAction,n),s=e.getComponent(\"axisPointer\").coordSysAxesInfo;if(s){D(o)&&(o=b({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var l=D(o),u=r.axesInfo,h=s.axesInfo,c=\"leave\"===i||D(o),d={},f={},p={list:[],map:{}},g={showPointer:T(A,f),showTooltip:T(I,p)};w(s.coordSysMap,function(t,e){var a=l||t.containPoint(o);w(s.coordSysAxesInfo[e],function(t,e){var n,i=t.axis,r=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,t);c||!a||u&&!r||(null!=(n=r&&r.value)||l||(n=i.pointToData(o)),null!=n&&M(t,n,g,!1,d))})});var m,v,y,_={};return w(h,function(r,t){var a=r.linkGroup;a&&!f[t]&&w(a.axesInfo,function(t,e){var n,i=f[e];t!==r&&i&&(n=i.value,a.mapper&&(n=r.axis.scale.parse(a.mapper(n,C(t),C(r)))),_[r.key]=n)})}),w(_,function(t,e){M(h[e],t,g,!0,d)}),m=f,v=h,y=d.axesInfo=[],w(v,function(t,e){var n=t.axisPointerModel.option,i=m[e];i?(t.useHandle||(n.status=\"show\"),n.value=i.value,n.seriesDataIndices=(i.payloadBatch||[]).slice()):t.useHandle||(n.status=\"hide\"),\"show\"===n.status&&y.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:n.value})}),function(t,e,n,i){if(D(e)||!t.list.length)return i({type:\"hideTip\"});var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:\"showTip\",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}(p,o,t,a),function(t,e){var n=e.getZr(),i=\"axisPointerLastHighlights\",r=S(n)[i]||{},a=S(n)[i]={};w(t,function(t,e){var n=t.axisPointerModel.option;\"show\"===n.status&&w(n.seriesDataIndices,function(t){var e=t.seriesIndex+\" | \"+t.dataIndex;a[e]=t})});var o=[],s=[];x.each(r,function(t,e){a[e]||s.push(t)}),x.each(a,function(t,e){r[e]||o.push(t)}),s.length&&e.dispatchAction({type:\"downplay\",escapeConnect:!0,batch:s}),o.length&&e.dispatchAction({type:\"highlight\",escapeConnect:!0,batch:o})}(h,n),d}}},function(t,e,n){var i=n(1).extendComponentModel({type:\"axisPointer\",coordSysAxesInfo:null,defaultOption:{show:\"auto\",triggerOn:null,zlevel:0,z:50,type:\"line\",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:\"#aaa\",width:1,type:\"solid\"},shadowStyle:{color:\"rgba(150,150,150,0.3)\"},label:{show:!0,formatter:null,precision:\"auto\",margin:3,color:\"#fff\",padding:[5,7,5,7],backgroundColor:\"auto\",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:\"#aaa\"},handle:{show:!1,icon:\"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z\",size:45,margin:50,color:\"#333\",shadowBlur:3,shadowColor:\"#aaa\",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});t.exports=i},function(t,e,n){var i=n(1),a=n(184),r=i.extendComponentView({type:\"axisPointer\",render:function(t,e,n){var i=e.getComponent(\"tooltip\"),r=t.get(\"triggerOn\")||i&&i.get(\"triggerOn\")||\"mousemove|click\";a.register(\"axisPointer\",n,function(t,e,n){\"none\"!==r&&(\"leave\"===t||0<=r.indexOf(t))&&n({type:\"updateAxisPointer\",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){a.unregister(e.getZr(),\"axisPointer\"),r.superApply(this._model,\"remove\",arguments)},dispose:function(t,e){a.unregister(\"axisPointer\",e),r.superApply(this._model,\"dispose\",arguments)}});t.exports=r},function(t,e,n){var i=n(109),f=n(84),p=n(182),r=n(40),a=[\"x\",\"y\"],o=[\"width\",\"height\"],s=i.extend({makeElOption:function(t,e,n,i,r){var a,o,s=n.axis,l=s.coordinateSystem,u=v(l,1-m(s)),h=l.dataToPoint(e)[0],c=i.get(\"type\");c&&\"none\"!==c&&(a=f.buildElStyle(i),(o=g[c](s,h,u)).style=a,t.graphicKey=o.type,t.pointer=o);var d=p.layout(n);f.buildCartesianSingleLabelElOption(e,t,d,n,i,r)},getHandleTransform:function(t,e,n){var i=p.layout(e,{labelInside:!1});return i.labelMargin=n.get(\"handle.margin\"),{position:f.getTransformedPosition(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,i){var r=n.axis,a=r.coordinateSystem,o=m(r),s=v(a,o),l=t.position;l[o]+=e[o],l[o]=Math.min(s[1],l[o]),l[o]=Math.max(s[0],l[o]);var u=v(a,1-o),h=(u[1]+u[0])/2,c=[h,h];return c[o]=l[o],{position:l,rotation:t.rotation,cursorPoint:c,tooltipOption:{verticalAlign:\"middle\"}}}}),g={line:function(t,e,n){return{type:\"Line\",subPixelOptimize:!0,shape:f.makeLineShape([e,n[0]],[e,n[1]],m(t))}},shadow:function(t,e,n){var i=t.getBandWidth(),r=n[1]-n[0];return{type:\"Rect\",shape:f.makeRectShape([e-i/2,n[0]],[i,r],m(t))}}};function m(t){return t.isHorizontal()?0:1}function v(t,e){var n=t.getRect();return[n[a[e]],n[a[e]]+n[o[e]]]}r.registerAxisPointerClass(\"SingleAxisPointer\",s),t.exports=s},function(t,e,n){var i=n(14),c=n(47),d=n(59).getDimensionTypeByAxis,f=n(17),g=n(0),m=n(4).groupData,r=n(7).encodeHTML,a=n(64),o=i.extend({type:\"series.themeRiver\",dependencies:[\"singleAxis\"],nameMap:null,init:function(t){o.superApply(this,\"init\",arguments),this.legendVisualProvider=new a(g.bind(this.getData,this),g.bind(this.getRawData,this))},fixData:function(t){var e=t.length,n=m(t,function(t){return t[2]}),i=[];n.buckets.each(function(t,e){i.push({name:e,dataList:t})});for(var r=i.length,a=-1,o=-1,s=0;s<r;++s){var l=i[s].dataList.length;a<l&&(a=l,o=s)}for(var u=0;u<r;++u)if(u!==o)for(var h=i[u].name,c=0;c<a;++c){for(var d=i[o].dataList[c][0],f=i[u].dataList.length,p=-1,g=0;g<f;++g){if(i[u].dataList[g][0]===d){p=g;break}}-1===p&&(t[e]=[],t[e][0]=d,t[e][1]=0,t[e][2]=h,e++)}return t},getInitialData:function(t,e){for(var n=e.queryComponents({mainType:\"singleAxis\",index:this.get(\"singleAxisIndex\"),id:this.get(\"singleAxisId\")})[0].get(\"type\"),i=g.filter(t.data,function(t){return void 0!==t[2]}),r=this.fixData(i||[]),a=[],o=this.nameMap=g.createHashMap(),s=0,l=0;l<r.length;++l)a.push(r[l][2]),o.get(r[l][2])||(o.set(r[l][2],s),s++);var u=c(r,{coordDimensions:[\"single\"],dimensionsDefine:[{name:\"time\",type:d(n)},{name:\"value\",type:\"float\"},{name:\"name\",type:\"ordinal\"}],encodeDefine:{single:0,value:1,itemName:2}}),h=new f(u,this);return h.initData(r),h},getLayerSeries:function(){for(var n=this.getData(),t=n.count(),e=[],i=0;i<t;++i)e[i]=i;var r=n.mapDimension(\"single\"),a=m(e,function(t){return n.get(\"name\",t)}),o=[];return a.buckets.each(function(t,e){t.sort(function(t,e){return n.get(r,t)-n.get(r,e)}),o.push({name:e,indices:t})}),o},getAxisTooltipData:function(t,e,n){g.isArray(t)||(t=t?[t]:[]);for(var i,r=this.getData(),a=this.getLayerSeries(),o=[],s=a.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,h=-1,c=a[l].indices.length,d=0;d<c;++d){var f=r.get(t[0],a[l].indices[d]),p=Math.abs(f-e);p<=u&&(i=f,u=p,h=a[l].indices[d])}o.push(h)}return{dataIndices:o,nestestValue:i}},formatTooltip:function(t){var e=this.getData(),n=e.getName(t),i=e.get(e.mapDimension(\"value\"),t);return!isNaN(i)&&null!=i||(i=\"-\"),r(n+\" : \"+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:\"singleAxis\",boundaryGap:[\"10%\",\"10%\"],singleAxisIndex:0,animationEasing:\"linear\",label:{margin:4,show:!0,position:\"left\",color:\"#000\",fontSize:11},emphasis:{label:{show:!0}}}});t.exports=o},function(t,e,n){var i=n(1),L=n(157).Polygon,P=n(2),r=n(0),l=r.bind,N=r.extend,u=n(38),a=i.extendChartView({type:\"themeRiver\",init:function(){this._layers=[]},render:function(A,t,e){var I=A.getData(),C=this.group,D=A.getLayerSeries(),n=I.getLayout(\"layoutInfo\"),i=n.rect,r=n.boundaryGap;function a(t){return t.name}C.attr(\"position\",[0,i.y+r[0]]);var o=new u(this._layersSeries||[],D,a,a),E={};function s(t,e,n){var i=this._layers;if(\"remove\"!==t){for(var r,a=[],o=[],s=D[e].indices,l=0;l<s.length;l++){var u=I.getItemLayout(s[l]),h=u.x,c=u.y0,d=u.y;a.push([h,c]),o.push([h,c+d]),r=I.getItemVisual(s[l],\"color\")}var f,p,g,m,v,y,_,x=I.getItemLayout(s[0]),b=I.getItemModel(s[l-1]),w=b.getModel(\"label\"),T=w.get(\"margin\");\"add\"===t?(g=E[e]=new P.Group,f=new L({shape:{points:a,stackedOnPoints:o,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),p=new P.Text({style:{x:x.x-T,y:x.y0+x.y/2}}),g.add(f),g.add(p),C.add(g),f.setClipPath((m=f.getBoundingRect(),v=A,y=function(){f.removeClipPath()},_=new P.Rect({shape:{x:m.x-10,y:m.y-10,width:0,height:m.height+20}}),P.initProps(_,{shape:{width:m.width+20,height:m.height+20}},v,y),_))):(g=i[n],f=g.childAt(0),p=g.childAt(1),C.add(g),E[e]=g,P.updateProps(f,{shape:{points:a,stackedOnPoints:o}},A),P.updateProps(p,{style:{x:x.x-T,y:x.y0+x.y/2}},A));var S=b.getModel(\"emphasis.itemStyle\"),M=b.getModel(\"itemStyle\");P.setTextStyle(p.style,w,{text:w.get(\"show\")?A.getFormattedLabel(s[l-1],\"normal\")||I.getName(s[l-1]):null,textVerticalAlign:\"middle\"}),f.setStyle(N({fill:r},M.getItemStyle([\"color\"]))),P.setHoverStyle(f,S.getItemStyle())}else C.remove(i[e])}o.add(l(s,this,\"add\")).update(l(s,this,\"update\")).remove(l(s,this,\"remove\")).execute(),this._layersSeries=D,this._layers=E},dispose:function(){}});t.exports=a},function(t,e,n){var m=n(0),s=n(3);function l(n,t,e){if(n.count())for(var i,r=t.coordinateSystem,a=t.getLayerSeries(),o=n.mapDimension(\"single\"),s=n.mapDimension(\"value\"),l=m.map(a,function(t){return m.map(t.indices,function(t){var e=r.dataToPoint(n.get(o,t));return e[1]=n.get(s,t),e})}),u=function(t){for(var e=t.length,n=t[0].length,i=[],r=[],a=0,o={},s=0;s<n;++s){for(var l=0,u=0;l<e;++l)u+=t[l][s][1];a<u&&(a=u),i.push(u)}for(var h=0;h<n;++h)r[h]=(a-i[h])/2;for(var c=a=0;c<n;++c){var d=i[c]+r[c];a<d&&(a=d)}return o.y0=r,o.max=a,o}(l),h=u.y0,c=e/u.max,d=a.length,f=a[0].indices.length,p=0;p<f;++p){i=h[p]*c,n.setItemLayout(a[0].indices[p],{layerIndex:0,x:l[0][p][0],y0:i,y:l[0][p][1]*c});for(var g=1;g<d;++g)i+=l[g-1][p][1]*c,n.setItemLayout(a[g].indices[p],{layerIndex:g,x:l[g][p][0],y0:i,y:l[g][p][1]*c})}}t.exports=function(t,e){t.eachSeriesByType(\"themeRiver\",function(t){var e=t.getData(),n=t.coordinateSystem,i={},r=n.getRect();i.rect=r;var a=t.get(\"boundaryGap\"),o=n.getAxis();i.boundaryGap=a,\"horizontal\"===o.orient?(a[0]=s.parsePercent(a[0],r.height),a[1]=s.parsePercent(a[1],r.height),l(e,t,r.height-a[0]-a[1])):(a[0]=s.parsePercent(a[0],r.width),a[1]=s.parsePercent(a[1],r.width),l(e,t,r.width-a[0]-a[1])),e.setLayout(\"layoutInfo\",i)})}},function(t,e,n){var i=n(0).createHashMap;t.exports=function(t){t.eachSeriesByType(\"themeRiver\",function(r){var a=r.getData(),o=r.getRawData(),s=r.get(\"color\"),l=i();a.each(function(t){l.set(a.getRawIndex(t),t)}),o.each(function(t){var e=o.getName(t),n=s[(r.nameMap.get(e)-1)%s.length];o.setItemVisual(t,\"color\",n);var i=l.get(t);null!=i&&a.setItemVisual(i,\"color\",n)})})}},function(t,e,n){var i=n(1),r=n(0);n(403),n(404),n(406);var a=n(81),o=n(407),s=n(65);i.registerVisual(r.curry(a,\"sunburst\")),i.registerLayout(r.curry(o,\"sunburst\")),i.registerProcessor(r.curry(s,\"sunburst\"))},function(t,e,n){var a=n(0),i=n(14),o=n(104),r=n(41).wrapTreePathInfo,s=i.extend({type:\"series.sunburst\",_viewRoot:null,getInitialData:function(t,e){var n={name:t.name,children:t.data};!function n(t){var i=0;a.each(t.children,function(t){n(t);var e=t.value;a.isArray(e)&&(e=e[0]),i+=e});var e=t.value;a.isArray(e)&&(e=e[0]);null!=e&&!isNaN(e)||(e=i);e<0&&(e=0);a.isArray(t.value)?t.value[0]=e:t.value=e}(n);var i=t.levels||[],r={};return r.levels=i,o.createTree(n,this,r).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=i.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=r(n,this),e},defaultOption:{zlevel:0,z:2,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:\"descendant\",nodeClick:\"rootToNode\",renderLabelForZeroData:!1,label:{rotate:\"radial\",show:!0,opacity:1,align:\"center\",position:\"inside\",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:\"white\",borderType:\"solid\",shadowBlur:0,shadowColor:\"rgba(0, 0, 0, 0.2)\",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:\"expansion\",animationDuration:1e3,animationDurationUpdate:500,animationEasing:\"cubicOut\",data:[],levels:[],sort:\"desc\"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});t.exports=s},function(t,e,n){var p=n(0),i=n(23),g=n(405),m=n(38),l=n(7).windowOpen,r=i.extend({type:\"sunburst\",init:function(){},render:function(r,a,t,e){var i=this;this.seriesModel=r,this.api=t,this.ecModel=a;var o=r.getData(),s=o.tree.root,n=r.getViewRoot(),l=this.group,u=r.get(\"renderLabelForZeroData\"),h=[];n.eachNode(function(t){h.push(t)});var c,d,f=this._oldChildren||[];!function(n,i){if(0===n.length&&0===i.length)return;function t(t){return t.getId()}function e(t,e){!function(t,e){u||!t||t.getValue()||(t=null);{var n;t!==s&&e!==s&&(e&&e.piece?t?(e.piece.updateData(!1,t,\"normal\",r,a),o.setItemGraphicEl(t.dataIndex,e.piece)):function(t){if(!t)return;t.piece&&(l.remove(t.piece),t.piece=null)}(e):t&&(n=new g(t,r,a),l.add(n),o.setItemGraphicEl(t.dataIndex,n)))}}(null==t?null:n[t],null==e?null:i[e])}new m(i,n,t,t).add(e).update(e).remove(p.curry(e,null)).execute()}(h,f),function(t,e){{var n;0<e.depth?(i.virtualPiece?i.virtualPiece.updateData(!1,t,\"normal\",r,a):(i.virtualPiece=new g(t,r,a),l.add(i.virtualPiece)),e.piece._onclickEvent&&e.piece.off(\"click\",e.piece._onclickEvent),n=function(t){i._rootToNode(e.parentNode)},e.piece._onclickEvent=n,i.virtualPiece.on(\"click\",n)):i.virtualPiece&&(l.remove(i.virtualPiece),i.virtualPiece=null)}}(s,n),e&&e.highlight&&e.highlight.piece?(c=r.getShallow(\"highlightPolicy\"),e.highlight.piece.onEmphasis(c)):e&&e.unhighlight&&(!(d=this.virtualPiece)&&s.children.length&&(d=s.children[0].piece),d&&d.onNormal()),this._initEvents(),this._oldChildren=h},dispose:function(){},_initEvents:function(){function t(a){var o=!1;s.seriesModel.getViewRoot().eachNode(function(t){var e,n,i,r;!o&&t.piece&&t.piece.childAt(0)===a.target&&(\"rootToNode\"===(e=t.getModel().get(\"nodeClick\"))?s._rootToNode(t):\"link\"!==e||(i=(n=t.getModel()).get(\"link\"))&&(r=n.get(\"target\",!0)||\"_blank\",l(i,r)),o=!0)})}var s=this;this.group._onclickEvent&&this.group.off(\"click\",this.group._onclickEvent),this.group.on(\"click\",t),this.group._onclickEvent=t},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:\"sunburstRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var i=t[0]-n.cx,r=t[1]-n.cy,a=Math.sqrt(i*i+r*r);return a<=n.r&&a>=n.r0}}});t.exports=r},function(t,e,n){var S=n(0),M=n(2),o=\"none\",s=\"ancestor\",l=\"self\";function i(t,e,n){M.Group.call(this);var i=new M.Sector({z2:2});i.seriesIndex=e.seriesIndex;var r=new M.Text({z2:4,silent:t.getModel(\"label\").get(\"silent\")});function a(){r.ignore=r.hoverIgnore}function o(){r.ignore=r.normalIgnore}this.add(i),this.add(r),this.updateData(!0,t,\"normal\",e,n),this.on(\"emphasis\",a).on(\"normal\",o).on(\"mouseover\",a).on(\"mouseout\",o)}var r=i.prototype;r.updateData=function(t,e,n,i,r){(this.node=e).piece=this,i=i||this._seriesModel,r=r||this._ecModel;var a=this.childAt(0);a.dataIndex=e.dataIndex;var o=e.getModel(),s=e.getLayout(),l=S.extend({},s);l.label=null;var u,h,c=function(t,e){var n=t.getVisual(\"color\"),i=t.getVisual(\"visualMeta\");i&&0!==i.length||(n=null);var r=t.getModel(\"itemStyle\").get(\"color\");{if(r)return r;if(n)return n;if(0===t.depth)return e.option.color[0];var a=e.option.color.length;r=e.option.color[function(t){var e=t;for(;1<e.depth;)e=e.parentNode;var n=t.getAncestors()[0];return S.indexOf(n.children,e)}(t)%a]}return r}(e,r);u=e,h=c,i.getData().setItemVisual(u.dataIndex,\"color\",h);var d,f,p=o.getModel(\"itemStyle\").getItemStyle();f=\"normal\"===n?p:(d=o.getModel(n+\".itemStyle\").getItemStyle(),S.merge(d,p)),f=S.defaults({lineJoin:\"bevel\",fill:f.fill||c},f),t?(a.setShape(l),a.shape.r=s.r0,M.updateProps(a,{shape:{r:s.r}},i,e.dataIndex),a.useStyle(f)):\"object\"==typeof f.fill&&f.fill.type||\"object\"==typeof a.style.fill&&a.style.fill.type?(M.updateProps(a,{shape:l},i),a.useStyle(f)):M.updateProps(a,{shape:l,style:f},i),this._updateLabel(i,c,n);var g,m=o.getShallow(\"cursor\");m&&a.attr(\"cursor\",m),t&&(g=i.getShallow(\"highlightPolicy\"),this._initEvents(a,e,i,g)),this._seriesModel=i||this._seriesModel,this._ecModel=r||this._ecModel,M.setHoverStyle(this)},r.onEmphasis=function(r){var a=this;this.node.hostTree.root.eachNode(function(t){var e,n,i;t.piece&&(a.node===t?t.piece.updateData(!1,t,\"emphasis\"):(e=t,n=a.node,(i=r)!==o&&(i===l?e===n:i===s?e===n||e.isAncestorOf(n):e===n||e.isDescendantOf(n))?t.piece.childAt(0).trigger(\"highlight\"):r!==o&&t.piece.childAt(0).trigger(\"downplay\")))})},r.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,\"normal\")})},r.onHighlight=function(){this.updateData(!1,this.node,\"highlight\")},r.onDownplay=function(){this.updateData(!1,this.node,\"downplay\")},r._updateLabel=function(t,e,n){var i=this.node.getModel(),r=i.getModel(\"label\"),a=\"normal\"===n||\"emphasis\"===n?r:i.getModel(n+\".label\"),o=i.getModel(\"emphasis.label\"),s=S.retrieve(t.getFormattedLabel(this.node.dataIndex,n,null,null,\"label\"),this.node.name);!1===T(\"show\")&&(s=\"\");var l=this.node.getLayout(),u=a.get(\"minAngle\");null==u&&(u=r.get(\"minAngle\")),u=u/180*Math.PI;var h=l.endAngle-l.startAngle;null!=u&&Math.abs(h)<u&&(s=\"\");var c=this.childAt(1);M.setLabelStyle(c.style,c.hoverStyle||{},r,o,{defaultText:a.getShallow(\"show\")?s:null,autoColor:e,useInsideStyle:!0});var d,f=(l.startAngle+l.endAngle)/2,p=Math.cos(f),g=Math.sin(f),m=T(\"position\"),v=T(\"distance\")||0,y=T(\"align\");\"outside\"===m?(d=l.r+v,y=f>Math.PI/2?\"right\":\"left\"):y&&\"center\"!==y?\"left\"===y?(d=l.r0+v,f>Math.PI/2&&(y=\"right\")):\"right\"===y&&(d=l.r-v,f>Math.PI/2&&(y=\"left\")):(d=(l.r+l.r0)/2,y=\"center\"),c.attr(\"style\",{text:s,textAlign:y,textVerticalAlign:T(\"verticalAlign\")||\"middle\",opacity:T(\"opacity\")});var _=d*p+l.cx,x=d*g+l.cy;c.attr(\"position\",[_,x]);var b=T(\"rotate\"),w=0;function T(t){var e=a.get(t);return null==e?r.get(t):e}\"radial\"===b?(w=-f)<-Math.PI/2&&(w+=Math.PI):\"tangential\"===b?(w=Math.PI/2-f)>Math.PI/2?w-=Math.PI:w<-Math.PI/2&&(w+=Math.PI):\"number\"==typeof b&&(w=b*Math.PI/180),c.attr(\"rotation\",w)},r._initEvents=function(t,e,n,i){t.off(\"mouseover\").off(\"mouseout\").off(\"emphasis\").off(\"normal\");function r(){o.onEmphasis(i)}function a(){o.onNormal()}var o=this;n.isAnimationEnabled()&&t.on(\"mouseover\",r).on(\"mouseout\",a).on(\"emphasis\",r).on(\"normal\",a).on(\"downplay\",function(){o.onDownplay()}).on(\"highlight\",function(){o.onHighlight()})},S.inherits(i,M.Group),t.exports=i},function(t,e,n){var i=n(1),a=n(41),o=\"sunburstRootToNode\";i.registerAction({type:o,update:\"updateView\"},function(r,t){t.eachComponent({mainType:\"series\",subType:\"sunburst\",query:r},function(t,e){var n=a.retrieveTargetInfo(r,[o],t);{var i;n&&((i=t.getViewRoot())&&(r.direction=a.aboveViewRoot(i,n.node)?\"rollUp\":\"drillDown\"),t.resetViewRoot(n.node))}})});var r=\"sunburstHighlight\";i.registerAction({type:r,update:\"updateView\"},function(i,t){t.eachComponent({mainType:\"series\",subType:\"sunburst\",query:i},function(t,e){var n=a.retrieveTargetInfo(i,[r],t);n&&(i.highlight=n.node)})});i.registerAction({type:\"sunburstUnhighlight\",update:\"updateView\"},function(n,t){t.eachComponent({mainType:\"series\",subType:\"sunburst\",query:n},function(t,e){n.unhighlight=!0})})},function(t,e,n){var D=n(3).parsePercent,E=n(0),L=Math.PI/180;function P(t,e){if(\"function\"==typeof e)return t.sort(e);var i=\"asc\"===e;return t.sort(function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0==n?(t.dataIndex-e.dataIndex)*(i?-1:1):n})}t.exports=function(t,e,C,n){e.eachSeriesByType(t,function(t){var e=t.get(\"center\"),n=t.get(\"radius\");E.isArray(n)||(n=[0,n]),E.isArray(e)||(e=[e,e]);var i=C.getWidth(),r=C.getHeight(),h=Math.min(i,r),c=D(e[0],i),d=D(e[1],r),f=D(n[0],h/2),a=D(n[1],h/2),o=-t.get(\"startAngle\")*L,p=t.get(\"minAngle\")*L,g=t.getData().tree.root,s=t.getViewRoot(),m=s.depth,l=t.get(\"sort\");null!=l&&!function e(t,n){var i=t.children||[];t.children=P(i,n);i.length&&E.each(t.children,function(t){e(t,n)})}(s,l);var u=0;E.each(s.children,function(t){isNaN(t.getValue())||u++});var v,y,_=s.getValue(),x=Math.PI/(_||u)*2,b=0<s.depth,w=s.height-(b?-1:1),T=(a-f)/(w||1),S=t.get(\"clockwise\"),M=t.get(\"stillShowZeroSum\"),A=S?1:-1,I=function(t,e){if(t){var n,i,r,a,o,s,l,u=e;return t!==g&&(n=t.getValue(),(i=0===_&&M?x:n*x)<p&&(i=p),u=e+A*i,r=t.depth-m-(b?-1:1),a=f+T*r,o=f+T*(1+r),null!=(s=t.getModel()).get(\"r0\")&&(a=D(s.get(\"r0\"),h/2)),null!=s.get(\"r\")&&(o=D(s.get(\"r\"),h/2)),t.setLayout({angle:i,startAngle:e,endAngle:u,clockwise:S,cx:c,cy:d,r0:a,r:o})),t.children&&t.children.length&&(l=0,E.each(t.children,function(t){l+=I(t,e+l)})),u-e}};b&&(v=f+T,y=2*Math.PI,g.setLayout({angle:y,startAngle:o,endAngle:o+y,clockwise:S,cx:c,cy:d,r0:f,r:v})),I(s,o)})}},function(t,e,n){n(5).__DEV__;var y=n(0),_=n(2),x=n(97).getDefaultLabel,i=n(27),b=n(77).getLayoutOnAxis,f=n(38),r=n(14),a=n(12),o=n(23),u=n(61).createClipPath,s=n(409),l=n(410),h=n(411),c=n(412),d=n(413),p=_.CACHED_LABEL_STYLE_PROPERTIES,w=[\"itemStyle\"],T=[\"emphasis\",\"itemStyle\"],S=[\"label\"],M=[\"emphasis\",\"label\"],g=\"e\\0\\0\",A={cartesian2d:s,geo:l,singleAxis:h,polar:c,calendar:d};function m(t,e,n,i,r){null==n[t]||r||(e[t]=n[t],n[t]=i[t])}function v(a,o,e,n){var i=a.get(\"renderItem\"),r=a.coordinateSystem,t={};r&&(t=r.prepareCustoms?r.prepareCustoms():A[r.type](r));var s,l,u,h,c,d,f,p=y.defaults({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function(t,e){return null==e&&(e=u),o.get(o.getDimension(t||0),e)},style:function(t,e){null==e&&(e=u),v(e);var n=h.getModel(w).getItemStyle();null!=f&&(n.fill=f);var i=o.getItemVisual(e,\"opacity\");null!=i&&(n.opacity=i);var r=t?L(t,c):c;return _.setTextStyle(n,r,null,{autoColor:f,isRectText:!0}),n.text=r.getShallow(\"show\")?y.retrieve2(a.getFormattedLabel(e,\"normal\"),x(o,e)):null,t&&P(n,t),n},styleEmphasis:function(t,e){null==e&&(e=u),v(e);var n=h.getModel(T).getItemStyle(),i=t?L(t,d):d;return _.setTextStyle(n,i,null,{isRectText:!0},!0),n.text=i.getShallow(\"show\")?y.retrieve3(a.getFormattedLabel(e,\"emphasis\"),a.getFormattedLabel(e,\"normal\"),x(o,e)):null,t&&P(n,t),n},visual:function(t,e){return null==e&&(e=u),o.getItemVisual(e,t)},barLayout:function(t){if(r.getBaseAxis){var e=r.getBaseAxis();return b(y.defaults({axis:e},t),n)}},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(t){return _.getFont(t,e)}},t.api||{}),g={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:t.coordSys,dataInsideLength:o.count(),encode:(s=a.getData(),l={},y.each(s.dimensions,function(t,e){var n,i=s.getDimensionInfo(t);i.isExtraCoord||(n=i.coordDim,(l[n]=l[n]||[])[i.coordDimIndex]=e)}),l)},m=!0;return function(t,e){return u=t,m=!0,i&&i(y.defaults({dataIndexInside:t,dataIndex:o.getRawIndex(t),actionType:e?e.type:null},g),p)};function v(t){null==t&&(t=u),m&&(h=o.getItemModel(t),c=h.getModel(S),d=h.getModel(M),f=o.getItemVisual(t,\"color\"),m=!1)}}function I(t,e,n,i,r,a){return(t=C(t,e,n,i,r,a,!0))&&a.setItemGraphicEl(e,t),t}function C(t,e,n,i,r,a,o){var s,l=!n,u=(n=n||{}).type,h=n.shape,c=n.style;if(t&&(l||null!=u&&u!==t.__customGraphicType||\"path\"===u&&((s=h)&&(s.hasOwnProperty(\"pathData\")||s.hasOwnProperty(\"d\")))&&O(h)!==t.__customPathData||\"image\"===u&&R(c,\"image\")&&c.image!==t.__customImagePath||\"text\"===u&&R(h,\"text\")&&c.text!==t.__customText)&&(r.remove(t),t=null),!l){var d=!t;return function(e,t,n,i,r,a){var o,s,l={},u=n.style||{};n.shape&&(l.shape=y.clone(n.shape)),n.position&&(l.position=n.position.slice()),n.scale&&(l.scale=n.scale.slice()),n.origin&&(l.origin=n.origin.slice()),n.rotation&&(l.rotation=n.rotation),\"image\"===e.type&&n.style&&(o=l.style={},y.each([\"x\",\"y\",\"width\",\"height\"],function(t){m(t,o,u,e.style,r)})),\"text\"===e.type&&n.style&&(o=l.style={},y.each([\"x\",\"y\"],function(t){m(t,o,u,e.style,r)}),!u.hasOwnProperty(\"textFill\")&&u.fill&&(u.textFill=u.fill),!u.hasOwnProperty(\"textStroke\")&&u.stroke&&(u.textStroke=u.stroke)),\"group\"!==e.type&&(e.useStyle(u),r&&(e.style.opacity=0,null==(s=u.opacity)&&(s=1),_.initProps(e,{style:{opacity:s}},i,t))),r?e.attr(l):_.updateProps(e,l,i,t),n.hasOwnProperty(\"z2\")&&e.attr(\"z2\",n.z2||0),n.hasOwnProperty(\"silent\")&&e.attr(\"silent\",n.silent),n.hasOwnProperty(\"invisible\")&&e.attr(\"invisible\",n.invisible),n.hasOwnProperty(\"ignore\")&&e.attr(\"ignore\",n.ignore),n.hasOwnProperty(\"info\")&&e.attr(\"info\",n.info);var h=n.styleEmphasis;_.setElementHoverStyle(e,h),a&&_.setAsHighDownDispatcher(e,!1!==h)}(t=t||function(t){var e=t.type;if(\"path\"===e){var n,i=t.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,a=O(i);(n=_.makePath(a,null,r,i.layout||\"center\")).__customPathData=a}else if(\"image\"===e)(n=new _.Image({})).__customImagePath=t.style.image;else if(\"text\"===e)(n=new _.Text({})).__customText=t.style.text;else if(\"group\"===e)n=new _.Group;else{if(\"compoundPath\"===e)throw new Error('\"compoundPath\" is not supported yet.');n=new(_.getShapeClass(e))}return n.__customGraphicType=e,n.name=t.name,n}(n),e,n,i,d,o),\"group\"===u&&function(t,e,n,i,r){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,l=\"byName\"===s||n.diffChildrenByName,u=!1===s;if(!o&&!l&&!u)return;if(l)return function(t){new f(t.oldChildren,t.newChildren,D,D,t).add(E).update(E).remove(N).execute()}({oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,animatableModel:i,group:t,data:r});u&&t.removeAll();for(var h=0;h<o;h++)a[h]&&C(t.childAt(h),e,a[h],i,t,r)}(t,e,n,i,a),r.add(t),t}}function D(t,e){var n=t&&t.name;return null!=n?n:g+e}function E(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null;C(null!=e?n.oldChildren[e]:null,n.dataIndex,i,n.animatableModel,n.group,n.data)}function L(n,t){var i=new a({},t);return y.each(p,function(t,e){n.hasOwnProperty(t)&&(i.option[e]=n[t])}),i}function P(t,e){for(var n in e)!e.hasOwnProperty(n)&&p.hasOwnProperty(n)||(t[n]=e[n])}function N(t){var e=this.context,n=e.oldChildren[t];n&&e.group.remove(n)}function O(t){return t&&(t.pathData||t.d)}function R(t,e){return t&&t.hasOwnProperty(e)}r.extend({type:\"series.custom\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(t,e){return i(this.getSource(),this)},getDataParams:function(t,e,n){var i=r.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),o.extend({type:\"custom\",_data:null,render:function(n,t,e,i){var r=this._data,a=n.getData(),o=this.group,s=v(n,a,t,e);a.diff(r).add(function(t){I(null,t,s(t,i),n,o,a)}).update(function(t,e){I(r.getItemGraphicEl(e),t,s(t,i),n,o,a)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&o.remove(e)}).execute();var l=n.get(\"clip\",!0)?u(n.coordinateSystem,!1,n):null;l?o.setClipPath(l):o.removeClipPath(),this._data=a},incrementalPrepareRender:function(t,e,n){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,n,i,r){var a=e.getData(),o=v(e,a,n,i);function s(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)}for(var l=t.start;l<t.end;l++){I(null,l,o(l,r),e,this.group,a).traverse(s)}},dispose:y.noop,filterForExposedEvent:function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1}})},function(t,e,n){var i=n(0);function r(a,o){return o=o||[0,0],i.map([\"x\",\"y\"],function(t,e){var n=this.getAxis(t),i=o[e],r=a[e]/2;return\"category\"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))},this)}t.exports=function(e){var t=e.grid.getRect();return{coordSys:{type:\"cartesian2d\",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:i.bind(r,e)}}}},function(t,e,n){var i=n(0);function r(a,o){return o=o||[0,0],i.map([0,1],function(t){var e=o[t],n=a[t]/2,i=[],r=[];return i[t]=e-n,r[t]=e+n,i[1-t]=r[1-t]=o[1-t],Math.abs(this.dataToPoint(i)[t]-this.dataToPoint(r)[t])},this)}t.exports=function(e){var t=e.getBoundingRect();return{coordSys:{type:\"geo\",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:i.bind(r,e)}}}},function(t,e,n){var i=n(0);function r(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return\"category\"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}t.exports=function(e){var t=e.getRect();return{coordSys:{type:\"singleAxis\",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:i.bind(r,e)}}}},function(t,e,n){var i=n(0);function s(s,l){return i.map([\"Radius\",\"Angle\"],function(t,e){var n=this[\"get\"+t+\"Axis\"](),i=l[e],r=s[e]/2,a=\"dataTo\"+t,o=\"category\"===n.type?n.getBandWidth():Math.abs(n[a](i-r)-n[a](i+r));return\"Angle\"===t&&(o=o*Math.PI/180),o},this)}t.exports=function(r){var a=r.getRadiusAxis(),o=r.getAngleAxis(),t=a.getExtent();return t[0]>t[1]&&t.reverse(),{coordSys:{type:\"polar\",cx:r.cx,cy:r.cy,r:t[1],r0:t[0]},api:{coord:i.bind(function(t){var e=a.dataToRadius(t[0]),n=o.dataToAngle(t[1]),i=r.coordToPoint([e,n]);return i.push(e,n*Math.PI/180),i}),size:i.bind(s,r)}}}},function(t,e){t.exports=function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:\"calendar\",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(t,e){return n.dataToPoint(t,e)}}}}},function(t,e,n){n(63),n(185),n(67)},function(t,e,n){var i=n(1),r=n(0),a=n(416);n(110),n(422),n(424),n(67),n(426),i.registerLayout(r.curry(a,\"bar\")),i.extendComponentView({type:\"polar\"})},function(t,e,n){var f=n(0),m=n(3).parsePercent,R=n(24).isDimensionStacked;function k(t){return t.get(\"stack\")||\"__ec_stack_\"+t.seriesIndex}function z(t,e){return e.dim+t.model.componentIndex}function i(t,e,n){var N={},O=function(t){var g={};f.each(t,function(t,e){var n=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),a=z(i,r),o=r.getExtent(),s=\"category\"===r.type?r.getBandWidth():Math.abs(o[1]-o[0])/n.count(),l=g[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},u=l.stacks;g[a]=l;var h=k(t);u[h]||l.autoWidthCount++,u[h]=u[h]||{width:0,maxWidth:0};var c=m(t.get(\"barWidth\"),s),d=m(t.get(\"barMaxWidth\"),s),f=t.get(\"barGap\"),p=t.get(\"barCategoryGap\");c&&!u[h].width&&(c=Math.min(l.remainedWidth,c),u[h].width=c,l.remainedWidth-=c),d&&(u[h].maxWidth=d),null!=f&&(l.gap=f),null!=p&&(l.categoryGap=p)});var d={};return f.each(g,function(t,n){d[n]={};var e=t.stacks,i=t.bandWidth,r=m(t.categoryGap,i),a=m(t.gap,1),o=t.remainedWidth,s=t.autoWidthCount,l=(o-r)/(s+(s-1)*a),l=Math.max(l,0);f.each(e,function(t,e){var n=t.maxWidth;n&&n<l&&(n=Math.min(n,o),t.width&&(n=Math.min(n,t.width)),o-=n,t.width=n,s--)}),l=(o-r)/(s+(s-1)*a),l=Math.max(l,0);var u,h=0;f.each(e,function(t,e){t.width||(t.width=l),h+=(u=t).width*(1+a)}),u&&(h-=u.width*a);var c=-h/2;f.each(e,function(t,e){d[n][e]=d[n][e]||{offset:c,width:t.width},c+=t.width*(1+a)})}),d}(f.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&\"polar\"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if(\"polar\"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=z(n,i),a=k(t),o=O[r][a],s=o.offset,l=o.width,u=n.getOtherAxis(i),h=t.coordinateSystem.cx,c=t.coordinateSystem.cy,d=t.get(\"barMinHeight\")||0,f=t.get(\"barMinAngle\")||0;N[a]=N[a]||[];for(var p=e.mapDimension(u.dim),g=e.mapDimension(i.dim),m=R(e,p),v=\"radius\"!==i.dim||!t.get(\"roundCap\",!0),y=u.getExtent()[0],_=0,x=e.count();_<x;_++){var b,w,T,S,M,A,I,C,D=e.get(p,_),E=e.get(g,_),L=0<=D?\"p\":\"n\",P=y;m&&(N[a][E]||(N[a][E]={p:y,n:y}),P=N[a][E][L]),\"radius\"===u.dim?(M=u.dataToRadius(D)-y,A=i.dataToAngle(E),Math.abs(M)<d&&(M=(M<0?-1:1)*d),w=(b=P)+M,S=(T=A-s)-l,m&&(N[a][E][L]=w)):(I=u.dataToAngle(D,v)-y,C=i.dataToRadius(E),Math.abs(I)<f&&(I=(I<0?-1:1)*f),w=(b=C+s)+l,S=(T=P)+I,m&&(N[a][E][L]=S)),e.setItemLayout(_,{cx:h,cy:c,r0:b,r:w,startAngle:-T*Math.PI/180,endAngle:-S*Math.PI/180})}}},this)}t.exports=i},function(t,e,n){function i(t){this.name=t||\"\",this.cx=0,this.cy=0,this._radiusAxis=new r,this._angleAxis=new a,this._radiusAxis.polar=this._angleAxis.polar=this}var r=n(418),a=n(419);i.prototype={type:\"polar\",axisPointerEnabled:!0,constructor:i,dimensions:[\"radius\",\"angle\"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this[\"_\"+t+\"Axis\"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&\"auto\"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),r=i.getExtent(),a=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);i.inverse?a=o-360:o=a+360;var s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var l=Math.atan2(-n,e)/Math.PI*180,u=l<a?1:-1;l<a||o<l;)l+=360*u;return[s,l]},coordToPoint:function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},getArea:function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var n=t.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-n[0]*i,endAngle:-n[1]*i,clockwise:t.inverse,contain:function(t,e){var n=t-this.cx,i=e-this.cy,r=n*n+i*i,a=this.r,o=this.r0;return r<=a*a&&o*o<=r}}}},t.exports=i},function(t,e,n){var i=n(0),r=n(31);function a(t,e){r.call(this,\"radius\",t,e),this.type=\"category\"}a.prototype={constructor:a,pointToData:function(t,e){return this.polar.pointToData(t,e)[\"radius\"===this.dim?0:1]},dataToRadius:r.prototype.dataToCoord,radiusToData:r.prototype.coordToData},i.inherits(a,r),t.exports=a},function(t,e,n){var i=n(0),f=n(16),r=n(31),p=(0,n(4).makeInner)();function a(t,e){e=e||[0,360],r.call(this,\"angle\",t,e),this.type=\"category\"}a.prototype={constructor:a,pointToData:function(t,e){return this.polar.pointToData(t,e)[\"radius\"===this.dim?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var t=this.getLabelModel(),e=this.scale,n=e.getExtent(),i=e.count();if(n[1]-n[0]<1)return 0;var r=n[0],a=this.dataToCoord(r+1)-this.dataToCoord(r),o=Math.abs(a),s=f.getBoundingRect(r,t.getFont(),\"center\",\"top\"),l=Math.max(s.height,7)/o;isNaN(l)&&(l=1/0);var u=Math.max(0,Math.floor(l)),h=p(this.model),c=h.lastAutoInterval,d=h.lastTickCount;return null!=c&&null!=d&&Math.abs(c-u)<=1&&Math.abs(d-i)<=1&&u<c?u=c:(h.lastTickCount=i,h.lastAutoInterval=u),u}},i.inherits(a,r),t.exports=a},function(t,e,n){var i=n(1);n(421);var r=i.extendComponentModel({type:\"polar\",dependencies:[\"polarAxis\",\"angleAxis\"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:[\"50%\",\"50%\"],radius:\"80%\"}});t.exports=r},function(t,e,n){var i=n(0),r=n(13),a=n(79),o=n(48),s=r.extend({type:\"polarAxis\",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"polar\",index:this.option.polarIndex,id:this.option.polarId})[0]}});i.merge(s.prototype,o);var l={splitNumber:5};function u(t,e){return e.type||(e.data?\"category\":\"value\")}a(\"angle\",s,u,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),a(\"radius\",s,u,l)},function(t,e,n){n(110),n(423)},function(t,e,n){var y=n(0),_=n(2),x=n(12),i=n(40),b=n(32),l=[\"axisLine\",\"axisLabel\",\"axisTick\",\"minorTick\",\"splitLine\",\"minorSplitLine\",\"splitArea\"];function d(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),r=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function w(t){return t.getRadiusAxis().inverse?0:1}function u(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var r=i.extend({type:\"angleAxis\",axisPointerClass:\"PolarAxisPointer\",render:function(e,t){var n,i,r,a,o,s;this.group.removeAll(),e.get(\"show\")&&(n=e.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),a=n.getTicksCoords(),o=n.getMinorTicksCoords(),u(s=y.map(n.getViewLabels(),function(t){return(t=y.clone(t)).coord=n.dataToCoord(t.tickValue),t})),u(a),y.each(l,function(t){!e.get(t+\".show\")||n.scale.isBlank()&&\"axisLine\"!==t||this[\"_\"+t](e,i,a,o,r,s)},this))},_axisLine:function(t,e,n,i,r){var a=t.getModel(\"axisLine.lineStyle\"),o=w(e),s=o?0:1,l=0===r[s]?new _.Circle({shape:{cx:e.cx,cy:e.cy,r:r[o]},style:a.getLineStyle(),z2:1,silent:!0}):new _.Ring({shape:{cx:e.cx,cy:e.cy,r:r[o],r0:r[s]},style:a.getLineStyle(),z2:1,silent:!0});l.style.fill=null,this.group.add(l)},_axisTick:function(t,e,n,i,r){var a=t.getModel(\"axisTick\"),o=(a.get(\"inside\")?-1:1)*a.get(\"length\"),s=r[w(e)],l=y.map(n,function(t){return new _.Line({shape:d(e,[s,s+o],t.coord)})});this.group.add(_.mergePath(l,{style:y.defaults(a.getModel(\"lineStyle\").getLineStyle(),{stroke:t.get(\"axisLine.lineStyle.color\")})}))},_minorTick:function(t,e,n,i,r){if(i.length){for(var a=t.getModel(\"axisTick\"),o=t.getModel(\"minorTick\"),s=(a.get(\"inside\")?-1:1)*o.get(\"length\"),l=r[w(e)],u=[],h=0;h<i.length;h++)for(var c=0;c<i[h].length;c++)u.push(new _.Line({shape:d(e,[l,l+s],i[h][c].coord)}));this.group.add(_.mergePath(u,{style:y.defaults(o.getModel(\"lineStyle\").getLineStyle(),y.defaults(a.getLineStyle(),{stroke:t.get(\"axisLine.lineStyle.color\")}))}))}},_axisLabel:function(c,d,t,e,f,n){var p=c.getCategories(!0),g=c.getModel(\"axisLabel\"),m=g.get(\"margin\"),v=c.get(\"triggerEvent\");y.each(n,function(t,e){var n=g,i=t.tickValue,r=f[w(d)],a=d.coordToPoint([r+m,t.coord]),o=d.cx,s=d.cy,l=Math.abs(a[0]-o)/r<.3?\"center\":a[0]>o?\"left\":\"right\",u=Math.abs(a[1]-s)/r<.3?\"middle\":a[1]>s?\"top\":\"bottom\";p&&p[i]&&p[i].textStyle&&(n=new x(p[i].textStyle,g,g.ecModel));var h=new _.Text({silent:b.isLabelSilent(c)});this.group.add(h),_.setTextStyle(h.style,n,{x:a[0],y:a[1],textFill:n.getTextColor()||c.get(\"axisLine.lineStyle.color\"),text:t.formattedLabel,textAlign:l,textVerticalAlign:u}),v&&(h.eventData=b.makeAxisEventDataBase(c),h.eventData.targetType=\"axisLabel\",h.eventData.value=t.rawLabel)},this)},_splitLine:function(t,e,n,i,r){for(var a=t.getModel(\"splitLine\").getModel(\"lineStyle\"),o=0,s=(s=a.get(\"color\"))instanceof Array?s:[s],l=[],u=0;u<n.length;u++){var h=o++%s.length;l[h]=l[h]||[],l[h].push(new _.Line({shape:d(e,r,n[u].coord)}))}for(u=0;u<l.length;u++)this.group.add(_.mergePath(l[u],{style:y.defaults({stroke:s[u%s.length]},a.getLineStyle()),silent:!0,z:t.get(\"z\")}))},_minorSplitLine:function(t,e,n,i,r){if(i.length){for(var a=t.getModel(\"minorSplitLine\").getModel(\"lineStyle\"),o=[],s=0;s<i.length;s++)for(var l=0;l<i[s].length;l++)o.push(new _.Line({shape:d(e,r,i[s][l].coord)}));this.group.add(_.mergePath(o,{style:a.getLineStyle(),silent:!0,z:t.get(\"z\")}))}},_splitArea:function(t,e,n,i,r){if(n.length){for(var a=t.getModel(\"splitArea\").getModel(\"areaStyle\"),o=0,s=(s=a.get(\"color\"))instanceof Array?s:[s],l=[],u=Math.PI/180,h=-n[0].coord*u,c=Math.min(r[0],r[1]),d=Math.max(r[0],r[1]),f=t.get(\"clockwise\"),p=1;p<n.length;p++){var g=o++%s.length;l[g]=l[g]||[],l[g].push(new _.Sector({shape:{cx:e.cx,cy:e.cy,r0:c,r:d,startAngle:h,endAngle:-n[p].coord*u,clockwise:f},silent:!0})),h=-n[p].coord*u}for(p=0;p<l.length;p++)this.group.add(_.mergePath(l[p],{style:y.defaults({fill:s[p%s.length]},a.getAreaStyle()),silent:!0}))}}});t.exports=r},function(t,e,n){n(110),n(425)},function(t,e,n){var p=n(0),d=n(2),g=n(32),i=n(40),m=[\"axisLine\",\"axisTickLabel\",\"axisName\"],v=[\"splitLine\",\"splitArea\",\"minorSplitLine\"],r=i.extend({type:\"radiusAxis\",axisPointerClass:\"PolarAxisPointer\",render:function(e,t){var n,i,r,a,o,s,l,u,h,c,d,f;this.group.removeAll(),e.get(\"show\")&&(n=e.axis,r=(i=n.polar).getAngleAxis(),a=n.getTicksCoords(),o=n.getMinorTicksCoords(),s=r.getExtent()[0],l=n.getExtent(),c=e,d=s,u={position:[(h=i).cx,h.cy],rotation:d/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:c.getModel(\"axisLabel\").get(\"rotate\"),z2:1},f=new g(e,u),p.each(m,f.add,f),this.group.add(f.getGroup()),p.each(v,function(t){e.get(t+\".show\")&&!n.scale.isBlank()&&this[\"_\"+t](e,i,s,l,a,o)},this))},_splitLine:function(t,e,n,i,r){for(var a=t.getModel(\"splitLine\").getModel(\"lineStyle\"),o=0,s=(s=a.get(\"color\"))instanceof Array?s:[s],l=[],u=0;u<r.length;u++){var h=o++%s.length;l[h]=l[h]||[],l[h].push(new d.Circle({shape:{cx:e.cx,cy:e.cy,r:r[u].coord}}))}for(u=0;u<l.length;u++)this.group.add(d.mergePath(l[u],{style:p.defaults({stroke:s[u%s.length],fill:null},a.getLineStyle()),silent:!0}))},_minorSplitLine:function(t,e,n,i,r,a){if(a.length){for(var o=t.getModel(\"minorSplitLine\").getModel(\"lineStyle\"),s=[],l=0;l<a.length;l++)for(var u=0;u<a[l].length;u++)s.push(new d.Circle({shape:{cx:e.cx,cy:e.cy,r:a[l][u].coord}}));this.group.add(d.mergePath(s,{style:p.defaults({fill:null},o.getLineStyle()),silent:!0}))}},_splitArea:function(t,e,n,i,r){if(r.length){for(var a=t.getModel(\"splitArea\").getModel(\"areaStyle\"),o=0,s=(s=a.get(\"color\"))instanceof Array?s:[s],l=[],u=r[0].coord,h=1;h<r.length;h++){var c=o++%s.length;l[c]=l[c]||[],l[c].push(new d.Sector({shape:{cx:e.cx,cy:e.cy,r0:u,r:r[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=r[h].coord}for(h=0;h<l.length;h++)this.group.add(d.mergePath(l[h],{style:p.defaults({fill:s[h%s.length]},a.getAreaStyle()),silent:!0}))}}});t.exports=r},function(t,e,n){var f=n(7),i=n(109),v=n(2),p=n(84),y=n(15),_=n(32),r=n(40),a=i.extend({makeElOption:function(t,e,n,i,r){var a=n.axis;\"angle\"===a.dim&&(this.animationThreshold=Math.PI/18);var o,s,l=a.polar,u=l.getOtherAxis(a).getExtent(),h=a[\"dataTo\"+f.capitalFirst(a.dim)](e),c=i.get(\"type\");c&&\"none\"!==c&&(o=p.buildElStyle(i),(s=g[c](a,l,h,u,o)).style=o,t.graphicKey=s.type,t.pointer=s);var d=function(t,e,n,i){var r=e.axis,a=r.dataToCoord(t),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var s,l,u,h=n.getRadiusAxis().getExtent();{var c,d,f,p,g,m;u=\"radius\"===r.dim?(c=y.create(),y.rotate(c,c,o),y.translate(c,c,[n.cx,n.cy]),s=v.applyTransform([a,-i],c),d=e.getModel(\"axisLabel\").get(\"rotate\")||0,f=_.innerTextLayout(o,d*Math.PI/180,-1),l=f.textAlign,f.textVerticalAlign):(p=h[1],s=n.coordToPoint([p+i,a]),g=n.cx,m=n.cy,l=Math.abs(s[0]-g)/p<.3?\"center\":s[0]>g?\"left\":\"right\",Math.abs(s[1]-m)/p<.3?\"middle\":s[1]>m?\"top\":\"bottom\")}return{position:s,align:l,verticalAlign:u}}(e,n,l,i.get(\"label.margin\"));p.buildLabelElOption(t,n,i,r,d)}});var g={line:function(t,e,n,i,r){return\"angle\"===t.dim?{type:\"Line\",shape:p.makeLineShape(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:\"Circle\",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i,r){var a=Math.max(1,t.getBandWidth()),o=Math.PI/180;return\"angle\"===t.dim?{type:\"Sector\",shape:p.makeSectorShape(e.cx,e.cy,i[0],i[1],(-n-a/2)*o,(a/2-n)*o)}:{type:\"Sector\",shape:p.makeSectorShape(e.cx,e.cy,n-a/2,n+a/2,0,2*Math.PI)}}};r.registerAxisPointerClass(\"PolarAxisPointer\",a),t.exports=a},function(t,e,n){var i=n(1),a=n(0);function r(r,t){t.update=\"updateView\",i.registerAction(t,function(n,t){var i={};return t.eachComponent({mainType:\"geo\",query:n},function(e){e[r](n.name);var t=e.coordinateSystem;a.each(t.regions,function(t){i[t.name]=e.isSelected(t.name)||!1})}),{selected:i,name:n.name}})}n(428),n(102),n(429),n(167),r(\"toggleSelected\",{type:\"geoToggleSelect\",event:\"geoselectchanged\"}),r(\"select\",{type:\"geoSelect\",event:\"geoselected\"}),r(\"unSelect\",{type:\"geoUnSelect\",event:\"geounselected\"})},function(t,e,n){var i=n(0),r=n(4),a=n(13),o=n(12),s=n(99),l=n(102),u=a.extend({type:\"geo\",coordinateSystem:null,layoutMode:\"box\",init:function(t){a.prototype.init.apply(this,arguments),r.defaultEmphasis(t,\"label\",[\"show\"])},optionUpdated:function(){var t=this.option,n=this;t.regions=l.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=i.reduce(t.regions||[],function(t,e){return e.name&&t.set(e.name,new o(e,n)),t},i.createHashMap()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:\"center\",top:\"center\",aspectScale:null,silent:!1,map:\"\",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",color:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{color:\"rgba(255,215,0,0.8)\"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new o(null,this,this.ecModel)},getFormattedLabel:function(t,e){var n=this.getRegionModel(t).get(\"label\"+(\"normal\"===e?\".\":e+\".\")+\"formatter\"),i={name:t};return\"function\"==typeof n?(i.status=e,n(i)):\"string\"==typeof n?n.replace(\"{a}\",null!=t?t:\"\"):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}});i.mixin(u,s),t.exports=u},function(t,e,n){var i=n(165),r=n(1).extendComponentView({type:\"geo\",init:function(t,e){var n=new i(e,!0);this._mapDraw=n,this.group.add(n.group)},render:function(t,e,n,i){var r;i&&\"geoToggleSelect\"===i.type&&i.from===this.uid||(r=this._mapDraw,t.get(\"show\")?r.draw(t,e,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=t.get(\"silent\"))},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});t.exports=r},function(t,e,n){n(431),n(432),n(433)},function(t,e,n){var h=n(0),c=n(6),a=n(3),i=n(19);function r(t,e,n){this._model=t}function o(t,e,n,i){var r=n.calendarModel,a=n.seriesModel,o=r?r.coordinateSystem:a?a.coordinateSystem:null;return o===this?o[t](i):null}r.prototype={constructor:r,type:\"calendar\",dimensions:[\"time\",\"value\"],getDimensionsInfo:function(){return[{name:\"time\",type:\"time\"},\"value\"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=a.parseDate(t)).getFullYear(),n=(n=t.getMonth()+1)<10?\"0\"+n:n,i=(i=t.getDate())<10?\"0\"+i:i,r=t.getDay();return{y:e,m:n,d:i,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+\"-\"+n+\"-\"+i,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},update:function(t,e){this._firstDayOfWeek=+this._model.getModel(\"dayLabel\").get(\"firstDay\"),this._orient=this._model.get(\"orient\"),this._lineWidth=this._model.getModel(\"itemStyle\").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=[\"width\",\"height\"],r=this._model.get(\"cellSize\").slice(),a=this._model.getBoxLayoutParams(),o=\"horizontal\"===this._orient?[n,7]:[7,n];h.each([0,1],function(t){u(r,t)&&(a[i[t]]=r[t]*o[t])});var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=c.getLayoutRect(a,s);function u(t,e){return null!=t[e]&&\"auto\"!==t[e]}h.each([0,1],function(t){u(r,t)||(r[t]=l[i[t]]/o[t])}),this._sw=r[0],this._sh=r[1]},dataToPoint:function(t,e){h.isArray(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,r=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];var a=n.day,o=this._getRangeInfo([i.start.time,r]).nthWeek;return\"vertical\"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return\"vertical\"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},convertToPixel:h.curry(o,\"dataToPoint\"),convertFromPixel:h.curry(o,\"pointToData\"),_initRangeOption:function(){var t,e,n,i=this._model.get(\"range\"),r=i;h.isArray(r)&&1===r.length&&(r=r[0]),/^\\d{4}$/.test(r)&&(i=[r+\"-01-01\",r+\"-12-31\"]),/^\\d{4}[\\/|-]\\d{1,2}$/.test(r)&&((e=(t=this.getDateInfo(r)).date).setMonth(e.getMonth()+1),n=this.getNextNDay(e,-1),i=[t.formatedDate,n.formatedDate]),/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(r)&&(i=[r,r]);var a=this._getRangeInfo(i);return a.start.time>a.end.time&&i.reverse(),i},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,i=new Date(t[0].time),r=i.getDate(),a=t[1].date.getDate();i.setDate(r+n-1);var o=i.getDate();if(o!==a)for(var s=0<i.getTime()-t[1].time?1:-1;(o=i.getDate())!==a&&0<(i.getTime()-t[1].time)*s;)n-=s,i.setDate(o-s);var l=Math.floor((n+t[0].day+6)/7),u=e?1-l:l-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:l,nthWeek:u,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return!1;var r=7*(t-1)-i.fweek+e,a=new Date(i.start.time);return a.setDate(i.start.d+r),this.getDateInfo(a)}},r.dimensions=r.prototype.dimensions,r.getDimensionsInfo=r.prototype.getDimensionsInfo,r.create=function(t,e){var n=[];return t.eachComponent(\"calendar\",function(t){var e=new r(t);n.push(e),t.coordinateSystem=e}),t.eachSeries(function(t){\"calendar\"===t.get(\"coordinateSystem\")&&(t.coordinateSystem=n[t.get(\"calendarIndex\")||0])}),n},i.register(\"calendar\",r),t.exports=r},function(t,e,n){var r=n(0),i=n(13),a=n(6),o=a.getLayoutParams,s=a.sizeCalculable,l=a.mergeLayoutParam,u=i.extend({type:\"calendar\",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:\"horizontal\",splitLine:{show:!0,lineStyle:{color:\"#000\",width:1,type:\"solid\"}},itemStyle:{color:\"#fff\",borderWidth:1,borderColor:\"#ccc\"},dayLabel:{show:!0,firstDay:0,position:\"start\",margin:\"50%\",nameMap:\"en\",color:\"#000\"},monthLabel:{show:!0,position:\"start\",margin:5,align:\"center\",nameMap:\"en\",formatter:null,color:\"#000\"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:\"#ccc\",fontFamily:\"sans-serif\",fontWeight:\"bolder\",fontSize:20}},init:function(t,e,n,i){var r=o(t);u.superApply(this,\"init\",arguments),h(t,r)},mergeOption:function(t,e){u.superApply(this,\"mergeOption\",arguments),h(this.option,t)}});function h(t,e){var n=t.cellSize;r.isArray(n)?1===n.length&&(n[1]=n[0]):n=t.cellSize=[n,n];var i=r.map([0,1],function(t){return s(e,t)&&(n[t]=\"auto\"),null!=n[t]&&\"auto\"!==n[t]});l(t,e,{type:\"box\",ignoreSize:i})}t.exports=u},function(t,e,n){var i=n(1),b=n(0),w=n(2),r=n(7),v=n(3),T={EN:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],CN:[\"一月\",\"二月\",\"三月\",\"四月\",\"五月\",\"六月\",\"七月\",\"八月\",\"九月\",\"十月\",\"十一月\",\"十二月\"]},y={EN:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],CN:[\"日\",\"一\",\"二\",\"三\",\"四\",\"五\",\"六\"]},a=i.extendComponentView({type:\"calendar\",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,a=r.getRangeInfo(),o=r.getOrient();this._renderDayRect(t,a,i),this._renderLines(t,a,o,i),this._renderYearText(t,a,o,i),this._renderMonthText(t,o,i),this._renderWeekText(t,a,o,i)},_renderDayRect:function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel(\"itemStyle\").getItemStyle(),a=i.getCellWidth(),o=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,u=new w.Rect({shape:{x:l[0],y:l[1],width:a,height:o},cursor:\"default\",style:r});n.add(u)}},_renderLines:function(n,t,i,r){var a=this,o=n.coordinateSystem,s=n.getModel(\"splitLine.lineStyle\").getLineStyle(),l=n.get(\"splitLine.show\"),e=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var u=t.start,h=0;u.time<=t.end.time;h++){d(u.formatedDate),0===h&&(u=o.getDateInfo(t.start.y+\"-\"+t.start.m));var c=u.date;c.setMonth(c.getMonth()+1),u=o.getDateInfo(c)}function d(t){a._firstDayOfMonth.push(o.getDateInfo(t)),a._firstDayPoints.push(o.dataToRect([t],!1).tl);var e=a._getLinePointsOfOneWeek(n,t,i);a._tlpoints.push(e[0]),a._blpoints.push(e[e.length-1]),l&&a._drawSplitline(e,s,r)}d(o.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,e,i),s,r),l&&this._drawSplitline(a._getEdgesPoints(a._blpoints,e,i),s,r)},_getEdgesPoints:function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],r=\"horizontal\"===n?0:1;return i[0][r]=i[0][r]-e/2,i[1][r]=i[1][r]+e/2,i},_drawSplitline:function(t,e,n){var i=new w.Polyline({z2:20,shape:{points:t},style:e});n.add(i)},_getLinePointsOfOneWeek:function(t,e,n){var i=t.coordinateSystem;e=i.getDateInfo(e);for(var r=[],a=0;a<7;a++){var o=i.getNextNDay(e.time,a),s=i.dataToRect([o.time],!1);r[2*o.day]=s.tl,r[2*o.day+1]=s[\"horizontal\"===n?\"bl\":\"tr\"]}return r},_formatterLabel:function(t,e){return\"string\"==typeof t&&t?r.formatTplSimple(t,e):\"function\"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,n,i,r){e=e.slice();var a=[\"center\",\"bottom\"];\"bottom\"===i?(e[1]+=r,a=[\"center\",\"top\"]):\"left\"===i?e[0]-=r:\"right\"===i?(e[0]+=r,a=[\"center\",\"top\"]):e[1]-=r;var o=0;return\"left\"!==i&&\"right\"!==i||(o=Math.PI/2),{rotation:o,position:e,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(t,e,n,i){var r,a,o,s,l,u,h,c,d,f,p,g,m=t.getModel(\"yearLabel\");m.get(\"show\")&&(r=m.get(\"margin\"),a=(a=m.get(\"position\"))||(\"horizontal\"!==n?\"top\":\"left\"),s=((o=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]])[0][0]+o[1][0])/2,l=(o[0][1]+o[1][1])/2,h={top:[s,o[u=\"horizontal\"===n?0:1][1]],bottom:[s,o[1-u][1]],left:[o[1-u][0],l],right:[o[u][0],l]},c=e.start.y,+e.end.y>+e.start.y&&(c=c+\"-\"+e.end.y),d=m.get(\"formatter\"),f={start:e.start.y,end:e.end.y,nameMap:c},p=this._formatterLabel(d,f),g=new w.Text({z2:30}),w.setTextStyle(g.style,m,{text:p}),g.attr(this._yearTextPositionControl(g,h[a],n,a,r)),i.add(g))},_monthTextPositionControl:function(t,e,n,i,r){var a=\"left\",o=\"top\",s=t[0],l=t[1];return\"horizontal\"===n?(l+=r,e&&(a=\"center\"),\"start\"===i&&(o=\"bottom\")):(s+=r,e&&(o=\"middle\"),\"start\"===i&&(a=\"right\")),{x:s,y:l,textAlign:a,textVerticalAlign:o}},_renderMonthText:function(t,e,n){var i=t.getModel(\"monthLabel\");if(i.get(\"show\")){var r=i.get(\"nameMap\"),a=i.get(\"margin\"),o=i.get(\"position\"),s=i.get(\"align\"),l=[this._tlpoints,this._blpoints];b.isString(r)&&(r=T[r.toUpperCase()]||[]);for(var u=\"start\"===o?0:1,h=\"horizontal\"===e?0:1,a=\"start\"===o?-a:a,c=\"center\"===s,d=0;d<l[u].length-1;d++){var f,p=l[u][d].slice(),g=this._firstDayOfMonth[d];c&&(f=this._firstDayPoints[d],p[h]=(f[h]+l[0][d+1][h])/2);var m=i.get(\"formatter\"),v=r[g.m-1],y={yyyy:g.y,yy:(g.y+\"\").slice(2),MM:g.m,M:+g.m,nameMap:v},_=this._formatterLabel(m,y),x=new w.Text({z2:30});b.extend(w.setTextStyle(x.style,i,{text:_}),this._monthTextPositionControl(p,c,e,o,a)),n.add(x)}}},_weekTextPositionControl:function(t,e,n,i,r){var a=\"center\",o=\"middle\",s=t[0],l=t[1],u=\"start\"===n;return\"horizontal\"===e?(s=s+i+(u?1:-1)*r[0]/2,a=u?\"right\":\"left\"):(l=l+i+(u?1:-1)*r[1]/2,o=u?\"bottom\":\"top\"),{x:s,y:l,textAlign:a,textVerticalAlign:o}},_renderWeekText:function(t,e,n,i){var r=t.getModel(\"dayLabel\");if(r.get(\"show\")){var a=t.coordinateSystem,o=r.get(\"position\"),s=r.get(\"nameMap\"),l=r.get(\"margin\"),u=a.getFirstDayOfWeek();b.isString(s)&&(s=y[s.toUpperCase()]||[]);var h=a.getNextNDay(e.end.time,7-e.lweek).time,c=[a.getCellWidth(),a.getCellHeight()],l=v.parsePercent(l,c[\"horizontal\"===n?0:1]);\"start\"===o&&(h=a.getNextNDay(e.start.time,-(7+e.fweek)).time,l=-l);for(var d=0;d<7;d++){var f=a.getNextNDay(h,d),p=a.dataToRect([f.time],!1).center,g=Math.abs((d+u)%7),m=new w.Text({z2:30});b.extend(w.setTextStyle(m.style,r,{text:s[g]}),this._weekTextPositionControl(p,n,o,l,c)),i.add(m)}}}});t.exports=a},function(t,e,n){n(5).__DEV__;var i=n(1),f=n(0),s=n(4),o=n(2),p=n(6),g=n(3).parsePercent,l={path:null,compoundPath:null,group:o.Group,image:o.Image,text:o.Text};i.registerPreprocessor(function(t){var e=t.graphic;f.isArray(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var r=i.extendComponentModel({type:\"graphic\",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,r.superApply(this,\"mergeOption\",arguments),this.option.elements=e},optionUpdated:function(t,e){var n=this.option,i=(e?n:t).elements,u=n.elements=e?[]:n.elements,r=[];this._flatten(i,r);var a=s.mappingToExists(u,r);s.makeIdAndName(a);var h=this._elOptionsToUpdate=[];f.each(a,function(t,e){var n,i,r,a,o,s,l=t.option;l&&(h.push(l),function(t,e){var n=t.exist;{var i;e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId&&((i=e.parentOption)?e.parentId=i.id:n&&(e.parentId=n.parentId))}e.parentOption=null}(t,l),n=u,i=e,r=l,a=f.extend({},r),o=n[i],\"merge\"===(s=r.$action||\"merge\")?o?(f.merge(o,a,!0),p.mergeLayoutParam(o,a,{ignoreSize:!0}),p.copyLayoutParams(r,o)):n[i]=a:\"replace\"===s?n[i]=a:\"remove\"===s&&o&&(n[i]=null),function(t,e){if(!t)return;t.hv=e.hv=[c(e,[\"left\",\"right\"]),c(e,[\"top\",\"bottom\"])],\"group\"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0))}(u[e],l))},this);for(var o=u.length-1;0<=o;o--)null==u[o]?u.splice(o,1):delete u[o].$action},_flatten:function(t,n,i){f.each(t,function(t){var e;t&&(i&&(t.parentOption=i),n.push(t),e=t.children,\"group\"===t.type&&e&&this._flatten(e,n,t),delete t.children)},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});function m(t,e,n,i){var r=n.type,a=new(l.hasOwnProperty(r)?l[r]:o.getShapeClass(r))(n);e.add(a),i.set(t,a),a.__ecGraphicId=t}function v(t,e){var n=t&&t.parent;n&&(\"group\"===t.type&&t.traverse(function(t){v(t,e)}),e.removeKey(t.__ecGraphicId),n.remove(t))}function c(e,t){var n;return f.each(t,function(t){null!=e[t]&&\"auto\"!==e[t]&&(n=!0)}),n}i.extendComponentView({type:\"graphic\",init:function(t,e){this._elMap=f.createHashMap(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},_updateElements:function(h){var c,d,t=h.useElOptionsToUpdate();t&&(c=this._elMap,d=this.group,f.each(t,function(t){var e=t.$action,n=t.id,i=c.get(n),r=t.parentId,a=null!=r?c.get(r):d,o=t.style;\"text\"===t.type&&o&&(t.hv&&t.hv[1]&&(o.textVerticalAlign=o.textBaseline=null),!o.hasOwnProperty(\"textFill\")&&o.fill&&(o.textFill=o.fill),!o.hasOwnProperty(\"textStroke\")&&o.stroke&&(o.textStroke=o.stroke));var s,l=(s=t,s=f.extend({},s),f.each([\"id\",\"parentId\",\"$action\",\"hv\",\"bounding\"].concat(p.LOCATION_PARAMS),function(t){delete s[t]}),s);e&&\"merge\"!==e?\"replace\"===e?(v(i,c),m(n,a,l,c)):\"remove\"===e&&v(i,c):i?i.attr(l):m(n,a,l,c);var u=c.get(n);u&&(u.__ecGraphicWidthOption=t.width,u.__ecGraphicHeightOption=t.height,function(t,e){var n=t.eventData;t.silent||t.ignore||n||(n=t.eventData={componentType:\"graphic\",componentIndex:e.componentIndex,name:t.name});n&&(n.info=t.info)}(u,h))}))},_relocate:function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,a=e.getWidth(),o=e.getHeight(),s=0;s<n.length;s++){var l,u=n[s];(h=r.get(u.id))&&h.isGroup&&(l=(c=h.parent)===i,h.__ecGraphicWidth=g(h.__ecGraphicWidthOption,l?a:c.__ecGraphicWidth)||0,h.__ecGraphicHeight=g(h.__ecGraphicHeightOption,l?o:c.__ecGraphicHeight)||0)}for(s=n.length-1;0<=s;s--){var h,c,d,u=n[s];(h=r.get(u.id))&&(d=(c=h.parent)===i?{width:a,height:o}:{width:c.__ecGraphicWidth,height:c.__ecGraphicHeight},p.positionElement(h,u,d,null,{hv:u.hv,boundingMode:u.bounding}))}},_clear:function(){var e=this._elMap;e.each(function(t){v(t,e)}),this._elMap=f.createHashMap()},dispose:function(){this._clear()}})},function(t,e,n){n(436),n(437),n(438),n(439),n(440),n(441),n(446)},function(t,e,n){var i=n(1),r=n(0),a=n(33),o=i.extendComponentModel({type:\"toolbox\",layoutMode:{type:\"box\",ignoreSize:!0},optionUpdated:function(){o.superApply(this,\"optionUpdated\",arguments),r.each(this.option.feature,function(t,e){var n=a.get(e);n&&r.merge(t,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:\"horizontal\",left:\"right\",top:\"top\",backgroundColor:\"transparent\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:\"#666\",color:\"none\"},emphasis:{iconStyle:{borderColor:\"#3E98C5\"}},tooltip:{show:!1}}});t.exports=o},function(t,e,n){var i=n(1),v=n(0),s=n(16),y=n(33),_=n(2),x=n(12),r=n(38),a=n(186),o=i.extendComponentView({type:\"toolbox\",render:function(h,c,d,l){var f,u,p,g,m=this.group;function t(t,e){var n,i=g[t],r=g[e],a=u[i],o=new x(a,h,h.ecModel);if(l&&null!=l.newTitle&&l.featureName===i&&(a.title=l.newTitle),i&&!r){if(0===i.indexOf(\"my\"))n={model:o,onclick:o.option.onclick,featureName:i};else{var s=y.get(i);if(!s)return;n=new s(o,c,d)}p[i]=n}else{if(!(n=p[r]))return;n.model=o,n.ecModel=c,n.api=d}i||!r?o.get(\"show\")&&!n.unusable?(function(r,a,t){var o=r.getModel(\"iconStyle\"),s=r.getModel(\"emphasis.iconStyle\"),e=a.getIcons?a.getIcons():r.get(\"icon\"),l=r.get(\"title\")||{};{var n,i;\"string\"==typeof e&&(n=e,i=l,l={},(e={})[t]=n,l[t]=i)}var u=r.iconPaths={};v.each(e,function(t,e){var n=_.createIcon(t,{},{x:-f/2,y:-f/2,width:f,height:f});n.setStyle(o.getItemStyle()),n.hoverStyle=s.getItemStyle(),n.setStyle({text:l[e],textAlign:s.get(\"textAlign\"),textBorderRadius:s.get(\"textBorderRadius\"),textPadding:s.get(\"textPadding\"),textFill:null});var i=h.getModel(\"tooltip\");i&&i.get(\"show\")&&n.attr(\"tooltip\",v.extend({content:l[e],formatter:i.get(\"formatter\",!0)||function(){return l[e]},formatterParams:{componentType:\"toolbox\",name:e,title:l[e],$vars:[\"name\",\"title\"]},position:i.get(\"position\",!0)||\"bottom\"},i.option)),_.setHoverStyle(n),h.get(\"showTitle\")&&(n.__title=l[e],n.on(\"mouseover\",function(){var t=s.getItemStyle(),e=\"vertical\"===h.get(\"orient\")?null==h.get(\"right\")?\"right\":\"left\":null==h.get(\"bottom\")?\"bottom\":\"top\";n.setStyle({textFill:s.get(\"textFill\")||t.fill||t.stroke||\"#000\",textBackgroundColor:s.get(\"textBackgroundColor\"),textPosition:s.get(\"textPosition\")||e})}).on(\"mouseout\",function(){n.setStyle({textFill:null,textBackgroundColor:null})})),n.trigger(r.get(\"iconStatus.\"+e)||\"normal\"),m.add(n),n.on(\"click\",v.bind(a.onclick,a,c,d,e)),u[e]=n})}(o,n,i),o.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&i[t].trigger(e)},n.render&&n.render(o,c,d,l)):n.remove&&n.remove(c,d):n.dispose&&n.dispose(c,d)}m.removeAll(),h.get(\"show\")&&(f=+h.get(\"itemSize\"),u=h.get(\"feature\")||{},p=this._features||(this._features={}),g=[],v.each(u,function(t,e){g.push(e)}),new r(this._featureNames||[],g).add(t).update(t).remove(v.curry(t,null)).execute(),this._featureNames=g,a.layout(m,h,d),m.add(a.makeBackground(m.getBoundingRect(),h)),m.eachChild(function(t){var e,n,i,r,a=t.__title,o=t.hoverStyle;o&&a&&(e=s.getBoundingRect(a,s.makeFont(o)),n=t.position[0]+m.position[0],i=!1,t.position[1]+m.position[1]+f+e.height>d.getHeight()&&(o.textPosition=\"top\",i=!0),r=i?-5-e.height:f+8,n+e.width/2>d.getWidth()?(o.textPosition=[\"100%\",r],o.textAlign=\"right\"):n-e.width/2<0&&(o.textPosition=[0,r],o.textAlign=\"left\"))}))},updateView:function(t,e,n,i){v.each(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,i)})},remove:function(e,n){v.each(this._features,function(t){t.remove&&t.remove(e,n)}),this.group.removeAll()},dispose:function(e,n){v.each(this._features,function(t){t.dispose&&t.dispose(e,n)})}});t.exports=o},function(t,e,n){var p=n(11),i=n(30),r=n(33),a=i.toolbox.saveAsImage;function o(t){this.model=t}o.defaultOption={show:!0,icon:\"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0\",title:a.title,type:\"png\",connectedBackgroundColor:\"#fff\",name:\"\",excludeComponents:[\"toolbox\"],pixelRatio:1,lang:a.lang.slice()},o.prototype.unusable=!p.canvasSupported,o.prototype.onclick=function(t,e){var n=this.model,i=n.get(\"name\")||t.get(\"title.0.text\")||\"echarts\",r=\"svg\"===e.getZr().painter.getType()?\"svg\":n.get(\"type\",!0)||\"png\",a=e.getConnectedDataURL({type:r,backgroundColor:n.get(\"backgroundColor\",!0)||t.get(\"backgroundColor\")||\"#fff\",connectedBackgroundColor:n.get(\"connectedBackgroundColor\"),excludeComponents:n.get(\"excludeComponents\"),pixelRatio:n.get(\"pixelRatio\")});if(\"function\"!=typeof MouseEvent||p.browser.ie||p.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var o=atob(a.split(\",\")[1]),s=o.length,l=new Uint8Array(s);s--;)l[s]=o.charCodeAt(s);var u=new Blob([l]);window.navigator.msSaveOrOpenBlob(u,i+\".\"+r)}else{var h=n.get(\"lang\"),c='<body style=\"margin:0;\"><img src=\"'+a+'\" style=\"max-width:100%;\" title=\"'+(h&&h[0]||\"\")+'\" /></body>';window.open().document.write(c)}else{var d=document.createElement(\"a\");d.download=i+\".\"+r,d.target=\"_blank\",d.href=a;var f=new MouseEvent(\"click\",{view:window,bubbles:!0,cancelable:!1});d.dispatchEvent(f)}},r.register(\"saveAsImage\",o),t.exports=o},function(t,e,n){var i=n(1),f=n(0),r=n(30),a=n(33),o=r.toolbox.magicType,s=\"__ec_magicType_stack__\";function l(t){this.model=t}l.defaultOption={show:!0,type:[],icon:{line:\"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4\",bar:\"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7\",stack:\"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z\"},title:f.clone(o.title),option:{},seriesIndex:{}};var u=l.prototype;u.getIcons=function(){var t=this.model,e=t.get(\"icon\"),n={};return f.each(t.get(\"type\"),function(t){e[t]&&(n[t]=e[t])}),n};var p={line:function(t,e,n,i){if(\"bar\"===t)return f.merge({id:e,type:\"line\",data:n.get(\"data\"),stack:n.get(\"stack\"),markPoint:n.get(\"markPoint\"),markLine:n.get(\"markLine\")},i.get(\"option.line\")||{},!0)},bar:function(t,e,n,i){if(\"line\"===t)return f.merge({id:e,type:\"bar\",data:n.get(\"data\"),stack:n.get(\"stack\"),markPoint:n.get(\"markPoint\"),markLine:n.get(\"markLine\")},i.get(\"option.bar\")||{},!0)},stack:function(t,e,n,i){var r=n.get(\"stack\")===s;if(\"line\"===t||\"bar\"===t)return i.setIconStatus(\"stack\",r?\"normal\":\"emphasis\"),f.merge({id:e,stack:r?\"\":s},i.get(\"option.stack\")||{},!0)}},g=[[\"line\",\"bar\"],[\"stack\"]];u.onclick=function(u,t,h){var c,e,d=this.model,n=d.get(\"seriesIndex.\"+h);p[h]&&(c={series:[]},f.each(g,function(t){0<=f.indexOf(t,h)&&f.each(t,function(t){d.setIconStatus(t,\"normal\")})}),d.setIconStatus(h,\"emphasis\"),u.eachComponent({mainType:\"series\",query:null==n?null:{seriesIndex:n}},function(t){var e=t.subType,n=t.id,i=p[h](e,n,t,d);i&&(f.defaults(i,t.option),c.series.push(i));var r=t.coordinateSystem;if(r&&\"cartesian2d\"===r.type&&(\"line\"===h||\"bar\"===h)){var a=r.getAxesByScale(\"ordinal\")[0];if(a){var o=a.dim+\"Axis\",s=u.queryComponents({mainType:o,index:t.get(name+\"Index\"),id:t.get(name+\"Id\")})[0].componentIndex;c[o]=c[o]||[];for(var l=0;l<=s;l++)c[o][s]=c[o][s]||{};c[o][s].boundaryGap=\"bar\"===h}}}),\"stack\"===h&&(e=c.series&&c.series[0]&&c.series[0].stack===s?f.merge({stack:o.title.tiled},o.title):f.clone(o.title)),t.dispatchAction({type:\"changeMagicType\",currentType:h,newOption:c,newTitle:e,featureName:\"magicType\"}))},i.registerAction({type:\"changeMagicType\",event:\"magicTypeChanged\",update:\"prepareAndUpdate\"},function(t,e){e.mergeOption(t.newOption)}),a.register(\"magicType\",l),t.exports=l},function(t,e,n){var i=n(1),x=n(0),b=n(21),r=n(30),a=n(33),o=r.toolbox.dataView,l=new Array(60).join(\"-\"),c=\"\\t\";function w(t){var r,a,o,e,n,h,i=(r={},a=[],o=[],t.eachRawSeries(function(t){var e,n,i=t.coordinateSystem;!i||\"cartesian2d\"!==i.type&&\"polar\"!==i.type||\"category\"!==(e=i.getBaseAxis()).type?a.push(t):(n=e.dim+\"_\"+e.index,r[n]||(r[n]={categoryAxis:e,valueAxis:i.getOtherAxis(e),series:[]},o.push({axisDim:e.dim,axisIndex:e.index})),r[n].series.push(t))}),{seriesGroupByCategoryAxis:r,other:a,meta:o});return{value:x.filter([(n=i.seriesGroupByCategoryAxis,h=[],x.each(n,function(t,e){var n=t.categoryAxis,i=t.valueAxis.dim,r=[\" \"].concat(x.map(t.series,function(t){return t.name})),a=[n.model.getCategories()];x.each(t.series,function(t){a.push(t.getRawData().mapArray(i,function(t){return t}))});for(var o=[r.join(c)],s=0;s<a[0].length;s++){for(var l=[],u=0;u<a.length;u++)l.push(a[u][s]);o.push(l.join(c))}h.push(o.join(\"\\n\"))}),h.join(\"\\n\\n\"+l+\"\\n\\n\")),(e=i.other,x.map(e,function(t){var r=t.getRawData(),a=[t.name],o=[];return r.each(r.dimensions,function(){for(var t=arguments.length,e=arguments[t-1],n=r.getName(e),i=0;i<t-1;i++)o[i]=arguments[i];a.push((n?n+c:\"\")+o.join(c))}),a.join(\"\\n\")}).join(\"\\n\\n\"+l+\"\\n\\n\"))],function(t){return t.replace(/[\\n\\t\\s]/g,\"\")}).join(\"\\n\\n\"+l+\"\\n\\n\"),meta:i.meta}}function h(t){return t.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")}var d=new RegExp(\"[\"+c+\"]+\",\"g\");function T(t,o){var e=t.split(new RegExp(\"\\n*\"+l+\"\\n*\",\"g\")),s={series:[]};return x.each(e,function(t,e){var n,i,r,a;0<=(a=t).slice(0,a.indexOf(\"\\n\")).indexOf(c)?(r=function(t){for(var e=t.split(/\\n+/g),n=h(e.shift()).split(d),i=[],r=x.map(n,function(t){return{name:t,data:[]}}),a=0;a<e.length;a++){var o=h(e[a]).split(d);i.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[a]=o[s])}return{series:r,categories:i}}(t),i=(n=o[e]).axisDim+\"Axis\",n&&(s[i]=s[i]||[],s[i][n.axisIndex]={data:r.categories},s.series=s.series.concat(r.series))):(r=function(t){for(var e=t.split(/\\n+/g),n=h(e.shift()),i=[],r=0;r<e.length;r++){for(var a=h(e[r]).split(d),o=\"\",s=!1,l=isNaN(a[0])?(s=!0,o=a[0],a=a.slice(1),i[r]={name:o,value:[]},i[r].value):i[r]=[],u=0;u<a.length;u++)l.push(+a[u]);1===l.length&&(s?i[r].value=l[0]:i[r]=l[0])}return{name:n,data:i}}(t),s.series.push(r))}),s}function s(t){this._dom=null,this.model=t}s.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:\"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28\",title:x.clone(o.title),lang:x.clone(o.lang),backgroundColor:\"#fff\",textColor:\"#000\",textareaColor:\"#fff\",textareaBorderColor:\"#333\",buttonColor:\"#c23531\",buttonTextColor:\"#fff\"},s.prototype.onclick=function(t,e){var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement(\"div\");r.style.cssText=\"position:absolute;left:5px;top:5px;bottom:5px;right:5px;\",r.style.backgroundColor=i.get(\"backgroundColor\")||\"#fff\";var a=document.createElement(\"h4\"),o=i.get(\"lang\")||[];a.innerHTML=o[0]||i.get(\"title\"),a.style.cssText=\"margin: 10px 20px;\",a.style.color=i.get(\"textColor\");var s=document.createElement(\"div\"),l=document.createElement(\"textarea\");s.style.cssText=\"display:block;width:100%;overflow:auto;\";var u,h=i.get(\"optionToContent\"),c=i.get(\"contentToOption\"),d=w(t);\"function\"==typeof h?\"string\"==typeof(u=h(e.getOption()))?s.innerHTML=u:x.isDom(u)&&s.appendChild(u):(s.appendChild(l),l.readOnly=i.get(\"readOnly\"),l.style.cssText=\"width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;\",l.style.color=i.get(\"textColor\"),l.style.borderColor=i.get(\"textareaBorderColor\"),l.style.backgroundColor=i.get(\"textareaColor\"),l.value=d.value);var f=d.meta,p=document.createElement(\"div\");p.style.cssText=\"position:absolute;bottom:0;left:0;right:0;\";var g=\"float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px\",m=document.createElement(\"div\"),v=document.createElement(\"div\");g+=\";background-color:\"+i.get(\"buttonColor\"),g+=\";color:\"+i.get(\"buttonTextColor\");var y=this;function _(){n.removeChild(r),y._dom=null}b.addEventListener(m,\"click\",_),b.addEventListener(v,\"click\",function(){var t;try{t=\"function\"==typeof c?c(s,e.getOption()):T(l.value,f)}catch(t){throw _(),new Error(\"Data view format error \"+t)}t&&e.dispatchAction({type:\"changeDataView\",newOption:t}),_()}),m.innerHTML=o[1],v.innerHTML=o[2],v.style.cssText=g,m.style.cssText=g,i.get(\"readOnly\")||p.appendChild(v),p.appendChild(m),r.appendChild(a),r.appendChild(s),r.appendChild(p),s.style.height=n.clientHeight-80+\"px\",n.appendChild(r),this._dom=r},s.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},s.prototype.dispose=function(t,e){this.remove(t,e)},a.register(\"dataView\",s),i.registerAction({type:\"changeDataView\",event:\"dataViewChanged\",update:\"prepareAndUpdate\"},function(t,a){var o=[];x.each(t.newOption.series,function(t){var e,n,i,r=a.getSeriesByName(t.name)[0];r?(e=r.get(\"data\"),o.push({name:t.name,data:(n=t.data,i=e,x.map(n,function(t,e){var n=i&&i[e];return x.isObject(n)&&!x.isArray(n)?(x.isObject(t)&&!x.isArray(t)&&(t=t.value),x.defaults({value:t},n)):t}))})):o.push(x.extend({type:\"scatter\"},t))}),a.mergeOption(x.defaults({series:o},t.newOption))}),t.exports=s},function(t,e,n){var i=n(1),u=n(0),r=n(108),s=n(187),a=n(188),d=n(50),o=n(30),l=n(33);n(442);var h=o.toolbox.dataZoom,c=u.each;function f(t,e,n){(this._brushController=new r(n.getZr())).on(\"brush\",u.bind(this._onBrush,this)).mount(),this._isZoomActive}f.defaultOption={show:!0,filterMode:\"filter\",icon:{zoom:\"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1\",back:\"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26\"},title:u.clone(h.title)};var p=f.prototype;p.render=function(t,e,n,i){var r;this.model=t,this.ecModel=e,this.api=n,function(t,e,n,i,r){var a=n._isZoomActive;i&&\"takeGlobalCursor\"===i.type&&(a=\"dataZoomSelect\"===i.key&&i.dataZoomSelectActive);n._isZoomActive=a,t.setIconStatus(\"zoom\",a?\"emphasis\":\"normal\");var o=new s(m(t.option),e,{include:[\"grid\"]});n._brushController.setPanels(o.makePanelOpts(r,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?\"lineX\":!t.xAxisDeclared&&t.yAxisDeclared?\"lineY\":\"rect\"})).enableBrush(!!a&&{brushType:\"auto\",brushStyle:{lineWidth:0,fill:\"rgba(0,0,0,0.2)\"}})}(t,e,this,i,n),r=e,t.setIconStatus(\"back\",1<a.count(r)?\"emphasis\":\"normal\")},p.onclick=function(t,e,n){g[n].call(this)},p.remove=function(t,e){this._brushController.unmount()},p.dispose=function(t,e){this._brushController.dispose()};var g={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:\"takeGlobalCursor\",key:\"dataZoomSelect\",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(a.pop(this.ecModel))}};function m(e){var n={};return u.each([\"xAxisIndex\",\"yAxisIndex\"],function(t){n[t]=e[t],null==n[t]&&(n[t]=\"all\"),!1!==n[t]&&\"none\"!==n[t]||(n[t]=[])}),n}p._onBrush=function(t,e){var h,c;function r(t,e,n){var i,r,a,o=e.getAxis(t),s=o.model,l=(i=t,r=s,c.eachComponent({mainType:\"dataZoom\",subType:\"select\"},function(t){t.getAxisModel(i,r.componentIndex)&&(a=t)}),a),u=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(n=d(0,n.slice(),o.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),l&&(h[l.id]={dataZoomId:l.id,startValue:n[0],endValue:n[1]})}e.isEnd&&t.length&&(h={},c=this.ecModel,this._brushController.updateCovers([]),new s(m(this.model.option),c,{include:[\"grid\"]}).matchOutputRanges(t,c,function(t,e,n){var i;\"cartesian2d\"===n.type&&(\"rect\"===(i=t.brushType)?(r(\"x\",n,e[0]),r(\"y\",n,e[1])):r({lineX:\"x\",lineY:\"y\"}[i],n,e))}),a.push(c,h),this._dispatchZoomAction(h))},p._dispatchZoomAction=function(t){var n=[];c(t,function(t,e){n.push(u.clone(t))}),n.length&&this.api.dispatchAction({type:\"dataZoom\",from:this.uid,batch:n})},l.register(\"dataZoom\",f),i.registerPreprocessor(function(s){var l,t,e;function n(i,r){var a,o;r&&(null==(o=r[a=i+\"Index\"])||\"all\"===o||u.isArray(o)||(o=!1===o||\"none\"===o?[]:[o]),function(t,e){var n=s[t];u.isArray(n)||(n=n?[n]:[]);c(n,e)}(i,function(t,e){var n;null!=o&&\"all\"!==o&&-1===u.indexOf(o,e)||((n={type:\"select\",$fromToolbox:!0,filterMode:r.filterMode||\"filter\",id:\"\\0_ec_\\0toolbox-dataZoom_\"+i+e})[a]=e,l.push(n))}))}s&&(l=s.dataZoom||(s.dataZoom=[]),u.isArray(l)||(s.dataZoom=l=[l]),(t=s.toolbox)&&(u.isArray(t)&&(t=t[0]),t&&t.feature&&(n(\"xAxis\",e=t.feature.dataZoom),n(\"yAxis\",e))))}),t.exports=f},function(t,e,n){n(111),n(51),n(52),n(444),n(445),n(113),n(114)},function(t,e,n){function i(t,e,n,i){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=n}var r=n(0),f=n(3),a=n(112),p=n(50),g=r.each,m=f.asc;function s(t,e){var n,i,r=t.getAxisModel(),a=t._percentWindow,o=t._valueWindow;a&&(n=f.getPixelPrecision(o,[0,500]),n=Math.min(n,20),i=e||0===a[0]&&100===a[1],r.setRange(i?null:+o[0].toFixed(n),i?null:+o[1].toFixed(n)))}i.prototype={constructor:i,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var i=[],r=this.ecModel;return r.eachSeries(function(t){var e,n;a.isCoordSupported(t.get(\"coordinateSystem\"))&&(e=this._dimName,n=r.queryComponents({mainType:e+\"Axis\",index:t.get(e+\"AxisIndex\"),id:t.get(e+\"AxisId\")})[0],this._axisIndex===(n&&n.componentIndex)&&i.push(t))},this),i},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+\"Axis\",this._axisIndex)},getOtherAxisModel:function(){var e,n,t=this._dimName,i=this.ecModel,r=this.getAxisModel(),a=\"x\"===t||\"y\"===t?(e=\"gridIndex\",\"x\"===t?\"y\":\"x\"):(e=\"polarIndex\",\"angle\"===t?\"radius\":\"angle\");return i.eachComponent(a+\"Axis\",function(t){(t.get(e)||0)===(r.get(e)||0)&&(n=t)}),n},getMinMaxSpan:function(){return r.clone(this._minMaxSpan)},calculateDataWindow:function(r){var a,o=this._dataExtent,s=this.getAxisModel().axis.scale,l=this._dataZoomModel.getRangePropMode(),u=[0,100],h=[],c=[];g([\"start\",\"end\"],function(t,e){var n=r[t],i=r[t+\"Value\"];\"percent\"===l[e]?(null==n&&(n=u[e]),i=s.parse(f.linearMap(n,u,o))):(a=!0,i=null==i?o[e]:s.parse(i),n=f.linearMap(i,o,u)),c[e]=i,h[e]=n}),m(c),m(h);var d=this._minMaxSpan;function t(t,e,n,i,r){var a=r?\"Span\":\"ValueSpan\";p(0,t,n,\"all\",d[\"min\"+a],d[\"max\"+a]);for(var o=0;o<2;o++)e[o]=f.linearMap(t[o],n,i,!0),r&&(e[o]=s.parse(e[o]))}return a?t(c,h,o,u,!1):t(h,c,u,o,!0),{valueWindow:c,percentWindow:h}},reset:function(t){var e,i,r,a,o,n;t===this._dataZoomModel&&(e=this.getTargetSeriesModels(),this._dataExtent=function(t,e,n){var i=[1/0,-1/0];g(n,function(t){var n=t.getData();n&&g(n.mapDimension(e,!0),function(t){var e=n.getApproximateExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])})}),i[1]<i[0]&&(i=[NaN,NaN]);return function(t,e){var n=t.getAxisModel(),i=n.getMin(!0),r=\"category\"===n.get(\"type\"),a=r&&n.getCategories().length;null!=i&&\"dataMin\"!==i&&\"function\"!=typeof i?e[0]=i:r&&(e[0]=0<a?0:NaN);var o=n.getMax(!0);null!=o&&\"dataMax\"!==o&&\"function\"!=typeof o?e[1]=o:r&&(e[1]=0<a?a-1:NaN);n.get(\"scale\",!0)||(0<e[0]&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,i),i}(this,this._dimName,e),r=(i=this)._minMaxSpan={},a=i._dataZoomModel,o=i._dataExtent,g([\"min\",\"max\"],function(t){var e=a.get(t+\"Span\"),n=a.get(t+\"ValueSpan\");null!=n&&(n=i.getAxisModel().axis.scale.parse(n)),null!=n?e=f.linearMap(o[0]+n,o,[0,100],!0):null!=e&&(n=f.linearMap(e,[0,100],o,!0)-o[0]),r[t+\"Span\"]=e,r[t+\"ValueSpan\"]=n}),n=this.calculateDataWindow(t.settledOption),this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,s(this))},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,s(this,!0))},filterData:function(t,e){var i,n,r,c;t===this._dataZoomModel&&(i=this._dimName,n=this.getTargetSeriesModels(),r=t.get(\"filterMode\"),c=this._valueWindow,\"none\"!==r&&g(n,function(n){var u=n.getData(),h=u.mapDimension(i,!0);h.length&&(\"weakFilter\"===r?u.filterSelf(function(t){for(var e,n,i,r=0;r<h.length;r++){var a=u.get(h[r],t),o=!isNaN(a),s=a<c[0],l=a>c[1];if(o&&!s&&!l)return!0;o&&(i=!0),s&&(e=!0),l&&(n=!0)}return i&&e&&n}):g(h,function(t){var e;\"empty\"===r?n.setData(u=u.map(t,function(t){return(e=t)>=c[0]&&e<=c[1]?t:NaN;var e})):((e={})[t]=c,u.selectRange(e))}),g(h,function(t){u.setApproximateExtent(c,t)}))}))}},t.exports=i},function(t,e,n){var i=n(51).extend({type:\"dataZoom.select\"});t.exports=i},function(t,e,n){var i=n(52).extend({type:\"dataZoom.select\"});t.exports=i},function(t,e,n){var i=n(1),r=n(188),a=n(30),o=n(33),s=a.toolbox.restore;function l(t){this.model=t}l.defaultOption={show:!0,icon:\"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5\",title:s.title},l.prototype.onclick=function(t,e,n){r.clear(t),e.dispatchAction({type:\"restore\",from:this.uid})},o.register(\"restore\",l),i.registerAction({type:\"restore\",event:\"restore\",update:\"prepareAndUpdate\"},function(t,e){e.resetOption(\"recreate\")}),t.exports=l},function(t,e,n){var i=n(1);n(67),n(448),n(449),i.registerAction({type:\"showTip\",event:\"showTip\",update:\"tooltip:manuallyShowTip\"},function(){}),i.registerAction({type:\"hideTip\",event:\"hideTip\",update:\"tooltip:manuallyHideTip\"},function(){})},function(t,e,n){var i=n(1).extendComponentModel({type:\"tooltip\",dependencies:[\"axisPointer\"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:\"item\",triggerOn:\"mousemove|click\",alwaysShowContent:!1,displayMode:\"single\",renderMode:\"auto\",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:\"rgba(50,50,50,0.7)\",borderColor:\"#333\",borderRadius:4,borderWidth:0,padding:5,extraCssText:\"\",axisPointer:{type:\"line\",axis:\"auto\",animation:\"auto\",animationDurationUpdate:200,animationEasingUpdate:\"exponentialOut\",crossStyle:{color:\"#999\",width:1,type:\"dashed\",textStyle:{}}},textStyle:{color:\"#fff\",fontSize:14}}});t.exports=i},function(t,e,n){var i=n(1),w=n(0),h=n(11),a=n(450),o=n(451),m=n(7),r=n(3),s=n(2),c=n(183),T=n(6),l=n(12),u=n(184),v=n(20),y=n(84),d=n(4).getTooltipRenderMode,f=w.bind,_=w.each,S=r.parsePercent,p=new s.Rect({shape:{x:-1,y:-1,width:2,height:2}}),g=i.extendComponentView({type:\"tooltip\",init:function(t,e){var n,i,r;h.node||(i=(n=t.getComponent(\"tooltip\")).get(\"renderMode\"),this._renderMode=d(i),\"html\"===this._renderMode?(r=new a(e.getDom(),e,{appendToBody:n.get(\"appendToBody\",!0)}),this._newLine=\"<br/>\"):(r=new o(e),this._newLine=\"\\n\"),this._tooltipContent=r)},render:function(t,e,n){var i;h.node||(this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get(\"alwaysShowContent\"),(i=this._tooltipContent).update(),i.setEnterable(t.get(\"enterable\")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var i=this._tooltipModel.get(\"triggerOn\");u.register(\"itemTooltip\",this._api,f(function(t,e,n){\"none\"!==i&&(0<=i.indexOf(t)?this._tryShow(e,n):\"leave\"===t&&this._hide(n))},this))},_keepShow:function(){var t,e=this._tooltipModel,n=this._ecModel,i=this._api;null!=this._lastX&&null!=this._lastY&&\"none\"!==e.get(\"triggerOn\")&&(t=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){i.isDisposed()||t.manuallyShowTip(e,n,i,{x:t._lastX,y:t._lastY})}))},manuallyShowTip:function(t,e,n,i){if(i.from!==this.uid&&!h.node){var r=b(i,n);this._ticket=\"\";var a=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var o=p;o.position=[i.x,i.y],o.update(),o.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:o},r)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var s=c(i,e),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:i.position,target:s.el},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:\"updateAxisPointer\",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},manuallyHideTip:function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get(\"hideDelay\")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(b(i,n))},_manuallyAxisShowTip:function(t,e,n,i){var r=i.seriesIndex,a=i.dataIndex,o=e.getComponent(\"axisPointer\").coordSysAxesInfo;if(null!=r&&null!=a&&null!=o){var s=e.getSeriesByIndex(r);if(s)if(\"axis\"===(t=x([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,t])).get(\"trigger\"))return n.dispatchAction({type:\"updateAxisPointer\",seriesIndex:r,dataIndex:a,position:i.position}),!0}},_tryShow:function(t,e){var n,i=t.target;this._tooltipModel&&(this._lastX=t.offsetX,this._lastY=t.offsetY,(n=t.dataByCoordSys)&&n.length?this._showAxisTooltip(n,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e)))},_showOrMove:function(t,e){var n=t.get(\"showDelay\");e=w.bind(e,this),clearTimeout(this._showTimout),0<n?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var d=this._ecModel,n=this._tooltipModel,i=[e.offsetX,e.offsetY],r=[],f=[],a=x([e.tooltipOption,n]),p=this._renderMode,o=this._newLine,g={};_(t,function(t){_(t.dataByAxis,function(s){var l,t,u=d.getComponent(s.axisDim+\"Axis\",s.axisIndex),h=s.value,c=[];u&&null!=h&&(l=y.getValueLabel(h,u.axis,d,s.seriesDataIndices,s.valueLabelOpt),w.each(s.seriesDataIndices,function(t){var e,n,i,r=d.getSeriesByIndex(t.seriesIndex),a=t.dataIndexInside,o=r&&r.getDataParams(a);o.axisDim=s.axisDim,o.axisIndex=s.axisIndex,o.axisType=s.axisType,o.axisId=s.axisId,o.axisValue=v.getAxisRawValue(u.axis,h),o.axisValueLabel=l,o&&(f.push(o),e=r.formatTooltip(a,!0,null,p),w.isObject(e)?(n=e.html,i=e.markers,w.merge(g,i)):n=e,c.push(n))}),t=l,\"html\"!==p?r.push(c.join(o)):r.push((t?m.encodeHTML(t)+o:\"\")+c.join(o)))})},this),r.reverse(),r=r.join(this._newLine+this._newLine);var s=e.position;this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(a,s,i[0],i[1],this._tooltipContent,f):this._showTooltipContent(a,r,f,Math.random(),i[0],i[1],s,void 0,g)})},_showSeriesItemTooltip:function(t,e,n){var i,r,a,o,s,l=this._ecModel,u=e.seriesIndex,h=l.getSeriesByIndex(u),c=e.dataModel||h,d=e.dataIndex,f=e.dataType,p=c.getData(f),g=x([p.getItemModel(d),c,h&&(h.coordinateSystem||{}).model,this._tooltipModel]),m=g.get(\"trigger\");null!=m&&\"item\"!==m||(i=c.getDataParams(d,f),r=c.formatTooltip(d,!1,f,this._renderMode),o=w.isObject(r)?(a=r.html,r.markers):(a=r,null),s=\"item_\"+c.name+\"_\"+d,this._showOrMove(g,function(){this._showTooltipContent(g,a,i,s,t.offsetX,t.offsetY,t.position,t.target,o)}),n({type:\"showTip\",dataIndexInside:d,dataIndex:p.getRawIndex(d),seriesIndex:u,from:this.uid}))},_showComponentItemTooltip:function(t,e,n){var i=e.tooltip;\"string\"==typeof i&&(i={content:i,formatter:i});var r=new l(i,this._tooltipModel,this._ecModel),a=r.get(\"content\"),o=Math.random();this._showOrMove(r,function(){this._showTooltipContent(r,a,r.get(\"formatterParams\")||{},o,t.offsetX,t.offsetY,t.position,e)}),n({type:\"showTip\",from:this.uid})},_showTooltipContent:function(n,t,i,e,r,a,o,s,l){var u,h,c,d;this._ticket=\"\",n.get(\"showContent\")&&n.get(\"show\")&&(u=this._tooltipContent,h=n.get(\"formatter\"),o=o||n.get(\"position\"),c=t,h&&\"string\"==typeof h?c=m.formatTpl(h,i,!0):\"function\"==typeof h&&(d=f(function(t,e){t===this._ticket&&(u.setContent(e,l,n),this._updatePosition(n,o,r,a,u,i,s))},this),this._ticket=e,c=h(i,e,d)),u.setContent(c,l,n),u.show(n),this._updatePosition(n,o,r,a,u,i,s))},_updatePosition:function(t,e,n,i,r,a,o){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get(\"position\");var u,h,c,d,f,p,g,m,v,y=r.getSize(),_=t.get(\"align\"),x=t.get(\"verticalAlign\"),b=o&&o.getBoundingRect().clone();o&&b.applyTransform(o.transform),\"function\"==typeof e&&(e=e([n,i],a,r.el,b,{viewSize:[s,l],contentSize:y.slice()})),w.isArray(e)?(n=S(e[0],s),i=S(e[1],l)):w.isObject(e)?(e.width=y[0],e.height=y[1],n=(u=T.getLayoutRect(e,{width:s,height:l})).x,i=u.y,x=_=null):i=(n=\"string\"==typeof e&&o?(h=function(t,e,n){var i=n[0],r=n[1],a=0,o=0,s=e.width,l=e.height;switch(t){case\"inside\":a=e.x+s/2-i/2,o=e.y+l/2-r/2;break;case\"top\":a=e.x+s/2-i/2,o=e.y-r-5;break;case\"bottom\":a=e.x+s/2-i/2,o=e.y+l+5;break;case\"left\":a=e.x-i-5,o=e.y+l/2-r/2;break;case\"right\":a=e.x+s+5,o=e.y+l/2-r/2}return[a,o]}(e,b,y))[0]:(h=function(t,e,n,i,r,a,o){var s=n.getOuterSize(),l=s.width,u=s.height;null!=a&&(i<t+l+a?t-=l+a:t+=a);null!=o&&(r<e+u+o?e-=u+o:e+=o);return[t,e]}(n,i,r,s,l,_?null:20,x?null:20))[0],h[1]),_&&(n-=M(_)?y[0]/2:\"right\"===_?y[0]:0),x&&(i-=M(x)?y[1]/2:\"bottom\"===x?y[1]:0),t.get(\"confine\")&&(n=(h=(c=n,d=i,f=s,p=l,g=r.getOuterSize(),m=g.width,v=g.height,c=Math.min(c+m,f)-m,d=Math.min(d+v,p)-v,c=Math.max(c,0),d=Math.max(d,0),[c,d]))[0],i=h[1]),r.moveTo(n,i)},_updateContentNotChangedOnAxis:function(i){var t=this._lastDataByCoordSys,o=!!t&&t.length===i.length;return o&&_(t,function(t,e){var n=t.dataByAxis||{},a=(i[e]||{}).dataByAxis||[];(o&=n.length===a.length)&&_(n,function(t,e){var n=a[e]||{},i=t.seriesDataIndices||[],r=n.seriesDataIndices||[];(o&=t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&i.length===r.length)&&_(i,function(t,e){var n=r[e];o&=t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex})})}),this._lastDataByCoordSys=i,!!o},_hide:function(t){this._lastDataByCoordSys=null,t({type:\"hideTip\",from:this.uid})},dispose:function(t,e){h.node||(this._tooltipContent.dispose(),u.unregister(\"itemTooltip\",e))}});function x(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(l.isInstance(n)&&(n=n.get(\"tooltip\",!0)),\"string\"==typeof n&&(n={formatter:n}),e=new l(n,e,e.ecModel))}return e}function b(t,e){return t.dispatchAction||w.bind(e.dispatchAction,e)}function M(t){return\"center\"===t||\"middle\"===t}t.exports=g},function(t,e,n){var f=n(0),p=n(22),s=n(21),l=n(122),g=n(11),m=n(7),v=f.each,y=m.toCamelCase,_=[\"\",\"-webkit-\",\"-moz-\",\"-o-\"];function i(r){var t,e,n,i,a,o,s,l=[],u=r.get(\"transitionDuration\"),h=r.get(\"backgroundColor\"),c=r.getModel(\"textStyle\"),d=r.get(\"padding\");return u&&l.push((n=\"left \"+(t=u)+\"s \"+(e=\"cubic-bezier(0.23, 1, 0.32, 1)\")+\",top \"+t+\"s \"+e,f.map(_,function(t){return t+\"transition:\"+n}).join(\";\"))),h&&(g.canvasSupported?l.push(\"background-Color:\"+h):(l.push(\"background-Color:#\"+p.toHex(h)),l.push(\"filter:alpha(opacity=70)\"))),v([\"width\",\"color\",\"radius\"],function(t){var e=\"border-\"+t,n=y(e),i=r.get(n);null!=i&&l.push(e+\":\"+i+(\"color\"===t?\"\":\"px\"))}),l.push((a=[],o=(i=c).get(\"fontSize\"),(s=i.getTextColor())&&a.push(\"color:\"+s),a.push(\"font:\"+i.getFont()),o&&a.push(\"line-height:\"+Math.round(3*o/2)+\"px\"),v([\"decoration\",\"align\"],function(t){var e=i.get(t);e&&a.push(\"text-\"+t+\":\"+e)}),a.join(\";\"))),null!=d&&l.push(\"padding:\"+m.normalizeCssArray(d).join(\"px \")+\"px\"),l.join(\";\")+\";\"}function u(t,e,n,i,r){var a,o,s=e&&e.painter;n?(a=s&&s.getViewportRoot())&&l.transformLocalCoord(t,a,document.body,i,r):(t[0]=i,t[1]=r,(o=s&&s.getViewportRootOffset())&&(t[0]+=o.offsetLeft,t[1]+=o.offsetTop))}function r(t,e,n){if(g.wxa)return null;var i=document.createElement(\"div\");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),a=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0],u(this._styleCoord,r,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(i):t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(t){var e,n;t=t||window.event,o._enterable||(e=r.handler,n=r.painter.getViewportRoot(),s.normalizeEvent(n,t,!0),e.dispatch(\"mousemove\",t))},i.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}r.prototype={constructor:r,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;\"absolute\"!==n.position&&\"absolute\"!==e.position&&(n.position=\"relative\")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,n=this._styleCoord;e.style.cssText=\"position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;\"+i(t)+\";left:\"+n[0]+\"px;top:\"+n[1]+\"px;\"+(t.get(\"extraCssText\")||\"\"),e.style.display=e.innerHTML?\"block\":\"none\",e.style.pointerEvents=this._enterable?\"auto\":\"none\",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?\"\":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n=this._styleCoord;u(n,this._zr,this._appendToBody,t,e);var i=this.el.style;i.left=n[0]+\"px\",i.top=n[1]+\"px\"},hide:function(){this.el.style.display=\"none\",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(f.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t,e=this.el.clientWidth,n=this.el.clientHeight;return document.defaultView&&document.defaultView.getComputedStyle&&((t=document.defaultView.getComputedStyle(this.el))&&(e+=parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),n+=parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10))),{width:e,height:n}}},t.exports=r},function(t,e,n){var i=n(0),h=n(36);function r(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}r.prototype={constructor:r,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr(\"show\",!0),this._show=!0},setContent:function(t,e,n){this.el&&this._zr.remove(this.el);for(var i={},r=t,a=\"{marker\",o=r.indexOf(a);0<=o;){var s=r.indexOf(\"|}\"),l=r.substr(o+a.length,s-o-a.length);-1<l.indexOf(\"sub\")?i[\"marker\"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[l],textOffset:[3,0]}:i[\"marker\"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[l]},o=(r=r.substr(s+1)).indexOf(\"{marker\")}this.el=new h({style:{rich:i,text:t,textLineHeight:20,textBackgroundColor:n.get(\"backgroundColor\"),textBorderRadius:n.get(\"borderRadius\"),textFill:n.get(\"textStyle.color\"),textPadding:n.get(\"padding\")},z:n.get(\"z\")}),this._zr.add(this.el);var u=this;this.el.on(\"mouseover\",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on(\"mouseout\",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr(\"position\",[t,e])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(i.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}},t.exports=r},function(t,e,n){var i=n(1),r=n(453);n(189),n(455),n(456),n(457),n(458),i.registerPreprocessor(r)},function(t,e,n){var h=n(0),c=[\"rect\",\"polygon\",\"keep\",\"clear\"];t.exports=function(t,e){var n,i,r,a,o,s,l,u=t&&t.brush;h.isArray(u)||(u=u?[u]:[]),u.length&&(n=[],h.each(u,function(t){var e=t.hasOwnProperty(\"toolbox\")?t.toolbox:[];e instanceof Array&&(n=n.concat(e))}),i=t&&t.toolbox,h.isArray(i)&&(i=i[0]),i||(i={feature:{}},t.toolbox=[i]),(o=(a=(r=i.feature||(i.feature={})).brush||(r.brush={})).type||(a.type=[])).push.apply(o,n),s=o,l={},h.each(s,function(t){l[t]=1}),s.length=0,h.each(l,function(t,e){s.push(e)}),e&&!o.length&&o.push.apply(o,c))}},function(t,e,n){var u=n(155),h=n(9),c=n(2).linePolygonIntersect,i={lineX:r(0),lineY:r(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&u.contain(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var r=t.x,a=t.y,o=t.width,s=t.height,l=i[0];return!!(u.contain(i,r,a)||u.contain(i,r+o,a)||u.contain(i,r,a+s)||u.contain(i,r+o,a+s)||h.create(t).contain(l[0],l[1])||c(r,a,r+o,a,i)||c(r,a,r,a+s,i)||c(r+o,a,r+o,a+s,i)||c(r,a+s,r+o,a+s,i))||void 0}}};function r(a){var o=[\"x\",\"y\"],s=[\"width\",\"height\"];return{point:function(t,e,n){if(t){var i=n.range;return l(t[a],i)}},rect:function(t,e,n){if(t){var i=n.range,r=[t[o[a]],t[o[a]]+t[s[a]]];return r[1]<r[0]&&r.reverse(),l(r[0],i)||l(r[1],i)||l(i[0],r)||l(i[1],r)}}}}function l(t,e){return e[0]<=t&&t<=e[1]}t.exports=i},function(t,e,n){n(5).__DEV__;var i=n(1),r=n(0),a=n(85),o=n(12),s=[\"#ddd\"],l=i.extendComponentModel({type:\"brush\",dependencies:[\"geo\",\"grid\",\"xAxis\",\"yAxis\",\"parallel\",\"series\"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:\"all\",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:\"rect\",brushMode:\"single\",transformable:!0,brushStyle:{borderWidth:1,color:\"rgba(120,140,180,0.3)\",borderColor:\"rgba(120,140,180,0.8)\"},throttleType:\"fixRate\",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;e||a.replaceVisualOption(n,t,[\"inBrush\",\"outOfBrush\"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:s},i.hasOwnProperty(\"liftZ\")||(i.liftZ=5)},setAreas:function(t){t&&(this.areas=r.map(t,function(t){return u(this.option,t)},this))},setBrushOption:function(t){this.brushOption=u(this.option,t),this.brushType=this.brushOption.brushType}});function u(t,e){return r.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new o(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}t.exports=l},function(t,e,n){var i=n(1),r=n(0),a=n(108),o=n(189).layoutCovers,s=i.extendComponentView({type:\"brush\",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new a(e.getZr())).on(\"brush\",r.bind(this._onBrush,this)).mount()},render:function(t){return this.model=t,l.apply(this,arguments)},updateTransform:function(t,e){return o(e),l.apply(this,arguments)},updateView:l,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:\"brush\",brushId:n,areas:r.clone(t),$from:n}),e.isEnd&&this.api.dispatchAction({type:\"brushEnd\",brushId:n,areas:r.clone(t),$from:n})}});function l(t,e,n,i){i&&i.$from===t.id||this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}t.exports=s},function(t,e,n){var i=n(1);i.registerAction({type:\"brush\",event:\"brush\"},function(e,t){t.eachComponent({mainType:\"brush\",query:e},function(t){t.setAreas(e.areas)})}),i.registerAction({type:\"brushSelect\",event:\"brushSelected\",update:\"none\"},function(){}),i.registerAction({type:\"brushEnd\",event:\"brushEnd\",update:\"none\"},function(){})},function(t,e,n){var o=n(0),i=n(33),r=n(30).toolbox.brush;function a(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}a.defaultOption={show:!0,type:[\"rect\",\"polygon\",\"lineX\",\"lineY\",\"keep\",\"clear\"],icon:{rect:\"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13\",polygon:\"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2\",lineX:\"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4\",lineY:\"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4\",keep:\"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z\",clear:\"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2\"},title:o.clone(r.title)};var s=a.prototype;s.render=s.updateView=function(e,t,n){var i,r,a;t.eachComponent({mainType:\"brush\"},function(t){i=t.brushType,r=t.brushOption.brushMode||\"single\",a|=t.areas.length}),this._brushType=i,this._brushMode=r,o.each(e.get(\"type\",!0),function(t){e.setIconStatus(t,(\"keep\"===t?\"multiple\"===r:\"clear\"===t?a:t===i)?\"emphasis\":\"normal\")})},s.getIcons=function(){var t=this.model,e=t.get(\"icon\",!0),n={};return o.each(t.get(\"type\",!0),function(t){e[t]&&(n[t]=e[t])}),n},s.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;\"clear\"===n?(e.dispatchAction({type:\"axisAreaSelect\",intervals:[]}),e.dispatchAction({type:\"brush\",command:\"clear\",areas:[]})):e.dispatchAction({type:\"takeGlobalCursor\",key:\"brush\",brushOption:{brushType:\"keep\"===n?i:i!==n&&n,brushMode:\"keep\"===n?\"multiple\"===r?\"single\":\"multiple\":r}})},i.register(\"brush\",a),t.exports=a},function(t,e,n){var w=n(0),i=n(1),T=n(2),S=n(6).getLayoutRect,M=n(7).windowOpen;i.extendComponentModel({type:\"title\",layoutMode:{type:\"box\",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:\"\",target:\"blank\",subtext:\"\",subtarget:\"blank\",left:0,top:0,backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:\"bolder\",color:\"#333\"},subtextStyle:{color:\"#aaa\"}}}),i.extendComponentView({type:\"title\",render:function(t,e,n){var i,r,a,o,s,l,u,h,c,d,f,p,g,m,v,y,_,x,b;this.group.removeAll(),t.get(\"show\")&&(i=this.group,r=t.getModel(\"textStyle\"),a=t.getModel(\"subtextStyle\"),o=t.get(\"textAlign\"),s=w.retrieve2(t.get(\"textBaseline\"),t.get(\"textVerticalAlign\")),u=(l=new T.Text({style:T.setTextStyle({},r,{text:t.get(\"text\"),textFill:r.getTextColor()},{disableBox:!0}),z2:10})).getBoundingRect(),h=t.get(\"subtext\"),c=new T.Text({style:T.setTextStyle({},a,{text:h,textFill:a.getTextColor(),y:u.height+t.get(\"itemGap\"),textVerticalAlign:\"top\"},{disableBox:!0}),z2:10}),d=t.get(\"link\"),f=t.get(\"sublink\"),p=t.get(\"triggerEvent\",!0),l.silent=!d&&!p,c.silent=!f&&!p,d&&l.on(\"click\",function(){M(d,\"_\"+t.get(\"target\"))}),f&&c.on(\"click\",function(){M(d,\"_\"+t.get(\"subtarget\"))}),l.eventData=c.eventData=p?{componentType:\"title\",componentIndex:t.componentIndex}:null,i.add(l),h&&i.add(c),g=i.getBoundingRect(),(m=t.getBoxLayoutParams()).width=g.width,m.height=g.height,v=S(m,{width:n.getWidth(),height:n.getHeight()},t.get(\"padding\")),o||(\"middle\"===(o=t.get(\"left\")||t.get(\"right\"))&&(o=\"center\"),\"right\"===o?v.x+=v.width:\"center\"===o&&(v.x+=v.width/2)),s||(\"center\"===(s=t.get(\"top\")||t.get(\"bottom\"))&&(s=\"middle\"),\"bottom\"===s?v.y+=v.height:\"middle\"===s&&(v.y+=v.height/2),s=s||\"top\"),i.attr(\"position\",[v.x,v.y]),y={textAlign:o,textVerticalAlign:s},l.setStyle(y),c.setStyle(y),g=i.getBoundingRect(),_=v.margin,(x=t.getItemStyle([\"color\",\"opacity\"])).fill=t.get(\"backgroundColor\"),b=new T.Rect({shape:{x:g.x-_[3],y:g.y-_[0],width:g.width+_[1]+_[3],height:g.height+_[0]+_[2],r:t.get(\"borderRadius\")},style:x,subPixelOptimize:!0,silent:!0}),i.add(b))}})},function(t,e,n){var i=n(1),r=n(461);n(462),n(463),n(464),n(466),i.registerPreprocessor(r)},function(t,e,n){var o=n(0);function r(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),a={normal:1,emphasis:1};o.each(i,function(t,e){a[e]||s(r,e)||(r[e]=t)}),n.label&&!s(i,\"emphasis\")&&(i.emphasis=n.label,delete n.label)}function s(t,e){return t.hasOwnProperty(e)}t.exports=function(t){var e=t&&t.timeline;o.isArray(e)||(e=e?[e]:[]),o.each(e,function(t){t&&function(t){var e=t.type,n={number:\"value\",time:\"time\"};n[e]&&(t.axisType=n[e],delete t.type);{var i;r(t),s(t,\"controlPosition\")&&(s(i=t.controlStyle||(t.controlStyle={}),\"position\")||(i.position=t.controlPosition),\"none\"!==i.position||s(i,\"show\")||(i.show=!1,delete i.position),delete t.controlPosition)}o.each(t.data||[],function(t){o.isObject(t)&&!o.isArray(t)&&(!s(t,\"value\")&&s(t,\"name\")&&(t.value=t.name),r(t))})}(t)})}},function(t,e,n){n(13).registerSubTypeDefaulter(\"timeline\",function(){return\"slider\"})},function(t,e,n){var i=n(1),r=n(0);i.registerAction({type:\"timelineChange\",event:\"timelineChanged\",update:\"prepareAndUpdate\"},function(t,e){var n=e.getComponent(\"timeline\");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get(\"loop\",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption(\"timeline\"),r.defaults({currentIndex:n.option.currentIndex},t)}),i.registerAction({type:\"timelinePlayChange\",event:\"timelinePlayChanged\",update:\"update\"},function(t,e){var n=e.getComponent(\"timeline\");n&&null!=t.playState&&n.setPlayState(t.playState)})},function(t,e,n){var i=n(0),r=n(465),a=n(94),o=r.extend({type:\"timeline.slider\",defaultOption:{backgroundColor:\"rgba(0,0,0,0)\",borderColor:\"#ccc\",borderWidth:0,orient:\"horizontal\",inverse:!1,tooltip:{trigger:\"item\"},symbol:\"emptyCircle\",symbolSize:10,lineStyle:{show:!0,width:2,color:\"#304654\"},label:{position:\"auto\",show:!0,interval:\"auto\",rotate:0,color:\"#304654\"},itemStyle:{color:\"#304654\",borderWidth:1},checkpointStyle:{symbol:\"circle\",symbolSize:13,color:\"#c23531\",borderWidth:5,borderColor:\"rgba(194,53,49, 0.5)\",animation:!0,animationDuration:300,animationEasing:\"quinticInOut\"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:\"left\",playIcon:\"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z\",stopIcon:\"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z\",nextIcon:\"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z\",prevIcon:\"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z\",color:\"#304654\",borderColor:\"#304654\",borderWidth:1},emphasis:{label:{show:!0,color:\"#c23531\"},itemStyle:{color:\"#c23531\"},controlStyle:{color:\"#c23531\",borderColor:\"#c23531\",borderWidth:2}},data:[]}});i.mixin(o,a),t.exports=o},function(t,e,n){var o=n(0),i=n(13),s=n(17),l=n(4),r=i.extend({type:\"timeline\",layoutMode:\"box\",defaultOption:{zlevel:0,z:4,show:!0,axisType:\"time\",realtime:!0,left:\"20%\",top:null,right:\"20%\",bottom:0,width:null,height:40,padding:5,controlPosition:\"left\",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:\"#000\"},data:[]},init:function(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(t){r.superApply(this,\"mergeOption\",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(e<=t&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var r,t=this.option,e=t.data||[],n=t.axisType,a=this._names=[];\"category\"===n&&(r=[],o.each(e,function(t,e){var n,i=l.getDataItemValue(t);o.isObject(t)?(n=o.clone(t)).value=e:n=e,r.push(n),o.isString(i)||null!=i&&!isNaN(i)||(i=\"\"),a.push(i+\"\")}),e=r);var i={category:\"ordinal\",time:\"time\"}[n]||\"number\";(this._data=new s([{name:\"value\",type:i}],this)).initData(e,a)},getData:function(){return this._data},getCategories:function(){if(\"category\"===this.get(\"axisType\"))return this._names.slice()}});t.exports=r},function(t,e,n){var m=n(0),v=n(9),y=n(15),_=n(2),I=n(6),i=n(467),s=n(468),f=n(18).createSymbol,l=n(20),p=n(3),u=n(7).encodeHTML,x=m.bind,c=m.each,C=Math.PI,r=i.extend({type:\"timeline.slider\",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(e,t,n,i){var r,a,o,s;this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get(\"show\",!0)&&(r=this._layout(e,n),a=this._createGroup(\"mainGroup\"),o=this._createGroup(\"labelGroup\"),s=this._axis=this._createAxis(r,e),e.formatTooltip=function(t){return u(s.scale.getLabel(t))},c([\"AxisLine\",\"AxisTick\",\"Control\",\"CurrentPointer\"],function(t){this[\"_render\"+t](r,a,s,e)},this),this._renderAxisLabel(r,o,s,e),this._position(r,e)),this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n,i,r=t.get(\"label.position\"),a=t.get(\"orient\"),o=(n=t,i=e,I.getLayoutRect(n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},n.get(\"padding\")));null==r||\"auto\"===r?r=\"horizontal\"===a?o.y+o.height/2<e.getHeight()/2?\"-\":\"+\":o.x+o.width/2<e.getWidth()/2?\"+\":\"-\":isNaN(r)&&(r={horizontal:{top:\"-\",bottom:\"+\"},vertical:{left:\"-\",right:\"+\"}}[a][r]);var s,l,u,h,c={horizontal:\"center\",vertical:0<=r||\"+\"===r?\"left\":\"right\"},d={horizontal:0<=r||\"+\"===r?\"top\":\"bottom\",vertical:\"middle\"},f={horizontal:0,vertical:C/2},p=\"vertical\"===a?o.height:o.width,g=t.getModel(\"controlStyle\"),m=g.get(\"show\",!0),v=m?g.get(\"itemSize\"):0,y=m?g.get(\"itemGap\"):0,_=v+y,x=(x=t.get(\"label.rotate\")||0)*C/180,b=g.get(\"position\",!0),w=m&&g.get(\"showPlayBtn\",!0),T=m&&g.get(\"showPrevBtn\",!0),S=m&&g.get(\"showNextBtn\",!0),M=0,A=p;return\"left\"===b||\"bottom\"===b?(w&&(s=[0,0],M+=_),T&&(l=[M,0],M+=_)):(w&&(s=[A-v,0],A-=_),T&&(l=[0,0],M+=_)),S&&(u=[A-v,0],A-=_),h=[M,A],t.get(\"inverse\")&&h.reverse(),{viewRect:o,mainLength:p,orient:a,rotation:f[a],labelRotation:x,labelPosOpt:r,labelAlign:t.get(\"label.align\")||c[a],labelBaseline:t.get(\"label.verticalAlign\")||t.get(\"label.baseline\")||d[a],playPosition:s,prevBtnPosition:l,nextBtnPosition:u,axisExtent:h,controlSize:v,controlGap:y}},_position:function(t,e){var n,i,r,a=this._mainGroup,o=this._labelGroup,s=t.viewRect;\"vertical\"===t.orient&&(n=y.create(),i=s.x,r=s.y+s.height,y.translate(n,n,[-i,-r]),y.rotate(n,n,-C/2),y.translate(n,n,[i,r]),(s=s.clone()).applyTransform(n));var l=m(s),u=m(a.getBoundingRect()),h=m(o.getBoundingRect()),c=a.position,d=o.position;d[0]=c[0]=l[0][0];var f,p=t.labelPosOpt;function g(t){var e=t.position;t.origin=[l[0][0]-e[0],l[1][0]-e[1]]}function m(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}isNaN(p)?(v(c,u,l,1,f=\"+\"===p?0:1),v(d,h,l,1,1-f)):(v(c,u,l,1,f=0<=p?0:1),d[1]=c[1]+p),a.attr(\"position\",c),o.attr(\"position\",d),a.rotation=o.rotation=t.rotation,g(a),g(o)},_createAxis:function(t,e){var n=e.getData(),i=e.get(\"axisType\"),r=l.createScaleByModel(e,i);r.getTicks=function(){return n.mapArray([\"value\"],function(t){return t})};var a=n.getDataExtent(\"value\");r.setExtent(a[0],a[1]),r.niceTicks();var o=new s(\"value\",r,t.axisExtent,i);return o.model=e,o},_createGroup:function(t){var e=this[\"_\"+t]=new _.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,n,i){var r=n.getExtent();i.get(\"lineStyle.show\")&&e.add(new _.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:m.extend({lineCap:\"round\"},i.getModel(\"lineStyle\").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,s,l,u){var h=u.getData(),e=l.scale.getTicks();c(e,function(t){var e=l.dataToCoord(t),n=h.getItemModel(t),i=n.getModel(\"itemStyle\"),r=n.getModel(\"emphasis.itemStyle\"),a={position:[e,0],onclick:x(this._changeTimeline,this,t)},o=d(n,i,s,a);_.setHoverStyle(o,r.getItemStyle()),n.get(\"tooltip\")?(o.dataIndex=t,o.dataModel=u):o.dataIndex=o.dataModel=null},this)},_renderAxisLabel:function(s,l,u,t){var h,e;u.getLabelModel().get(\"show\")&&(h=t.getData(),e=u.getViewLabels(),c(e,function(t){var e=t.tickValue,n=h.getItemModel(e),i=n.getModel(\"label\"),r=n.getModel(\"emphasis.label\"),a=u.dataToCoord(t.tickValue),o=new _.Text({position:[a,0],rotation:s.labelRotation-s.rotation,onclick:x(this._changeTimeline,this,e),silent:!1});_.setTextStyle(o.style,i,{text:t.formattedLabel,textAlign:s.labelAlign,textVerticalAlign:s.labelBaseline}),l.add(o),_.setHoverStyle(o,_.setTextStyle({},r))},this))},_renderControl:function(t,u,e,h){var c=t.controlSize,d=t.rotation,f=h.getModel(\"controlStyle\").getItemStyle(),p=h.getModel(\"emphasis.controlStyle\").getItemStyle(),g=[0,-c/2,c,c],n=h.getPlayState(),i=h.get(\"inverse\",!0);function r(t,e,n,i){var r,a,o,s,l;t&&(a=h,o=e,s=g,l={position:t,origin:[c/2,0],rotation:i?-d:0,rectHover:!0,style:f,onclick:n},r=_.makePath(a.get(o).replace(/^path:\\/\\//,\"\"),m.clone(l||{}),new v(s[0],s[1],s[2],s[3]),\"center\"),u.add(r),_.setHoverStyle(r,p))}r(t.nextBtnPosition,\"controlStyle.nextIcon\",x(this._changeTimeline,this,i?\"-\":\"+\")),r(t.prevBtnPosition,\"controlStyle.prevIcon\",x(this._changeTimeline,this,i?\"+\":\"-\")),r(t.playPosition,\"controlStyle.\"+(n?\"stopIcon\":\"playIcon\"),x(this._handlePlayClick,this,!n),!0)},_renderCurrentPointer:function(t,e,n,i){var r=i.getData(),a=i.getCurrentIndex(),o=r.getItemModel(a).getModel(\"checkpointStyle\"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=x(s._handlePointerDrag,s),t.ondragend=x(s._handlePointerDragend,s),h(t,a,n,i,!0)},onUpdate:function(t){h(t,a,n,i)}};this._currentPointer=d(o,o,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:\"timelinePlayChange\",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],i=this._axis,r=p.asc(i.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();var a=this._findNearestTick(n),o=this.model;(e||a!==o.getCurrentIndex()&&o.get(\"realtime\"))&&this._changeTimeline(a)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(x(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get(\"rewind\",!0)?-1:1))},this),this.model.get(\"playInterval\")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return _.applyTransform(t,e,!0)},_findNearestTick:function(r){var a,t=this.model.getData(),o=1/0,s=this._axis;return t.each([\"value\"],function(t,e){var n=s.dataToCoord(t),i=Math.abs(n-r);i<o&&(o=i,a=e)}),a},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();\"+\"===t?t=e+1:\"-\"===t&&(t=e-1),this.api.dispatchAction({type:\"timelineChange\",currentIndex:t,from:this.uid})}});function d(t,e,n,i,r,a){var o,s=e.get(\"color\");r?(r.setColor(s),n.add(r),a&&a.onUpdate(r)):(o=t.get(\"symbol\"),(r=f(o,-1,-1,2,2,s)).setStyle(\"strokeNoScale\",!0),n.add(r),a&&a.onCreate(r));var l=e.getItemStyle([\"color\",\"symbol\",\"symbolSize\"]);r.setStyle(l),i=m.merge({rectHover:!0,z2:100},i,!0);var u=t.get(\"symbolSize\");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,i.scale=u;var h,c=t.get(\"symbolOffset\");c&&((h=i.position=i.position||[0,0])[0]+=p.parsePercent(c[0],u[0]),h[1]+=p.parsePercent(c[1],u[1]));var d=t.get(\"symbolRotate\");return i.rotation=(d||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function h(t,e,n,i,r){var a,o;t.dragging||(a=i.getModel(\"checkpointStyle\"),o=n.dataToCoord(i.getData().get([\"value\"],e)),r||!a.get(\"animation\",!0)?t.attr({position:[o,0]}):(t.stopAnimation(!0),t.animateTo({position:[o,0]},a.get(\"animationDuration\",!0),a.get(\"animationEasing\",!0))))}t.exports=r},function(t,e,n){var i=n(74).extend({type:\"timeline\"});t.exports=i},function(t,e,n){function i(t,e,n,i){a.call(this,t,e,n),this.type=i||\"value\",this.model=null}var r=n(0),a=n(31);i.prototype={constructor:i,getLabelModel:function(){return this.model.getModel(\"label\")},isHorizontal:function(){return\"horizontal\"===this.model.get(\"orient\")}},r.inherits(i,a),t.exports=i},function(t,e,n){var i=n(1);n(470),n(471),i.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},function(t,e,n){var i=n(115).extend({type:\"markPoint\",defaultOption:{zlevel:0,z:5,symbol:\"pin\",symbolSize:50,tooltip:{trigger:\"item\"},label:{show:!0,position:\"inside\"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});t.exports=i},function(t,e,n){var c=n(0),s=n(60),d=n(3),f=n(17),p=n(116);function g(s,l,u){var h=l.coordinateSystem;s.each(function(t){var e,n,i,r=s.getItemModel(t),a=d.parsePercent(r.get(\"x\"),u.getWidth()),o=d.parsePercent(r.get(\"y\"),u.getHeight());isNaN(a)||isNaN(o)?l.getMarkerPosition?i=l.getMarkerPosition(s.getValues(s.dimensions,t)):h&&(e=s.get(h.dimensions[0],t),n=s.get(h.dimensions[1],t),i=h.dataToPoint([e,n])):i=[a,o],isNaN(a)||(i[0]=a),isNaN(o)||(i[1]=o),s.setItemLayout(t,i)})}var i=n(117).extend({type:\"markPoint\",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(g(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,l,e,n){var i=t.coordinateSystem,r=t.id,u=t.getData(),a=this.markerGroupMap,o=a.get(r)||a.set(r,new s),h=function(t,n,e){var i;i=t?c.map(t&&t.dimensions,function(t){var e=n.getData().getDimensionInfo(n.getData().mapDimension(t))||{};return c.defaults({name:t},e)}):[{name:\"value\",type:\"float\"}];var r=new f(i,e),a=c.map(e.get(\"data\"),c.curry(p.dataTransform,n));t&&(a=c.filter(a,c.curry(p.dataFilter,t)));return r.initData(a,null,t?p.dimValueGetter:function(t){return t.value}),r}(i,t,l);l.setData(h),g(l.getData(),t,n),h.each(function(t){var e,n,i=h.getItemModel(t),r=i.getShallow(\"symbol\"),a=i.getShallow(\"symbolSize\"),o=c.isFunction(r),s=c.isFunction(a);(o||s)&&(e=l.getRawValue(t),n=l.getDataParams(t),o&&(r=r(e,n)),s&&(a=a(e,n))),h.setItemVisual(t,{symbol:r,symbolSize:a,color:i.get(\"itemStyle.color\")||u.getVisual(\"color\")})}),o.updateData(h),this.group.add(o.group),h.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=l})}),o.__keep=!0,o.group.silent=l.get(\"silent\")||t.get(\"silent\")}});t.exports=i},function(t,e,n){var i=n(1);n(473),n(474),i.registerPreprocessor(function(t){t.markLine=t.markLine||{}})},function(t,e,n){var i=n(115).extend({type:\"markLine\",defaultOption:{zlevel:0,z:5,symbol:[\"circle\",\"arrow\"],symbolSize:[8,16],precision:2,tooltip:{trigger:\"item\"},label:{show:!0,position:\"end\",distance:5},lineStyle:{type:\"dashed\"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:\"linear\"}});t.exports=i},function(t,e,n){function m(t,e,n,i){var r,a,o,s,l,u,h,c,d,f=t.getData(),p=i.type;return v.isArray(i)||\"min\"!==p&&\"max\"!==p&&\"average\"!==p&&\"median\"!==p&&null==i.xAxis&&null==i.yAxis||(s=null!=i.yAxis||null!=i.xAxis?(a=e.getAxis(null!=i.yAxis?\"y\":\"x\"),v.retrieve(i.yAxis,i.xAxis)):(a=(r=_.getAxisInfo(i,f,e,t)).valueAxis,o=b(f,r.valueDataDim),_.numCalculate(f,o,p)),u=1-(l=\"x\"===a.dim?0:1),c={},(h=v.clone(i)).type=null,h.coord=[],c.coord=[],h.coord[u]=-1/0,c.coord[u]=1/0,0<=(d=n.get(\"precision\"))&&\"number\"==typeof s&&(s=+s.toFixed(Math.min(d,20))),h.coord[l]=c.coord[l]=s,i=[h,c,{type:p,valueIndex:i.valueIndex,value:s}]),(i=[_.dataTransform(t,i[0]),_.dataTransform(t,i[1]),v.extend({},i[2])])[2].type=i[2].type||\"\",v.merge(i[2],i[0]),v.merge(i[2],i[1]),i}var v=n(0),y=n(17),g=n(3),_=n(116),x=n(105),i=n(117),b=n(24).getStackedDimension;function w(t){return!isNaN(t)&&!isFinite(t)}function r(t,e,n,i){var r=1-t,a=i.dimensions[t];return w(e[r])&&w(n[r])&&e[t]===n[t]&&i.getAxis(a).containData(e[t])}function T(t,e){if(\"cartesian2d\"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(r(1,n,i,t)||r(0,n,i,t)))return!0}return _.dataFilter(t,e[0])&&_.dataFilter(t,e[1])}function S(t,e,n,i,r){var a,o,s,l,u,h,c=i.coordinateSystem,d=t.getItemModel(e),f=g.parsePercent(d.get(\"x\"),r.getWidth()),p=g.parsePercent(d.get(\"y\"),r.getHeight());isNaN(f)||isNaN(p)?(s=i.getMarkerPosition?i.getMarkerPosition(t.getValues(t.dimensions,e)):(h=c.dimensions,a=t.get(h[0],e),o=t.get(h[1],e),c.dataToPoint([a,o])),\"cartesian2d\"===c.type&&(l=c.getAxis(\"x\"),u=c.getAxis(\"y\"),h=c.dimensions,w(t.get(h[0],e))?s[0]=l.toGlobalCoord(l.getExtent()[n?0:1]):w(t.get(h[1],e))&&(s[1]=u.toGlobalCoord(u.getExtent()[n?0:1]))),isNaN(f)||(s[0]=f),isNaN(p)||(s[1]=p)):s=[f,p],t.setItemLayout(e,s)}var a=i.extend({type:\"markLine\",updateTransform:function(t,e,a){e.eachSeries(function(e){var n,i,r,t=e.markLineModel;t&&(n=t.getData(),i=t.__from,r=t.__to,i.each(function(t){S(i,t,!0,e,a),S(r,t,!1,e,a)}),n.each(function(t){n.setItemLayout(t,[i.getItemLayout(t),r.getItemLayout(t)])}),this.markerGroupMap.get(e.id).updateLayout())},this)},renderSeries:function(r,n,t,a){var e=r.coordinateSystem,i=r.id,o=r.getData(),s=this.markerGroupMap,l=s.get(i)||s.set(i,new x);this.group.add(l.group);var u=function(t,n,e){var i;i=t?v.map(t&&t.dimensions,function(t){var e=n.getData().getDimensionInfo(n.getData().mapDimension(t))||{};return v.defaults({name:t},e)}):[{name:\"value\",type:\"float\"}];var r=new y(i,e),a=new y(i,e),o=new y([],e),s=v.map(e.get(\"data\"),v.curry(m,n,t,e));t&&(s=v.filter(s,v.curry(T,t)));var l=t?_.dimValueGetter:function(t){return t.value};return r.initData(v.map(s,function(t){return t[0]}),null,l),a.initData(v.map(s,function(t){return t[1]}),null,l),o.initData(v.map(s,function(t){return t[2]})),o.hasItemOption=!0,{from:r,to:a,line:o}}(e,r,n),h=u.from,c=u.to,d=u.line;n.__from=h,n.__to=c,n.setData(d);var f=n.get(\"symbol\"),p=n.get(\"symbolSize\");function g(t,e,n){var i=t.getItemModel(e);S(t,e,n,r,a),t.setItemVisual(e,{symbolSize:i.get(\"symbolSize\")||p[n?0:1],symbol:i.get(\"symbol\",!0)||f[n?0:1],color:i.get(\"itemStyle.color\")||o.getVisual(\"color\")})}v.isArray(f)||(f=[f,f]),\"number\"==typeof p&&(p=[p,p]),u.from.each(function(t){g(h,t,!0),g(c,t,!1)}),d.each(function(t){var e=d.getItemModel(t).get(\"lineStyle.color\");d.setItemVisual(t,{color:e||h.getItemVisual(t,\"color\")}),d.setItemLayout(t,[h.getItemLayout(t),c.getItemLayout(t)]),d.setItemVisual(t,{fromSymbolSize:h.getItemVisual(t,\"symbolSize\"),fromSymbol:h.getItemVisual(t,\"symbol\"),toSymbolSize:c.getItemVisual(t,\"symbolSize\"),toSymbol:c.getItemVisual(t,\"symbol\")})}),l.updateData(d),u.line.eachItemGraphicEl(function(t,e){t.traverse(function(t){t.dataModel=n})}),l.__keep=!0,l.group.silent=n.get(\"silent\")||r.get(\"silent\")}});t.exports=a},function(t,e,n){var i=n(1);n(476),n(477),i.registerPreprocessor(function(t){t.markArea=t.markArea||{}})},function(t,e,n){var i=n(115).extend({type:\"markArea\",defaultOption:{zlevel:0,z:1,tooltip:{trigger:\"item\"},animation:!1,label:{show:!0,position:\"top\"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:\"top\"}}}});t.exports=i},function(t,e,n){function h(t,e,n,i){var r=m.dataTransform(t,i[0]),a=m.dataTransform(t,i[1]),o=c.retrieve,s=r.coord,l=a.coord;s[0]=o(s[0],-1/0),s[1]=o(s[1],-1/0),l[0]=o(l[0],1/0),l[1]=o(l[1],1/0);var u=c.mergeAll([{},r,a]);return u.coord=[r.coord,a.coord],u.x0=r.x,u.y0=r.y,u.x1=a.x,u.y1=a.y,u}var c=n(0),d=n(22),f=n(17),g=n(3),p=n(2),m=n(116),i=n(117);function v(t){return!isNaN(t)&&!isFinite(t)}function r(t,e,n){var i=1-t;return v(e[i])&&v(n[i])}function y(t,e){var n=e.coord[0],i=e.coord[1];return!(\"cartesian2d\"!==t.type||!n||!i||!r(1,n,i)&&!r(0,n,i))||(m.dataFilter(t,{coord:n,x:e.x0,y:e.y0})||m.dataFilter(t,{coord:i,x:e.x1,y:e.y1}))}function _(t,e,n,i,r){var a,o,s,l,u,h,c=i.coordinateSystem,d=t.getItemModel(e),f=g.parsePercent(d.get(n[0]),r.getWidth()),p=g.parsePercent(d.get(n[1]),r.getHeight());return isNaN(f)||isNaN(p)?(h=i.getMarkerPosition?i.getMarkerPosition(t.getValues(n,e)):(a=[l=t.get(n[0],e),u=t.get(n[1],e)],c.clampData&&c.clampData(a,a),c.dataToPoint(a,!0)),\"cartesian2d\"===c.type&&(o=c.getAxis(\"x\"),s=c.getAxis(\"y\"),l=t.get(n[0],e),u=t.get(n[1],e),v(l)?h[0]=o.toGlobalCoord(o.getExtent()[\"x0\"===n[0]?0:1]):v(u)&&(h[1]=s.toGlobalCoord(s.getExtent()[\"y0\"===n[1]?0:1]))),isNaN(f)||(h[0]=f),isNaN(p)||(h[1]=p)):h=[f,p],h}var x=[[\"x0\",\"y0\"],[\"x1\",\"y0\"],[\"x1\",\"y1\"],[\"x0\",\"y1\"]];i.extend({type:\"markArea\",updateTransform:function(t,e,r){e.eachSeries(function(n){var i,t=n.markAreaModel;t&&(i=t.getData()).each(function(e){var t=c.map(x,function(t){return _(i,e,t,n,r)});i.setItemLayout(e,t),i.getItemGraphicEl(e).setShape(\"points\",t)})},this)},renderSeries:function(n,o,t,i){var e=n.coordinateSystem,r=n.id,a=n.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,{group:new p.Group});this.group.add(l.group),l.__keep=!0;var u=function(t,i,e){var n,r;r=t?(n=c.map(t&&t.dimensions,function(t){var e=i.getData(),n=e.getDimensionInfo(e.mapDimension(t))||{};return c.defaults({name:t},n)}),new f(c.map([\"x0\",\"y0\",\"x1\",\"y1\"],function(t,e){return{name:t,type:n[e%2].type}}),e)):new f(n=[{name:\"value\",type:\"float\"}],e);var a=c.map(e.get(\"data\"),c.curry(h,i,t,e));t&&(a=c.filter(a,c.curry(y,t)));var o=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return r.initData(a,null,o),r.hasItemOption=!0,r}(e,n,o);o.setData(u),u.each(function(e){u.setItemLayout(e,c.map(x,function(t){return _(u,e,t,n,i)})),u.setItemVisual(e,{color:a.getVisual(\"color\")})}),u.diff(l.__data).add(function(t){var e=new p.Polygon({shape:{points:u.getItemLayout(t)}});u.setItemGraphicEl(t,e),l.group.add(e)}).update(function(t,e){var n=l.__data.getItemGraphicEl(e);p.updateProps(n,{shape:{points:u.getItemLayout(t)}},o,t),l.group.add(n),u.setItemGraphicEl(t,n)}).remove(function(t){var e=l.__data.getItemGraphicEl(t);l.group.remove(e)}).execute(),u.eachItemGraphicEl(function(t,e){var n=u.getItemModel(e),i=n.getModel(\"label\"),r=n.getModel(\"emphasis.label\"),a=u.getItemVisual(e,\"color\");t.useStyle(c.defaults(n.getModel(\"itemStyle\").getItemStyle(),{fill:d.modifyAlpha(a,.4),stroke:a})),t.hoverStyle=n.getModel(\"emphasis.itemStyle\").getItemStyle(),p.setLabelStyle(t.style,t.hoverStyle,i,r,{labelFetcher:o,labelDataIndex:e,defaultText:u.getName(e)||\"\",isRectText:!0,autoColor:a}),p.setHoverStyle(t,{}),t.dataModel=o}),l.__data=u,l.group.silent=o.get(\"silent\")||n.get(\"silent\")}})},function(t,e,n){n(190),n(481),n(482),n(483)},function(t,e,n){var i=n(1),s=n(0);function r(e,n,t){var r,a={},o=\"toggleSelected\"===e;return t.eachComponent(\"legend\",function(i){o&&null!=r?i[r?\"select\":\"unSelect\"](n.name):\"allSelect\"===e||\"inverseSelect\"===e?i[e]():(i[e](n.name),r=i.isSelected(n.name));var t=i.getData();s.each(t,function(t){var e,n=t.get(\"name\");\"\\n\"!==n&&\"\"!==n&&(e=i.isSelected(n),a.hasOwnProperty(n)?a[n]=a[n]&&e:a[n]=e)})}),\"allSelect\"===e||\"inverseSelect\"===e?{selected:a}:{name:n.name,selected:a}}i.registerAction(\"legendToggleSelect\",\"legendselectchanged\",s.curry(r,\"toggleSelected\")),i.registerAction(\"legendAllSelect\",\"legendselectall\",s.curry(r,\"allSelect\")),i.registerAction(\"legendInverseSelect\",\"legendinverseselect\",s.curry(r,\"inverseSelect\")),i.registerAction(\"legendSelect\",\"legendselected\",s.curry(r,\"select\")),i.registerAction(\"legendUnSelect\",\"legendunselected\",s.curry(r,\"unSelect\"))},function(t,e){t.exports=function(t){var n=t.findComponents({mainType:\"legend\"});n&&n.length&&t.filterSeries(function(t){for(var e=0;e<n.length;e++)if(!n[e].isSelected(t.name))return!1;return!0})}},function(t,e,n){var i=n(191),r=n(6),a=r.mergeLayoutParam,o=r.getLayoutParams,s=i.extend({type:\"legend.scroll\",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:\"end\",pageFormatter:\"{current}/{total}\",pageIcons:{horizontal:[\"M0,0L12,-10L12,10z\",\"M0,0L-12,-10L-12,10z\"],vertical:[\"M0,0L20,0L10,-20z\",\"M0,0L20,0L10,20z\"]},pageIconColor:\"#2f4554\",pageIconInactiveColor:\"#aaa\",pageIconSize:15,pageTextStyle:{color:\"#333\"},animationDurationUpdate:800},init:function(t,e,n,i){var r=o(t);s.superCall(this,\"init\",t,e,n,i),l(this,t,r)},mergeOption:function(t,e){s.superCall(this,\"mergeOption\",t,e),l(this,this.option,t)}});function l(t,e,n){var i=[1,1];i[t.getOrient().index]=0,a(e,n,{type:\"box\",ignoreSize:i})}t.exports=s},function(t,e,n){var x=n(0),b=n(2),w=n(6),i=n(192),r=b.Group,T=[\"width\",\"height\"],S=[\"x\",\"y\"],d=i.extend({type:\"legend.scroll\",newlineDisabled:!0,init:function(){d.superCall(this,\"init\"),this._currentIndex=0,this.group.add(this._containerGroup=new r),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new r),this._showController},resetInner:function(){d.superCall(this,\"resetInner\"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,r,e,a,n,i,o){var s=this;d.superCall(this,\"renderInner\",t,r,e,a,n,i,o);var l=this._controllerGroup,u=r.get(\"pageIconSize\",!0);x.isArray(u)||(u=[u,u]),c(\"pagePrev\",0);var h=r.getModel(\"pageTextStyle\");function c(t,e){var n=t+\"DataIndex\",i=b.createIcon(r.get(\"pageIcons\",!0)[r.getOrient().name][e],{onclick:x.bind(s._pageGo,s,n,r,a)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});i.name=t,l.add(i)}l.add(new b.Text({name:\"pageText\",style:{textFill:h.getTextColor(),font:h.getFont(),textVerticalAlign:\"middle\",textAlign:\"center\"},silent:!0})),c(\"pageNext\",1)},layoutInner:function(t,e,n,i,r,a){var o=this.getSelectorGroup(),s=t.getOrient().index,l=T[s],u=S[s],h=T[1-s],c=S[1-s];r&&w.box(\"horizontal\",o,t.get(\"selectorItemGap\",!0));var d=t.get(\"selectorButtonGap\",!0),f=o.getBoundingRect(),p=[-f.x,-f.y],g=x.clone(n);r&&(g[l]=n[l]-f[l]-d);var m,v=this._layoutContentAndController(t,i,g,s,l,h,c);return r&&(\"end\"===a?p[s]+=v[l]+d:(m=f[l]+d,p[s]-=m,v[u]-=m),v[l]+=f[l]+d,p[1-s]+=v[c]+v[h]/2-f[h]/2,v[h]=Math.max(v[h],f[h]),v[c]=Math.min(v[c],f[c]+p[1-s]),o.attr(\"position\",p)),v},_layoutContentAndController:function(t,e,n,i,r,a,o){var s=this.getContentGroup(),l=this._containerGroup,u=this._controllerGroup;w.box(t.get(\"orient\"),s,t.get(\"itemGap\"),i?n.width:null,i?null:n.height),w.box(\"horizontal\",u,t.get(\"pageButtonItemGap\",!0));var h=s.getBoundingRect(),c=u.getBoundingRect(),d=this._showController=h[r]>n[r],f=[-h.x,-h.y];e||(f[i]=s.position[i]);var p=[0,0],g=[-c.x,-c.y],m=x.retrieve2(t.get(\"pageButtonGap\",!0),t.get(\"itemGap\",!0));d&&(\"end\"===t.get(\"pageButtonPosition\",!0)?g[i]+=n[r]-c[r]:p[i]+=c[r]+m),g[1-i]+=h[a]/2-c[a]/2,s.attr(\"position\",f),l.attr(\"position\",p),u.attr(\"position\",g);var v,y={x:0,y:0};y[r]=d?n[r]:h[r],y[a]=Math.max(h[a],c[a]),y[o]=Math.min(0,c[o]+g[1-i]),l.__rectSize=n[r],d?((v={x:0,y:0})[r]=Math.max(n[r]-c[r]-m,0),v[a]=y[a],l.setClipPath(new b.Rect({shape:v})),l.__rectSize=v[r]):u.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var _=this._getPageInfo(t);return null!=_.pageIndex&&b.updateProps(s,{position:_.contentPosition},d&&t),this._updatePageInfoView(t,_),y},_pageGo:function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:\"legendScroll\",scrollDataIndex:i,legendId:e.id})},_updatePageInfoView:function(i,r){var a=this._controllerGroup;x.each([\"pagePrev\",\"pageNext\"],function(t){var e=null!=r[t+\"DataIndex\"],n=a.childOfName(t);n&&(n.setStyle(\"fill\",e?i.get(\"pageIconColor\",!0):i.get(\"pageIconInactiveColor\",!0)),n.cursor=e?\"pointer\":\"default\")});var t=a.childOfName(\"pageText\"),e=i.get(\"pageFormatter\"),n=r.pageIndex,o=null!=n?n+1:0,s=r.pageCount;t&&e&&t.setStyle(\"text\",x.isString(e)?e.replace(\"{current}\",o).replace(\"{total}\",s):e({current:o,total:s}))},_getPageInfo:function(t){var e=t.get(\"scrollDataIndex\",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=t.getOrient().index,a=T[r],o=S[r],s=this._findTargetItemIndex(e),l=n.children(),u=l[s],h=l.length,c=h?1:0,d={contentPosition:n.position.slice(),pageCount:c,pageIndex:c-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return d;var f=y(u);d.contentPosition[r]=-f.s;for(var p=s+1,g=f,m=f,v=null;p<=h;++p)(!(v=y(l[p]))&&m.e>g.s+i||v&&!_(v,g.s))&&(g=m.i>g.i?m:v)&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount),m=v;for(p=s-1,g=f,m=f,v=null;-1<=p;--p)(v=y(l[p]))&&_(m,v.s)||!(g.i<m.i)||(m=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=v;return d;function y(t){if(t){var e=t.getBoundingRect(),n=e[o]+t.position[r];return{s:n,e:n+e[a],i:t.__legendDataIndex}}}function _(t,e){return t.e>=e&&t.s<=e+i}},_findTargetItemIndex:function(i){return this._showController?(this.getContentGroup().eachChild(function(t,e){var n=t.__legendDataIndex;null==a&&null!=n&&(a=e),n===i&&(r=e)}),null!=r?r:a):0;var r,a}});t.exports=d},function(t,e,n){n(1).registerAction(\"legendScroll\",\"legendscroll\",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:\"legend\",subType:\"scroll\",query:t},function(t){t.setScrollDataIndex(n)})})},function(t,e,n){n(193),n(194)},function(t,e,n){var i=n(51).extend({type:\"dataZoom.slider\",layoutMode:\"box\",defaultOption:{show:!0,right:\"ph\",top:\"ph\",width:\"ph\",height:\"ph\",left:null,bottom:null,backgroundColor:\"rgba(47,69,84,0)\",dataBackground:{lineStyle:{color:\"#2f4554\",width:.5,opacity:.3},areaStyle:{color:\"rgba(47,69,84,0.3)\",opacity:.3}},borderColor:\"#ddd\",fillerColor:\"rgba(167,183,204,0.4)\",handleIcon:\"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z\",handleSize:\"100%\",handleStyle:{color:\"#a7b7cc\"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:\"auto\",realtime:!0,zoomLock:!1,textStyle:{color:\"#333\"}}});t.exports=i},function(t,e,n){var m=n(0),l=n(21),v=n(2),r=n(29),i=n(52),u=n(3),s=n(6),h=n(50),c=v.Rect,y=u.linearMap,d=u.asc,f=m.bind,p=m.each,g=\"horizontal\",_=[\"line\",\"bar\",\"candlestick\",\"scatter\"],a=i.extend({type:\"dataZoom.slider\",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,i){a.superApply(this,\"render\",arguments),r.createOrUpdate(this,\"_dispatchZoomAction\",this.dataZoomModel.get(\"throttle\"),\"fixRate\"),this._orient=t.get(\"orient\"),!1!==this.dataZoomModel.get(\"show\")?(i&&\"dataZoom\"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){a.superApply(this,\"remove\",arguments),r.clear(this,\"_dispatchZoomAction\")},dispose:function(){a.superApply(this,\"dispose\",arguments),r.clear(this,\"_dispatchZoomAction\")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new v.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},r=this._orient===g?{right:i.width-n.x-n.width,top:i.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},a=s.getLayoutParams(t.option);m.each([\"right\",\"top\",\"width\",\"height\"],function(t){\"ph\"===a[t]&&(a[t]=r[t])});var o=s.getLayoutRect(a,i,t.padding);this._location={x:o.x,y:o.y},this._size=[o.width,o.height],\"vertical\"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get(\"inverse\"),a=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==g||r?n===g&&r?{scale:o?[-1,1]:[-1,-1]}:\"vertical\"!==n||r?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var s=t.getBoundingRect([a]);t.attr(\"position\",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new c({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get(\"backgroundColor\")},z2:-40})),n.add(new c({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:\"transparent\"},z2:0,onclick:m.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t,e,n,i,r,a,o,s,l,u,h,c,d,f,p,g=this._dataShadowInfo=this._prepareDataShadowInfo();g&&(t=this._size,n=(e=g.series).getRawData(),null!=(i=e.getShadowDim?e.getShadowDim():g.otherDim)&&(r=.3*((a=n.getDataExtent(i))[1]-a[0]),a=[a[0]-r,a[1]+r],o=[0,t[1]],s=[0,t[0]],l=[[t[0],0],[0,0]],u=[],h=s[1]/(n.count()-1),c=0,d=Math.round(n.count()/t[0]),n.each([i],function(t,e){var n,i;0<d&&e%d?c+=h:(i=(n=null==t||isNaN(t)||\"\"===t)?0:y(t,a,o,!0),n&&!f&&e?(l.push([l[l.length-1][0],0]),u.push([u[u.length-1][0],0])):!n&&f&&(l.push([c,0]),u.push([c,0])),l.push([c,i]),u.push([c,i]),c+=h,f=n)}),p=this.dataZoomModel,this._displayables.barGroup.add(new v.Polygon({shape:{points:l},style:m.defaults({fill:p.get(\"dataBackgroundColor\")},p.getModel(\"dataBackground.areaStyle\").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new v.Polyline({shape:{points:u},style:p.getModel(\"dataBackground.lineStyle\").getLineStyle(),silent:!0,z2:-19}))))},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,s=e.get(\"showDataShadow\");if(!1!==s){var l,u=this.ecModel;return e.eachTargetAxis(function(a,o){var t=e.getAxisProxy(a.name,o).getTargetSeriesModels();m.each(t,function(t){var e,n,i,r;l||!0!==s&&m.indexOf(_,t.get(\"type\"))<0||(e=u.getComponent(a.axis,o).axis,n={x:\"y\",y:\"x\",radius:\"angle\",angle:\"radius\"}[a.name],r=t.coordinateSystem,null!=n&&r.getOtherAxis&&(i=r.getOtherAxis(e).inverse),n=t.getData().mapDimension(n),l={thisAxis:e,series:t,thisDim:a.name,otherDim:n,otherAxisInverse:i})},this)},this),l}},_renderHandle:function(){var t=this._displayables,a=t.handles=[],o=t.handleLabels=[],s=this._displayables.barGroup,e=this._size,l=this.dataZoomModel;s.add(t.filler=new c({draggable:!0,cursor:x(this._orient),drift:f(this._onDragMove,this,\"all\"),ondragstart:f(this._showDataInfo,this,!0),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1),style:{fill:l.get(\"fillerColor\"),textPosition:\"inside\"}})),s.add(new c({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:l.get(\"dataBackgroundColor\")||l.get(\"borderColor\"),lineWidth:1,fill:\"rgba(0,0,0,0)\"}})),p([0,1],function(t){var e=v.createIcon(l.get(\"handleIcon\"),{cursor:x(this._orient),draggable:!0,drift:f(this._onDragMove,this,t),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),n=e.getBoundingRect();this._handleHeight=u.parsePercent(l.get(\"handleSize\"),this._size[1]),this._handleWidth=n.width/n.height*this._handleHeight,e.setStyle(l.getModel(\"handleStyle\").getItemStyle());var i=l.get(\"handleColor\");null!=i&&(e.style.fill=i),s.add(a[t]=e);var r=l.textStyleModel;this.group.add(o[t]=new v.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:\"\",textVerticalAlign:\"middle\",textAlign:\"center\",textFill:r.getTextColor(),textFont:r.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[y(t[0],[0,100],e,!0),y(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];h(e,i,r,n.get(\"zoomLock\")?\"all\":t,null!=a.minSpan?y(a.minSpan,o,r,!0):null,null!=a.maxSpan?y(a.maxSpan,o,r,!0):null);var s=this._range,l=this._range=d([y(i[0],r,o,!0),y(i[1],r,o,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var i=this._displayables,r=this._handleEnds,e=d(r.slice()),a=this._size;p([0,1],function(t){var e=i.handles[t],n=this._handleHeight;e.attr({scale:[n/2,n/2],position:[r[t],a[1]/2-n/2]})},this),i.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:a[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e,n,i,r,a=this.dataZoomModel,o=this._displayables,s=o.handleLabels,l=this._orient,u=[\"\",\"\"];!a.get(\"showDetail\")||(e=a.findRepresentativeAxisProxy())&&(n=e.getAxisModel().axis,i=this._range,r=t?e.calculateDataWindow({start:i[0],end:i[1]}).valueWindow:e.getDataValueWindow(),u=[this._formatLabel(r[0],n),this._formatLabel(r[1],n)]);var h=d(this._handleEnds.slice());function c(t){var e=v.getTransform(o.handles[t].parent,this.group),n=v.transformDirection(0===t?\"right\":\"left\",e),i=this._handleWidth/2+5,r=v.applyTransform([h[t]+(0===t?-i:i),this._size[1]/2],e);s[t].setStyle({x:r[0],y:r[1],textVerticalAlign:l===g?\"middle\":n,textAlign:l===g?n:\"center\",text:u[t]})}c.call(this,0),c.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,i=n.get(\"labelFormatter\"),r=n.get(\"labelPrecision\");null!=r&&\"auto\"!==r||(r=e.getPixelPrecision());var a=null==t||isNaN(t)?\"\":\"category\"===e.type||\"time\"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(r,20));return m.isFunction(i)?i(t,a):m.isString(i)?i.replace(\"{value}\",a):a},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr(\"invisible\",!t),e[1].attr(\"invisible\",!t)},_onDragMove:function(t,e,n,i){this._dragging=!0,l.stop(i.event);var r=this._displayables.barGroup.getLocalTransform(),a=v.applyTransform([e,n],r,!0),o=this._updateInterval(t,a[0]),s=this.dataZoomModel.get(\"realtime\");this._updateView(!s),o&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get(\"realtime\")||this._dispatchZoomAction()},_onClickPanelClick:function(t){var e,n,i,r=this._size,a=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);a[0]<0||a[0]>r[0]||a[1]<0||a[1]>r[1]||(n=((e=this._handleEnds)[0]+e[1])/2,i=this._updateInterval(\"all\",a[0]-n),this._updateView(),i&&this._dispatchZoomAction())},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:\"dataZoom\",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t,e,n;return p(this.getTargetCoordInfo(),function(t){var e;!n&&t.length&&(e=t[0].model.coordinateSystem,n=e.getRect&&e.getRect())}),n||(t=this.api.getWidth(),e=this.api.getHeight(),n={x:.2*t,y:.2*e,width:.6*t,height:.6*e}),n}});function x(t){return\"vertical\"===t?\"ns-resize\":\"ew-resize\"}t.exports=a},function(t,e,n){var i=n(51).extend({type:\"dataZoom.inside\",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});t.exports=i},function(t,e,n){var l=n(0),i=n(52),c=n(50),u=n(489),h=l.bind,r=i.extend({type:\"dataZoom.inside\",init:function(t,e){this._range},render:function(o,t,s,e){r.superApply(this,\"render\",arguments),this._range=o.getPercentRange(),l.each(this.getTargetCoordInfo(),function(t,r){var a=l.map(t,function(t){return u.generateCoordId(t.model)});l.each(t,function(e){var i=e.model,n={};l.each([\"pan\",\"zoom\",\"scrollMove\"],function(t){n[t]=h(d[t],this,e,r)},this),u.register(s,{coordId:u.generateCoordId(i),allCoordIds:a,containsPoint:function(t,e,n){return i.coordinateSystem.containPoint([e,n])},dataZoomId:o.id,dataZoomModel:o,getRange:n})},this)},this)},dispose:function(){u.unregister(this.api,this.dataZoomModel.id),r.superApply(this,\"dispose\",arguments),this._range=null}}),d={zoom:function(t,e,n,i){var r=this._range,a=r.slice(),o=t.axisModels[0];if(o){var s=f[e](null,[i.originX,i.originY],o,n,t),l=(0<s.signal?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/i.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return c(0,a,[0,100],0,h.minSpan,h.maxSpan),this._range=a,r[0]!==a[0]||r[1]!==a[1]?a:void 0}},pan:a(function(t,e,n,i,r,a){var o=f[i]([a.oldX,a.oldY],[a.newX,a.newY],e,r,n);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength}),scrollMove:a(function(t,e,n,i,r,a){return f[i]([0,0],[a.scrollDelta,a.scrollDelta],e,r,n).signal*(t[1]-t[0])*a.scrollDelta})};function a(l){return function(t,e,n,i){var r=this._range,a=r.slice(),o=t.axisModels[0];if(o){var s=l(a,o,t,e,n,i);return c(s,a,[0,100],\"all\"),this._range=a,r[0]!==a[0]||r[1]!==a[1]?a:void 0}}}var f={grid:function(t,e,n,i,r){var a=n.axis,o={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],\"x\"===a.dim?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(t,e,n,i,r){var a=n.axis,o={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),\"radiusAxis\"===n.mainType?(o.pixel=e[0]-t[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(t,e,n,i,r){var a=n.axis,o=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],\"horizontal\"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};t.exports=r},function(t,e,n){var f=n(0),p=n(66),g=n(29),i=\"\\0_ec_dataZoom_roams\";function m(t){var e=t.getZr();return e[i]||(e[i]={})}function v(n){f.each(n,function(t,e){t.count||(t.controller.dispose(),delete n[e])})}function y(t,e){t.dispatchAction({type:\"dataZoom\",batch:e})}e.register=function(t,i){var e=m(t),r=i.dataZoomId,a=i.coordId;f.each(e,function(t,e){var n=t.dataZoomInfos;n[r]&&f.indexOf(i.allCoordIds,a)<0&&(delete n[r],t.count--)}),v(e);var o,n,s=e[a];s||((s=e[a]={coordId:a,dataZoomInfos:{},count:0}).controller=(o=s,n=new p(t.getZr()),f.each([\"pan\",\"zoom\",\"scrollMove\"],function(a){n.on(a,function(i){var r=[];f.each(o.dataZoomInfos,function(t){var e,n;i.isAvailableBehavior(t.dataZoomModel.option)&&(n=(e=(t.getRange||{})[a])&&e(o.controller,i),!t.dataZoomModel.get(\"disabled\",!0)&&n&&r.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]}))}),r.length&&o.dispatchAction(r)})}),n),s.dispatchAction=f.curry(y,t)),s.dataZoomInfos[r]||s.count++,s.dataZoomInfos[r]=i;var l,u,h,c,d=(l=s.dataZoomInfos,h={type_true:2,type_move:1,type_false:0,type_undefined:-1},c=!0,f.each(l,function(t){var e=t.dataZoomModel,n=!e.get(\"disabled\",!0)&&(!e.get(\"zoomLock\",!0)||\"move\");h[\"type_\"+u]<h[\"type_\"+n]&&(u=n),c&=e.get(\"preventDefaultMouseMove\",!0)}),{controlType:u,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!c}});s.controller.enable(d.controlType,d.opt),s.controller.setPointerChecker(i.containsPoint),g.createOrUpdate(s,\"dispatchAction\",i.dataZoomModel.get(\"throttle\",!0),\"fixRate\")},e.unregister=function(t,n){var e=m(t);f.each(e,function(t){t.controller.dispose();var e=t.dataZoomInfos;e[n]&&(delete e[n],t.count--)}),v(e)},e.generateCoordId=function(t){return t.type+\"\\0_\"+t.id}},function(t,e,n){n(195),n(204)},function(t,e,n){var i=n(0),r=n(199),a=n(3),o=[20,140],s=r.extend({type:\"visualMap.continuous\",defaultOption:{align:\"auto\",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){s.superApply(this,\"optionUpdated\",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod=\"linear\",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){s.superApply(this,\"resetItemSize\",arguments);var t=this.itemSize;\"horizontal\"===this._orient&&t.reverse(),null!=t[0]&&!isNaN(t[0])||(t[0]=o[0]),null!=t[1]&&!isNaN(t[1])||(t[1]=o[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):i.isArray(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){r.prototype.completeVisualOption.apply(this,arguments),i.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=a.asc((this.get(\"range\")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?\"inRange\":\"outOfRange\"},findTargetDataIndices:function(i){var r=[];return this.eachTargetSeries(function(t){var n=[],e=t.getData();e.each(this.getDataDimension(e),function(t,e){i[0]<=t&&t<=i[1]&&n.push(e)},this),r.push({seriesId:t.id,dataIndex:n})},this),r},getVisualMeta:function(n){var t=c(0,0,this.getExtent()),e=c(0,0,this.option.range.slice()),i=[];function r(t,e){i.push({value:t,color:n(t,e)})}for(var a=0,o=0,s=e.length,l=t.length;o<l&&(!e.length||t[o]<=e[0]);o++)t[o]<e[a]&&r(t[o],\"outOfRange\");for(var u=1;a<s;a++,u=0)u&&i.length&&r(e[a],\"outOfRange\"),r(e[a],\"inRange\");for(u=1;o<l;o++)(!e.length||e[e.length-1]<t[o])&&(u&&(i.length&&r(i[i.length-1].value,\"outOfRange\"),u=0),r(t[o],\"outOfRange\"));var h=i.length;return{stops:i,outerColors:[h?i[0].color:\"transparent\",h?i[h-1].color:\"transparent\"]}}});function c(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],a=[],o=0;o<=200&&r<n[1];o++)a.push(r),r+=i;return a.push(n[1]),a}t.exports=s},function(t,e,n){var f=n(0),l=n(92),p=n(21),i=n(201),x=n(2),r=n(3),o=n(50),g=n(202),m=n(4),b=r.linearMap,u=f.each,w=Math.min,T=Math.max,a=i.extend({type:\"visualMap.continuous\",init:function(){a.superApply(this,\"init\",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,i){i&&\"selectDataRange\"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get(\"orient\"),this._useHandle=t.get(\"calculable\"),this._resetInterval(),this._renderBar(e);var n=t.get(\"text\");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){var i,r,a,o,s,l,u,h,c;e&&(i=null!=(i=e[1-n])?i+\"\":\"\",a=(r=this.visualMapModel).get(\"textGap\"),o=r.itemSize,s=this._shapes.barGroup,l=this._applyTransform([o[0]/2,0===n?-a:o[1]+a],s),u=this._applyTransform(0===n?\"bottom\":\"top\",s),h=this._orient,c=this.visualMapModel.textStyleModel,this.group.add(new x.Text({style:{x:l[0],y:l[1],textVerticalAlign:\"horizontal\"===h?\"middle\":u,textAlign:\"horizontal\"===h?u:\"center\",text:i,textFont:c.getFont(),textFill:c.getTextColor()}})))},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,r=this._orient,a=this._useHandle,o=g.getItemAlign(e,this.api,i),s=n.barGroup=this._createBarGroup(o);s.add(n.outOfRange=v()),s.add(n.inRange=v(null,a?_(this._orient):null,f.bind(this._dragHandle,this,\"all\",!1),f.bind(this._dragHandle,this,\"all\",!0)));var l=e.textStyleModel.getTextRect(\"国\"),u=T(l.width,l.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,i,u,r,o),this._createHandle(s,1,i,u,r,o)),this._createIndicator(s,i,u,r),t.add(s)},_createHandle:function(t,e,n,i,r){var a,o=f.bind(this._dragHandle,this,e,!1),s=f.bind(this._dragHandle,this,e,!0),l=v((a=i,0===e?[[0,0],[a,0],[a,-a]]:[[0,0],[a,0],[a,a]]),_(this._orient),o,s);l.position[0]=n[0],t.add(l);var u=this.visualMapModel.textStyleModel,h=new x.Text({draggable:!0,drift:o,onmousemove:function(t){p.stop(t.event)},ondragend:s,style:{x:0,y:0,text:\"\",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(h);var c=[\"horizontal\"===r?i/2:1.5*i,\"horizontal\"===r?0===e?-1.5*i:1.5*i:0===e?-i/2:i/2],d=this._shapes;d.handleThumbs[e]=l,d.handleLabelPoints[e]=c,d.handleLabels[e]=h},_createIndicator:function(t,e,n,i){var r=v([[0,0]],\"move\");r.position[0]=e[0],r.attr({invisible:!0,silent:!0}),t.add(r);var a=this.visualMapModel.textStyleModel,o=new x.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:\"\",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(o);var s=[\"horizontal\"===i?n/2:9,0],l=this._shapes;l.indicator=r,l.indicatorLabel=o,l.indicatorLabelPoint=s},_dragHandle:function(t,e,n,i){var r;this._useHandle&&(this._dragging=!e,e||(r=this._applyTransform([n,i],this._shapes.barGroup,!0),this._updateInterval(t,r[1]),this._updateView()),e===!this.visualMapModel.get(\"realtime\")&&this.api.dispatchAction({type:\"selectDataRange\",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?this._hovering||this._clearHoverLinkToSeries():y(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1))},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[b(e[0],n,i,!0),b(e[1],n,i,!0)]},_updateInterval:function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];o(e,i,r,t,0);var a=n.getExtent();this._dataInterval=[b(i[0],r,a,!0),b(i[1],r,a,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],a=t?r:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,a,\"inRange\"),s=this._createBarVisual(n,n,r,\"outOfRange\");i.inRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape(\"points\",o.barPoints),i.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape(\"points\",s.barPoints),this._updateHandle(a,o)},_createBarVisual:function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,r),o=[this.getControllerVisual(t[0],\"symbolSize\",r),this.getControllerVisual(t[1],\"symbolSize\",r)],s=this._createBarPoints(n,o);return{barColor:new l(0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},_makeColorGradient:function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],\"color\",e),offset:0});for(var r=1;r<100;r++){var a=t[0]+i*r;if(a>t[1])break;n.push({color:this.getControllerVisual(a,\"color\",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],\"color\",e),offset:1}),n},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get(\"inverse\");return new x.Group(\"horizontal\"!==e||n?\"horizontal\"===e&&n?{scale:\"bottom\"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:\"vertical\"!==e||n?{scale:\"left\"===t?[1,1]:[-1,1]}:{scale:\"left\"===t?[1,-1]:[-1,-1]}:{scale:\"bottom\"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(i,r){var a,o,s,l;this._useHandle&&(a=this._shapes,o=this.visualMapModel,s=a.handleThumbs,l=a.handleLabels,u([0,1],function(t){var e=s[t];e.setStyle(\"fill\",r.handlesColor[t]),e.position[1]=i[t];var n=x.applyTransform(a.handleLabelPoints[t],x.getTransform(e,this.group));l[t].setStyle({x:n[0],y:n[1],text:o.formatValueText(this._dataInterval[t]),textVerticalAlign:\"middle\",textAlign:this._applyTransform(\"horizontal\"===this._orient?0===t?\"bottom\":\"top\":\"left\",a.barGroup)})},this))},_showIndicator:function(t,e,n,i){var r,a,o,s,l,u,h,c,d,f=this.visualMapModel,p=f.getExtent(),g=f.itemSize,m=[0,g[1]],v=b(t,p,m,!0),y=this._shapes,_=y.indicator;_&&(_.position[1]=v,_.attr(\"invisible\",!1),_.setShape(\"points\",(r=!!n,a=i,o=v,s=g[1],r?[[0,-w(a,T(o,0))],[6,0],[0,w(a,T(s-o,0))]]:[[0,0],[5,-5],[5,5]])),l=this.getControllerVisual(t,\"color\",{convertOpacityToAlpha:!0}),_.setStyle(\"fill\",l),u=x.applyTransform(y.indicatorLabelPoint,x.getTransform(_,this.group)),(h=y.indicatorLabel).attr(\"invisible\",!1),c=this._applyTransform(\"left\",y.barGroup),d=this._orient,h.setStyle({text:(n||\"\")+f.formatValueText(e),textVerticalAlign:\"horizontal\"===d?c:\"middle\",textAlign:\"horizontal\"===d?\"center\":c,x:u[0],y:u[1]}))},_enableHoverLinkToSeries:function(){var i=this;this._shapes.barGroup.on(\"mousemove\",function(t){var e,n;i._hovering=!0,i._dragging||(e=i.visualMapModel.itemSize,(n=i._applyTransform([t.offsetX,t.offsetY],i._shapes.barGroup,!0,!0))[1]=w(T(0,n[1]),e[1]),i._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=e[0]))}).on(\"mouseout\",function(){i._hovering=!1,i._dragging||i._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on(\"mouseover\",this._hoverLinkFromSeriesMouseOver,this),t.on(\"mouseout\",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n,i,r,a,o,s,l,u,h,c=this.visualMapModel,d=c.itemSize;c.option.hoverLink&&(n=[0,d[1]],i=c.getExtent(),a=[(t=w(T(n[0],t),n[1]))-(r=function(t,e,n){var i=6,r=t.get(\"hoverLinkDataSize\");r&&(i=b(r,e,n,!0)/2);return i}(c,i,n)),t+r],o=b(t,n,i,!0),s=[b(a[0],n,i,!0),b(a[1],n,i,!0)],a[0]<n[0]&&(s[0]=-1/0),n[1]<a[1]&&(s[1]=1/0),e&&(s[0]===-1/0?this._showIndicator(o,s[1],\"< \",r):s[1]===1/0?this._showIndicator(o,s[0],\"> \",r):this._showIndicator(o,o,\"≈ \",r)),l=this._hoverLinkDataIndices,u=[],(e||y(c))&&(u=this._hoverLinkDataIndices=c.findTargetDataIndices(s)),h=m.compressBatches(l,u),this._dispatchHighDown(\"downplay\",g.makeHighDownBatch(h[0],c)),this._dispatchHighDown(\"highlight\",g.makeHighDownBatch(h[1],c)))},_hoverLinkFromSeriesMouseOver:function(t){var e,n,i,r=t.target,a=this.visualMapModel;r&&null!=r.dataIndex&&(e=this.ecModel.getSeriesByIndex(r.seriesIndex),a.isTargetSeries(e)&&(i=(n=e.getData(r.dataType)).get(a.getDataDimension(n),r.dataIndex,!0),isNaN(i)||this._showIndicator(i,i)))},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr(\"invisible\",!0),t.indicatorLabel&&t.indicatorLabel.attr(\"invisible\",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown(\"downplay\",g.makeHighDownBatch(t,this.visualMapModel)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off(\"mouseover\",this._hoverLinkFromSeriesMouseOver),t.off(\"mouseout\",this._hideIndicator)},_applyTransform:function(t,e,n,i){var r=x.getTransform(e,i?null:this.group);return x[f.isArray(t)?\"applyTransform\":\"transformDirection\"](t,r,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function v(t,e,n,i){return new x.Polygon({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){p.stop(t.event)},ondragend:i})}function y(t){var e=t.get(\"hoverLinkOnHandle\");return null==e?t.get(\"realtime\"):e}function _(t){return\"vertical\"===t?\"ns-resize\":\"ew-resize\"}t.exports=a},function(t,e,n){n(5).__DEV__;var f=n(0),o=n(199),p=n(42),s=n(200),u=n(3).reformIntervals,r=o.extend({type:\"visualMap.piecewise\",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:\"auto\",itemWidth:20,itemHeight:14,itemSymbol:\"roundRect\",pieceList:null,categories:null,splitNumber:5,selectedMode:\"multiple\",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){r.superApply(this,\"optionUpdated\",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();a[this._mode].call(this),this._resetSelected(t,e);var i=this.option.categories;this.resetVisual(function(t,e){\"categories\"===n?(t.mappingMethod=\"category\",t.categories=f.clone(i)):(t.dataExtent=this.getExtent(),t.mappingMethod=\"piecewise\",t.pieceList=f.map(this._pieceList,function(t){t=f.clone(t);return\"inRange\"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){var i=this.option,n={},t=p.listVisualTypes(),r=this.isCategory();function a(t,e,n){return t&&t[e]&&(f.isObject(t[e])?t[e].hasOwnProperty(n):t[e]===n)}f.each(i.pieces,function(e){f.each(t,function(t){e.hasOwnProperty(t)&&(n[t]=1)})}),f.each(n,function(t,e){var n=0;f.each(this.stateList,function(t){n|=a(i,t,e)||a(i.target,t,e)},this),n||f.each(this.stateList,function(t){(i[t]||(i[t]={}))[e]=s.get(e,\"inRange\"===t?\"active\":\"inactive\",r)})},this),o.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i,n=this.option,r=this._pieceList,a=(e?n:t).selected||{};n.selected=a,f.each(r,function(t,e){var n=this.getSelectedMapKey(t);a.hasOwnProperty(n)||(a[n]=!0)},this),\"single\"===n.selectedMode&&(i=!1,f.each(r,function(t,e){var n=this.getSelectedMapKey(t);a[n]&&(i?a[n]=!1:i=!0)},this))},getSelectedMapKey:function(t){return\"categories\"===this._mode?t.value+\"\":t.index+\"\"},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&0<t.pieces.length?\"pieces\":this.option.categories?\"categories\":\"splitNumber\"},setSelected:function(t){this.option.selected=f.clone(t)},getValueState:function(t){var e=p.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?\"inRange\":\"outOfRange\"},findTargetDataIndices:function(i){var r=[];return this.eachTargetSeries(function(t){var n=[],e=t.getData();e.each(this.getDataDimension(e),function(t,e){p.findPieceIndex(t,this._pieceList)===i&&n.push(e)},this),r.push({seriesId:t.id,dataIndex:n})},this),r},getRepresentValue:function(t){var e;return this.isCategory()||null!=t.value?t.value:(e=t.interval||[])[0]===-1/0&&e[1]===1/0?0:(e[0]+e[1])/2},getVisualMeta:function(r){if(!this.isCategory()){var t,a=[],o=[],s=this,e=this._pieceList.slice();e.length?((t=e[0].interval[0])!==-1/0&&e.unshift({interval:[-1/0,t]}),(t=e[e.length-1].interval[1])!==1/0&&e.push({interval:[t,1/0]})):e.push({interval:[-1/0,1/0]});var n=-1/0;return f.each(e,function(t){var e=t.interval;e&&(e[0]>n&&i([n,e[0]],\"outOfRange\"),i(e.slice()),n=e[1])},this),{stops:a,outerColors:o}}function i(t,e){var n=s.getRepresentValue({interval:t});e=e||s.getValueState(n);var i=r(n,e);t[0]===-1/0?o[0]=i:t[1]===1/0?o[1]=i:a.push({value:t[0],color:i},{value:t[1],color:i})}}}),a={splitNumber:function(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber,r=Math.max(parseInt(r,10),1);t.splitNumber=r;for(var a=(i[1]-i[0])/r;+a.toFixed(n)!==a&&n<5;)n++;t.precision=n,a=+a.toFixed(n),t.minOpen&&e.push({interval:[-1/0,i[0]],close:[0,0]});for(var o=0,s=i[0];o<r;s+=a,o++){var l=o===r-1?i[1]:s+a;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[i[1],1/0],close:[0,0]}),u(e),f.each(e,function(t,e){t.index=e,t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;f.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),i(t,this._pieceList)},pieces:function(){var t=this.option,d=this._pieceList;f.each(t.pieces,function(t,e){f.isObject(t)||(t={value:t});var n={text:\"\",index:e};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty(\"value\")){var i=n.value=t.value;n.interval=[i,i],n.close=[1,1]}else{for(var r=n.interval=[],a=n.close=[0,0],o=[1,0,1],s=[-1/0,1/0],l=[],u=0;u<2;u++){for(var h=[[\"gte\",\"gt\",\"min\"],[\"lte\",\"lt\",\"max\"]][u],c=0;c<3&&null==r[u];c++)r[u]=t[h[c]],a[u]=o[c],l[u]=2===c;null==r[u]&&(r[u]=s[u])}l[0]&&r[1]===1/0&&(a[0]=0),l[1]&&r[0]===-1/0&&(a[1]=0),r[0]===r[1]&&a[0]&&a[1]&&(n.value=r[0])}n.visual=p.retrieveVisuals(t),d.push(n)},this),i(t,d),u(d),f.each(d,function(t){var e=t.close,n=[[\"<\",\"≤\"][e[1]],[\">\",\"≥\"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)},this)}};function i(t,e){var n=t.inverse;(\"vertical\"===t.orient?!n:n)&&e.reverse()}t.exports=r},function(t,e,n){var f=n(0),i=n(201),p=n(2),r=n(18).createSymbol,g=n(6),a=n(202),o=i.extend({type:\"visualMap.piecewise\",doRender:function(){var a=this.group;a.removeAll();var o=this.visualMapModel,s=o.get(\"textGap\"),t=o.textStyleModel,l=t.getFont(),u=t.getTextColor(),h=this._getItemAlign(),c=o.itemSize,e=this._getViewData(),n=e.endsText,d=f.retrieve(o.get(\"showLabel\",!0),!n);n&&this._renderEndsText(a,n[0],c,d,h),f.each(e.viewPieceList,function(t){var e=t.piece,n=new p.Group;n.onclick=f.bind(this._onItemClick,this,e),this._enableHoverLink(n,t.indexInModelPieceList);var i=o.getRepresentValue(e);{var r;this._createItemSymbol(n,i,[0,0,c[0],c[1]]),d&&(r=this.visualMapModel.getValueState(i),n.add(new p.Text({style:{x:\"right\"===h?-s:c[0]+s,y:c[1]/2,text:e.text,textVerticalAlign:\"middle\",textAlign:h,textFont:l,textFill:u,opacity:\"outOfRange\"===r?.5:1}})))}a.add(n)},this),n&&this._renderEndsText(a,n[1],c,d,h),g.box(o.get(\"orient\"),a,o.get(\"itemGap\")),this.renderBackground(a),this.positionGroup(a)},_enableHoverLink:function(t,n){function e(t){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:t,batch:a.makeHighDownBatch(e.findTargetDataIndices(n),e)})}t.on(\"mouseover\",f.bind(e,this,\"highlight\")).on(\"mouseout\",f.bind(e,this,\"downplay\"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if(\"vertical\"===e.orient)return a.getItemAlign(t,this.api,t.itemSize);var n=e.align;return n&&\"auto\"!==n||(n=\"left\"),n},_renderEndsText:function(t,e,n,i,r){var a,o;e&&(a=new p.Group,o=this.visualMapModel.textStyleModel,a.add(new p.Text({style:{x:i?\"right\"===r?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:\"middle\",textAlign:i?r:\"center\",text:e,textFont:o.getFont(),textFill:o.getTextColor()}})),t.add(a))},_getViewData:function(){var t=this.visualMapModel,e=f.map(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get(\"text\"),i=t.get(\"orient\"),r=t.get(\"inverse\");return(\"horizontal\"===i?r:!r)?e.reverse():n=n&&n.slice().reverse(),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(r(this.getControllerVisual(e,\"symbol\"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,\"color\")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,i=f.clone(n.selected),r=e.getSelectedMapKey(t);\"single\"===n.selectedMode?(i[r]=!0,f.each(i,function(t,e){i[e]=e===r})):i[r]=!i[r],this.api.dispatchAction({type:\"selectDataRange\",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});t.exports=o},function(t,e,n){n(496),(0,n(68).registerPainter)(\"vml\",n(497))},function(t,e,n){var i=n(11),G=n(8).applyTransform,r=n(9),O=n(22),I=n(16),C=n(72),a=n(129),o=n(54),s=n(43),l=n(36),u=n(10),h=n(45),R=n(73),V=n(205),H=h.CMD,U=Math.round,W=Math.sqrt,c=Math.abs,j=Math.cos,X=Math.sin,Z=Math.max;if(!i.canvasSupported){function q(t){t.style.cssText=\"position:absolute;left:0;top:0;width:1px;height:1px;\",t.coordsize=J+\",\"+J,t.coordorigin=\"0,0\"}function k(t,e,n){return\"rgb(\"+[t,e,n].join(\",\")+\")\"}function Y(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)}function d(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function K(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n}function z(t,e,n){var i=O.parse(e);n=+n,isNaN(n)&&(n=1),i&&(t.color=k(i[0],i[1],i[2]),t.opacity=n*i[3])}function f(t,e,n){var i,r,a=e.fill;if(null!=a)if(a instanceof R){var o,s,l,u,h,c,d,f,p,g,m=0,v=[0,0],y=0,_=1,x=n.getBoundingRect(),b=x.width,w=x.height;\"linear\"===a.type?(o=\"gradient\",c=n.transform,h=[a.x*b,a.y*w],s=[a.x2*b,a.y2*w],c&&(G(h,h,c),G(s,s,c)),l=s[0]-h[0],u=s[1]-h[1],(m=180*Math.atan2(l,u)/Math.PI)<0&&(m+=360),m<1e-6&&(m=0)):(o=\"gradientradial\",h=[a.x*b,a.y*w],c=n.transform,d=n.scale,f=b,p=w,v=[(h[0]-x.x)/f,(h[1]-x.y)/p],c&&G(h,h,c),f/=d[0]*J,p/=d[1]*J,y=0/(g=Z(f,p)),_=2*a.r/g-y);var T=a.colorStops.slice();T.sort(function(t,e){return t.offset-e.offset});for(var S,M,A,I,C=T.length,D=[],E=[],L=0;L<C;L++){var P=T[L],N=(i=P.color,r=O.parse(i),[k(r[0],r[1],r[2]),r[3]]);E.push(P.offset*_+y+\" \"+N[0]),0!==L&&L!==C-1||D.push(N)}2<=C&&(S=D[0][0],M=D[1][0],A=D[0][1]*e.opacity,I=D[1][1]*e.opacity,t.type=o,t.method=\"none\",t.focus=\"100%\",t.angle=m,t.color=S,t.color2=M,t.colors=E.join(\",\"),t.opacity=I,t.opacity2=A),\"radial\"===o&&(t.focusposition=v.join(\",\"))}else z(t,a,e.opacity)}function D(t,e,n,i){var r,a,o=\"fill\"===e,s=t.getElementsByTagName(e)[0];null!=n[e]&&\"none\"!==n[e]&&(o||!o&&n.lineWidth)?(t[o?\"filled\":\"stroked\"]=\"true\",n[e]instanceof R&&d(t,s),s=s||V.createNode(e),o?f(s,n,i):(r=s,(a=n).lineDash&&(r.dashstyle=a.lineDash.join(\" \")),null==a.stroke||a.stroke instanceof R||z(r,a.stroke,a.opacity)),Y(t,s)):(t[o?\"filled\":\"stroked\"]=\"false\",d(t,s))}var Q=\"progid:DXImageTransform.Microsoft\",J=21600,$=10800,E=C.parsePercent,tt=[[],[],[]];u.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=V.createNode(\"shape\"),q(n),this._vmlEl=n),D(n,\"fill\",e,this),D(n,\"stroke\",e,this);var i,r,a=this.transform,o=null!=a,s=n.getElementsByTagName(\"stroke\")[0];s&&(i=e.lineWidth,o&&!e.strokeNoScale&&(r=a[0]*a[3]-a[1]*a[2],i*=W(c(r))),s.weight=i+\"px\");var l=this.path||(this.path=new h);this.__dirtyPath&&(l.beginPath(),l.subPixelOptimize=!1,this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),n.path=function(t,e){for(var n,i,r,a,o,s=H.M,l=H.C,u=H.L,h=H.A,c=H.Q,d=[],f=t.data,p=t.len(),g=0;g<p;){switch(i=\"\",n=0,r=f[g++]){case s:i=\" m \",n=1,a=f[g++],o=f[g++],tt[0][0]=a,tt[0][1]=o;break;case u:i=\" l \",n=1,a=f[g++],o=f[g++],tt[0][0]=a,tt[0][1]=o;break;case c:case l:i=\" c \",n=3;var m,v,y=f[g++],_=f[g++],x=f[g++],b=f[g++];r===c?(x=((m=x)+2*y)/3,b=((v=b)+2*_)/3,y=(a+2*y)/3,_=(o+2*_)/3):(m=f[g++],v=f[g++]),tt[0][0]=y,tt[0][1]=_,tt[1][0]=x,tt[1][1]=b,a=tt[2][0]=m,o=tt[2][1]=v;break;case h:var w=0,T=0,S=1,M=1,A=0;e&&(w=e[4],T=e[5],S=W(e[0]*e[0]+e[1]*e[1]),M=W(e[2]*e[2]+e[3]*e[3]),A=Math.atan2(-e[1]/M,e[0]/S));var I=f[g++],C=f[g++],D=f[g++],E=f[g++],L=f[g++]+A,P=f[g++]+L+A;g++;var N=f[g++],O=I+j(L)*D,R=C+X(L)*E,y=I+j(P)*D,_=C+X(P)*E,k=N?\" wa \":\" at \";Math.abs(O-y)<1e-4&&(.01<Math.abs(P-L)?N&&(O+=.0125):Math.abs(R-C)<1e-4?N&&O<I||!N&&I<O?_-=.0125:_+=.0125:N&&R<C||!N&&C<R?y+=.0125:y-=.0125),d.push(k,U(((I-D)*S+w)*J-$),\",\",U(((C-E)*M+T)*J-$),\",\",U(((I+D)*S+w)*J-$),\",\",U(((C+E)*M+T)*J-$),\",\",U((O*S+w)*J-$),\",\",U((R*M+T)*J-$),\",\",U((y*S+w)*J-$),\",\",U((_*M+T)*J-$)),a=y,o=_;break;case H.R:var z=tt[0],B=tt[1];z[0]=f[g++],z[1]=f[g++],B[0]=z[0]+f[g++],B[1]=z[1]+f[g++],e&&(G(z,z,e),G(B,B,e)),z[0]=U(z[0]*J-$),B[0]=U(B[0]*J-$),z[1]=U(z[1]*J-$),B[1]=U(B[1]*J-$),d.push(\" m \",z[0],\",\",z[1],\" l \",B[0],\",\",z[1],\" l \",B[0],\",\",B[1],\" l \",z[0],\",\",B[1]);break;case H.Z:d.push(\" x \")}if(0<n){d.push(i);for(var F=0;F<n;F++){var V=tt[F];e&&G(V,V,e),d.push(U(V[0]*J-$),\",\",U(V[1]*J-$),F<n-1?\",\":\"\")}}}return d.join(\"\")}(l,this.transform),n.style.zIndex=K(this.zlevel,this.z,this.z2),Y(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},u.prototype.onRemove=function(t){d(t,this._vmlEl),this.removeRectText(t)},u.prototype.onAdd=function(t){Y(t,this._vmlEl),this.appendRectText(t)};s.prototype.brushVML=function(t){var e,n,i,r,a,o,s,l,u,h,c,d,f,p,g,m,v,y,_,x,b,w,T,S,M,A,I,C,D,E,L,P,N,O,R,k,z,B=this.style,F=B.image;\"object\"==typeof(s=F)&&s.tagName&&\"IMG\"===s.tagName.toUpperCase()?((i=F.src)===this._imageSrc?(e=this._imageWidth,n=this._imageHeight):(a=(r=F.runtimeStyle).width,o=r.height,r.width=\"auto\",r.height=\"auto\",e=F.width,n=F.height,r.width=a,r.height=o,this._imageSrc=i,this._imageWidth=e,this._imageHeight=n),F=i):F===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight),F&&(l=B.x||0,u=B.y||0,h=B.width,c=B.height,d=B.sWidth,f=B.sHeight,p=B.sx||0,g=B.sy||0,m=d&&f,(v=this._vmlEl)||(v=V.doc.createElement(\"div\"),q(v),this._vmlEl=v),y=v.style,_=!1,w=b=1,this.transform&&(x=this.transform,b=W(x[0]*x[0]+x[1]*x[1]),w=W(x[2]*x[2]+x[3]*x[3]),_=x[1]||x[2]),_?(S=[l+h,u],M=[l,u+c],A=[l+h,u+c],G(T=[l,u],T,x),G(S,S,x),G(M,M,x),G(A,A,x),I=Z(T[0],S[0],M[0],A[0]),C=Z(T[1],S[1],M[1],A[1]),(D=[]).push(\"M11=\",x[0]/b,\",\",\"M12=\",x[2]/w,\",\",\"M21=\",x[1]/b,\",\",\"M22=\",x[3]/w,\",\",\"Dx=\",U(l*b+x[4]),\",\",\"Dy=\",U(u*w+x[5])),y.padding=\"0 \"+U(I)+\"px \"+U(C)+\"px 0\",y.filter=Q+\".Matrix(\"+D.join(\"\")+\", SizingMethod=clip)\"):(x&&(l=l*b+x[4],u=u*w+x[5]),y.filter=\"\",y.left=U(l)+\"px\",y.top=U(u)+\"px\"),E=this._imageEl,L=this._cropEl,E||(E=V.doc.createElement(\"div\"),this._imageEl=E),P=E.style,m?(e&&n?(P.width=U(b*e*h/d)+\"px\",P.height=U(w*n*c/f)+\"px\"):(N=new Image,O=this,N.onload=function(){N.onload=null,e=N.width,n=N.height,P.width=U(b*e*h/d)+\"px\",P.height=U(w*n*c/f)+\"px\",O._imageWidth=e,O._imageHeight=n,O._imageSrc=F},N.src=F),L||((L=V.doc.createElement(\"div\")).style.overflow=\"hidden\",this._cropEl=L),(R=L.style).width=U((h+p*h/d)*b),R.height=U((c+g*c/f)*w),R.filter=Q+\".Matrix(Dx=\"+-p*h/d*b+\",Dy=\"+-g*c/f*w+\")\",L.parentNode||v.appendChild(L),E.parentNode!==L&&L.appendChild(E)):(P.width=U(b*h)+\"px\",P.height=U(w*c)+\"px\",v.appendChild(E),L&&L.parentNode&&(v.removeChild(L),this._cropEl=null)),k=\"\",(z=B.opacity)<1&&(k+=\".Alpha(opacity=\"+U(100*z)+\") \"),k+=Q+\".AlphaImageLoader(src=\"+F+\", SizingMethod=scale)\",P.filter=k,v.style.zIndex=K(this.zlevel,this.z,this.z2),Y(t,v),null!=B.text&&this.drawRectText(t,this.getBoundingRect()))},s.prototype.onRemove=function(t){d(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},s.prototype.onAdd=function(t){Y(t,this._vmlEl),this.appendRectText(t)};var p,L=\"normal\",P={},N=0,B=document.createElement(\"div\");I.$override(\"measureText\",function(t,e){var n=V.doc;p||((p=n.createElement(\"div\")).style.cssText=\"position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;\",V.doc.body.appendChild(p));try{p.style.font=e}catch(t){}return p.innerHTML=\"\",p.appendChild(n.createTextNode(t)),{width:p.offsetWidth}});function g(t,e,n,i){var r=this.style;if(this.__dirty&&C.normalizeTextStyle(r,!0),null!=(o=r.text)&&(o+=\"\"),o){if(r.rich){for(var a=I.parseRichText(o,r),o=[],s=0;s<a.lines.length;s++){for(var l=a.lines[s].tokens,u=[],h=0;h<l.length;h++)u.push(l[h].text);o.push(u.join(\"\"))}o=o.join(\"\\n\")}var c=r.textAlign,d=r.textVerticalAlign,f=function(t){var e=P[t];if(!e){100<N&&(N=0,P={});var n,i=B.style;try{i.font=t,n=i.fontFamily.split(\",\")[0]}catch(t){}e={style:i.fontStyle||L,variant:i.fontVariant||L,weight:i.fontWeight||L,size:0|parseFloat(i.fontSize||12),family:n||\"Microsoft YaHei\"},P[t]=e,N++}return e}(r.font),p=f.style+\" \"+f.variant+\" \"+f.weight+\" \"+f.size+'px \"'+f.family+'\"';n=n||I.getBoundingRect(o,p,c,d,r.textPadding,r.textLineHeight);var g,m,v,y,_=this.transform;_&&!i&&(F.copy(e),F.applyTransform(_),e=F),i?(v=e.x,y=e.y):(g=r.textPosition)instanceof Array?(v=e.x+E(g[0],e.width),y=e.y+E(g[1],e.height),c=c||\"left\"):(v=(m=this.calculateTextPosition?this.calculateTextPosition({},r,e):I.calculateTextPosition({},r,e)).x,y=m.y,c=c||m.textAlign,d=d||m.textVerticalAlign),v=I.adjustTextX(v,n.width,c),y=I.adjustTextY(y,n.height,d),y+=n.height/2;var x,b,w,T=V.createNode,S=this._textVmlEl;S?b=(x=(w=S.firstChild).nextSibling).nextSibling:(S=T(\"line\"),x=T(\"path\"),b=T(\"textpath\"),w=T(\"skew\"),b.style[\"v-text-align\"]=\"left\",q(S),x.textpathok=!0,b.on=!0,S.from=\"0 0\",S.to=\"1000 0.05\",Y(S,w),Y(S,x),Y(S,b),this._textVmlEl=S);var M=[v,y],A=S.style;_&&i?(G(M,M,_),w.on=!0,w.matrix=_[0].toFixed(3)+\",\"+_[2].toFixed(3)+\",\"+_[1].toFixed(3)+\",\"+_[3].toFixed(3)+\",0,0\",w.offset=(U(M[0])||0)+\",\"+(U(M[1])||0),w.origin=\"0 0\",A.left=\"0px\",A.top=\"0px\"):(w.on=!1,A.left=U(v)+\"px\",A.top=U(y)+\"px\"),b.string=String(o).replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\");try{b.style.font=p}catch(t){}D(S,\"fill\",{fill:r.textFill,opacity:r.opacity},this),D(S,\"stroke\",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash||null},this),S.style.zIndex=K(this.zlevel,this.z,this.z2),Y(t,S)}}function m(t){d(t,this._textVmlEl),this._textVmlEl=null}function v(t){Y(t,this._textVmlEl)}for(var F=new r,y=[a,o,s,u,l],_=0;_<y.length;_++){var x=y[_].prototype;x.drawRectText=g,x.removeRectText=m,x.appendRectText=v}l.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},l.prototype.onRemove=function(t){this.removeRectText(t)},l.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,n){var i=n(53),o=n(205),r=n(0).each;function a(t){return parseInt(t,10)}function s(t,e){o.initVML(),this.root=t,this.storage=e;var n=document.createElement(\"div\"),i=document.createElement(\"div\");n.style.cssText=\"display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;\",i.style.cssText=\"position:absolute;left:0;top:0;\",t.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){r.call(e,t),t&&t.onRemove&&t.onRemove(i)},e.addToStorage=function(t){t.onAdd&&t.onAdd(i),a.call(e,t)},this._firstPaint=!0}s.prototype={constructor:s,getType:function(){return\"vml\"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var i=t[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var n,t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;this._width===t&&this._height===e||(this._width=t,this._height=e,(n=this._vmlViewport.style).width=t+\"px\",n.height=e+\"px\")},dispose:function(){this.root.innerHTML=\"\",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||a(e.width))-a(e.paddingLeft)-a(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||a(e.height))-a(e.paddingTop)-a(e.paddingBottom)|0}},r([\"getLayer\",\"insertLayer\",\"eachLayer\",\"eachBuiltinLayer\",\"eachOtherLayer\",\"getLayers\",\"modLayer\",\"delLayer\",\"clearLayer\",\"toDataURL\",\"pathToImage\"],function(t){var e;s.prototype[t]=(e=t,function(){i('In IE8.0 VML mode painter not support method \"'+e+'\"')})}),t.exports=s},function(t,e,n){n(118),(0,n(68).registerPainter)(\"svg\",n(499))},function(t,e,n){var l=n(119).createElement,u=n(0),i=n(53),g=n(10),m=n(43),v=n(36),y=n(500),h=n(501),c=n(502),d=n(503),r=n(118),_=r.path,x=r.image,b=r.text;function f(t){return parseInt(t,10)}function a(t,e){return e&&t&&e.parentNode!==t}function w(t,e,n){var i;a(t,e)&&n&&((i=n.nextSibling)?t.insertBefore(e,i):t.appendChild(e))}function T(t,e){var n;a(t,e)&&((n=t.firstChild)?t.insertBefore(e,n):t.appendChild(e))}function S(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function M(t){return t.__textSvgEl}function A(t){return t.__svgEl}function o(t,e,n,i){this.root=t,this.storage=e,this._opts=n=u.extend({},n||{});var r=l(\"svg\");r.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),r.setAttribute(\"version\",\"1.1\"),r.setAttribute(\"baseProfile\",\"full\"),r.style.cssText=\"user-select:none;position:absolute;left:0;top:0;\";var a=l(\"g\");r.appendChild(a);var o=l(\"g\");r.appendChild(o),this.gradientManager=new h(i,o),this.clipPathManager=new c(i,o),this.shadowManager=new d(i,o);var s=document.createElement(\"div\");s.style.cssText=\"overflow:hidden;position:relative\",this._svgDom=r,this._svgRoot=o,this._backgroundRoot=a,this._viewport=s,t.appendChild(s),s.appendChild(r),this.resize(n.width,n.height),this._visibleList=[]}o.prototype={constructor:o,getType:function(){return\"svg\"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var e=l(\"rect\");e.setAttribute(\"width\",this.getWidth()),e.setAttribute(\"height\",this.getHeight()),e.setAttribute(\"x\",0),e.setAttribute(\"y\",0),e.setAttribute(\"id\",0),e.style.fill=t,this._backgroundRoot.appendChild(e),this._backgroundNode=e},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();for(var e,n=this._svgRoot,i=this._visibleList,r=t.length,a=[],o=0;o<r;o++){var s=t[o],l=(e=s)instanceof g?_:e instanceof m?x:e instanceof v?b:_,u=A(s)||M(s);s.invisible||(s.__dirty&&(l&&l.brush(s),this.clipPathManager.update(s),s.style&&(this.gradientManager.update(s.style.fill),this.gradientManager.update(s.style.stroke),this.shadowManager.update(u,s)),s.__dirty=!1),a.push(s))}var h,c,d=y(i,a);for(o=0;o<d.length;o++){if((c=d[o]).removed)for(var f=0;f<c.count;f++){var u=A(s=i[c.indices[f]]),p=M(s);S(n,u),S(n,p)}}for(o=0;o<d.length;o++){if((c=d[o]).added)for(f=0;f<c.count;f++){u=A(s=a[c.indices[f]]),p=M(s);h?w(n,u,h):T(n,u),u?w(n,p,u):h?w(n,p,h):T(n,p),w(n,p,u),h=p||u||h,this.gradientManager.addWithoutUpdate(u||p,s),this.shadowManager.addWithoutUpdate(u||p,s),this.clipPathManager.markUsed(s)}else if(!c.removed)for(f=0;f<c.count;f++){u=A(s=a[c.indices[f]]),p=M(s),u=A(s),p=M(s);this.gradientManager.markUsed(s),this.gradientManager.addWithoutUpdate(u||p,s),this.shadowManager.markUsed(s),this.shadowManager.addWithoutUpdate(u||p,s),this.clipPathManager.markUsed(s),p&&w(n,p,u),h=u||p||h}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(t){var e=this._svgDom,i=e.getElementsByTagName(\"defs\");return 0!==i.length?i[0]:t?((i=e.insertBefore(l(\"defs\"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;0<=n;--n)if(e[n]===t)return!0;return!1}),i):null},resize:function(t,e){var n=this._viewport;n.style.display=\"none\";var i,r,a=this._opts;null!=t&&(a.width=t),null!=e&&(a.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display=\"\",this._width===t&&this._height===e||(this._width=t,this._height=e,(i=n.style).width=t+\"px\",i.height=e+\"px\",(r=this._svgDom).setAttribute(\"width\",t),r.setAttribute(\"height\",e)),this._backgroundNode&&(this._backgroundNode.setAttribute(\"width\",t),this._backgroundNode.setAttribute(\"height\",e))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=[\"width\",\"height\"][t],i=[\"clientWidth\",\"clientHeight\"][t],r=[\"paddingLeft\",\"paddingTop\"][t],a=[\"paddingRight\",\"paddingBottom\"][t];if(null!=e[n]&&\"auto\"!==e[n])return parseFloat(e[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[i]||f(s[n])||f(o.style[n]))-(f(s[r])||0)-(f(s[a])||0)|0},dispose:function(){this.root.innerHTML=\"\",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),\"data:image/svg+xml;charset=UTF-8,\"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,\">\\n\\r<\"))}},u.each([\"getLayer\",\"insertLayer\",\"eachLayer\",\"eachBuiltinLayer\",\"eachOtherLayer\",\"getLayers\",\"modLayer\",\"delLayer\",\"clearLayer\",\"pathToImage\"],function(t){var e;o.prototype[t]=(e=t,function(){i('In SVG mode painter not support method \"'+e+'\"')})}),t.exports=o},function(t,e){function n(){}n.prototype={diff:function(l,u,t){t=t||function(t,e){return t===e},this.equals=t;var h=this;l=l.slice();var c=(u=u.slice()).length,d=l.length,f=1,e=c+d,p=[{newPos:-1,components:[]}],n=this.extractCommon(p[0],u,l,0);if(p[0].newPos+1>=c&&d<=n+1){for(var i=[],r=0;r<u.length;r++)i.push(r);return[{indices:i,count:u.length}]}for(;f<=e;){var a=function(){for(var t,e=-1*f;e<=f;e+=2){var n,i=p[e-1],r=p[e+1],a=(r?r.newPos:0)-e;i&&(p[e-1]=void 0);var o=i&&i.newPos+1<c,s=r&&0<=a&&a<d;if(o||s){if(!o||s&&i.newPos<r.newPos?(n={newPos:(t=r).newPos,components:t.components.slice(0)},h.pushComponent(n.components,void 0,!0)):((n=i).newPos++,h.pushComponent(n.components,!0,void 0)),a=h.extractCommon(n,u,l,e),n.newPos+1>=c&&d<=a+1)return function(t){for(var e=0,n=t.length,i=0,r=0;e<n;e++){var a=t[e];if(a.removed){for(o=[],s=r;s<r+a.count;s++)o.push(s);a.indices=o,r+=a.count}else{for(var o=[],s=i;s<i+a.count;s++)o.push(s);a.indices=o,i+=a.count,a.added||(r+=a.count)}}return t}(n.components);p[e]=n}else p[e]=void 0}f++}();if(a)return a}},pushComponent:function(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,i){for(var r=e.length,a=n.length,o=t.newPos,s=o-i,l=0;o+1<r&&s+1<a&&this.equals(e[o+1],n[s+1]);)o++,s++,l++;return l&&t.components.push({count:l}),t.newPos=o,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var i=new n;t.exports=function(t,e,n){return i.diff(t,e,n)}},function(t,e,n){var r=n(120),i=n(0),u=n(53),h=n(22);function a(t,e){r.call(this,t,e,[\"linearGradient\",\"radialGradient\"],\"__gradient_in_use__\")}i.inherits(a,r),a.prototype.addWithoutUpdate=function(a,o){var s;o&&o.style&&(s=this,i.each([\"fill\",\"stroke\"],function(t){var e,n,i,r;!o.style[t]||\"linear\"!==o.style[t].type&&\"radial\"!==o.style[t].type||(e=o.style[t],n=s.getDefs(!0),e._dom?(i=e._dom,n.contains(e._dom)||s.addDom(i)):i=s.add(e),s.markUsed(o),r=i.getAttribute(\"id\"),a.setAttribute(t,\"url(#\"+r+\")\"))}))},a.prototype.add=function(t){var e;if(\"linear\"===t.type)e=this.createElement(\"linearGradient\");else{if(\"radial\"!==t.type)return u(\"Illegal gradient type.\"),null;e=this.createElement(\"radialGradient\")}return t.id=t.id||this.nextId++,e.setAttribute(\"id\",\"zr\"+this._zrId+\"-gradient-\"+t.id),this.updateDom(t,e),this.addDom(e),e},a.prototype.update=function(n){var i=this;r.prototype.update.call(this,n,function(){var t=n.type,e=n._dom.tagName;\"linear\"===t&&\"linearGradient\"===e||\"radial\"===t&&\"radialGradient\"===e?i.updateDom(n,n._dom):(i.removeDom(n),i.add(n))})},a.prototype.updateDom=function(t,e){if(\"linear\"===t.type)e.setAttribute(\"x1\",t.x),e.setAttribute(\"y1\",t.y),e.setAttribute(\"x2\",t.x2),e.setAttribute(\"y2\",t.y2);else{if(\"radial\"!==t.type)return void u(\"Illegal gradient type.\");e.setAttribute(\"cx\",t.x),e.setAttribute(\"cy\",t.y),e.setAttribute(\"r\",t.r)}t.global?e.setAttribute(\"gradientUnits\",\"userSpaceOnUse\"):e.setAttribute(\"gradientUnits\",\"objectBoundingBox\"),e.innerHTML=\"\";for(var n=t.colorStops,i=0,r=n.length;i<r;++i){var a=this.createElement(\"stop\");a.setAttribute(\"offset\",100*n[i].offset+\"%\");var o,s,l=n[i].color;l.indexOf(!1)?(o=h.parse(l)[3],s=h.toHex(l),a.setAttribute(\"stop-color\",\"#\"+s),a.setAttribute(\"stop-opacity\",o)):a.setAttribute(\"stop-color\",n[i].color),e.appendChild(a)}t._dom=e},a.prototype.markUsed=function(t){var e;t.style&&((e=t.style.fill)&&e._dom&&r.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&r.prototype.markUsed.call(this,e._dom))},t.exports=a},function(t,e,n){var i=n(120),r=n(0),c=n(15);function a(t,e){i.call(this,t,e,\"clipPath\",\"__clippath_in_use__\")}r.inherits(a,i),a.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var n=this.getTextSvgElement(t);n&&this.updateDom(n,t.__clipPaths,!0),this.markUsed(t)},a.prototype.updateDom=function(t,e,n){var i,r,a,o,s,l,u,h;e&&0<e.length?(i=this.getDefs(!0),(r=e[0])[s=n?\"_textDom\":\"_dom\"]?(o=r[s].getAttribute(\"id\"),a=r[s],i.contains(a)||i.appendChild(a)):(o=\"zr\"+this._zrId+\"-clip-\"+this.nextId,++this.nextId,(a=this.createElement(\"clipPath\")).setAttribute(\"id\",o),i.appendChild(a),r[s]=a),l=this.getSvgProxy(r),r.transform&&r.parent.invTransform&&!n?(u=Array.prototype.slice.call(r.transform),c.mul(r.transform,r.parent.invTransform,r.transform),l.brush(r),r.transform=u):l.brush(r),h=this.getSvgElement(r),a.innerHTML=\"\",a.appendChild(h.cloneNode()),t.setAttribute(\"clip-path\",\"url(#\"+o+\")\"),1<e.length&&this.updateDom(a,e.slice(1),n)):t&&t.setAttribute(\"clip-path\",\"none\")},a.prototype.markUsed=function(t){var e=this;t.__clipPaths&&r.each(t.__clipPaths,function(t){t._dom&&i.prototype.markUsed.call(e,t._dom),t._textDom&&i.prototype.markUsed.call(e,t._textDom)})},t.exports=a},function(t,e,n){var i=n(120);function r(t,e){i.call(this,t,e,[\"filter\"],\"__filter_in_use__\",\"_shadowDom\")}function a(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}n(0).inherits(r,i),r.prototype.addWithoutUpdate=function(t,e){var n,i;e&&a(e.style)&&(e._shadowDom?(n=e._shadowDom,this.getDefs(!0).contains(e._shadowDom)||this.addDom(n)):n=this.add(e),this.markUsed(e),i=n.getAttribute(\"id\"),t.style.filter=\"url(#\"+i+\")\")},r.prototype.add=function(t){var e=this.createElement(\"filter\");return t._shadowDomId=t._shadowDomId||this.nextId++,e.setAttribute(\"id\",\"zr\"+this._zrId+\"-shadow-\"+t._shadowDomId),this.updateDom(t,e),this.addDom(e),e},r.prototype.update=function(t,e){var n;a(e.style)?(n=this,i.prototype.update.call(this,e,function(){n.updateDom(e,e._shadowDom)})):this.remove(t,e)},r.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(t),t.style.filter=\"\")},r.prototype.updateDom=function(t,e){var n,i,r,a,o=0===(o=e.getElementsByTagName(\"feDropShadow\")).length?this.createElement(\"feDropShadow\"):o[0],s=t.style,l=t.scale&&t.scale[0]||1,u=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,i=s.shadowOffsetY||0,r=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,i=s.textShadowOffsetY||0,r=s.textShadowBlur,a=s.textShadowColor}o.setAttribute(\"dx\",n/l),o.setAttribute(\"dy\",i/u),o.setAttribute(\"flood-color\",a);var h=r/2/l+\" \"+r/2/u;o.setAttribute(\"stdDeviation\",h),e.setAttribute(\"x\",\"-100%\"),e.setAttribute(\"y\",\"-100%\"),e.setAttribute(\"width\",Math.ceil(r/2*200)+\"%\"),e.setAttribute(\"height\",Math.ceil(r/2*200)+\"%\"),e.appendChild(o),t._shadowDom=e},r.prototype.markUsed=function(t){t._shadowDom&&i.prototype.markUsed.call(this,t._shadowDom)},t.exports=r},function(t,e,n){var i;i=function(n){return a={},i.m=r=[function(t,e){t.exports=n},function(t,e,n){\"use strict\";var i=n(40),r=n(52),a=n(5),o=n(4),s=n(8),l=n(19),u=n(35),h=n(15),c=n(0),d=n.n(c),f=n(36),p=n(60),g=n.n(p),m=n(61),v=n(124),y=n(125),_=n(129),x=n(130),b=n(2),w=n(132),T=n(43),S=n(76),M=n(133),A=n(134),I=n(135),C=n(136),D=n(41),E=n(37),L=n(26),P=n(3),N=n(137),O=n(56),R=n(138),k=n(139),z=n(140),B=n(9),F=n(74),V=n(54),G=n(18),H=n(59),U=n(141),W=n(146),j=n(71),X=n(147),Z=n(148),q=n(149),Y=n(150),K=n(151),Q=n(152);function J(t){return t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof Image}d.a.util.extend(u.a.prototype,U.a),s.a.import(W.a),s.a.import(j.a),s.a.import(X.a),s.a.import(Z.a),s.a.import(q.a),s.a.import(Y.a),s.a.import(K.a),s.a.import(Q.a);var $=f.a.prototype.addToScene,tt=f.a.prototype.removeFromScene;f.a.prototype.addToScene=function(t){var e;$.call(this,t),this.__zr&&(e=this.__zr,t.traverse(function(t){t.__zr=e,t.addAnimatorsToZr&&t.addAnimatorsToZr(e)}))},f.a.prototype.removeFromScene=function(t){tt.call(this,t),t.traverse(function(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)})},l.a.prototype.setTextureImage=function(e,t,n,i){if(this.shader){var r,a,o=n.getZr(),s=this;return s.autoUpdateTextureStatus=!1,s.disableTexture(e),(a=t)&&\"none\"!==a&&(r=et.loadTexture(t,n,i,function(t){s.enableTexture(e),o&&o.refresh()}),s.set(e,r)),r}};var et={};et.Renderer=r.a,et.Node=u.a,et.Mesh=i.a,et.Shader=s.a,et.Material=l.a,et.Texture=o.a,et.Texture2D=a.a,et.Geometry=h.a,et.SphereGeometry=w.a,et.PlaneGeometry=T.a,et.CubeGeometry=S.a,et.AmbientLight=M.a,et.DirectionalLight=A.a,et.PointLight=I.a,et.SpotLight=C.a,et.PerspectiveCamera=D.a,et.OrthographicCamera=E.a,et.Vector2=L.a,et.Vector3=P.a,et.Vector4=N.a,et.Quaternion=O.a,et.Matrix2=R.a,et.Matrix2d=k.a,et.Matrix3=z.a,et.Matrix4=B.a,et.Plane=F.a,et.Ray=V.a,et.BoundingBox=G.a,et.Frustum=H.a;var nt=m.a.createBlank(\"rgba(255,255,255,0)\").image;function it(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function rt(t){var e,n,i;t.wrapS!==o.a.REPEAT&&t.wrapT!==o.a.REPEAT||!t.image||(e=it(t.width),n=it(t.height),e===t.width&&n===t.height||((i=document.createElement(\"canvas\")).width=e,i.height=n,i.getContext(\"2d\").drawImage(t.image,0,0,e,n),t.image=i))}et.loadTexture=function(t,e,n,i){\"function\"==typeof n&&(i=n,n={}),n=n||{};for(var r=Object.keys(n).sort(),a=\"\",o=0;o<r.length;o++)a+=r[o]+\"_\"+n[r[o]]+\"_\";var s,l=e.__textureCache=e.__textureCache||new g.a(20);if((s=t).getZr&&s.setOption){var u=t.__textureid__;if(c=l.get(a+u))c.texture.surface.setECharts(t),i&&i(c.texture);else{var h=new v.a(t);h.onupdate=function(){e.getZr().refresh()},c={texture:h.getTexture()};for(o=0;o<r.length;o++)c.texture[r[o]]=n[r[o]];u=t.__textureid__||\"__ecgl_ec__\"+c.texture.__uid__,t.__textureid__=u,l.put(a+u,c),i&&i(c.texture)}return c.texture}if(J(t)){var c,u=t.__textureid__;if(!(c=l.get(a+u))){c={texture:new et.Texture2D({image:t})};for(o=0;o<r.length;o++)c.texture[r[o]]=n[r[o]];u=t.__textureid__||\"__ecgl_image__\"+c.texture.__uid__,t.__textureid__=u,l.put(a+u,c),rt(c.texture),i&&i(c.texture)}return c.texture}if(c=l.get(a+t))c.callbacks?c.callbacks.push(i):i&&i(c.texture);else if(t.match(/.hdr$|^data:application\\/octet-stream/)){c={callbacks:[i]};var d=m.a.loadTexture(t,{exposure:n.exposure,fileType:\"hdr\"},function(){d.dirty(),c.callbacks.forEach(function(t){t&&t(d)}),c.callbacks=null});c.texture=d,l.put(a+t,c)}else{for(d=new et.Texture2D({image:new Image}),o=0;o<r.length;o++)d[r[o]]=n[r[o]];c={texture:d,callbacks:[i]};var f=d.image;f.onload=function(){d.image=f,rt(d),d.dirty(),c.callbacks.forEach(function(t){t&&t(d)}),c.callbacks=null},f.src=t,d.image=nt,l.put(a+t,c)}return c.texture},et.createAmbientCubemap=function(t,n,e,i){var r=(t=t||{}).texture,a=b.a.firstNotNull(t.exposure,1),o=new y.a({intensity:b.a.firstNotNull(t.specularIntensity,1)}),s=new _.a({intensity:b.a.firstNotNull(t.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return o.cubemap=et.loadTexture(r,e,{exposure:a},function(){o.cubemap.flipY=!1;var t=Date.now();o.prefilter(n,32);var e=Date.now()-t;console.log(\"Prefilter environment map: \"+e+\"ms\"),s.coefficients=x.a.projectEnvironmentMap(n,o.cubemap,{lod:1}),i&&i()}),{specular:o,diffuse:s}},et.createBlankTexture=m.a.createBlank,et.isImage=J,et.additiveBlend=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)},et.parseColor=function(t,e){return t instanceof Array?((e=e||[])[0]=t[0],e[1]=t[1],e[2]=t[2],3<t.length?e[3]=t[3]:e[3]=1):((e=d.a.color.parse(t||\"#000\",e)||[0,0,0,0])[0]/=255,e[1]/=255,e[2]/=255),e},et.directionFromAlphaBeta=function(t,e){var n=t/180*Math.PI+Math.PI/2,i=-e/180*Math.PI+Math.PI/2,r=[],a=Math.sin(n);return r[0]=a*Math.cos(i),r[1]=-Math.cos(n),r[2]=a*Math.sin(i),r},et.getShadowResolution=function(t){var e=1024;switch(t){case\"low\":e=512;break;case\"medium\":break;case\"high\":e=2048;break;case\"ultra\":e=4096}return e},et.COMMON_SHADERS=[\"lambert\",\"color\",\"realistic\",\"hatching\"],et.createShader=function(t){var e=s.a.source(t+\".vertex\"),n=s.a.source(t+\".fragment\");e||console.error(\"Vertex shader of '%s' not exits\",t),n||console.error(\"Fragment shader of '%s' not exits\",t);var i=new s.a(e,n);return i.name=t,i},et.createMaterial=function(t,e){e instanceof Array||(e=[e]);var n=et.createShader(t),i=new l.a({shader:n});return e.forEach(function(t){\"string\"==typeof t&&i.define(t)}),i},et.setMaterialFromModel=function(t,e,n,i){e.autoUpdateTextureStatus=!1;var r=n.getModel(t+\"Material\"),a=r.get(\"detailTexture\"),o=b.a.firstNotNull(r.get(\"textureTiling\"),1),s=b.a.firstNotNull(r.get(\"textureOffset\"),0);\"number\"==typeof o&&(o=[o,o]),\"number\"==typeof s&&(s=[s,s]);var l=1<o[0]||1<o[1]?et.Texture.REPEAT:et.Texture.CLAMP_TO_EDGE,u={anisotropic:8,wrapS:l,wrapT:l};if(\"realistic\"===t){var h=r.get(\"roughness\"),c=r.get(\"metalness\");null!=c?isNaN(c)&&(e.setTextureImage(\"metalnessMap\",c,i,u),c=b.a.firstNotNull(r.get(\"metalnessAdjust\"),.5)):c=0,null!=h?isNaN(h)&&(e.setTextureImage(\"roughnessMap\",h,i,u),h=b.a.firstNotNull(r.get(\"roughnessAdjust\"),.5)):h=.5;var d=r.get(\"normalTexture\");e.setTextureImage(\"detailMap\",a,i,u),e.setTextureImage(\"normalMap\",d,i,u),e.set({roughness:h,metalness:c,detailUvRepeat:o,detailUvOffset:s})}else if(\"lambert\"===t)e.setTextureImage(\"detailMap\",a,i,u),e.set({detailUvRepeat:o,detailUvOffset:s});else if(\"color\"===t)e.setTextureImage(\"detailMap\",a,i,u),e.set({detailUvRepeat:o,detailUvOffset:s});else if(\"hatching\"===t){var f=r.get(\"hatchingTextures\")||[];f.length<6&&console.error(\"Invalid hatchingTextures.\");for(var p=0;p<6;p++)e.setTextureImage(\"hatch\"+(p+1),f[p],i,{anisotropic:8,wrapS:et.Texture.REPEAT,wrapT:et.Texture.REPEAT});e.set({detailUvRepeat:o,detailUvOffset:s})}},et.updateVertexAnimation=function(t,e,n,i){var r=i.get(\"animation\"),a=i.get(\"animationDurationUpdate\"),o=i.get(\"animationEasingUpdate\"),s=n.shadowDepthMaterial;if(r&&e&&0<a&&e.geometry.vertexCount===n.geometry.vertexCount){n.material.define(\"vertex\",\"VERTEX_ANIMATION\"),n.ignorePreZ=!0,s&&s.define(\"vertex\",\"VERTEX_ANIMATION\");for(var l=0;l<t.length;l++)n.geometry.attributes[t[l][0]].value=e.geometry.attributes[t[l][1]].value;n.geometry.dirty(),n.__percent=0,n.material.set(\"percent\",0),n.stopAnimation(),n.animate().when(a,{__percent:1}).during(function(){n.material.set(\"percent\",n.__percent),s&&s.set(\"percent\",n.__percent)}).done(function(){n.ignorePreZ=!1,n.material.undefine(\"vertex\",\"VERTEX_ANIMATION\"),s&&s.undefine(\"vertex\",\"VERTEX_ANIMATION\")}).start(o)}else n.material.undefine(\"vertex\",\"VERTEX_ANIMATION\"),s&&s.undefine(\"vertex\",\"VERTEX_ANIMATION\")},e.a=et},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a={firstNotNull:function(){for(var t=0,e=arguments.length;t<e;t++)if(null!=arguments[t])return arguments[t]},queryDataIndex:function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?r.a.util.isArray(t.dataIndex)?r.a.util.map(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?r.a.util.isArray(t.name)?r.a.util.map(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}};e.a=a},function(t,e,n){\"use strict\";function i(t,e,n){t=t||0,e=e||0,n=n||0,this.array=r.a.fromValues(t,e,n),this._dirty=!0}var r=n(12);i.prototype={constructor:i,add:function(t){return r.a.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return r.a.cross(this.array,t.array,e.array),this._dirty=!0,this},dist:function(t){return r.a.dist(this.array,t.array)},distance:function(t){return r.a.distance(this.array,t.array)},div:function(t){return r.a.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return r.a.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return r.a.dot(this.array,t.array)},len:function(){return r.a.len(this.array)},length:function(){return r.a.length(this.array)},lerp:function(t,e,n){return r.a.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return r.a.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return r.a.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return r.a.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return r.a.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return r.a.random(this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return r.a.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return r.a.sqrDist(this.array,t.array)},squaredDistance:function(t){return r.a.squaredDistance(this.array,t.array)},sqrLen:function(){return r.a.sqrLen(this.array)},squaredLength:function(){return r.a.squaredLength(this.array)},sub:function(t){return r.a.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return r.a.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return r.a.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return r.a.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return r.a.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},applyProjection:function(t){var e,n=this.array;return 0===(t=t.array)[15]?(e=-1/n[2],n[0]=t[0]*n[0]*e,n[1]=t[5]*n[1]*e,n[2]=(t[10]*n[2]+t[14])*e):(n[0]=t[0]*n[0]+t[12],n[1]=t[5]*n[1]+t[13],n[2]=t[10]*n[2]+t[14]),this._dirty=!0,this},eulerFromQuat:function(t,e){i.eulerFromQuat(this,t,e)},eulerFromMat3:function(t,e){i.eulerFromMat3(this,t,e)},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a,o=Object.defineProperty;function p(t,e,n){return t<e?e:n<t?n:t}o&&(o(a=i.prototype,\"x\",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),o(a,\"y\",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),o(a,\"z\",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}})),i.add=function(t,e,n){return r.a.add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i){r.a.set(t.array,e,n,i),t._dirty=!0},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.cross=function(t,e,n){return r.a.cross(t.array,e.array,n.array),t._dirty=!0,t},i.distance=i.dist=function(t,e){return r.a.distance(t.array,e.array)},i.divide=i.div=function(t,e,n){return r.a.divide(t.array,e.array,n.array),t._dirty=!0,t},i.dot=function(t,e){return r.a.dot(t.array,e.array)},i.len=function(t){return r.a.length(t.array)},i.lerp=function(t,e,n,i){return r.a.lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return r.a.min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return r.a.max(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return r.a.multiply(t.array,e.array,n.array),t._dirty=!0,t},i.negate=function(t,e){return r.a.negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return r.a.normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return r.a.random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return r.a.scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.squaredDistance=i.sqrDist=function(t,e){return r.a.sqrDist(t.array,e.array)},i.squaredLength=i.sqrLen=function(t){return r.a.sqrLen(t.array)},i.subtract=i.sub=function(t,e,n){return r.a.subtract(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat3=function(t,e,n){return r.a.transformMat3(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return r.a.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},i.transformQuat=function(t,e,n){return r.a.transformQuat(t.array,e.array,n.array),t._dirty=!0,t};var g=Math.atan2,m=Math.asin,v=Math.abs;i.eulerFromQuat=function(t,e,n){t._dirty=!0,e=e.array;var i=t.array,r=e[0],a=e[1],o=e[2],s=e[3],l=r*r,u=a*a,h=o*o,c=s*s;switch(n=(n||\"XYZ\").toUpperCase()){case\"XYZ\":i[0]=g(2*(r*s-a*o),c-l-u+h),i[1]=m(p(2*(r*o+a*s),-1,1)),i[2]=g(2*(o*s-r*a),c+l-u-h);break;case\"YXZ\":i[0]=m(p(2*(r*s-a*o),-1,1)),i[1]=g(2*(r*o+a*s),c-l-u+h),i[2]=g(2*(r*a+o*s),c-l+u-h);break;case\"ZXY\":i[0]=m(p(2*(r*s+a*o),-1,1)),i[1]=g(2*(a*s-o*r),c-l-u+h),i[2]=g(2*(o*s-r*a),c-l+u-h);break;case\"ZYX\":i[0]=g(2*(r*s+o*a),c-l-u+h),i[1]=m(p(2*(a*s-r*o),-1,1)),i[2]=g(2*(r*a+o*s),c+l-u-h);break;case\"YZX\":i[0]=g(2*(r*s-o*a),c-l+u-h),i[1]=g(2*(a*s-r*o),c+l-u-h),i[2]=m(p(2*(r*a+o*s),-1,1));break;case\"XZY\":i[0]=g(2*(r*s+a*o),c-l+u-h),i[1]=g(2*(r*o+a*s),c+l-u-h),i[2]=m(p(2*(o*s-r*a),-1,1));break;default:console.warn(\"Unkown order: \"+n)}return t},i.eulerFromMat3=function(t,e,n){var i=e.array,r=i[0],a=i[3],o=i[6],s=i[1],l=i[4],u=i[7],h=i[2],c=i[5],d=i[8],f=t.array;switch(n=(n||\"XYZ\").toUpperCase()){case\"XYZ\":f[1]=m(p(o,-1,1)),v(o)<.99999?(f[0]=g(-u,d),f[2]=g(-a,r)):(f[0]=g(c,l),f[2]=0);break;case\"YXZ\":f[0]=m(-p(u,-1,1)),v(u)<.99999?(f[1]=g(o,d),f[2]=g(s,l)):(f[1]=g(-h,r),f[2]=0);break;case\"ZXY\":f[0]=m(p(c,-1,1)),v(c)<.99999?(f[1]=g(-h,d),f[2]=g(-a,l)):(f[1]=0,f[2]=g(s,r));break;case\"ZYX\":f[1]=m(-p(h,-1,1)),v(h)<.99999?(f[0]=g(c,d),f[2]=g(s,r)):(f[0]=0,f[2]=g(-a,l));break;case\"YZX\":f[2]=m(p(s,-1,1)),v(s)<.99999?(f[0]=g(-u,l),f[1]=g(-h,r)):(f[0]=0,f[1]=g(o,d));break;case\"XZY\":f[2]=m(-p(a,-1,1)),v(a)<.99999?(f[0]=g(c,l),f[1]=g(o,r)):(f[0]=g(-u,d),f[1]=0);break;default:console.warn(\"Unkown order: \"+n)}return t._dirty=!0,t},Object.defineProperties(i,{POSITIVE_X:{get:function(){return new i(1,0,0)}},NEGATIVE_X:{get:function(){return new i(-1,0,0)}},POSITIVE_Y:{get:function(){return new i(0,1,0)}},NEGATIVE_Y:{get:function(){return new i(0,-1,0)}},POSITIVE_Z:{get:function(){return new i(0,0,1)}},NEGATIVE_Z:{get:function(){return new i(0,0,-1)}},UP:{get:function(){return new i(0,1,0)}},ZERO:{get:function(){return new i}}}),e.a=i},function(t,e,n){\"use strict\";var i=n(7),r=n(11),a=n(57),o=i.a.extend({width:512,height:512,type:r.a.UNSIGNED_BYTE,format:r.a.RGBA,wrapS:r.a.REPEAT,wrapT:r.a.REPEAT,minFilter:r.a.LINEAR_MIPMAP_LINEAR,magFilter:r.a.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new a.a},{getWebGLTexture:function(t){var e=t.gl,n=this._cache;return n.use(t.__uid__),n.miss(\"webgl_texture\")&&n.put(\"webgl_texture\",e.createTexture()),this.dynamic?this.update(t):n.isDirty()&&(this.update(t),n.fresh()),n.get(\"webgl_texture\")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(t){},updateCommon:function(t){var e=t.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===r.a.DEPTH_COMPONENT&&(this.useMipmap=!1);var n=t.getGLExtension(\"EXT_sRGB\");this.format!==o.SRGB||n||(this.format=o.RGB),this.format!==o.SRGB_ALPHA||n||(this.format=o.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?r.a.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?r.a.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var t=this.minFilter;return this.NPOT||!this.useMipmap?t===r.a.NEAREST_MIPMAP_NEAREST||t===r.a.NEAREST_MIPMAP_LINEAR?r.a.NEAREST:t===r.a.LINEAR_MIPMAP_LINEAR||t===r.a.LINEAR_MIPMAP_NEAREST?r.a.LINEAR:t:t},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get(\"webgl_texture\");n&&t.gl.deleteTexture(n),e.deleteContext(t.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(o.prototype,\"width\",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(o.prototype,\"height\",{get:function(){return this._height},set:function(t){this._height=t}}),o.BYTE=r.a.BYTE,o.UNSIGNED_BYTE=r.a.UNSIGNED_BYTE,o.SHORT=r.a.SHORT,o.UNSIGNED_SHORT=r.a.UNSIGNED_SHORT,o.INT=r.a.INT,o.UNSIGNED_INT=r.a.UNSIGNED_INT,o.FLOAT=r.a.FLOAT,o.HALF_FLOAT=36193,o.UNSIGNED_INT_24_8_WEBGL=34042,o.DEPTH_COMPONENT=r.a.DEPTH_COMPONENT,o.DEPTH_STENCIL=r.a.DEPTH_STENCIL,o.ALPHA=r.a.ALPHA,o.RGB=r.a.RGB,o.RGBA=r.a.RGBA,o.LUMINANCE=r.a.LUMINANCE,o.LUMINANCE_ALPHA=r.a.LUMINANCE_ALPHA,o.SRGB=35904,o.SRGB_ALPHA=35906,o.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,o.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,o.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,o.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,o.NEAREST=r.a.NEAREST,o.LINEAR=r.a.LINEAR,o.NEAREST_MIPMAP_NEAREST=r.a.NEAREST_MIPMAP_NEAREST,o.LINEAR_MIPMAP_NEAREST=r.a.LINEAR_MIPMAP_NEAREST,o.NEAREST_MIPMAP_LINEAR=r.a.NEAREST_MIPMAP_LINEAR,o.LINEAR_MIPMAP_LINEAR=r.a.LINEAR_MIPMAP_LINEAR,o.REPEAT=r.a.REPEAT,o.CLAMP_TO_EDGE=r.a.CLAMP_TO_EDGE,o.MIRRORED_REPEAT=r.a.MIRRORED_REPEAT,e.a=o},function(t,e,n){\"use strict\";var f=n(4),h=n(11),r=n(14),i=n(73).a.isPowerOfTwo;function p(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}var a=f.a.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:\"texture2D\",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_2D,this._cache.get(\"webgl_texture\")),this.updateCommon(t);var n=this.format,i=this.type,r=!(!this.convertToPOT||this.mipmaps.length||!this.image||this.wrapS!==f.a.REPEAT&&this.wrapT!==f.a.REPEAT||!this.NPOT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,r?this.wrapS:this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,r?this.wrapT:this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,r?this.magFilter:this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,r?this.minFilter:this.getAvailableMinFilter());var a=t.getGLExtension(\"EXT_texture_filter_anisotropic\");if(a&&1<this.anisotropic&&e.texParameterf(e.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===i&&(t.getGLExtension(\"OES_texture_half_float\")||(i=h.a.FLOAT)),this.mipmaps.length)for(var o=this.width,s=this.height,l=0;l<this.mipmaps.length;l++){var u=this.mipmaps[l];this._updateTextureData(e,u,l,o,s,n,i,!1),o/=2,s/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,i,r),!this.useMipmap||this.NPOT&&!r||e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null)},_updateTextureData:function(t,e,n,i,r,a,o,s){var l,u,h,c,d;e.image?(l=e.image,s&&(this._potCanvas=(h=(u=this)._potCanvas,c=p(u.width),d=p(u.height),(h=h||document.createElement(\"canvas\")).width=c,h.height=d,h.getContext(\"2d\").drawImage(u.image,0,0,c,d),h),l=this._potCanvas),t.texImage2D(t.TEXTURE_2D,n,a,a,o,l)):a<=f.a.COMPRESSED_RGBA_S3TC_DXT5_EXT&&a>=f.a.COMPRESSED_RGB_S3TC_DXT1_EXT?t.compressedTexImage2D(t.TEXTURE_2D,n,a,i,r,0,e.pixels):t.texImage2D(t.TEXTURE_2D,n,a,i,r,0,a,o,e.pixels)},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get(\"webgl_texture\")),e.generateMipmap(e.TEXTURE_2D))},isPowerOfTwo:function(){return i(this.width)&&i(this.height)},isRenderable:function(){return this.image?\"CANVAS\"===this.image.nodeName||\"VIDEO\"===this.image.nodeName||this.image.complete:!(!this.width||!this.height)},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},load:function(t,e){var n=r.a.createImage();e&&(n.crossOrigin=e);var i=this;return n.onload=function(){i.dirty(),i.trigger(\"success\",i),n.onload=null},n.onerror=function(){i.trigger(\"error\",i),n.onerror=null},n.src=t,this.image=n,this}});Object.defineProperty(a.prototype,\"width\",{get:function(){return this.image?this.image.width:this._width},set:function(t){this.image?console.warn(\"Texture from image can't set width\"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(a.prototype,\"height\",{get:function(){return this.image?this.image.height:this._height},set:function(t){this.image?console.warn(\"Texture from image can't set height\"):(this._height!==t&&this.dirty(),this._height=t)}}),e.a=a},function(t,e,n){\"use strict\";var i=n(161);e.a=i.a},function(t,e,n){\"use strict\";function i(){this.__uid__=o.a.genGUID()}var r=n(110),a=n(53),o=n(23);i.__initializers__=[function(t){o.a.extend(this,t)}],o.a.extend(i,r.a),o.a.extend(i.prototype,a.a),e.a=i},function(t,e,n){\"use strict\";var r=n(23),f=n(14),i=/uniform\\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\\s+([\\s\\S]*?);/g,a=/attribute\\s+(float|int|vec2|vec3|vec4)\\s+([\\s\\S]*?);/g,o=/#define\\s+(\\w+)?(\\s+[\\d-.]+)?\\s*;?\\s*\\n/g,p={bool:\"1i\",int:\"1i\",sampler2D:\"t\",samplerCube:\"t\",float:\"1f\",vec2:\"2f\",vec3:\"3f\",vec4:\"4f\",ivec2:\"2i\",ivec3:\"3i\",ivec4:\"4i\",mat2:\"m2\",mat3:\"m3\",mat4:\"m4\"};function s(t){for(var e=[],n=0;n<t;n++)e[n]=0;return e}var l={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return s(2)},vec3:function(){return s(3)},vec4:function(){return s(4)},ivec2:function(){return s(2)},ivec3:function(){return s(3)},ivec4:function(){return s(4)},mat2:function(){return s(4)},mat3:function(){return s(9)},mat4:function(){return s(16)},array:function(){return[]}},g=[\"POSITION\",\"NORMAL\",\"BINORMAL\",\"TANGENT\",\"TEXCOORD\",\"TEXCOORD_0\",\"TEXCOORD_1\",\"COLOR\",\"JOINT\",\"WEIGHT\"],m=[\"SKIN_MATRIX\",\"VIEWPORT_SIZE\",\"VIEWPORT\",\"DEVICEPIXELRATIO\",\"WINDOW_SIZE\",\"NEAR\",\"FAR\",\"TIME\"],v=[\"WORLD\",\"VIEW\",\"PROJECTION\",\"WORLDVIEW\",\"VIEWPROJECTION\",\"WORLDVIEWPROJECTION\",\"WORLDINVERSE\",\"VIEWINVERSE\",\"PROJECTIONINVERSE\",\"WORLDVIEWINVERSE\",\"VIEWPROJECTIONINVERSE\",\"WORLDVIEWPROJECTIONINVERSE\",\"WORLDTRANSPOSE\",\"VIEWTRANSPOSE\",\"PROJECTIONTRANSPOSE\",\"WORLDVIEWTRANSPOSE\",\"VIEWPROJECTIONTRANSPOSE\",\"WORLDVIEWPROJECTIONTRANSPOSE\",\"WORLDINVERSETRANSPOSE\",\"VIEWINVERSETRANSPOSE\",\"PROJECTIONINVERSETRANSPOSE\",\"WORLDVIEWINVERSETRANSPOSE\",\"VIEWPROJECTIONINVERSETRANSPOSE\",\"WORLDVIEWPROJECTIONINVERSETRANSPOSE\"],h={vec4:4,vec3:3,vec2:2,float:1},u={},c={};function d(t){return t.replace(/[ \\t]*\\/\\/.*\\n/g,\"\").replace(/[ \\t]*\\/\\*[\\s\\S]*?\\*\\//g,\"\")}function y(){console.error(\"Wrong uniform/attributes syntax\")}function _(t,e){for(var n=/[,=\\(\\):]/,i=e.replace(/:\\s*\\[\\s*(.*)\\s*\\]/g,\"=\"+t+\"($1)\").replace(/\\s+/g,\"\").split(/(?=[,=\\(\\):])/g),r=[],a=0;a<i.length;a++)i[a].match(n)?r.push(i[a].charAt(0),i[a].slice(1)):r.push(i[a]);var o,s=0,l={},u=null;function h(t){t||y();var e=t.match(/\\[(.*?)\\]/);o=t.replace(/\\[(.*?)\\]/,\"\"),l[o]={},e&&(l[o].isArray=!0,l[o].arraySize=e[1])}h((i=r)[0]);for(a=1;a<i.length;a++){var c,d=i[a];if(d)if(\"=\"!==d)if(\":\"!==d)if(\",\"!==d)if(\")\"!==d)if(\"(\"!==d)if(0<=d.indexOf(\"vec\")){if(1!==s&&4!==s){y();break}s=2,u=[]}else{1!==s?4!==s?(h(d),s=0):(c=d,0<=g.indexOf(c)||0<=m.indexOf(c)||0<=v.indexOf(c)?l[o].semantic=c:\"ignore\"===c||\"unconfigurable\"===c?l[o].ignore=!0:l[o].value=\"bool\"===t?\"true\"===c:parseFloat(c)):(l[o].value=\"bool\"===t?\"true\"===d:parseFloat(d),u=null)}else{if(2!==s){y();break}if(!(u instanceof Array)){y();break}u.push(+i[++a])}else l[o].value=new f.a.Float32Array(u),u=null,s=5;else if(2===s){if(!(u instanceof Array)){y();break}u.push(+i[++a])}else s=5;else s=4;else{if(0!==s&&3!==s){y();break}s=1}}return l}function x(t,e){\"object\"==typeof t&&(e=t.fragment,t=t.vertex),t=d(t),e=d(e),this._shaderID=function(t,e){var n=\"vertex:\"+t+\"fragment:\"+e;if(u[n])return u[n];var i=r.a.genGUID();return u[n]=i,c[i]={vertex:t,fragment:e},i}(t,e),this._vertexCode=x.parseImport(t),this._fragmentCode=x.parseImport(e),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}x.prototype={constructor:x,createUniforms:function(){var t={};for(var e in this.uniformTemplates){var n=this.uniformTemplates[e];t[e]={type:n.type,value:n.value()}}return t},_parseImport:function(){this._vertexCode=x.parseImport(this.vertex),this._fragmentCode=x.parseImport(this.fragment)},_addSemanticUniform:function(t,e,n){var i,r;0<=g.indexOf(n)?this.attributeSemantics[n]={symbol:t,type:e}:0<=v.indexOf(n)?(i=!1,(r=n).match(/TRANSPOSE$/)&&(i=!0,r=n.slice(0,-9)),this.matrixSemantics[n]={symbol:t,type:e,isTranspose:i,semanticNoTranspose:r}):0<=m.indexOf(n)&&(this.uniformSemantics[n]={symbol:t,type:e})},_addMaterialUniform:function(t,e,n,i,r,a){a[t]={type:n,value:r?l.array:i||l[e],semantic:null}},_parseUniforms:function(){var c={},d=this,f=\"vertex\";function t(t,e,n){var i=_(e,n),r=[];for(var a in i){var o=i[a],s=o.semantic,l=a,u=p[e],h=function(t){return null!=t?function(){return t}:null}(i[a].value);i[a].isArray&&(l+=\"[\"+i[a].arraySize+\"]\",u+=\"v\"),r.push(l),d._uniformList.push(a),o.ignore||(\"sampler2D\"!==e&&\"samplerCube\"!==e||(d.textures[a]={shaderType:f,type:e}),s?d._addSemanticUniform(a,u,s):d._addMaterialUniform(a,e,u,h,i[a].isArray,c))}return 0<r.length?\"uniform \"+e+\" \"+r.join(\",\")+\";\\n\":\"\"}this._uniformList=[],this._vertexCode=this._vertexCode.replace(i,t),f=\"fragment\",this._fragmentCode=this._fragmentCode.replace(i,t),d.matrixSemanticKeys=Object.keys(this.matrixSemantics),this.uniformTemplates=c},_parseAttributes:function(){var l={},u=this;this._vertexCode=this._vertexCode.replace(a,function(t,e,n){var i=_(e,n),r=h[e]||1,a=[];for(var o in i){var s=i[o].semantic;if(l[o]={type:\"float\",size:r,semantic:s||null},s){if(g.indexOf(s)<0)throw new Error('Unkown semantic \"'+s+'\"');u.attributeSemantics[s]={symbol:o,type:e}}a.push(o)}return\"attribute \"+e+\" \"+a.join(\",\")+\";\\n\"}),this.attributes=l},_parseDefines:function(){var r=this,a=\"vertex\";function t(t,e,n){var i=\"vertex\"===a?r.vertexDefines:r.fragmentDefines;return i[e]||(i[e]=\"false\"!==n&&(\"true\"===n||(n?isNaN(parseFloat(n))?n.trim():parseFloat(n):null))),\"\"}this._vertexCode=this._vertexCode.replace(o,t),a=\"fragment\",this._fragmentCode=this._fragmentCode.replace(o,t)},clone:function(){var t=c[this._shaderID];return new x(t.vertex,t.fragment)}},Object.defineProperty&&(Object.defineProperty(x.prototype,\"shaderID\",{get:function(){return this._shaderID}}),Object.defineProperty(x.prototype,\"vertex\",{get:function(){return this._vertexCode}}),Object.defineProperty(x.prototype,\"fragment\",{get:function(){return this._fragmentCode}}),Object.defineProperty(x.prototype,\"uniforms\",{get:function(){return this._uniformList}}));var b=/(@import)\\s*([0-9a-zA-Z_\\-\\.]*)/g;x.parseImport=function(t){return t=t.replace(b,function(t,e,n){return(t=x.source(n))?x.parseImport(t):(console.error('Shader chunk \"'+n+'\" not existed in library'),\"\")})};var w=/(@export)\\s*([0-9a-zA-Z_\\-\\.]*)\\s*\\n([\\s\\S]*?)@end/g;x.import=function(t){t.replace(w,function(t,e,n,i){if(i=i.replace(/(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+\\x24)/g,\"\")){for(var r,a=n.split(\".\"),o=x.codes,s=0;s<a.length-1;)o[r=a[s++]]||(o[r]={}),o=o[r];o[r=a[s]]=i}return i})},x.codes={},x.source=function(t){for(var e=t.split(\".\"),n=x.codes,i=0;n&&i<e.length;)n=n[e[i++]];return\"string\"!=typeof n?(console.error('Shader \"'+t+'\" not existed in library'),\"\"):n},e.a=x},function(t,e,n){\"use strict\";function i(){this._axisX=new r.a,this._axisY=new r.a,this._axisZ=new r.a,this.array=c.a.create(),this._dirty=!0}var s,l,u,h,c=n(21),d=n(12),f=n(55),p=n(34),r=n(3);i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return c.a.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return c.a.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return c.a.determinant(this.array)},fromQuat:function(t){return c.a.fromQuat(this.array,t.array),this._dirty=!0,this},fromRotationTranslation:function(t,e){return c.a.fromRotationTranslation(this.array,t.array,e.array),this._dirty=!0,this},fromMat2d:function(t){return i.fromMat2d(this,t),this},frustum:function(t,e,n,i,r,a){return c.a.frustum(this.array,t,e,n,i,r,a),this._dirty=!0,this},identity:function(){return c.a.identity(this.array),this._dirty=!0,this},invert:function(){return c.a.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(t,e,n){return c.a.lookAt(this.array,t.array,e.array,n.array),this._dirty=!0,this},mul:function(t){return c.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return c.a.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return c.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return c.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},ortho:function(t,e,n,i,r,a){return c.a.ortho(this.array,t,e,n,i,r,a),this._dirty=!0,this},perspective:function(t,e,n,i){return c.a.perspective(this.array,t,e,n,i),this._dirty=!0,this},rotate:function(t,e){return c.a.rotate(this.array,this.array,t,e.array),this._dirty=!0,this},rotateX:function(t){return c.a.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return c.a.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return c.a.rotateZ(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return c.a.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return c.a.translate(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return c.a.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:(s=d.a.create(),l=d.a.create(),u=d.a.create(),h=p.a.create(),function(t,e,n){var i=this.array;d.a.set(s,i[0],i[1],i[2]),d.a.set(l,i[4],i[5],i[6]),d.a.set(u,i[8],i[9],i[10]);var r=d.a.length(s),a=d.a.length(l),o=d.a.length(u);this.determinant()<0&&(r=-r),t&&t.set(r,a,o),n.set(i[12],i[13],i[14]),p.a.fromMat4(h,i),h[0]/=r,h[1]/=r,h[2]/=r,h[3]/=a,h[4]/=a,h[5]/=a,h[6]/=o,h[7]/=o,h[8]/=o,f.a.fromMat3(e.array,h),f.a.normalize(e.array,e.array),e._dirty=!0,n._dirty=!0}),toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}};var a,o=Object.defineProperty;o&&(o(a=i.prototype,\"z\",{get:function(){var t=this.array;return this._axisZ.set(t[8],t[9],t[10]),this._axisZ},set:function(t){var e=this.array;t=t.array,e[8]=t[0],e[9]=t[1],e[10]=t[2],this._dirty=!0}}),o(a,\"y\",{get:function(){var t=this.array;return this._axisY.set(t[4],t[5],t[6]),this._axisY},set:function(t){var e=this.array;t=t.array,e[4]=t[0],e[5]=t[1],e[6]=t[2],this._dirty=!0}}),o(a,\"x\",{get:function(){var t=this.array;return this._axisX.set(t[0],t[1],t[2]),this._axisX},set:function(t){var e=this.array;t=t.array,e[0]=t[0],e[1]=t[1],e[2]=t[2],this._dirty=!0}})),i.adjoint=function(t,e){return c.a.adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return c.a.copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return c.a.determinant(t.array)},i.identity=function(t){return c.a.identity(t.array),t._dirty=!0,t},i.ortho=function(t,e,n,i,r,a,o){return c.a.ortho(t.array,e,n,i,r,a,o),t._dirty=!0,t},i.perspective=function(t,e,n,i,r){return c.a.perspective(t.array,e,n,i,r),t._dirty=!0,t},i.lookAt=function(t,e,n,i){return c.a.lookAt(t.array,e.array,n.array,i.array),t._dirty=!0,t},i.invert=function(t,e){return c.a.invert(t.array,e.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return c.a.mul(t.array,e.array,n.array),t._dirty=!0,t},i.fromQuat=function(t,e){return c.a.fromQuat(t.array,e.array),t._dirty=!0,t},i.fromRotationTranslation=function(t,e,n){return c.a.fromRotationTranslation(t.array,e.array,n.array),t._dirty=!0,t},i.fromMat2d=function(t,e){t._dirty=!0;e=e.array;return(t=t.array)[0]=e[0],t[4]=e[2],t[12]=e[4],t[1]=e[1],t[5]=e[3],t[13]=e[5],t},i.rotate=function(t,e,n,i){return c.a.rotate(t.array,e.array,n,i.array),t._dirty=!0,t},i.rotateX=function(t,e,n){return c.a.rotateX(t.array,e.array,n),t._dirty=!0,t},i.rotateY=function(t,e,n){return c.a.rotateY(t.array,e.array,n),t._dirty=!0,t},i.rotateZ=function(t,e,n){return c.a.rotateZ(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return c.a.scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return c.a.transpose(t.array,e.array),t._dirty=!0,t},i.translate=function(t,e,n){return c.a.translate(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){\"use strict\";var i=n(7),o=n(4),h=(n(27),n(11)),r=n(57),a=\"framebuffer\",c=\"renderbuffer\",d=c+\"_width\",f=c+\"_height\",p=c+\"_attached\",g=\"depthtexture_attached\",m=h.a.FRAMEBUFFER,v=h.a.RENDERBUFFER,y=h.a.DEPTH_ATTACHMENT,l=h.a.COLOR_ATTACHMENT0,s=i.a.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new r.a,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(t){if(t.__currentFrameBuffer){if(t.__currentFrameBuffer===this)return;console.warn(\"Renderer already bound with another framebuffer. Unbind it first\")}t.__currentFrameBuffer=this;var e=t.gl;e.bindFramebuffer(m,this._getFrameBufferGL(t)),this._boundRenderer=t;var n=this._cache;n.put(\"viewport\",t.viewport);var i,r,a=!1;for(var o in this._textures){a=!0;var s=this._textures[o];s&&(i=s.texture.width,r=s.texture.height,this._doAttach(t,s.texture,o,s.target))}this._width=i,this._height=r,!a&&this.depthBuffer&&console.error(\"Must attach texture before bind, or renderbuffer may have incorrect width and height.\"),this.viewport?t.setViewport(this.viewport):t.setViewport(0,0,i,r,1);var l,u,h=n.get(\"attached_textures\");if(h)for(var o in h){this._textures[o]||(l=h[o],this._doDetach(e,o,l))}!n.get(g)&&this.depthBuffer&&(n.miss(c)&&n.put(c,e.createRenderbuffer()),u=n.get(c),i===n.get(d)&&r===n.get(f)||(e.bindRenderbuffer(v,u),e.renderbufferStorage(v,e.DEPTH_COMPONENT16,i,r),n.put(d,i),n.put(f,r),e.bindRenderbuffer(v,null)),n.get(p)||(e.framebufferRenderbuffer(m,y,v,u),n.put(p,!0)))},unbind:function(t){t.__currentFrameBuffer=null,t.gl.bindFramebuffer(m,null),this._boundRenderer=null,this._cache.use(t.__uid__);var e=this._cache.get(\"viewport\");e&&t.setViewport(e),this.updateMipmap(t)},updateMipmap:function(t){var e=t.gl;for(var n in this._textures){var i,r,a=this._textures[n];!a||!(i=a.texture).NPOT&&i.useMipmap&&i.minFilter===o.a.LINEAR_MIPMAP_LINEAR&&(r=\"textureCube\"===i.textureType?h.a.TEXTURE_CUBE_MAP:h.a.TEXTURE_2D,e.bindTexture(r,i.getWebGLTexture(t)),e.generateMipmap(r),e.bindTexture(r,null))}},checkStatus:function(t){return t.checkFramebufferStatus(m)},_getFrameBufferGL:function(t){var e=this._cache;return e.use(t.__uid__),e.miss(a)&&e.put(a,t.gl.createFramebuffer()),e.get(a)},attach:function(t,e,n){if(!t.width)throw new Error(\"The texture attached to color buffer is not a valid.\");e=e||l,n=n||h.a.TEXTURE_2D;var i,r,a=this._boundRenderer;a&&a.gl&&((r=this._cache).use(a.__uid__),i=r.get(\"attached_textures\"));var o,s=this._textures[e];s&&s.target===n&&s.texture===t&&i&&null!=i[e]||(o=!0,a&&(o=this._doAttach(a,t,e,n),this.viewport||a.setViewport(0,0,t.width,t.height,1)),o&&(this._textures[e]=this._textures[e]||{},this._textures[e].texture=t,this._textures[e].target=n))},_doAttach:function(t,e,n,i){var r=t.gl,a=e.getWebGLTexture(t),o=this._cache.get(\"attached_textures\");if(o&&o[n]){var s=o[n];if(s.texture===e&&s.target===i)return}var l,u=!0;return(n=+n)!==y&&n!==h.a.DEPTH_STENCIL_ATTACHMENT||(t.getGLExtension(\"WEBGL_depth_texture\")||(console.error(\"Depth texture is not supported by the browser\"),u=!1),e.format!==h.a.DEPTH_COMPONENT&&e.format!==h.a.DEPTH_STENCIL&&(console.error(\"The texture attached to depth buffer is not a valid.\"),u=!1),u&&((l=this._cache.get(c))&&(r.framebufferRenderbuffer(m,y,v,null),r.deleteRenderbuffer(l),this._cache.put(c,!1)),this._cache.put(p,!1),this._cache.put(g,!0))),r.framebufferTexture2D(m,n,i,a,0),o||(o={},this._cache.put(\"attached_textures\",o)),o[n]=o[n]||{},o[n].texture=e,o[n].target=i,u},_doDetach:function(t,e,n){t.framebufferTexture2D(m,e,n,null,0);var i=this._cache.get(\"attached_textures\");i&&i[e]&&(i[e]=null),e!==y&&e!==h.a.DEPTH_STENCIL_ATTACHMENT||this._cache.put(g,!1)},detach:function(t,e){this._textures[t]=null,this._boundRenderer&&(this._cache.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,t,e))},dispose:function(t){var e=t.gl,n=this._cache;n.use(t.__uid__);var i=n.get(c);i&&e.deleteRenderbuffer(i);var r=n.get(a);r&&e.deleteFramebuffer(r),n.deleteContext(t.__uid__),this._textures={}}});s.DEPTH_ATTACHMENT=y,s.COLOR_ATTACHMENT0=l,s.STENCIL_ATTACHMENT=h.a.STENCIL_ATTACHMENT,s.DEPTH_STENCIL_ATTACHMENT=h.a.DEPTH_STENCIL_ATTACHMENT,e.a=s},function(t,e,n){\"use strict\";e.a={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444}},function(t,e,n){\"use strict\";var l,a=n(20),o={create:function(){var t=new a.a(3);return t[0]=0,t[1]=0,t[2]=0,t},clone:function(t){var e=new a.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},fromValues:function(t,e,n){var i=new a.a(3);return i[0]=t,i[1]=e,i[2]=n,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}};o.sub=o.subtract,o.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},o.mul=o.multiply,o.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},o.div=o.divide,o.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},o.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},o.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},o.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t},o.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)},o.dist=o.distance,o.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)},o.len=o.length,o.squaredLength=function(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},o.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},o.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],a=n*n+i*i+r*r;return 0<a&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},o.cross=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=n[0],s=n[1],l=n[2];return t[0]=r*l-a*s,t[1]=a*o-i*l,t[2]=i*s-r*o,t},o.lerp=function(t,e,n,i){var r=e[0],a=e[1],o=e[2];return t[0]=r+i*(n[0]-r),t[1]=a+i*(n[1]-a),t[2]=o+i*(n[2]-o),t},o.random=function(t,e){e=e||1;var n=2*Object(a.c)()*Math.PI,i=2*Object(a.c)()-1,r=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t[2]=i*e,t},o.transformMat4=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=(o=n[3]*i+n[7]*r+n[11]*a+n[15])||1;return t[0]=(n[0]*i+n[4]*r+n[8]*a+n[12])/o,t[1]=(n[1]*i+n[5]*r+n[9]*a+n[13])/o,t[2]=(n[2]*i+n[6]*r+n[10]*a+n[14])/o,t},o.transformMat3=function(t,e,n){var i=e[0],r=e[1],a=e[2];return t[0]=i*n[0]+r*n[3]+a*n[6],t[1]=i*n[1]+r*n[4]+a*n[7],t[2]=i*n[2]+r*n[5]+a*n[8],t},o.transformQuat=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=n[0],s=n[1],l=n[2],u=n[3],h=u*i+s*a-l*r,c=u*r+l*i-o*a,d=u*a+o*r-s*i,f=-o*i-s*r-l*a;return t[0]=h*u+f*-o+c*-l-d*-s,t[1]=c*u+f*-s+d*-o-h*-l,t[2]=d*u+f*-l+h*-s-c*-o,t},o.rotateX=function(t,e,n,i){var r=[],a=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],a[0]=r[0],a[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),a[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.rotateY=function(t,e,n,i){var r=[],a=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],a[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),a[1]=r[1],a[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.rotateZ=function(t,e,n,i){var r=[],a=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],a[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),a[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),a[2]=r[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},o.forEach=(l=o.create(),function(t,e,n,i,r,a){var o,s;for(e=e||3,n=n||0,s=i?Math.min(i*e+n,t.length):t.length,o=n;o<s;o+=e)l[0]=t[o],l[1]=t[o+1],l[2]=t[o+2],r(l,l,a),t[o]=l[0],t[o+1]=l[1],t[o+2]=l[2];return t}),o.angle=function(t,e){var n=o.fromValues(t[0],t[1],t[2]),i=o.fromValues(e[0],e[1],e[2]);o.normalize(n,n),o.normalize(i,i);var r=o.dot(n,i);return 1<r?0:Math.acos(r)},e.a=o},function(t,e){var s={\"[object Function]\":1,\"[object RegExp]\":1,\"[object Date]\":1,\"[object Error]\":1,\"[object CanvasGradient]\":1,\"[object CanvasPattern]\":1,\"[object Image]\":1,\"[object Canvas]\":1},l={\"[object Int8Array]\":1,\"[object Uint8Array]\":1,\"[object Uint8ClampedArray]\":1,\"[object Int16Array]\":1,\"[object Uint16Array]\":1,\"[object Int32Array]\":1,\"[object Uint32Array]\":1,\"[object Float32Array]\":1,\"[object Float64Array]\":1},u=Object.prototype.toString,n=Array.prototype,o=n.forEach,h=n.filter,i=n.slice,c=n.map,d=n.reduce,r={};function f(t){if(null==t||\"object\"!=typeof t)return t;var e=t,n=u.call(t);if(\"[object Array]\"===n){if(!S(t)){e=[];for(var i=0,r=t.length;i<r;i++)e[i]=f(t[i])}}else if(l[n]){if(!S(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(i=0,r=t.length;i<r;i++)e[i]=f(t[i])}}}else if(!s[n]&&!S(t)&&!w(t))for(var o in e={},t)t.hasOwnProperty(o)&&(e[o]=f(t[o]));return e}function p(t,e,n){if(!x(e)||!x(t))return n?f(e):t;for(var i in e){var r,a;e.hasOwnProperty(i)&&(r=t[i],!x(a=e[i])||!x(r)||_(a)||_(r)||w(a)||w(r)||b(a)||b(r)||S(a)||S(r)?!n&&i in t||(t[i]=f(e[i])):p(r,a,n))}return t}function a(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function g(){return r.createCanvas()}var m;function v(t,e,n){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function y(t,e){var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}function _(t){return\"[object Array]\"===u.call(t)}function x(t){var e=typeof t;return\"function\"==e||!!t&&\"object\"==e}function b(t){return!!s[u.call(t)]}function w(t){return\"object\"==typeof t&&\"number\"==typeof t.nodeType&&\"object\"==typeof t.ownerDocument}r.createCanvas=function(){return document.createElement(\"canvas\")};var T=\"__ec_primitive__\";function S(t){return t[T]}function M(t){var n=_(t),i=this;function e(t,e){n?i.set(t,e):i.set(e,t)}t instanceof M?t.each(e):t&&v(t,e)}M.prototype={constructor:M,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=y(t,e)),this)this.hasOwnProperty(n)&&t(this[n],n)},removeKey:function(t){delete this[t]}},e.$override=function(t,e){\"createCanvas\"===t&&(m=null),r[t]=e},e.clone=f,e.merge=p,e.mergeAll=function(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=p(n,t[i],e);return n},e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.defaults=a,e.createCanvas=g,e.getContext=function(){return m=m||g().getContext(\"2d\")},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},e.inherits=function(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)t.prototype[r]=n[r];(t.prototype.constructor=t).superClass=e},e.mixin=function(t,e,n){a(t=\"prototype\"in t?t.prototype:t,e=\"prototype\"in e?e.prototype:e,n)},e.isArrayLike=function(t){if(t)return\"string\"!=typeof t&&\"number\"==typeof t.length},e.each=v,e.map=function(t,e,n){if(t&&e){if(t.map&&t.map===c)return t.map(e,n);for(var i=[],r=0,a=t.length;r<a;r++)i.push(e.call(n,t[r],r,t));return i}},e.reduce=function(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===d)return t.reduce(e,n,i);for(var r=0,a=t.length;r<a;r++)n=e.call(i,n,t[r],r,t);return n}},e.filter=function(t,e,n){if(t&&e){if(t.filter&&t.filter===h)return t.filter(e,n);for(var i=[],r=0,a=t.length;r<a;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}},e.find=function(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]},e.bind=y,e.curry=function(t){var e=i.call(arguments,1);return function(){return t.apply(this,e.concat(i.call(arguments)))}},e.isArray=_,e.isFunction=function(t){return\"function\"==typeof t},e.isString=function(t){return\"[object String]\"===u.call(t)},e.isObject=x,e.isBuiltInObject=b,e.isTypedArray=function(t){return!!l[u.call(t)]},e.isDom=w,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,n){return null!=t?t:null!=e?e:n},e.slice=function(){return Function.call.apply(i,arguments)},e.normalizeCssArray=function(t){if(\"number\"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:\"function\"==typeof t.trim?t.trim():t.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")},e.setAsPrimitive=function(t){t[T]=!0},e.isPrimitive=S,e.createHashMap=function(t){return new M(t)},e.concatArray=function(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];for(var r=t.length,i=0;i<e.length;i++)n[i+r]=e[i];return n},e.noop=function(){}},function(t,a,o){\"use strict\";(function(t){var e,n=o(112),i={supportWebGL:function(){if(null==e)try{var t=document.createElement(\"canvas\");if(!(t.getContext(\"webgl\")||t.getContext(\"experimental-webgl\")))throw new Error}catch(t){e=!1}return e}};i.Int8Array=\"undefined\"==typeof Int8Array?Array:Int8Array,i.Uint8Array=\"undefined\"==typeof Uint8Array?Array:Uint8Array,i.Uint16Array=\"undefined\"==typeof Uint16Array?Array:Uint16Array,i.Uint32Array=\"undefined\"==typeof Uint32Array?Array:Uint32Array,i.Int16Array=\"undefined\"==typeof Int16Array?Array:Int16Array,i.Float32Array=\"undefined\"==typeof Float32Array?Array:Float32Array,i.Float64Array=\"undefined\"==typeof Float64Array?Array:Float64Array;var r={};\"undefined\"!=typeof window?r=window:void 0!==t&&(r=t),i.requestAnimationFrame=r.requestAnimationFrame||r.msRequestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},i.createCanvas=function(){return document.createElement(\"canvas\")},i.createImage=function(){return new r.Image},i.request={get:n.a.get},a.a=i}).call(a,o(68))},function(t,e,n){\"use strict\";var m=n(14),W=n(12),l=n(21),h=n(18),i=n(118),j=W.a.create,X=W.a.add,v=W.a.set,r=i.a.Attribute,a=i.a.extend(function(){return{attributes:{position:new r(\"position\",\"float\",3,\"POSITION\"),texcoord0:new r(\"texcoord0\",\"float\",2,\"TEXCOORD_0\"),texcoord1:new r(\"texcoord1\",\"float\",2,\"TEXCOORD_1\"),normal:new r(\"normal\",\"float\",3,\"NORMAL\"),tangent:new r(\"tangent\",\"float\",4,\"TANGENT\"),color:new r(\"color\",\"float\",4,\"COLOR\"),weight:new r(\"weight\",\"float\",3,\"WEIGHT\"),joint:new r(\"joint\",\"float\",4,\"JOINT\"),barycentric:new r(\"barycentric\",\"float\",3,null)},boundingBox:null}},{mainAttribute:\"position\",updateBoundingBox:function(){var t=(t=this.boundingBox)||(this.boundingBox=new h.a),e=this.attributes.position.value;if(e&&e.length){var n=t.min,i=t.max,r=n.array,a=i.array;W.a.set(r,e[0],e[1],e[2]),W.a.set(a,e[0],e[1],e[2]);for(var o=3;o<e.length;){var s=e[o++],l=e[o++],u=e[o++];s<r[0]&&(r[0]=s),l<r[1]&&(r[1]=l),u<r[2]&&(r[2]=u),s>a[0]&&(a[0]=s),l>a[1]&&(a[1]=l),u>a[2]&&(a[2]=u)}n._dirty=!0,i._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var t=this.indices,e=this.attributes,n=e.position.value,i=e.normal.value;if(i&&i.length===n.length)for(var r=0;r<i.length;r++)i[r]=0;else i=e.normal.value=new m.a.Float32Array(n.length);for(var a,o,s,l=j(),u=j(),h=j(),c=j(),d=j(),f=j(),p=t?t.length:this.vertexCount,g=0;g<p;){s=t?(a=t[g++],o=t[g++],t[g++]):(a=g++,o=g++,g++),v(l,n[3*a],n[3*a+1],n[3*a+2]),v(u,n[3*o],n[3*o+1],n[3*o+2]),v(h,n[3*s],n[3*s+1],n[3*s+2]),W.a.sub(c,l,u),W.a.sub(d,u,h),W.a.cross(f,c,d);for(r=0;r<3;r++)i[3*a+r]=i[3*a+r]+f[r],i[3*o+r]=i[3*o+r]+f[r],i[3*s+r]=i[3*s+r]+f[r]}for(r=0;r<i.length;)v(f,i[r],i[r+1],i[r+2]),W.a.normalize(f,f),i[r++]=f[0],i[r++]=f[1],i[r++]=f[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();for(var t,e,n,i=this.indices,r=this.attributes,a=r.position.value,o=r.normal.value,s=j(),l=j(),u=j(),h=j(),c=j(),d=j(),o=o||(r.normal.value=new Float32Array(a.length)),f=i?i.length:this.vertexCount,p=0;p<f;){n=i?(t=i[p++],e=i[p++],i[p++]):(t=p++,e=p++,p++),v(s,a[3*t],a[3*t+1],a[3*t+2]),v(l,a[3*e],a[3*e+1],a[3*e+2]),v(u,a[3*n],a[3*n+1],a[3*n+2]),W.a.sub(h,s,l),W.a.sub(c,l,u),W.a.cross(d,h,c),W.a.normalize(d,d);for(var g=0;g<3;g++)o[3*t+g]=d[g],o[3*e+g]=d[g],o[3*n+g]=d[g]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var t=this.vertexCount,e=this.attributes;e.tangent.value||(e.tangent.value=new Float32Array(4*t));var n=e.texcoord0.value,i=e.position.value,r=e.tangent.value,a=e.normal.value;if(n){for(var o=[],s=[],l=0;l<t;l++)o[l]=[0,0,0],s[l]=[0,0,0];for(var u,h,c,d=[0,0,0],f=[0,0,0],p=this.indices,g=p?p.length:this.vertexCount,l=0;l<g;){c=p?(u=p[l++],h=p[l++],p[l++]):(u=l++,h=l++,l++);var m=n[2*u],v=n[2*h],y=n[2*c],_=n[2*u+1],x=n[2*h+1],b=n[2*c+1],w=i[3*u],T=i[3*h],S=i[3*c],M=i[3*u+1],A=i[3*h+1],I=i[3*c+1],C=i[3*u+2],D=T-w,E=S-w,L=A-M,P=I-M,N=i[3*h+2]-C,O=i[3*c+2]-C,R=v-m,k=y-m,z=x-_,B=b-_,F=1/(R*B-z*k);d[0]=(B*D-z*E)*F,d[1]=(B*L-z*P)*F,d[2]=(B*N-z*O)*F,f[0]=(R*E-k*D)*F,f[1]=(R*P-k*L)*F,f[2]=(R*O-k*N)*F,X(o[u],o[u],d),X(o[h],o[h],d),X(o[c],o[c],d),X(s[u],s[u],f),X(s[h],s[h],f),X(s[c],s[c],f)}for(var V=j(),G=j(),H=j(),l=0;l<t;l++){H[0]=a[3*l],H[1]=a[3*l+1],H[2]=a[3*l+2];var U=o[l];W.a.scale(V,H,W.a.dot(H,U)),W.a.sub(V,U,V),W.a.normalize(V,V),W.a.cross(G,H,U),r[4*l]=V[0],r[4*l+1]=V[1],r[4*l+2]=V[2],r[4*l+3]=W.a.dot(G,s[l])<0?-1:1}this.dirty()}else console.warn(\"Geometry without texcoords can't generate tangents.\")}},isUniqueVertex:function(){return!this.isUseIndices()||this.vertexCount===this.indices.length},generateUniqueVertex:function(){if(this.vertexCount&&this.indices){65535<this.indices.length&&(this.indices=new m.a.Uint32Array(this.indices));for(var t=this.attributes,e=this.indices,n=this.getEnabledAttributes(),i={},r=0;r<n.length;r++){i[l=n[r]]=t[l].value,t[l].init(this.indices.length)}for(var a=0,o=0;o<e.length;o++){for(var s=e[o],r=0;r<n.length;r++)for(var l,u=t[l=n[r]].value,h=t[l].size,c=0;c<h;c++)u[a*h+c]=i[l][s*h+c];e[o]=a,a++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.attributes,e=t.barycentric.value,n=this.indices;if(!e||e.length!==3*n.length){e=t.barycentric.value=new Float32Array(3*n.length);for(var i=0;i<(n?n.length:this.vertexCount/3);)for(var r=0;r<3;r++){e[3*(n?n[i++]:3*i+r)+r]=1}this.dirty()}}},applyTransform:function(t){var e=this.attributes,n=e.position.value,i=e.normal.value,r=e.tangent.value;t=t.array;var a=l.a.create();l.a.invert(a,t),l.a.transpose(a,a);var o=W.a.transformMat4,s=W.a.forEach;s(n,3,0,null,o,t),i&&s(i,3,0,null,o,a),r&&s(r,4,0,null,o,a),this.boundingBox&&this.updateBoundingBox()},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get(\"chunks\");if(n)for(var i=0;i<n.length;i++){for(var r=n[i],a=0;a<r.attributeBuffers.length;a++){var o=r.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}r.indicesBuffer&&t.gl.deleteBuffer(r.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension(\"OES_vertex_array_object\");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});a.STATIC_DRAW=i.a.STATIC_DRAW,a.DYNAMIC_DRAW=i.a.DYNAMIC_DRAW,a.STREAM_DRAW=i.a.STREAM_DRAW,a.AttributeBuffer=i.a.AttributeBuffer,a.IndicesBuffer=i.a.IndicesBuffer,a.Attribute=r,e.a=a},function(t,e,n){\"use strict\";var i=n(7),r=n(37),a=n(43),o=n(8),s=n(19),l=n(40),u=n(11),h=n(126);o.a.import(h.a);var c=new a.a,d=new l.a({geometry:c,frustumCulling:!1}),f=new r.a,p=i.a.extend(function(){return{fragment:\"\",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var t=new o.a(o.a.source(\"clay.compositor.vertex\"),this.fragment),e=new s.a({shader:t});e.enableTexturesAll(),this.material=e},{setUniform:function(t,e){this.material.setUniform(t,e)},getUniform:function(t){var e=this.material.uniforms[t];if(e)return e.value},attachOutput:function(t,e){this.outputs||(this.outputs={}),e=e||u.a.COLOR_ATTACHMENT0,this.outputs[e]=t},detachOutput:function(t){for(var e in this.outputs)this.outputs[e]===t&&(this.outputs[e]=null)},bind:function(t,e){if(this.outputs)for(var n in this.outputs){var i=this.outputs[n];i&&e.attach(i,n)}e&&e.bind(t)},unbind:function(t,e){e.unbind(t)},render:function(t,e){var n=t.gl;if(e){this.bind(t,e);var i=t.getGLExtension(\"EXT_draw_buffers\");if(i&&this.outputs){var r=[];for(var a in this.outputs)(a=+a)>=n.COLOR_ATTACHMENT0&&a<=n.COLOR_ATTACHMENT0+8&&r.push(a);i.drawBuffersEXT(r)}}this.trigger(\"beforerender\",this,t);var o,s=this.clearDepth?n.DEPTH_BUFFER_BIT:0;n.depthMask(!0),this.clearColor&&(s|=n.COLOR_BUFFER_BIT,n.colorMask(!0,!0,!0,!0),o=this.clearColor,Array.isArray(o)&&n.clearColor(o[0],o[1],o[2],o[3])),n.clear(s),this.blendWithPrevious?(n.enable(n.BLEND),this.material.transparent=!0):(n.disable(n.BLEND),this.material.transparent=!1),this.renderQuad(t),this.trigger(\"afterrender\",this,t),e&&this.unbind(t,e)},renderQuad:function(t){d.material=this.material,t.renderPass([d],f)},dispose:function(t){}});e.a=p},function(t,e,n){\"use strict\";e.a=function(t,e,n){return{seriesType:t,reset:function(t,e){var n=t.getData(),i=t.visualColorAccessPath.split(\".\");i[i.length-1]=\"opacity\";var r=t.get(i);return n.setVisual(\"opacity\",null==r?1:r),{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(i,!0);null!=n&&t.setItemVisual(e,\"opacity\",n)}:null}}}}},function(t,e,n){\"use strict\";function i(t,e){this.min=t||new r.a(1/0,1/0,1/0),this.max=e||new r.a(-1/0,-1/0,-1/0),this.vertices=null}var a,o,s,l,u,h,r=n(3),c=n(12),d=c.a.set,f=c.a.copy;i.prototype={constructor:i,updateFromVertices:function(t){if(0<t.length){var e=this.min,n=this.max,i=e.array,r=n.array;f(i,t[0]),f(r,t[0]);for(var a=1;a<t.length;a++){var o=t[a];o[0]<i[0]&&(i[0]=o[0]),o[1]<i[1]&&(i[1]=o[1]),o[2]<i[2]&&(i[2]=o[2]),o[0]>r[0]&&(r[0]=o[0]),o[1]>r[1]&&(r[1]=o[1]),o[2]>r[2]&&(r[2]=o[2])}e._dirty=!0,n._dirty=!0}},union:function(t){var e=this.min,n=this.max;return c.a.min(e.array,e.array,t.min.array),c.a.max(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersection:function(t){var e=this.min,n=this.max;return c.a.max(e.array,e.array,t.min.array),c.a.min(n.array,n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},intersectBoundingBox:function(t){var e=this.min.array,n=this.max.array,i=t.min.array,r=t.max.array;return!(e[0]>r[0]||e[1]>r[1]||e[2]>r[2]||n[0]<i[0]||n[1]<i[1]||n[2]<i[2])},containBoundingBox:function(t){var e=this.min.array,n=this.max.array,i=t.min.array,r=t.max.array;return e[0]<=i[0]&&e[1]<=i[1]&&e[2]<=i[2]&&n[0]>=r[0]&&n[1]>=r[1]&&n[2]>=r[2]},containPoint:function(t){var e=this.min.array,n=this.max.array,i=t.array;return e[0]<=i[0]&&e[1]<=i[1]&&e[2]<=i[2]&&n[0]>=i[0]&&n[1]>=i[1]&&n[2]>=i[2]},isFinite:function(){var t=this.min.array,e=this.max.array;return isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])},applyTransform:function(t){this.transformFrom(this,t)},transformFrom:(a=c.a.create(),o=c.a.create(),s=c.a.create(),l=c.a.create(),u=c.a.create(),h=c.a.create(),function(t,e){var n=t.min.array,i=t.max.array,r=e.array;return a[0]=r[0]*n[0],a[1]=r[1]*n[0],a[2]=r[2]*n[0],o[0]=r[0]*i[0],o[1]=r[1]*i[0],o[2]=r[2]*i[0],s[0]=r[4]*n[1],s[1]=r[5]*n[1],s[2]=r[6]*n[1],l[0]=r[4]*i[1],l[1]=r[5]*i[1],l[2]=r[6]*i[1],u[0]=r[8]*n[2],u[1]=r[9]*n[2],u[2]=r[10]*n[2],h[0]=r[8]*i[2],h[1]=r[9]*i[2],h[2]=r[10]*i[2],n=this.min.array,i=this.max.array,n[0]=Math.min(a[0],o[0])+Math.min(s[0],l[0])+Math.min(u[0],h[0])+r[12],n[1]=Math.min(a[1],o[1])+Math.min(s[1],l[1])+Math.min(u[1],h[1])+r[13],n[2]=Math.min(a[2],o[2])+Math.min(s[2],l[2])+Math.min(u[2],h[2])+r[14],i[0]=Math.max(a[0],o[0])+Math.max(s[0],l[0])+Math.max(u[0],h[0])+r[12],i[1]=Math.max(a[1],o[1])+Math.max(s[1],l[1])+Math.max(u[1],h[1])+r[13],i[2]=Math.max(a[2],o[2])+Math.max(s[2],l[2])+Math.max(u[2],h[2])+r[14],this.min._dirty=!0,this.max._dirty=!0,this}),applyProjection:function(t){var e,n=this.min.array,i=this.max.array,r=t.array,a=n[0],o=n[1],s=n[2],l=i[0],u=i[1],h=n[2],c=i[0],d=i[1],f=i[2];return 1===r[15]?(n[0]=r[0]*a+r[12],n[1]=r[5]*o+r[13],i[2]=r[10]*s+r[14],i[0]=r[0]*c+r[12],i[1]=r[5]*d+r[13],n[2]=r[10]*f+r[14]):(e=-1/s,n[0]=r[0]*a*e,n[1]=r[5]*o*e,i[2]=(r[10]*s+r[14])*e,e=-1/h,i[0]=r[0]*l*e,i[1]=r[5]*u*e,e=-1/f,n[2]=(r[10]*f+r[14])*e),this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var t=this.vertices;if(!t){t=[];for(var e=0;e<8;e++)t[e]=c.a.fromValues(0,0,0);this.vertices=t}var n=this.min.array,i=this.max.array;return d(t[0],n[0],n[1],n[2]),d(t[1],n[0],i[1],n[2]),d(t[2],i[0],n[1],n[2]),d(t[3],i[0],i[1],n[2]),d(t[4],n[0],n[1],i[2]),d(t[5],n[0],i[1],i[2]),d(t[6],i[0],n[1],i[2]),d(t[7],i[0],i[1],i[2]),this},copy:function(t){var e=this.min,n=this.max;return f(e.array,t.min.array),f(n.array,t.max.array),e._dirty=!0,n._dirty=!0,this},clone:function(){var t=new i;return t.copy(this),t}},e.a=i},function(t,e,n){\"use strict\";var i=n(7),u=n(23),r=n(113).a.parseToFloat,l={};function h(t){var e=Object.keys(t);e.sort();for(var n=[],i=0;i<e.length;i++){var r=e[i],a=t[r];null===a?n.push(r):n.push(r+\" \"+a.toString())}return n.join(\"\\n\")}var a=i.a.extend(function(){return{name:\"\",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name=\"MATERIAL_\"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:\"highp\",setUniform:function(t,e){void 0===e&&console.warn('Uniform value \"'+t+'\" is undefined');var n=this.uniforms[t];n&&(\"string\"==typeof e&&(e=r(e)||e),n.value=e,this.autoUpdateTextureStatus&&\"t\"===n.type&&(e?this.enableTexture(t):this.disableTexture(t)))},setUniforms:function(t){for(var e in t){var n=t[e];this.setUniform(e,n)}},isUniformEnabled:function(t){return 0<=this._enabledUniforms.indexOf(t)},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(t,e){if(\"object\"==typeof t)for(var n in t){var i=t[n];this.setUniform(n,i)}else this.setUniform(t,e)},get:function(t){var e=this.uniforms[t];if(e)return e.value},attachShader:function(t,e){var n=this.uniforms;this.uniforms=t.createUniforms(),this.shader=t;var i=this.uniforms;this._enabledUniforms=Object.keys(i),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(t){var e=this.uniforms[t].type;return\"t\"===e||\"tv\"===e},this);var r=this.vertexDefines,a=this.fragmentDefines;if(this.vertexDefines=u.a.clone(t.vertexDefines),this.fragmentDefines=u.a.clone(t.fragmentDefines),e){for(var o in n)i[o]&&(i[o].value=n[o].value);u.a.defaults(this.vertexDefines,r),u.a.defaults(this.fragmentDefines,a)}var s={};for(var l in t.textures)s[l]={shaderType:t.textures[l].shaderType,type:t.textures[l].type,enabled:!(!e||!this._textureStatus[l])&&this._textureStatus[l].enabled};this._textureStatus=s,this._programKey=\"\"},clone:function(){var t=new this.constructor({name:this.name,shader:this.shader});for(var e in this.uniforms)t.uniforms[e].value=this.uniforms[e].value;return t.depthTest=this.depthTest,t.depthMask=this.depthMask,t.transparent=this.transparent,t.blend=this.blend,t.vertexDefines=u.a.clone(this.vertexDefines),t.fragmentDefines=u.a.clone(this.fragmentDefines),t.enableTexture(this.getEnabledTextures()),t.precision=this.precision,t},define:function(t,e,n){var i=this.vertexDefines,r=this.fragmentDefines;\"vertex\"!==t&&\"fragment\"!==t&&\"both\"!==t&&arguments.length<3&&(n=e,e=t,t=\"both\"),n=null!=n?n:null,\"vertex\"!==t&&\"both\"!==t||i[e]!==n&&(i[e]=n,this._programKey=\"\"),\"fragment\"!==t&&\"both\"!==t||r[e]!==n&&(r[e]=n,\"both\"!==t&&(this._programKey=\"\"))},undefine:function(t,e){\"vertex\"!==t&&\"fragment\"!==t&&\"both\"!==t&&arguments.length<2&&(e=t,t=\"both\"),\"vertex\"!==t&&\"both\"!==t||this.isDefined(\"vertex\",e)&&(delete this.vertexDefines[e],this._programKey=\"\"),\"fragment\"!==t&&\"both\"!==t||this.isDefined(\"fragment\",e)&&(delete this.fragmentDefines[e],\"both\"!==t&&(this._programKey=\"\"))},isDefined:function(t,e){switch(t){case\"vertex\":return void 0!==this.vertexDefines[e];case\"fragment\":return void 0!==this.fragmentDefines[e]}},getDefine:function(t,e){switch(t){case\"vertex\":return this.vertexDefines[e];case\"fragment\":return this.fragmentDefines[e]}},enableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.enableTexture(t[e]);else{var n=this._textureStatus[t];n&&(n.enabled||(n.enabled=!0,this._programKey=\"\"))}},enableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!0;this._programKey=\"\"},disableTexture:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.disableTexture(t[e]);else{var n=this._textureStatus[t];!n||n.enabled&&(n.enabled=!1,this._programKey=\"\")}},disableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!1;this._programKey=\"\"},isTextureEnabled:function(t){var e=this._textureStatus;return!!e[t]&&e[t].enabled},getEnabledTextures:function(){var t=[],e=this._textureStatus;for(var n in e)e[n].enabled&&t.push(n);return t},dirtyDefines:function(){this._programKey=\"\"},getProgramKey:function(){return this._programKey||(this._programKey=function(t,e,n){n.sort();for(var i=[],r=0;r<n.length;r++){var a=n[r];i.push(a)}var o=h(t)+\"\\n\"+h(e)+\"\\n\"+i.join(\"\\n\");if(l[o])return l[o];var s=u.a.genGUID();return l[o]=s}(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}});e.a=a},function(t,e,n){\"use strict\";n.d(e,\"b\",function(){return i}),n.d(e,\"a\",function(){return r}),n.d(e,\"c\",function(){return a});var i=1e-6,r=Array,a=Math.random},function(t,e,n){\"use strict\";var P=n(20),T={create:function(){var t=new P.a(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},clone:function(t){var e=new P.a(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){var n,i,r,a,o,s;return t===e?(n=e[1],i=e[2],r=e[3],a=e[6],o=e[7],s=e[11],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=a,t[11]=e[14],t[12]=r,t[13]=o,t[14]=s):(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15]),t},invert:function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8],c=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=n*s-i*o,_=n*l-r*o,x=n*u-a*o,b=i*l-r*s,w=i*u-a*s,T=r*u-a*l,S=h*g-c*p,M=h*m-d*p,A=h*v-f*p,I=c*m-d*g,C=c*v-f*g,D=d*v-f*m,E=y*D-_*C+x*I+b*A-w*M+T*S;return E?(E=1/E,t[0]=(s*D-l*C+u*I)*E,t[1]=(r*C-i*D-a*I)*E,t[2]=(g*T-m*w+v*b)*E,t[3]=(d*w-c*T-f*b)*E,t[4]=(l*A-o*D-u*M)*E,t[5]=(n*D-r*A+a*M)*E,t[6]=(m*x-p*T-v*_)*E,t[7]=(h*T-d*x+f*_)*E,t[8]=(o*C-s*A+u*S)*E,t[9]=(i*A-n*C-a*S)*E,t[10]=(p*w-g*x+v*y)*E,t[11]=(c*x-h*w-f*y)*E,t[12]=(s*M-o*I-l*S)*E,t[13]=(n*I-i*M+r*S)*E,t[14]=(g*_-p*b-m*y)*E,t[15]=(h*b-c*_+d*y)*E,t):null},adjoint:function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8],c=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15];return t[0]=s*(d*v-f*m)-c*(l*v-u*m)+g*(l*f-u*d),t[1]=-(i*(d*v-f*m)-c*(r*v-a*m)+g*(r*f-a*d)),t[2]=i*(l*v-u*m)-s*(r*v-a*m)+g*(r*u-a*l),t[3]=-(i*(l*f-u*d)-s*(r*f-a*d)+c*(r*u-a*l)),t[4]=-(o*(d*v-f*m)-h*(l*v-u*m)+p*(l*f-u*d)),t[5]=n*(d*v-f*m)-h*(r*v-a*m)+p*(r*f-a*d),t[6]=-(n*(l*v-u*m)-o*(r*v-a*m)+p*(r*u-a*l)),t[7]=n*(l*f-u*d)-o*(r*f-a*d)+h*(r*u-a*l),t[8]=o*(c*v-f*g)-h*(s*v-u*g)+p*(s*f-u*c),t[9]=-(n*(c*v-f*g)-h*(i*v-a*g)+p*(i*f-a*c)),t[10]=n*(s*v-u*g)-o*(i*v-a*g)+p*(i*u-a*s),t[11]=-(n*(s*f-u*c)-o*(i*f-a*c)+h*(i*u-a*s)),t[12]=-(o*(c*m-d*g)-h*(s*m-l*g)+p*(s*d-l*c)),t[13]=n*(c*m-d*g)-h*(i*m-r*g)+p*(i*d-r*c),t[14]=-(n*(s*m-l*g)-o*(i*m-r*g)+p*(i*l-r*s)),t[15]=n*(s*d-l*c)-o*(i*d-r*c)+h*(i*l-r*s),t},determinant:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],h=t[9],c=t[10],d=t[11],f=t[12],p=t[13],g=t[14],m=t[15];return(e*o-n*a)*(c*m-d*g)-(e*s-i*a)*(h*m-d*p)+(e*l-r*a)*(h*g-c*p)+(n*s-i*o)*(u*m-d*f)-(n*l-r*o)*(u*g-c*f)+(i*l-r*s)*(u*p-h*f)},multiply:function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],_=n[0],x=n[1],b=n[2],w=n[3];return t[0]=_*i+x*s+b*c+w*g,t[1]=_*r+x*l+b*d+w*m,t[2]=_*a+x*u+b*f+w*v,t[3]=_*o+x*h+b*p+w*y,_=n[4],x=n[5],b=n[6],w=n[7],t[4]=_*i+x*s+b*c+w*g,t[5]=_*r+x*l+b*d+w*m,t[6]=_*a+x*u+b*f+w*v,t[7]=_*o+x*h+b*p+w*y,_=n[8],x=n[9],b=n[10],w=n[11],t[8]=_*i+x*s+b*c+w*g,t[9]=_*r+x*l+b*d+w*m,t[10]=_*a+x*u+b*f+w*v,t[11]=_*o+x*h+b*p+w*y,_=n[12],x=n[13],b=n[14],w=n[15],t[12]=_*i+x*s+b*c+w*g,t[13]=_*r+x*l+b*d+w*m,t[14]=_*a+x*u+b*f+w*v,t[15]=_*o+x*h+b*p+w*y,t},multiplyAffine:function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[4],s=e[5],l=e[6],u=e[8],h=e[9],c=e[10],d=e[12],f=e[13],p=e[14],g=n[0],m=n[1],v=n[2];return t[0]=g*i+m*o+v*u,t[1]=g*r+m*s+v*h,t[2]=g*a+m*l+v*c,g=n[4],m=n[5],v=n[6],t[4]=g*i+m*o+v*u,t[5]=g*r+m*s+v*h,t[6]=g*a+m*l+v*c,g=n[8],m=n[9],v=n[10],t[8]=g*i+m*o+v*u,t[9]=g*r+m*s+v*h,t[10]=g*a+m*l+v*c,g=n[12],m=n[13],v=n[14],t[12]=g*i+m*o+v*u+d,t[13]=g*r+m*s+v*h+f,t[14]=g*a+m*l+v*c+p,t}};T.mul=T.multiply,T.mulAffine=T.multiplyAffine,T.translate=function(t,e,n){var i,r,a,o,s,l,u,h,c,d,f,p,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=e[9],f=e[10],p=e[11],t[0]=i,t[1]=r,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=u,t[7]=h,t[8]=c,t[9]=d,t[10]=f,t[11]=p,t[12]=i*g+s*m+c*v+e[12],t[13]=r*g+l*m+d*v+e[13],t[14]=a*g+u*m+f*v+e[14],t[15]=o*g+h*m+p*v+e[15]),t},T.scale=function(t,e,n){var i=n[0],r=n[1],a=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},T.rotate=function(t,e,n,i){var r,a,o,s,l,u,h,c,d,f,p,g,m,v,y,_,x,b,w,T,S,M,A,I,C=i[0],D=i[1],E=i[2],L=Math.sqrt(C*C+D*D+E*E);return Math.abs(L)<P.b?null:(C*=L=1/L,D*=L,E*=L,r=Math.sin(n),o=1-(a=Math.cos(n)),s=e[0],l=e[1],u=e[2],h=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],m=e[9],v=e[10],y=e[11],_=C*C*o+a,x=D*C*o+E*r,b=E*C*o-D*r,w=C*D*o-E*r,T=D*D*o+a,S=E*D*o+C*r,M=C*E*o+D*r,A=D*E*o-C*r,I=E*E*o+a,t[0]=s*_+c*x+g*b,t[1]=l*_+d*x+m*b,t[2]=u*_+f*x+v*b,t[3]=h*_+p*x+y*b,t[4]=s*w+c*T+g*S,t[5]=l*w+d*T+m*S,t[6]=u*w+f*T+v*S,t[7]=h*w+p*T+y*S,t[8]=s*M+c*A+g*I,t[9]=l*M+d*A+m*I,t[10]=u*M+f*A+v*I,t[11]=h*M+p*A+y*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},T.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],h=e[9],c=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*r+u*i,t[5]=o*r+h*i,t[6]=s*r+c*i,t[7]=l*r+d*i,t[8]=u*r-a*i,t[9]=h*r-o*i,t[10]=c*r-s*i,t[11]=d*r-l*i,t},T.rotateY=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],u=e[8],h=e[9],c=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*r-u*i,t[1]=o*r-h*i,t[2]=s*r-c*i,t[3]=l*r-d*i,t[8]=a*i+u*r,t[9]=o*i+h*r,t[10]=s*i+c*r,t[11]=l*i+d*r,t},T.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],u=e[4],h=e[5],c=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*r+u*i,t[1]=o*r+h*i,t[2]=s*r+c*i,t[3]=l*r+d*i,t[4]=u*r-a*i,t[5]=h*r-o*i,t[6]=c*r-s*i,t[7]=d*r-l*i,t},T.fromRotationTranslation=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=i+i,l=r+r,u=a+a,h=i*s,c=i*l,d=i*u,f=r*l,p=r*u,g=a*u,m=o*s,v=o*l,y=o*u;return t[0]=1-(f+g),t[1]=c+y,t[2]=d-v,t[3]=0,t[4]=c-y,t[5]=1-(h+g),t[6]=p+m,t[7]=0,t[8]=d+v,t[9]=p-m,t[10]=1-(h+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},T.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=n+n,s=i+i,l=r+r,u=n*o,h=i*o,c=i*s,d=r*o,f=r*s,p=r*l,g=a*o,m=a*s,v=a*l;return t[0]=1-c-p,t[1]=h+v,t[2]=d-m,t[3]=0,t[4]=h-v,t[5]=1-u-p,t[6]=f+g,t[7]=0,t[8]=d+m,t[9]=f-g,t[10]=1-u-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},T.frustum=function(t,e,n,i,r,a,o){var s=1/(n-e),l=1/(r-i),u=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(r+i)*l,t[10]=(o+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*u,t[15]=0,t},T.perspective=function(t,e,n,i,r){var a=1/Math.tan(e/2),o=1/(i-r);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*o,t[15]=0,t},T.ortho=function(t,e,n,i,r,a,o){var s=1/(e-n),l=1/(i-r),u=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*l,t[14]=(o+a)*u,t[15]=1,t},T.lookAt=function(t,e,n,i){var r,a,o,s,l,u,h,c,d,f,p=e[0],g=e[1],m=e[2],v=i[0],y=i[1],_=i[2],x=n[0],b=n[1],w=n[2];return Math.abs(p-x)<P.b&&Math.abs(g-b)<P.b&&Math.abs(m-w)<P.b?T.identity(t):(h=p-x,c=g-b,d=m-w,r=y*(d*=f=1/Math.sqrt(h*h+c*c+d*d))-_*(c*=f),a=_*(h*=f)-v*d,o=v*c-y*h,(f=Math.sqrt(r*r+a*a+o*o))?(r*=f=1/f,a*=f,o*=f):o=a=r=0,s=c*o-d*a,l=d*r-h*o,u=h*a-c*r,(f=Math.sqrt(s*s+l*l+u*u))?(s*=f=1/f,l*=f,u*=f):u=l=s=0,t[0]=r,t[1]=s,t[2]=h,t[3]=0,t[4]=a,t[5]=l,t[6]=c,t[7]=0,t[8]=o,t[9]=u,t[10]=d,t[11]=0,t[12]=-(r*p+a*g+o*m),t[13]=-(s*p+l*g+u*m),t[14]=-(h*p+c*g+d*m),t[15]=1,t)},T.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.a=T},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),o=n(36),s=n(174),a=n(41),l=n(37),c=n(9),d=n(3),u=n(26),h=n(53),f=n(176),p=n(200),g=n(49);function m(t){t=t||\"perspective\",this.layer=null,this.scene=new o.a,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(t),this._compositor=new f.a,this._temporalSS=new p.a,this._shadowMapPass=new s.a;for(var e=[],n=0,i=0;i<30;i++){for(var r=[],a=0;a<6;a++)r.push(4*Object(g.a)(n,2)-2),r.push(4*Object(g.a)(n,3)-2),n++;e.push(r)}this._pcfKernels=e,this.scene.on(\"beforerender\",function(t,e,n){this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,n)},this)}m.prototype.setProjection=function(t){var e=this.camera;e&&e.update(),\"perspective\"===t?this.camera instanceof a.a||(this.camera=new a.a,e&&this.camera.setLocalTransform(e.localTransform)):this.camera instanceof l.a||(this.camera=new l.a,e&&this.camera.setLocalTransform(e.localTransform)),this.camera.near=.1,this.camera.far=2e3},m.prototype.setViewport=function(t,e,n,i,r){this.camera instanceof a.a&&(this.camera.aspect=n/i),r=r||1,this.viewport.x=t,this.viewport.y=e,this.viewport.width=n,this.viewport.height=i,this.viewport.devicePixelRatio=r,this._compositor.resize(n*r,i*r),this._temporalSS.resize(n*r,i*r)},m.prototype.containPoint=function(t,e){var n=this.viewport;return e=this.layer.renderer.getHeight()-e,t>=n.x&&e>=n.y&&t<=n.x+n.width&&e<=n.y+n.height};var v=new u.a;m.prototype.castRay=function(t,e,n){var i=this.layer.renderer,r=i.viewport;return i.viewport=this.viewport,i.screenToNDC(t,e,v),this.camera.castRay(v,n),i.viewport=r,n},m.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var t=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var e=0;e<t.transparent.length;e++){var n=t.transparent[e].geometry;n.needsSortVerticesProgressively&&n.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),n.needsSortTrianglesProgressively&&n.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()},m.prototype.render=function(t,e){this._doRender(t,e,this._frame),this._frame++},m.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively},m.prototype.needsTemporalSS=function(){var t=this._enableTemporalSS;return\"auto\"===t&&(t=this._enablePostEffect),t},m.prototype.hasDOF=function(){return this._enableDOF},m.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():30<this._frame},m.prototype._doRender=function(t,e,n){var i=this.scene,r=this.camera;n=n||0,this._updateTransparent(t,i,r,n),e||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(t,i,r,!0)),this._updateShadowPCFKernel(n);var a,o=t.clearColor;t.gl.clearColor(o[0],o[1],o[2],o[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,r),this._compositor.updateNormal(t,i,r,this._temporalSS.getFrame())),this._updateSSAO(t,i,r,this._temporalSS.getFrame()),this._enablePostEffect?((a=this._compositor.getSourceFrameBuffer()).bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),t.render(i,r,!0,!0),a.unbind(t),this.needsTemporalSS()&&e?(this._compositor.composite(t,i,r,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),t.setViewport(this.viewport),this._temporalSS.render(t)):(t.setViewport(this.viewport),this._compositor.composite(t,i,r,null,0))):this.needsTemporalSS()&&e?((a=this._temporalSS.getSourceFrameBuffer()).bind(t),t.saveClear(),t.clearBit=t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT,t.render(i,r,!0,!0),t.restoreClear(),a.unbind(t),t.setViewport(this.viewport),this._temporalSS.render(t)):(t.setViewport(this.viewport),t.render(i,r,!0,!0))},m.prototype._updateTransparent=function(t,e,n,i){for(var r=new d.a,a=new c.a,o=n.getWorldPosition(),s=e.getRenderList(n).transparent,l=0;l<s.length;l++){var u=s[l],h=u.geometry;c.a.invert(a,u.worldTransform),d.a.transformMat4(r,o,a),h.needsSortTriangles&&h.needsSortTriangles()&&h.doSortTriangles(r,i),h.needsSortVertices&&h.needsSortVertices()&&h.doSortVertices(r,i)}},m.prototype._updateSSAO=function(t,e,n){var i=this._enableSSAO&&this._enablePostEffect;i&&this._compositor.updateSSAO(t,e,n,this._temporalSS.getFrame());for(var r=e.getRenderList(n),a=0;a<r.opaque.length;a++){var o=r.opaque[a];o.renderNormal&&o.material[i?\"enableTexture\":\"disableTexture\"](\"ssaoMap\"),i&&o.material.set(\"ssaoMap\",this._compositor.getSSAOTexture())}},m.prototype._updateShadowPCFKernel=function(t){for(var e=this._pcfKernels[t%this._pcfKernels.length],n=this.scene.getRenderList(this.camera).opaque,i=0;i<n.length;i++)n[i].receiveShadow&&(n[i].material.set(\"pcfKernel\",e),n[i].material.define(\"fragment\",\"PCF_KERNEL_SIZE\",e.length/2))},m.prototype.dispose=function(t){this._compositor.dispose(t.gl),this._temporalSS.dispose(t.gl),this._shadowMapPass.dispose(t)},m.prototype.setPostEffect=function(t,e){var n=this._compositor;this._enablePostEffect=t.get(\"enable\");var i=t.getModel(\"bloom\"),r=t.getModel(\"edge\"),a=t.getModel(\"DOF\",t.getModel(\"depthOfField\")),o=t.getModel(\"SSAO\",t.getModel(\"screenSpaceAmbientOcclusion\")),s=t.getModel(\"SSR\",t.getModel(\"screenSpaceReflection\")),l=t.getModel(\"FXAA\"),u=t.getModel(\"colorCorrection\");i.get(\"enable\")?n.enableBloom():n.disableBloom(),a.get(\"enable\")?n.enableDOF():n.disableDOF(),s.get(\"enable\")?n.enableSSR():n.disableSSR(),u.get(\"enable\")?n.enableColorCorrection():n.disableColorCorrection(),r.get(\"enable\")?n.enableEdge():n.disableEdge(),l.get(\"enable\")?n.enableFXAA():n.disableFXAA(),this._enableDOF=a.get(\"enable\"),this._enableSSAO=o.get(\"enable\"),this._enableSSAO?n.enableSSAO():n.disableSSAO(),n.setBloomIntensity(i.get(\"intensity\")),n.setEdgeColor(r.get(\"color\")),n.setColorLookupTexture(u.get(\"lookupTexture\"),e),n.setExposure(u.get(\"exposure\")),[\"radius\",\"quality\",\"intensity\"].forEach(function(t){n.setSSAOParameter(t,o.get(t))}),[\"quality\",\"maxRoughness\",\"physical\"].forEach(function(t){n.setSSRParameter(t,s.get(t))}),[\"quality\",\"focalDistance\",\"focalRange\",\"blurRadius\",\"fstop\"].forEach(function(t){n.setDOFParameter(t,a.get(t))}),[\"brightness\",\"contrast\",\"saturation\"].forEach(function(t){n.setColorCorrection(t,u.get(t))})},m.prototype.setDOFFocusOnPoint=function(t){if(this._enablePostEffect){if(t>this.camera.far||t<this.camera.near)return;return this._compositor.setDOFParameter(\"focalDistance\",t),!0}},m.prototype.setTemporalSuperSampling=function(t){this._enableTemporalSS=t.get(\"enable\")},m.prototype.isLinearSpace=function(){return this._enablePostEffect},m.prototype.setRootNode=function(t){if(this.rootNode!==t){for(var e=this.rootNode.children(),n=0;n<e.length;n++)t.add(e[n]);t!==this.scene&&this.scene.add(t),this.rootNode=t}},m.prototype.add=function(t){this.rootNode.add(t)},m.prototype.remove=function(t){this.rootNode.remove(t)},m.prototype.removeAll=function(t){this.rootNode.removeAll(t)},r.a.util.extend(m.prototype,h.a),e.a=m},function(t,e,n){\"use strict\";var i=0,o=Array.prototype.forEach,r={genGUID:function(){return++i},relative2absolute:function(t,e){if(!e||t.match(/^\\//))return t;for(var n=t.split(\"/\"),i=e.split(\"/\"),r=n[0];\".\"===r||\"..\"===r;)\"..\"===r&&i.pop(),n.shift(),r=n[0];return i.join(\"/\")+\"/\"+n.join(\"/\")},extend:function(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t,e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t},extendWithPropList:function(t,e,n){if(e)for(var i=0;i<n.length;i++){var r=n[i];t[r]=e[r]}return t},defaultsWithPropList:function(t,e,n){if(e)for(var i=0;i<n.length;i++){var r=n[i];null==t[r]&&(t[r]=e[r])}return t},each:function(t,e,n){if(t&&e)if(t.forEach&&t.forEach===o)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)},isObject:function(t){return t===Object(t)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return!!t&&t.length===+t.length},clone:function(t){if(r.isObject(t)){if(r.isArray(t))return t.slice();if(r.isArrayLike(t)){for(var e=new t.constructor(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}return r.extend({},t)}return t}};e.a=r},function(t,e,n){\"use strict\";var i=n(35),r=n(8),a=n(119);r.a.import(a.a);var o=i.a.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:\"\",clone:function(){var t=i.a.prototype.clone.call(this);return t.color=Array.prototype.slice.call(this.color),t.intensity=this.intensity,t.castShadow=this.castShadow,t.shadowResolution=this.shadowResolution,t}});e.a=o},function(t,e,n){\"use strict\";var i=n(15),r=n(0),a=n.n(r),o=n(38),s=n(6).a.vec3,l=[[0,0],[1,1]],u=i.a.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new i.a.Attribute(\"position\",\"float\",3,\"POSITION\"),positionPrev:new i.a.Attribute(\"positionPrev\",\"float\",3),positionNext:new i.a.Attribute(\"positionNext\",\"float\",3),prevPositionPrev:new i.a.Attribute(\"prevPositionPrev\",\"float\",3),prevPosition:new i.a.Attribute(\"prevPosition\",\"float\",3),prevPositionNext:new i.a.Attribute(\"prevPositionNext\",\"float\",3),offset:new i.a.Attribute(\"offset\",\"float\",1),color:new i.a.Attribute(\"color\",\"float\",4,\"COLOR\")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.positionPrev.init(t),e.positionNext.init(t),e.offset.init(t)),65535<t?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:new(65535<this.vertexCount?Uint32Array:Uint16Array)(3*t))},_getCubicCurveApproxStep:function(t,e,n,i){return 1/(s.dist(t,e)+s.dist(n,e)+s.dist(i,n)+1)*this.segmentScale},getCubicCurveVertexCount:function(t,e,n,i){var r=this._getCubicCurveApproxStep(t,e,n,i),a=Math.ceil(1/r);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(t,e,n,i){var r=this._getCubicCurveApproxStep(t,e,n,i),a=Math.ceil(1/r);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(l)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(l)},getPolylineVertexCount:function(t){var e;return e=\"number\"==typeof t?t:\"number\"!=typeof t[0]?t.length:t.length/3,this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;return e=\"number\"==typeof t?t:\"number\"!=typeof t[0]?t.length:t.length/3,this.useNativeLine?0:2*Math.max(e-1,0)},addCubicCurve:function(t,e,n,i,r,a){null==a&&(a=1);for(var o=t[0],s=t[1],l=t[2],u=e[0],h=e[1],c=e[2],d=n[0],f=n[1],p=n[2],g=i[0],m=i[1],v=i[2],y=this._getCubicCurveApproxStep(t,e,n,i),_=y*y,x=_*y,b=3*y,w=3*_,T=6*_,S=6*x,M=o-2*u+d,A=s-2*h+f,I=l-2*c+p,C=3*(u-d)-o+g,D=3*(h-f)-s+m,E=3*(c-p)-l+v,L=o,P=s,N=l,O=(u-o)*b+M*w+C*x,R=(h-s)*b+A*w+D*x,k=(c-l)*b+I*w+E*x,z=M*T+C*S,B=A*T+D*S,F=I*T+E*S,V=C*S,G=D*S,H=E*S,U=0,W=0,j=Math.ceil(1/y),X=new Float32Array(3*(j+1)),X=[],Z=0,W=0;W<j+1;W++)X[Z++]=L,X[Z++]=P,X[Z++]=N,L+=O,P+=R,N+=k,O+=z,R+=B,k+=F,z+=V,B+=G,F+=H,1<(U+=y)&&(L=0<O?Math.min(L,g):Math.max(L,g),P=0<R?Math.min(P,m):Math.max(P,m),N=0<k?Math.min(N,v):Math.max(N,v));return this.addPolyline(X,r,a)},addLine:function(t,e,n,i){return this.addPolyline([t,e],n,i)},addPolyline:function(t,e,n,i,r){if(t.length){var a=\"number\"!=typeof t[0];if(null==r&&(r=a?t.length:t.length/3),!(r<2)){null==i&&(i=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);var o=(a=\"number\"!=typeof t[0])?\"number\"!=typeof e[0]:e.length/4===r,s=this.attributes.position,l=this.attributes.positionPrev,u=this.attributes.positionNext,h=this.attributes.color,c=this.attributes.offset,d=this.indices,f=this._vertexOffset;n=Math.max(n,.01);for(var p,g,m,v,y,_,x,b=i;b<r;b++){a?(v=t[b],m=o?e[b]:e):((v=v||[])[0]=t[p=3*b],v[1]=t[1+p],v[2]=t[2+p],o?((m=m||[])[0]=e[g=4*b],m[1]=e[1+g],m[2]=e[2+g],m[3]=e[3+g]):m=e),this.useNativeLine?1<b&&(s.copy(f,f-1),h.copy(f,f-1),f++):(b<r-1&&(l.set(f+2,v),l.set(f+3,v)),0<b&&(u.set(f-2,v),u.set(f-1,v)),s.set(f,v),s.set(f+1,v),h.set(f,m),h.set(f+1,m),c.set(f,n/2),c.set(f+1,-n/2),f+=2),this.useNativeLine?(h.set(f,m),s.set(f,v),f++):0<b&&(y=3*this._triangleOffset,(d=this.indices)[y]=f-4,d[1+y]=f-3,d[2+y]=f-2,d[3+y]=f-3,d[4+y]=f-1,d[5+y]=f-2,this._triangleOffset+=2)}return this.useNativeLine||(_=this._vertexOffset,x=this._vertexOffset+2*r,l.copy(_,_+2),l.copy(_+1,_+3),u.copy(x-1,x-3),u.copy(x-2,x-4)),this._vertexOffset=f,this._vertexOffset}}},setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],i=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,r=n;r<i;r++)this.attributes.color.set(r,e);this.dirty(\"color\")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});a.a.util.defaults(u.prototype,o.a),e.a=u},function(t,e,n){\"use strict\";function i(t,e){t=t||0,e=e||0,this.array=a.a.fromValues(t,e),this._dirty=!0}var r,a=n(70);i.prototype={constructor:i,add:function(t){return a.a.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e){return this.array[0]=t,this.array[1]=e,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this._dirty=!0,this},clone:function(){return new i(this.x,this.y)},copy:function(t){return a.a.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return a.a.cross(t.array,this.array,e.array),t._dirty=!0,this},dist:function(t){return a.a.dist(this.array,t.array)},distance:function(t){return a.a.distance(this.array,t.array)},div:function(t){return a.a.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return a.a.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return a.a.dot(this.array,t.array)},len:function(){return a.a.len(this.array)},length:function(){return a.a.length(this.array)},lerp:function(t,e,n){return a.a.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return a.a.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return a.a.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return a.a.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return a.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return a.a.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return a.a.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return a.a.random(this.array,t),this._dirty=!0,this},scale:function(t){return a.a.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return a.a.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return a.a.sqrDist(this.array,t.array)},squaredDistance:function(t){return a.a.squaredDistance(this.array,t.array)},sqrLen:function(){return a.a.sqrLen(this.array)},squaredLength:function(){return a.a.squaredLength(this.array)},sub:function(t){return a.a.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return a.a.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat2:function(t){return a.a.transformMat2(this.array,this.array,t.array),this._dirty=!0,this},transformMat2d:function(t){return a.a.transformMat2d(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return a.a.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return a.a.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}},Object.defineProperty&&(r=i.prototype,Object.defineProperty(r,\"x\",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Object.defineProperty(r,\"y\",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}})),i.add=function(t,e,n){return a.a.add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n){return a.a.set(t.array,e,n),t._dirty=!0,t},i.copy=function(t,e){return a.a.copy(t.array,e.array),t._dirty=!0,t},i.cross=function(t,e,n){return a.a.cross(t.array,e.array,n.array),t._dirty=!0,t},i.distance=i.dist=function(t,e){return a.a.distance(t.array,e.array)},i.divide=i.div=function(t,e,n){return a.a.divide(t.array,e.array,n.array),t._dirty=!0,t},i.dot=function(t,e){return a.a.dot(t.array,e.array)},i.len=function(t){return a.a.length(t.array)},i.lerp=function(t,e,n,i){return a.a.lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return a.a.min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return a.a.max(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return a.a.multiply(t.array,e.array,n.array),t._dirty=!0,t},i.negate=function(t,e){return a.a.negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return a.a.normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return a.a.random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return a.a.scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return a.a.scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.squaredDistance=i.sqrDist=function(t,e){return a.a.sqrDist(t.array,e.array)},i.squaredLength=i.sqrLen=function(t){return a.a.sqrLen(t.array)},i.subtract=i.sub=function(t,e,n){return a.a.subtract(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat2=function(t,e,n){return a.a.transformMat2(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat2d=function(t,e,n){return a.a.transformMat2d(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat3=function(t,e,n){return a.a.transformMat3(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return a.a.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){\"use strict\";var i=n(4),u=n(11),o=n(23),r=n(73),s=n(14),a=r.a.isPowerOfTwo,h=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"],l=i.a.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:\"textureCube\",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get(\"webgl_texture\")),this.updateCommon(t);var n=this.format,i=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var r=t.getGLExtension(\"EXT_texture_filter_anisotropic\");if(r&&1<this.anisotropic&&e.texParameterf(e.TEXTURE_CUBE_MAP,r.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),36193===i&&(t.getGLExtension(\"OES_texture_half_float\")||(i=u.a.FLOAT)),this.mipmaps.length)for(var a=this.width,o=this.height,s=0;s<this.mipmaps.length;s++){var l=this.mipmaps[s];this._updateTextureData(e,l,s,a,o,n,i),a/=2,o/=2}else this._updateTextureData(e,this,0,this.width,this.height,n,i),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(t,e,n,i,r,a,o){for(var s=0;s<6;s++){var l=h[s],u=e.image&&e.image[l];u?t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,a,o,u):t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+s,n,a,i,r,0,a,o,e.pixels&&e.pixels[l])}},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get(\"webgl_texture\")),e.generateMipmap(e.TEXTURE_CUBE_MAP))},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?a(this.image.px.width)&&a(this.image.px.height):a(this.width)&&a(this.height)},isRenderable:function(){return this.image.px?c(this.image.px)&&c(this.image.nx)&&c(this.image.py)&&c(this.image.ny)&&c(this.image.pz)&&c(this.image.nz):!(!this.width||!this.height)},load:function(t,i){var r=0,a=this;return o.a.each(t,function(t,e){var n=s.a.createImage();i&&(n.crossOrigin=i),n.onload=function(){0===--r&&(a.dirty(),a.trigger(\"success\",a)),n.onload=null},n.onerror=function(){r--,n.onerror=null},r++,n.src=t,a.image[e]=n}),this}});function c(t){return\"CANVAS\"===t.nodeName||\"VIDEO\"===t.nodeName||t.complete}Object.defineProperty(l.prototype,\"width\",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(t){this.image&&this.image.px?console.warn(\"Texture from image can't set width\"):(this._width!==t&&this.dirty(),this._width=t)}}),Object.defineProperty(l.prototype,\"height\",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(t){this.image&&this.image.px?console.warn(\"Texture from image can't set height\"):(this._height!==t&&this.dirty(),this._height=t)}}),e.a=l},function(t,e,n){\"use strict\";e.a={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:\"medium\"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:\"medium\",intensity:1},screenSpaceReflection:{enable:!1,quality:\"medium\",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:\"\"},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:\"auto\"}}}},function(t,e,n){\"use strict\";e.a={defaultOption:{light:{main:{shadow:!1,shadowQuality:\"high\",color:\"#fff\",intensity:1,alpha:0,beta:0},ambient:{color:\"#fff\",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}}},function(t,e,n){\"use strict\";var d=n(1),f=n(42),i=n(0),p=n.n(i);function r(){}r.prototype={constructor:r,setScene:function(t){this._scene=t,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(t){this._lightRoot=t,this.mainLight=new d.a.DirectionalLight({shadowBias:.005}),this.ambientLight=new d.a.AmbientLight,t.add(this.mainLight),t.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(t){var e=this.mainLight,n=this.ambientLight,i=t.getModel(\"light\"),r=i.getModel(\"main\"),a=i.getModel(\"ambient\");e.intensity=r.get(\"intensity\"),n.intensity=a.get(\"intensity\"),e.color=d.a.parseColor(r.get(\"color\")).slice(0,3),n.color=d.a.parseColor(a.get(\"color\")).slice(0,3);var o=r.get(\"alpha\")||0,s=r.get(\"beta\")||0;e.position.setArray(d.a.directionFromAlphaBeta(o,s)),e.lookAt(d.a.Vector3.ZERO),e.castShadow=r.get(\"shadow\"),e.shadowResolution=d.a.getShadowResolution(r.get(\"shadowQuality\"))},updateAmbientCubemap:function(t,e,n){var i,r,a=e.getModel(\"light.ambientCubemap\"),o=a.get(\"texture\");o?(this._cubemapLightsCache=this._cubemapLightsCache||{},(r=this._cubemapLightsCache[o])||(r=(i=this)._cubemapLightsCache[o]=d.a.createAmbientCubemap(a.option,t,n,function(){i._isSkyboxFromAmbientCubemap&&i._skybox.setEnvironmentMap(r.specular.cubemap),n.getZr().refresh()})),this._lightRoot.add(r.diffuse),this._lightRoot.add(r.specular),this._currentCubemapLights=r):this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(t,e,n){var i=e.get(\"environment\"),r=this;var a,o,s,l,u=(r._skybox=r._skybox||new f.a,r._skybox);i&&\"none\"!==i?\"auto\"===i?(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights?(a=this._currentCubemapLights.specular.cubemap,u.setEnvironmentMap(a),this._scene&&u.attachScene(this._scene),u.material.set(\"lod\",3)):this._skybox&&this._skybox.detachScene()):(\"object\"==typeof i&&i.colorStops||\"string\"==typeof i&&p.a.color.parse(i)?(this._isSkyboxFromAmbientCubemap=!1,l=new d.a.Texture2D({anisotropic:8,flipY:!1}),u.setEnvironmentMap(l),(o=l.image=document.createElement(\"canvas\")).width=o.height=16,s=o.getContext(\"2d\"),new p.a.graphic.Rect({shape:{x:0,y:0,width:16,height:16},style:{fill:i}}).brush(s)):(this._isSkyboxFromAmbientCubemap=!1,l=d.a.loadTexture(i,n,{anisotropic:8,flipY:!1}),u.setEnvironmentMap(l)),u.attachScene(this._scene)):(this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null);var h,c=e.coordinateSystem;this._skybox&&(!c||!c.viewGL||\"auto\"===i||i.match&&i.match(/.hdr$/)?this._skybox.material.undefine(\"fragment\",\"SRGB_DECODE\"):(h=c.viewGL.isLinearSpace()?\"define\":\"undefine\",this._skybox.material[h](\"fragment\",\"SRGB_DECODE\")))}},e.a=r},function(t,e,n){\"use strict\";e.a={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:\"#fff\"}}}},function(t,e,n){\"use strict\";var i=n(0),u=n.n(i),r={getFormattedLabel:function(t,e,n,i,r){n=n||\"normal\";var a=t.getData(i).getItemModel(e),o=t.getDataParams(e,i);null!=r&&o.value instanceof Array&&(o.value=o.value[r]);var s,l=a.get(\"normal\"===n?[\"label\",\"formatter\"]:[\"emphasis\",\"label\",\"formatter\"]);return null==l&&(l=a.get([\"label\",\"formatter\"])),\"function\"==typeof l?(o.status=n,s=l(o)):\"string\"==typeof l&&(s=u.a.format.formatTpl(l,o)),s},normalizeToArray:function(t){return t instanceof Array?t:null==t?[]:[t]}};e.a=r},function(t,e,n){\"use strict\";var l,a=n(20),i={create:function(){var t=new a.a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},clone:function(t){var e=new a.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},fromValues:function(t,e,n,i){var r=new a.a(4);return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},set:function(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}};i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t},i.div=i.divide,i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},i.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t},i.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+i*i+r*r+a*a)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],a=e[3]-t[3];return n*n+i*i+r*r+a*a},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.sqrt(e*e+n*n+i*i+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},i.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=n*n+i*i+r*r+a*a;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},i.lerp=function(t,e,n,i){var r=e[0],a=e[1],o=e[2],s=e[3];return t[0]=r+i*(n[0]-r),t[1]=a+i*(n[1]-a),t[2]=o+i*(n[2]-o),t[3]=s+i*(n[3]-s),t},i.random=function(t,e){return e=e||1,t[0]=Object(a.c)(),t[1]=Object(a.c)(),t[2]=Object(a.c)(),t[3]=Object(a.c)(),i.normalize(t,t),i.scale(t,t,e),t},i.transformMat4=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*a+n[12]*o,t[1]=n[1]*i+n[5]*r+n[9]*a+n[13]*o,t[2]=n[2]*i+n[6]*r+n[10]*a+n[14]*o,t[3]=n[3]*i+n[7]*r+n[11]*a+n[15]*o,t},i.transformQuat=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=n[0],s=n[1],l=n[2],u=n[3],h=u*i+s*a-l*r,c=u*r+l*i-o*a,d=u*a+o*r-s*i,f=-o*i-s*r-l*a;return t[0]=h*u+f*-o+c*-l-d*-s,t[1]=c*u+f*-s+d*-o-h*-l,t[2]=d*u+f*-l+h*-s-c*-o,t},i.forEach=(l=i.create(),function(t,e,n,i,r,a){var o,s;for(e=e||4,n=n||0,s=i?Math.min(i*e+n,t.length):t.length,o=n;o<s;o+=e)l[0]=t[o],l[1]=t[o+1],l[2]=t[o+2],l[3]=t[o+3],r(l,l,a),t[o]=l[0],t[o+1]=l[1],t[o+2]=l[2],t[o+3]=l[3];return t}),e.a=i},function(t,e,n){\"use strict\";var i=n(20),r={create:function(){var t=new i.a(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new i.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){var n,i,r;return t===e?(n=e[1],i=e[2],r=e[5],t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t},invert:function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8],c=h*o-s*u,d=-h*a+s*l,f=u*a-o*l,p=n*c+i*d+r*f;return p?(p=1/p,t[0]=c*p,t[1]=(-h*i+r*u)*p,t[2]=(s*i-r*o)*p,t[3]=d*p,t[4]=(h*n-r*l)*p,t[5]=(-s*n+r*a)*p,t[6]=f*p,t[7]=(-u*n+i*l)*p,t[8]=(o*n-i*a)*p,t):null},adjoint:function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8];return t[0]=o*h-s*u,t[1]=r*u-i*h,t[2]=i*s-r*o,t[3]=s*l-a*h,t[4]=n*h-r*l,t[5]=r*a-n*s,t[6]=a*u-o*l,t[7]=i*l-n*u,t[8]=n*o-i*a,t},determinant:function(t){var e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*(u*a-o*l)+n*(-u*r+o*s)+i*(l*r-a*s)},multiply:function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=n[0],f=n[1],p=n[2],g=n[3],m=n[4],v=n[5],y=n[6],_=n[7],x=n[8];return t[0]=d*i+f*o+p*u,t[1]=d*r+f*s+p*h,t[2]=d*a+f*l+p*c,t[3]=g*i+m*o+v*u,t[4]=g*r+m*s+v*h,t[5]=g*a+m*l+v*c,t[6]=y*i+_*o+x*u,t[7]=y*r+_*s+x*h,t[8]=y*a+_*l+x*c,t}};r.mul=r.multiply,r.translate=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=n[0],f=n[1];return t[0]=i,t[1]=r,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=d*i+f*o+u,t[7]=d*r+f*s+h,t[8]=d*a+f*l+c,t},r.rotate=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],h=e[7],c=e[8],d=Math.sin(n),f=Math.cos(n);return t[0]=f*i+d*o,t[1]=f*r+d*s,t[2]=f*a+d*l,t[3]=f*o-d*i,t[4]=f*s-d*r,t[5]=f*l-d*a,t[6]=u,t[7]=h,t[8]=c,t},r.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},r.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},r.fromQuat=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=n+n,s=i+i,l=r+r,u=n*o,h=i*o,c=i*s,d=r*o,f=r*s,p=r*l,g=a*o,m=a*s,v=a*l;return t[0]=1-c-p,t[3]=h-v,t[6]=d+m,t[1]=h+v,t[4]=1-u-p,t[7]=f-g,t[2]=d-m,t[5]=f+g,t[8]=1-u-c,t},r.normalFromMat4=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],h=e[8],c=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=n*s-i*o,_=n*l-r*o,x=n*u-a*o,b=i*l-r*s,w=i*u-a*s,T=r*u-a*l,S=h*g-c*p,M=h*m-d*p,A=h*v-f*p,I=c*m-d*g,C=c*v-f*g,D=d*v-f*m,E=y*D-_*C+x*I+b*A-w*M+T*S;return E?(E=1/E,t[0]=(s*D-l*C+u*I)*E,t[1]=(l*A-o*D-u*M)*E,t[2]=(o*C-s*A+u*S)*E,t[3]=(r*C-i*D-a*I)*E,t[4]=(n*D-r*A+a*M)*E,t[5]=(i*A-n*C-a*S)*E,t[6]=(g*T-m*w+v*b)*E,t[7]=(m*x-p*T-v*_)*E,t[8]=(p*w-g*x+v*y)*E,t):null},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.a=r},function(t,e,n){\"use strict\";var i,r,a,o,s,l,u,h=n(7),c=n(3),d=n(56),f=n(9),p=n(21),g=n(18),m=0,v=h.a.extend({name:\"\",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||\"NODE\")+\"_\"+m++),this.position||(this.position=new c.a),this.rotation||(this.rotation=new d.a),this.scale||(this.scale=new c.a(1,1,1)),this.worldTransform=new f.a,this.localTransform=new f.a,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(t){var e,n=this._scene;n&&(delete(e=n._nodeRepository)[this.name],e[t]=this),this.name=t},add:function(t){var e,n=t._parent;n!==this&&(n&&n.remove(t),(t._parent=this)._children.push(t),(e=this._scene)&&e!==t.scene&&t.traverse(this._addSelfToScene,this),t._needsUpdateWorldTransform=!0)},remove:function(t){var e=this._children,n=e.indexOf(t);n<0||(e.splice(n,1),t._parent=null,this._scene&&t.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var t=this._children,e=0;e<t.length;e++)t[e]._parent=null,this._scene&&t[e].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(t){t._scene.removeFromScene(t),t._scene=null},_addSelfToScene:function(t){this._scene.addToScene(t),t._scene=this._scene},isAncestor:function(t){for(var e=t._parent;e;){if(e===this)return!0;e=e._parent}return!1},children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},getChildByName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},getDescendantByName:function(t){for(var e=this._children,n=0;n<e.length;n++){var i=e[n];if(i.name===t)return i;var r=i.getDescendantByName(t);if(r)return r}},queryNode:function(t){if(t){for(var e=t.split(\"/\"),n=this,i=0;i<e.length;i++){var r=e[i];if(r){for(var a=!1,o=n._children,s=0;s<o.length;s++){var l=o[s];if(l.name===r){n=l,a=!0;break}}if(!a)return}}return n}},getPath:function(t){if(!this._parent)return\"/\";for(var e=this._parent,n=this.name;e._parent&&(n=e.name+\"/\"+n,e._parent!=t);)e=e._parent;return!e._parent&&t?null:n},traverse:function(t,e){t.call(e,this);for(var n=this._children,i=0,r=n.length;i<r;i++)n[i].traverse(t,e)},eachChild:function(t,e){for(var n=this._children,i=0,r=n.length;i<r;i++){var a=n[i];t.call(e,a,i)}},setLocalTransform:function(t){p.a.copy(this.localTransform.array,t.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(t){var e=t?null:this.scale;this.localTransform.decomposeMatrix(e,this.rotation,this.position)},setWorldTransform:function(t){p.a.copy(this.worldTransform.array,t.array),this.decomposeWorldTransform()},decomposeWorldTransform:(u=p.a.create(),function(t){var e=this.localTransform,n=this.worldTransform;this._parent?(p.a.invert(u,this._parent.worldTransform.array),p.a.multiply(e.array,u,n.array)):p.a.copy(e.array,n.array);var i=t?null:this.scale;e.decomposeMatrix(i,this.rotation,this.position)}),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var t,e=this.position,n=this.rotation,i=this.scale;this.transformNeedsUpdate()&&(t=this.localTransform.array,p.a.fromRotationTranslation(t,n.array,e.array),p.a.scale(t,t,i.array),n._dirty=!1,i._dirty=!1,e._dirty=!1,this._needsUpdateWorldTransform=!0)},_updateWorldTransformTopDown:function(){var t=this.localTransform.array,e=this.worldTransform.array;this._parent?p.a.multiplyAffine(e,this._parent.worldTransform.array,t):p.a.copy(e,t)},updateWorldTransform:function(){for(var t=this;t&&t.getParent()&&t.getParent().transformNeedsUpdate();)t=t.getParent();t.update()},update:function(t){this.autoUpdateLocalTransform?this.updateLocalTransform():t=!0,(t||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),t=!0,this._needsUpdateWorldTransform=!1);for(var e=this._children,n=0,i=e.length;n<i;n++)e[n].update(t)},getBoundingBox:(o=new g.a,s=new f.a,l=new f.a,function(t,e){return e=e||new g.a,this._parent?f.a.invert(l,this._parent.worldTransform):f.a.identity(l),this.traverse(function(t){t.geometry&&t.geometry.boundingBox&&(o.copy(t.geometry.boundingBox),f.a.multiply(s,l,t.worldTransform),o.applyTransform(s),e.union(o))},this,y),e}),getWorldPosition:function(t){this.transformNeedsUpdate()&&this.updateWorldTransform();var e=this.worldTransform.array;if(t){var n=t.array;return n[0]=e[12],n[1]=e[13],n[2]=e[14],t}return new c.a(e[12],e[13],e[14])},clone:function(){var t=new this.constructor,e=this._children;t.setName(this.name),t.position.copy(this.position),t.rotation.copy(this.rotation),t.scale.copy(this.scale);for(var n=0;n<e.length;n++)t.add(e[n].clone());return t},rotateAround:(r=new c.a,a=new f.a,function(t,e,n){r.copy(this.position).subtract(t);var i=this.localTransform;i.identity(),i.translate(t),i.rotate(n,e),a.fromRotationTranslation(this.rotation,r),i.multiply(a),i.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}),lookAt:(i=new f.a,function(t,e){i.lookAt(this.position,t,e||this.localTransform.y).invert(),this.setLocalTransform(i),this.target=t})});function y(t){return!t.invisible&&t.geometry}e.a=v},function(t,e,n){\"use strict\";var i=n(35),r=n(24),a=n(58),o=n(18),s=n(23),u=n(21),l=n(69),h=n(9),c=u.a.create(),d=u.a.create(),f={};function p(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}p.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0},p.prototype.add=function(t,e){e?this.transparent[this._transparentCount++]=t:this.opaque[this._opaqueCount++]=t},p.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var g,m,v=i.a.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new o.a,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new l.a(20)}},function(){this._scene=this},{addToScene:function(t){t instanceof a.a?(0<this._cameraList.length&&console.warn(\"Found multiple camera in one scene. Use the fist one.\"),this._cameraList.push(t)):t instanceof r.a&&this.lights.push(t),t.name&&(this._nodeRepository[t.name]=t)},removeFromScene:function(t){var e;t instanceof a.a?0<=(e=this._cameraList.indexOf(t))&&this._cameraList.splice(e,1):t instanceof r.a&&0<=(e=this.lights.indexOf(t))&&this.lights.splice(e,1),t.name&&delete this._nodeRepository[t.name]},getNode:function(t){return this._nodeRepository[t]},setMainCamera:function(t){var e=this._cameraList.indexOf(t);0<=e&&this._cameraList.splice(e,1),this._cameraList.unshift(t)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var t=this.lights;this._previousLightNumber=this._lightNumber;for(var e={},n=0;n<t.length;n++){var i,r=t[n];r.invisible||(e[i=r.group]||(e[i]={}),e[i][r.type]=e[i][r.type]||0,e[i][r.type]++)}for(var a in this._lightNumber=e)this._lightProgramKeys[a]=function(t){var e=[],n=Object.keys(t);n.sort();for(var i=0;i<n.length;i++){var r=n[i];e.push(r+\" \"+t[r])}var a=e.join(\"\\n\");if(f[a])return f[a];var o=s.a.genGUID();return f[a]=o}(e[a]);this._updateLightUniforms()},cloneNode:function(t){var e=t.clone(),r={};return function t(e,n){r[e.__uid__]=n;for(var i=0;i<e._children.length;i++)t(e._children[i],n._children[i])}(t,e),e.traverse(function(t){t.skeleton&&(t.skeleton=t.skeleton.clone(r)),t.material&&(t.material=t.material.clone())}),e},updateRenderList:function(t,e){var n=t.__uid__,i=this._renderLists.get(n);i||(i=new p,this._renderLists.put(n,i)),i.startCount(),e&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var r=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,t,r,i,e),i.endCount(),i},getRenderList:function(t){return this._renderLists.get(t.__uid__)},_doUpdateRenderList:function(t,e,n,i,r){if(!t.invisible)for(var a=0;a<t._children.length;a++){var o,s,l=t._children[a];l.isRenderable()&&(o=l.isSkinnedMesh()?c:l.worldTransform.array,s=l.geometry,u.a.multiplyAffine(d,e.viewMatrix.array,o),(!r||s.boundingBox)&&this.isFrustumCulled(l,e,d)||i.add(l,l.material.transparent||n)),0<l._children.length&&this._doUpdateRenderList(l,e,n,i,r)}},isFrustumCulled:(g=new o.a,m=new h.a,function(t,e,n){var i=t.boundingBox;if(!(i=i||(t.skeleton&&t.skeleton.boundingBox?t.skeleton.boundingBox:t.geometry.boundingBox)))return!1;if(m.array=n,g.transformFrom(i,m),t.castShadow&&this.viewBoundingBoxLastFrame.union(g),t.frustumCulling){if(!g.intersectBoundingBox(e.frustum.boundingBox))return!0;m.array=e.projectionMatrix.array,0<g.max.array[2]&&g.min.array[2]<0&&(g.max.array[2]=-1e-20),g.applyProjection(m);var r=g.min.array,a=g.max.array;if(a[0]<-1||1<r[0]||a[1]<-1||1<r[1]||a[2]<-1||1<r[2])return!0}return!1}),_updateLightUniforms:function(){var t=this.lights;t.sort(_);var e=this._lightUniforms;for(var n in e)for(var i in e[n])e[n][i].value.length=0;for(var r=0;r<t.length;r++){var a=t[r];if(!a.invisible){n=a.group;for(var i in a.uniformTemplates){var o=a.uniformTemplates[i],s=o.value(a);if(null!=s){e[n]||(e[n]={}),e[n][i]||(e[n][i]={type:\"\",value:[]});var l=e[n][i];switch(l.type=o.type+\"v\",o.type){case\"1i\":case\"1f\":case\"t\":l.value.push(s);break;case\"2f\":case\"3f\":case\"4f\":for(var u=0;u<s.length;u++)l.value.push(s[u]);break;default:console.error(\"Unkown light uniform type \"+o.type)}}}}}},getLightGroups:function(){var t=[];for(var e in this._lightNumber)t.push(e);return t},getNumberChangedLightGroups:function(){var t=[];for(var e in this._lightNumber)this.isLightNumberChanged(e)&&t.push(e);return t},isLightNumberChanged:function(t){var e=this._previousLightNumber,n=this._lightNumber;for(var i in n[t]){if(!e[t])return!0;if(n[t][i]!==e[t][i])return!0}for(var i in e[t]){if(!n[t])return!0;if(n[t][i]!==e[t][i])return!0}return!1},getLightsNumbers:function(t){return this._lightNumber[t]},getProgramKey:function(t){return this._lightProgramKeys[t]},setLightUniforms:function(t,e,n){y(this._lightUniforms[e],t,n),y(this.shadowUniforms,t,n)},dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function y(t,e,n){for(var i in t){var r=t[i];if(\"tv\"===r.type){if(!e.hasUniform(i))continue;for(var a=[],o=0;o<r.value.length;o++){var s=r.value[o],l=e.takeCurrentTextureSlot(n,s);a.push(l)}e.setUniform(n.gl,\"1iv\",i,a)}else e.setUniform(n.gl,r.type,i,r.value)}}function _(t,e){if(e.castShadow&&!t.castShadow)return!0}e.a=v},function(t,e,n){\"use strict\";var i=n(58),r=i.a.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=i.a.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});e.a=r},function(t,e,n){\"use strict\";e.a={convertToDynamicArray:function(t){t&&this.resetOffset();var e=this.attributes;for(var n in e)t||!e[n].value?e[n].value=[]:e[n].value=Array.prototype.slice.call(e[n].value);t||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var t=this.attributes;for(var e in t)t[e].value&&0<t[e].value.length?t[e].value=new Float32Array(t[e].value):t[e].value=null;this.indices&&0<this.indices.length&&(this.indices=new(65535<this.vertexCount?Uint32Array:Uint16Array)(this.indices)),this.dirty()}}},function(t,e,n){\"use strict\";var i=n(0),v=n.n(i);e.a=function(t,e,a){var n,i,r,o,s,l,u=t.getData(),h=t.getRawValue(e),c=v.a.util.isArray(h)?(n=h,s=[],i=u,r=\"tooltip\",o=[],v.a.util.each(i.dimensions,function(t){var e=i.getDimensionInfo(t),n=e.otherDims[r];null!=n&&!1!==n&&(o[n]=e.name)}),(l=o).length?v.a.util.each(l,function(t){d(u.get(t,e),t)}):v.a.util.each(n,d),\"<br/>\"+s.join(\"<br/>\")):v.a.format.encodeHTML(v.a.format.addCommas(h));function d(t,e){var n,i,r=u.getDimensionInfo(e);r&&!1!==r.otherDims.tooltip&&(n=r.type,(i=\"- \"+(r.tooltipName||r.name)+\": \"+(\"ordinal\"===n?t+\"\":\"time\"===n?a?\"\":v.a.format.formatTime(\"yyyy/MM/dd hh:mm:ss\",t):v.a.format.addCommas(t)))&&s.push(v.a.format.encodeHTML(i)))}var f=u.getName(e),p=u.getItemVisual(e,\"color\");v.a.util.isObject(p)&&p.colorStops&&(p=(p.colorStops[0]||{}).color),p=p||\"transparent\";var g=v.a.format.getTooltipMarker(p),m=t.name;return\"\\0-\"===m&&(m=\"\"),m=m?v.a.format.encodeHTML(m)+(a?\": \":\"<br/>\"):\"\",a?g+m+c:m+g+(f?v.a.format.encodeHTML(f)+\": \"+c:c)}},function(t,e,n){\"use strict\";var i=n(72),r=n(11),a=i.a.extend({skeleton:null,joints:null,useSkinMatricesTexture:!1},function(){this.joints||(this.joints=[])},{isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&0<this.joints.length)},clone:function(){var t=i.a.prototype.clone.call(this);return t.skeleton=this.skeleton,this.joints&&(t.joints=this.joints.slice()),t}});a.POINTS=r.a.POINTS,a.LINES=r.a.LINES,a.LINE_LOOP=r.a.LINE_LOOP,a.LINE_STRIP=r.a.LINE_STRIP,a.TRIANGLES=r.a.TRIANGLES,a.TRIANGLE_STRIP=r.a.TRIANGLE_STRIP,a.TRIANGLE_FAN=r.a.TRIANGLE_FAN,a.BACK=r.a.BACK,a.FRONT=r.a.FRONT,a.FRONT_AND_BACK=r.a.FRONT_AND_BACK,a.CW=r.a.CW,a.CCW=r.a.CCW,e.a=a},function(t,e,n){\"use strict\";var i=n(58),r=i.a.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,e=2*Math.atan(1/t[5]);this.fov=e/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=i.a.prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}});e.a=r},function(t,e,n){\"use strict\";var i=n(40),r=n(76),a=n(8),o=n(19),s=n(4),l=n(121);a.a.import(l.a);var u=i.a.extend(function(){var t=new a.a({vertex:a.a.source(\"clay.skybox.vertex\"),fragment:a.a.source(\"clay.skybox.fragment\")}),e=new o.a({shader:t,depthMask:!1});return{scene:null,geometry:new r.a,material:e,environmentMap:null,culling:!1}},function(){var t=this.scene;t&&this.attachScene(t),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(t){this.scene&&this.detachScene(),((t.skybox=this).scene=t).on(\"beforerender\",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off(\"beforerender\",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(t){this.detachScene(),this.geometry.dispose(t)},setEnvironmentMap:function(t){\"texture2D\"===t.textureType?(this.material.define(\"EQUIRECTANGULAR\"),t.minFilter=s.a.LINEAR):this.material.undefine(\"EQUIRECTANGULAR\"),this.material.set(\"environmentMap\",t)},getEnvironmentMap:function(){return this.material.get(\"environmentMap\")},_beforeRenderScene:function(t,e,n){this.renderSkybox(t,n)},renderSkybox:function(t,e){this.position.copy(e.getWorldPosition()),this.update(),t.gl.disable(t.gl.BLEND),0<this.material.get(\"lod\")?this.material.define(\"fragment\",\"LOD\"):this.material.undefine(\"fragment\",\"LOD\"),t.renderPass([this],e)}});e.a=u},function(t,e,n){\"use strict\";var i=n(15),d=n(18),r=i.a.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var t=this.heightSegments,e=this.widthSegments,n=this.attributes,i=[],r=[],a=[],o=[],s=0;s<=t;s++)for(var l=s/t,u=0;u<=e;u++){var h,c=u/e;i.push([2*c-1,2*l-1,0]),r&&r.push([c,l]),a&&a.push([0,0,1]),u<e&&s<t&&(h=u+s*(e+1),o.push([h,h+1,h+e+1]),o.push([h+e+1,h+1,h+e+2]))}n.position.fromArray(i),n.texcoord0.fromArray(r),n.normal.fromArray(a),this.initIndicesFromArray(o),this.boundingBox=new d.a,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}});e.a=r},function(t,e,n){\"use strict\";e.a={defaultOption:{viewControl:{projection:\"perspective\",autoRotate:!1,autoRotateDirection:\"cw\",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:\"middle\",rotateMouseButton:\"left\",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(t){t=t||{},this.option.viewControl=this.option.viewControl||{},null!=t.alpha&&(this.option.viewControl.alpha=t.alpha),null!=t.beta&&(this.option.viewControl.beta=t.beta),null!=t.distance&&(this.option.viewControl.distance=t.distance),null!=t.center&&(this.option.viewControl.center=t.center)}}},function(t,e,n){\"use strict\";var i=n(7),r=n(26),a=n(3),d=(n(56),n(2).a.firstNotNull),o={left:0,middle:1,right:2};function s(t){return t instanceof Array||(t=[t,t]),t}var l=i.a.extend(function(){return{zr:null,viewGL:null,_center:new a.a,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:\"cw\",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:\"middle\",rotateMouseButton:\"left\",_mode:\"rotate\",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new r.a,_panVelocity:new r.a,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){[\"_mouseDownHandler\",\"_mouseWheelHandler\",\"_mouseMoveHandler\",\"_mouseUpHandler\",\"_pinchHandler\",\"_contextMenuHandler\",\"_update\"].forEach(function(t){this[t]=this[t].bind(this)},this)},{init:function(){var t=this.zr;t&&(t.on(\"mousedown\",this._mouseDownHandler),t.on(\"globalout\",this._mouseUpHandler),t.on(\"mousewheel\",this._mouseWheelHandler),t.on(\"pinch\",this._pinchHandler),t.animation.on(\"frame\",this._update),t.dom.addEventListener(\"contextmenu\",this._contextMenuHandler))},dispose:function(){var t=this.zr;t&&(t.off(\"mousedown\",this._mouseDownHandler),t.off(\"mousemove\",this._mouseMoveHandler),t.off(\"mouseup\",this._mouseUpHandler),t.off(\"mousewheel\",this._mouseWheelHandler),t.off(\"pinch\",this._pinchHandler),t.off(\"globalout\",this._mouseUpHandler),t.dom.removeEventListener(\"contextmenu\",this._contextMenuHandler),t.animation.off(\"frame\",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(t){this._distance=t,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(t){this._orthoSize=t,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(t){t=Math.max(Math.min(this.maxAlpha,t),this.minAlpha),this._theta=t/180*Math.PI,this._needsUpdate=!0},setBeta:function(t){t=Math.max(Math.min(this.maxBeta,t),this.minBeta),this._phi=-t/180*Math.PI,this._needsUpdate=!0},setCenter:function(t){this._center.setArray(t)},setViewGL:function(t){this.viewGL=t},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(e,t){var n=(t=t||{}).baseDistance||0,i=t.baseOrthoSize||1,r=e.get(\"projection\");\"perspective\"!==r&&\"orthographic\"!==r&&\"isometric\"!==r&&(console.error(\"Unkown projection type %s, use perspective projection instead.\",r),r=\"perspective\"),this._projection=r,this.viewGL.setProjection(r);var a=e.get(\"distance\")+n,o=e.get(\"orthographicSize\")+i;[[\"damping\",.8],[\"autoRotate\",!1],[\"autoRotateAfterStill\",3],[\"autoRotateDirection\",\"cw\"],[\"autoRotateSpeed\",10],[\"minDistance\",30],[\"maxDistance\",400],[\"minOrthographicSize\",30],[\"maxOrthographicSize\",300],[\"minAlpha\",-90],[\"maxAlpha\",90],[\"minBeta\",-1/0],[\"maxBeta\",1/0],[\"rotateSensitivity\",1],[\"zoomSensitivity\",1],[\"panSensitivity\",1],[\"panMouseButton\",\"left\"],[\"rotateMouseButton\",\"middle\"]].forEach(function(t){this[t[0]]=d(e.get(t[0]),t[1])},this),this.minDistance+=n,this.maxDistance+=n,this.minOrthographicSize+=i,this.maxOrthographicSize+=i;var s=e.ecModel,l={};[\"animation\",\"animationDurationUpdate\",\"animationEasingUpdate\"].forEach(function(t){l[t]=d(e.get(t),s&&s.get(t))});var u=d(t.alpha,e.get(\"alpha\"))||0,h=d(t.beta,e.get(\"beta\"))||0,c=d(t.center,e.get(\"center\"))||[0,0,0];l.animation&&0<l.animationDurationUpdate&&this._notFirst?this.animateTo({alpha:u,beta:h,center:c,distance:a,targetOrthographicSize:o,easing:l.animationEasingUpdate,duration:l.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(u),this.setBeta(h),this.setCenter(c),this.setOrthographicSize(o)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){null==o[this.panMouseButton]&&console.error(\"Unkown panMouseButton %s. It should be left|middle|right\",this.panMouseButton),null==o[this.rotateMouseButton]&&console.error(\"Unkown rotateMouseButton %s. It should be left|middle|right\",this.rotateMouseButton),\"cw\"!==this.autoRotateDirection&&\"ccw\"!==this.autoRotateDirection&&console.error(\"Unkown autoRotateDirection %s. It should be cw|ccw\",this.autoRotateDirection)},animateTo:function(t){var e=this.zr,n=this,i={},r={};return null!=t.distance&&(i.distance=this.getDistance(),r.distance=t.distance),null!=t.orthographicSize&&(i.orthographicSize=this.getOrthographicSize(),r.orthographicSize=t.orthographicSize),null!=t.alpha&&(i.alpha=this.getAlpha(),r.alpha=t.alpha),null!=t.beta&&(i.beta=this.getBeta(),r.beta=t.beta),null!=t.center&&(i.center=this.getCenter(),r.center=t.center),this._addAnimator(e.animation.animate(i).when(t.duration||1e3,r).during(function(){null!=i.alpha&&n.setAlpha(i.alpha),null!=i.beta&&n.setBeta(i.beta),null!=i.distance&&n.setDistance(i.distance),null!=i.center&&n.setCenter(i.center),null!=i.orthographicSize&&n.setOrthographicSize(i.orthographicSize),n._needsUpdate=!0})).start(t.easing||\"linear\")},stopAllAnimation:function(){for(var t=0;t<this._animators.length;t++)this._animators[t].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return 0<this._animators.length},_update:function(t){var e;this._rotating?(e=(\"cw\"===this.autoRotateDirection?1:-1)*this.autoRotateSpeed/180*Math.PI,this._phi-=e*t/1e3,this._needsUpdate=!0):0<this._rotateVelocity.len()&&(this._needsUpdate=!0),(.1<Math.abs(this._zoomSpeed)||0<this._panVelocity.len())&&(this._needsUpdate=!0),this._needsUpdate&&(t=Math.min(t,50),this._updateDistanceOrSize(t),this._updatePan(t),this._updateRotate(t),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger(\"update\"),this._needsUpdate=!1)},_updateRotate:function(t){var e=this._rotateVelocity;this._phi=e.y*t/20+this._phi,this._theta=e.x*t/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(e,Math.pow(this.damping,t/16))},_updateDistanceOrSize:function(t){\"perspective\"===this._projection?this._setDistance(this._distance+this._zoomSpeed*t/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*t/20),this._zoomSpeed*=Math.pow(this.damping,t/16)},_setDistance:function(t){this._distance=Math.max(Math.min(t,this.maxDistance),this.minDistance)},_setOrthoSize:function(t){this._orthoSize=Math.max(Math.min(t,this.maxOrthographicSize),this.minOrthographicSize);var e=this.getCamera(),n=this._orthoSize,i=n/this.viewGL.viewport.height*this.viewGL.viewport.width;e.left=-i/2,e.right=i/2,e.top=n/2,e.bottom=-n/2},_updatePan:function(t){var e=this._panVelocity,n=this._distance,i=this.getCamera(),r=i.worldTransform.y,a=i.worldTransform.x;this._center.scaleAndAdd(a,-e.x*n/200).scaleAndAdd(r,-e.y*n/200),this._vectorDamping(e,0)},_updateTransform:function(){var t=this.getCamera(),e=new a.a,n=this._theta+Math.PI/2,i=this._phi+Math.PI/2,r=Math.sin(n);e.x=r*Math.cos(i),e.y=-Math.cos(n),e.z=r*Math.sin(i),t.position.copy(this._center).scaleAndAdd(e,this._distance),t.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var t=this.autoRotateAfterStill,e=this;!isNaN(t)&&0<t&&(this._stillTimeout=setTimeout(function(){e._rotating=!0},1e3*t))},_vectorDamping:function(t,e){var n=t.len();(n*=e)<1e-4&&(n=0),t.normalize().scale(n)},_decomposeTransform:function(){var t,e,n;this.getCamera()&&(this.getCamera().updateWorldTransform(),t=this.getCamera().worldTransform.z,e=Math.asin(t.y),n=Math.atan2(t.x,t.z),this._theta=e,this._phi=-n,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom))},_mouseDownHandler:function(t){var e,n;t.target||this._isAnimating()||(e=t.offsetX,n=t.offsetY,this.viewGL&&!this.viewGL.containPoint(e,n)||(this.zr.on(\"mousemove\",this._mouseMoveHandler),this.zr.on(\"mouseup\",this._mouseUpHandler),t.event.targetTouches?1===t.event.targetTouches.length&&(this._mode=\"rotate\"):t.event.button===o[this.rotateMouseButton]?this._mode=\"rotate\":t.event.button===o[this.panMouseButton]?this._mode=\"pan\":this._mode=\"\",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=t.offsetX,this._mouseY=t.offsetY))},_mouseMoveHandler:function(t){var e,n;t.target&&t.target.__isGLToZRProxy||this._isAnimating()||(e=s(this.panSensitivity),n=s(this.rotateSensitivity),\"rotate\"===this._mode?(this._rotateVelocity.y=(t.offsetX-this._mouseX)/this.zr.getHeight()*2*n[0],this._rotateVelocity.x=(t.offsetY-this._mouseY)/this.zr.getWidth()*2*n[1]):\"pan\"===this._mode&&(this._panVelocity.x=(t.offsetX-this._mouseX)/this.zr.getWidth()*e[0]*400,this._panVelocity.y=(-t.offsetY+this._mouseY)/this.zr.getHeight()*e[1]*400),this._mouseX=t.offsetX,this._mouseY=t.offsetY,t.event.preventDefault())},_mouseWheelHandler:function(t){var e;this._isAnimating()||(e=t.event.wheelDelta||-t.event.detail,this._zoomHandler(t,e))},_pinchHandler:function(t){this._isAnimating()||(this._zoomHandler(t,1<t.pinchScale?1:-1),this._mode=\"\")},_zoomHandler:function(t,e){var n,i,r;0!==e&&(n=t.offsetX,i=t.offsetY,this.viewGL&&!this.viewGL.containPoint(n,i)||(r=\"perspective\"===this._projection?Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(0<e?-1:1)*r*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&\"rotate\"===this._mode&&this._startCountingStill(),t.event.preventDefault()))},_mouseUpHandler:function(){this.zr.off(\"mousemove\",this._mouseMoveHandler),this.zr.off(\"mouseup\",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return\"right\"===this.rotateMouseButton||\"right\"===this.panMouseButton},_contextMenuHandler:function(t){this._isRightMouseButtonUsed()&&t.preventDefault()},_addAnimator:function(e){var n=this._animators;return n.push(e),e.done(function(){var t=n.indexOf(e);0<=t&&n.splice(t,1)}),e}});Object.defineProperty(l.prototype,\"autoRotate\",{get:function(t){return this._autoRotate},set:function(t){this._autoRotate=t,this._rotating=t}}),e.a=l},function(t,e,n){\"use strict\";e.a=\"@export ecgl.lines3D.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nattribute vec3 position: POSITION;\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n\\nvoid main()\\n{\\n gl_Position = worldViewProjection * vec4(position, 1.0);\\n v_Color = a_Color;\\n}\\n\\n@end\\n\\n@export ecgl.lines3D.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nvarying vec4 v_Color;\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color * v_Color);\\n#else\\n gl_FragColor = color * v_Color;\\n#endif\\n}\\n@end\\n\\n\\n\\n@export ecgl.lines3D.clipNear\\n\\nvec4 clipNear(vec4 p1, vec4 p2) {\\n float n = (p1.w - near) / (p1.w - p2.w);\\n return vec4(mix(p1.xy, p2.xy, n), -near, near);\\n}\\n\\n@end\\n\\n@export ecgl.lines3D.expandLine\\n#ifdef VERTEX_ANIMATION\\n vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);\\n vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);\\n vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);\\n#else\\n vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);\\n vec4 currProj = worldViewProjection * vec4(position, 1.0);\\n vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);\\n#endif\\n\\n if (currProj.w < 0.0) {\\n if (nextProj.w > 0.0) {\\n currProj = clipNear(currProj, nextProj);\\n }\\n else if (prevProj.w > 0.0) {\\n currProj = clipNear(currProj, prevProj);\\n }\\n }\\n\\n vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;\\n vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;\\n vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;\\n\\n vec2 dir;\\n float len = offset;\\n if (position == positionPrev) {\\n dir = normalize(nextScreen - currScreen);\\n }\\n else if (position == positionNext) {\\n dir = normalize(currScreen - prevScreen);\\n }\\n else {\\n vec2 dirA = normalize(currScreen - prevScreen);\\n vec2 dirB = normalize(nextScreen - currScreen);\\n\\n vec2 tanget = normalize(dirA + dirB);\\n\\n float miter = 1.0 / max(dot(tanget, dirA), 0.5);\\n len *= miter;\\n dir = tanget;\\n }\\n\\n dir = vec2(-dir.y, dir.x) * len;\\n currScreen += dir;\\n\\n currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);\\n@end\\n\\n\\n@export ecgl.meshLines3D.vertex\\n\\nattribute vec3 position: POSITION;\\nattribute vec3 positionPrev;\\nattribute vec3 positionNext;\\nattribute float offset;\\nattribute vec4 a_Color : COLOR;\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nattribute vec3 prevPositionPrev;\\nattribute vec3 prevPositionNext;\\nuniform float percent : 1.0;\\n#endif\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform vec4 viewport : VIEWPORT;\\nuniform float near : NEAR;\\n\\nvarying vec4 v_Color;\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n@import ecgl.lines3D.clipNear\\n\\nvoid main()\\n{\\n @import ecgl.lines3D.expandLine\\n\\n gl_Position = currProj;\\n\\n v_Color = a_Color;\\n\\n @import ecgl.common.wireframe.vertexMain\\n}\\n@end\\n\\n\\n@export ecgl.meshLines3D.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nvarying vec4 v_Color;\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color * v_Color);\\n#else\\n gl_FragColor = color * v_Color;\\n#endif\\n\\n @import ecgl.common.wireframe.fragmentMain\\n}\\n\\n@end\"},function(t,e,n){var f=n(13),g=n(82),m=n(85).parsePercent,v=n(171),p=f.each,i=[\"left\",\"right\",\"top\",\"bottom\",\"width\",\"height\"],a=[[\"width\",\"left\",\"right\"],[\"height\",\"top\",\"bottom\"]];function r(h,c,d,f,p){var g=0,m=0;null==f&&(f=1/0),null==p&&(p=1/0);var v=0;c.eachChild(function(t,e){var n,i,r,a,o=t.position,s=t.getBoundingRect(),l=c.childAt(e+1),u=l&&l.getBoundingRect();v=\"horizontal\"===h?(n=s.width+(u?-u.x+s.x:0),f<(i=g+n)||t.newline?(g=0,i=n,m+=v+d,s.height):Math.max(v,s.height)):(r=s.height+(u?-u.y+s.y:0),p<(a=m+r)||t.newline?(g+=v+d,m=0,a=r,s.width):Math.max(v,s.width)),t.newline||(o[0]=g,o[1]=m,\"horizontal\"===h?g=i+d:m=a+d)})}var o=r,s=f.curry(r,\"vertical\"),l=f.curry(r,\"horizontal\");function y(t,e,n){n=v.normalizeCssArray(n||0);var i=e.width,r=e.height,a=m(t.left,i),o=m(t.top,r),s=m(t.right,i),l=m(t.bottom,r),u=m(t.width,i),h=m(t.height,r),c=n[2]+n[0],d=n[1]+n[3],f=t.aspect;switch(isNaN(u)&&(u=i-s-d-a),isNaN(h)&&(h=r-l-c-o),null!=f&&(isNaN(u)&&isNaN(h)&&(i/r<f?u=.8*i:h=.8*r),isNaN(u)&&(u=f*h),isNaN(h)&&(h=u/f)),isNaN(a)&&(a=i-s-u-d),isNaN(o)&&(o=r-l-h-c),t.left||t.right){case\"center\":a=i/2-u/2-n[3];break;case\"right\":a=i-u-d}switch(t.top||t.bottom){case\"middle\":case\"center\":o=r/2-h/2-n[0];break;case\"bottom\":o=r-h-c}a=a||0,o=o||0,isNaN(u)&&(u=i-d-a-(s||0)),isNaN(h)&&(h=r-c-o-(l||0));var p=new g(a+n[3],o+n[0],u,h);return p.margin=n,p}function u(e,n){return n&&e&&p(i,function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}e.LOCATION_PARAMS=i,e.HV_NAMES=a,e.box=o,e.vbox=s,e.hbox=l,e.getAvailableSize=function(t,e,n){var i=e.width,r=e.height,a=m(t.x,i),o=m(t.y,r),s=m(t.x2,i),l=m(t.y2,r);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=i),(isNaN(o)||isNaN(parseFloat(t.y)))&&(o=0),(isNaN(l)||isNaN(parseFloat(t.y2)))&&(l=r),n=v.normalizeCssArray(n||0),{width:Math.max(s-a-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}},e.getLayoutRect=y,e.positionElement=function(t,e,n,i,r){var a,o,s,l,u,h=!r||!r.hv||r.hv[0],c=!r||!r.hv||r.hv[1],d=r&&r.boundingMode||\"all\";(h||c)&&(\"raw\"===d?o=\"group\"===t.type?new g(0,0,+e.width||0,+e.height||0):t.getBoundingRect():(o=t.getBoundingRect(),t.needLocalTransform()&&(a=t.getLocalTransform(),(o=o.clone()).applyTransform(a))),e=y(f.defaults({width:o.width,height:o.height},e),n,i),s=t.position,l=h?e.x-o.x:0,u=c?e.y-o.y:0,t.attr(\"position\",\"raw\"===d?[l,u]:[s[0]+l,s[1]+u]))},e.sizeCalculable=function(t,e){return null!=t[a[e][0]]||null!=t[a[e][1]]&&null!=t[a[e][2]]},e.mergeLayoutParam=function(l,u,t){f.isObject(t)||(t={});var h=t.ignoreSize;f.isArray(h)||(h=[h,h]);var e=i(a[0],0),n=i(a[1],1);function i(t,e){var n={},i=0,r={},a=0;if(p(t,function(t){r[t]=l[t]}),p(t,function(t){c(u,t)&&(n[t]=r[t]=u[t]),d(n,t)&&i++,d(r,t)&&a++}),h[e])return d(u,t[1])?r[t[2]]=null:d(u,t[2])&&(r[t[1]]=null),r;if(2!==a&&i){if(2<=i)return n;for(var o=0;o<t.length;o++){var s=t[o];if(!c(n,s)&&c(l,s)){n[s]=l[s];break}}return n}return r}function c(t,e){return t.hasOwnProperty(e)}function d(t,e){return null!=t[e]&&\"auto\"!==t[e]}function r(t,e,n){p(t,function(t){e[t]=n[t]})}r(a[0],l,e),r(a[1],l,n)},e.getLayoutParams=function(t){return u({},t)},e.copyLayoutParams=u},function(t,e,n){\"use strict\";var i=n(7).a.extend(function(){return{name:\"\",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(t,e){var n,i,r=this.outputs[t],a=r.parameters,o=(o=r._parametersCopy)||(r._parametersCopy={});if(a)for(var s in a)\"width\"!==s&&\"height\"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,e):a.width,i=a.height instanceof Function?a.height.call(this,e):a.height,o.width===n&&o.height===i||this._outputTextures[t]&&this._outputTextures[t].dispose(e.gl),o.width=n,o.height=i,o},setParameter:function(t,e){},getParameter:function(t){},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},render:function(){},getOutput:function(t,e){if(null==e)return e=t,this._outputTextures[e];var n=this.outputs[e];return n?this._rendered?n.outputLastFrame?this._prevOutputTextures[e]:this._outputTextures[e]:this._rendering?(this._prevOutputTextures[e]||(this._prevOutputTextures[e]=this._compositor.allocateTexture(n.parameters||{})),this._prevOutputTextures[e]):(this.render(t),this._outputTextures[e]):void 0},removeReference:function(t){this._outputReferences[t]--,0===this._outputReferences[t]&&(this.outputs[t].keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t]))},link:function(t,e,n){this.inputLinks[t]={node:e,pin:n},e.outputLinks[n]||(e.outputLinks[n]=[]),e.outputLinks[n].push({node:this,pin:t}),this.pass.material.enableTexture(t)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(t){if(!this._rendering){for(var e in this._rendering=!0,this.inputLinks){var n=this.inputLinks[e];n.node.updateReference(n.pin)}this._rendering=!1}t&&this._outputReferences[t]++},beforeFrame:function(){for(var t in this._rendered=!1,this.outputLinks)this._outputReferences[t]=0},afterFrame:function(){for(var t in this.outputLinks){0<this._outputReferences[t]&&(this.outputs[t].keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t]))}}});e.a=i},function(t,e,n){\"use strict\";e.a=function(t,e){for(var n=0,i=1/e,r=t;0<r;)n+=i*(r%e),r=Math.floor(r/e),i/=e;return n}},function(t,e,n){\"use strict\";var i=n(0),s=n.n(i);e.a=function(n,t,e){e=e||n.getSource();var i=t||s.a.getCoordinateSystemDimensions(n.get(\"coordinateSystem\"))||[\"x\",\"y\",\"z\"],r=s.a.helper.createDimensions(e,{dimensionsDefine:e.dimensionsDefine||n.get(\"dimensions\"),encodeDefine:e.encodeDefine||n.get(\"encode\"),coordDimensions:i.map(function(t){var e=n.getReferringComponents(t+\"Axis3D\")[0];return{type:e&&\"category\"===e.get(\"type\")?\"ordinal\":\"float\",name:t}})});\"cartesian3D\"===n.get(\"coordinateSystem\")&&r.forEach(function(t){var e;0<=i.indexOf(t.coordDim)&&((e=n.getReferringComponents(t.coordDim+\"Axis3D\")[0])&&\"category\"===e.get(\"type\")&&(t.ordinalMeta=e.getOrdinalMeta()))});var a=s.a.helper.dataStack.enableDataStack(n,r,{byIndex:!0,stackedCoordDimension:\"z\"}),o=new s.a.List(r,n);return o.setCalculationInfo(a),o.initData(e),o}},function(t,e){t.exports=function(t,o,s){return{seriesType:t,performRawSeries:!0,reset:function(l,t,e){var n=l.getData(),i=l.get(\"symbol\")||o,u=l.get(\"symbolSize\"),r=l.get(\"symbolKeepAspect\");if(n.setVisual({legendSymbol:s||i,symbol:i,symbolSize:u,symbolKeepAspect:r}),!t.isSeriesFiltered(l)){var a=\"function\"==typeof u;return{dataEach:n.hasItemOption||a?function(t,e){var n,i,r,a,o,s;\"function\"==typeof u&&(n=l.getRawValue(e),i=l.getDataParams(e),t.setItemVisual(e,\"symbolSize\",u(n,i))),t.hasItemOption&&(a=(r=t.getItemModel(e)).getShallow(\"symbol\",!0),o=r.getShallow(\"symbolSize\",!0),s=r.getShallow(\"symbolKeepAspect\",!0),null!=a&&t.setItemVisual(e,\"symbol\",a),null!=o&&t.setItemVisual(e,\"symbolSize\",o),null!=s&&t.setItemVisual(e,\"symbolKeepAspect\",s))}:null}}}}}},function(t,e,n){\"use strict\";var i=n(7),r=n(111),a=n(11),o=n(14),s=n(19),l=n(26),u=n(115),h=n(8),c=n(71),U=n(21),v=n(12);h.a.import(c.a);var y=U.a.create,d={};function W(t){return t.material}function j(t,e,n){return e.uniforms[n].value}function X(t,e,n,i){return n!==i}function Z(t){return!0}function q(){}var A={float:a.a.FLOAT,byte:a.a.BYTE,ubyte:a.a.UNSIGNED_BYTE,short:a.a.SHORT,ushort:a.a.UNSIGNED_SHORT};function I(t,e,n){this.availableAttributes=t,this.availableAttributeSymbols=e,this.indicesBuffer=n,this.vao=null}function f(t){var i,r;this.bind=function(t){i||((i=o.a.createCanvas()).width=i.height=1,i.getContext(\"2d\"));var e=t.gl,n=!r;n&&(r=e.createTexture()),e.bindTexture(e.TEXTURE_2D,r),n&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i)},this.unbind=function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var p=i.a.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:\"undefined\"!=typeof window&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=o.a.createCanvas());var t=this.canvas;try{var e={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=t.getContext(\"webgl\",e)||t.getContext(\"experimental-webgl\",e),!this.gl)throw new Error;this._glinfo=new r.a(this.gl),this.gl.targetRenderer&&console.error(\"Already created a renderer\"),(this.gl.targetRenderer=this).resize()}catch(t){throw\"Error creating WebGL Context \"+t}this._programMgr=new u.a(this),this._placeholderTexture=new f},{resize:function(t,e){var n=this.canvas,i=this.devicePixelRatio;null!=t?(n.style.width=t+\"px\",n.style.height=e+\"px\",n.width=t*i,n.height=e*i,this._width=t,this._height=e):(this._width=n.width/i,this._height=n.height/i),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var t=this.viewport;return t.width/t.height},setDevicePixelRatio:function(t){this.devicePixelRatio=t,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(t){return this._glinfo.getExtension(t)},getGLParameter:function(t){return this._glinfo.getParameter(t)},setViewport:function(t,e,n,i,r){var a;\"object\"==typeof t&&(t=(a=t).x,e=a.y,n=a.width,i=a.height,r=a.devicePixelRatio),r=r||this.devicePixelRatio,this.gl.viewport(t*r,e*r,n*r,i*r),this.viewport={x:t,y:e,width:n,height:i,devicePixelRatio:r}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){0<this._viewportStack.length&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){var t;0<this._clearStack.length&&(t=this._clearStack.pop(),this.clearColor=t.clearColor,this.clearBit=t.clearBit)},bindSceneRendering:function(t){this._sceneRendering=t},render:function(t,e,n,i){var r,a,o,s=this.gl,l=this.clearColor;if(this.clearBit&&(s.colorMask(!0,!0,!0,!0),s.depthMask(!0),a=!1,o=(r=this.viewport).devicePixelRatio,(r.width!==this._width||r.height!==this._height||o&&o!==this.devicePixelRatio||r.x||r.y)&&(a=!0,s.enable(s.SCISSOR_TEST),s.scissor(r.x*o,r.y*o,r.width*o,r.height*o)),s.clearColor(l[0],l[1],l[2],l[3]),s.clear(this.clearBit),a&&s.disable(s.SCISSOR_TEST)),n||t.update(!1),t.updateLights(),e=e||t.getMainCamera()){e.update();var u=t.updateRenderList(e,!0);this._sceneRendering=t;var h=u.opaque,c=u.transparent,d=t.material;t.trigger(\"beforerender\",this,t,e,u),i?(this.renderPreZ(h,t,e),s.depthFunc(s.LEQUAL)):s.depthFunc(s.LESS);for(var f=y(),p=v.a.create(),g=0;g<c.length;g++){var m=c[g];U.a.multiplyAffine(f,e.viewMatrix.array,m.worldTransform.array),v.a.transformMat4(p,m.position.array,f),m.__depth=p[2]}this.renderPass(h,e,{getMaterial:function(t){return d||t.material},sortCompare:this.opaqueSortCompare}),this.renderPass(c,e,{getMaterial:function(t){return d||t.material},sortCompare:this.transparentSortCompare}),t.trigger(\"afterrender\",this,t,e,u),this._sceneRendering=null}else console.error(\"Can't find camera in the scene.\")},getProgram:function(t,e,n){return e=e||t.material,this._programMgr.getProgram(t,e,n)},validateProgram:function(t){if(t.__error){var e=t.__error;if(d[t.__uid__])return;if(d[t.__uid__]=!0,this.throwError)throw new Error(e);this.trigger(\"error\",e)}},updatePrograms:function(t,e,n){var i=n&&n.getMaterial||W;e=e||null;for(var r=0;r<t.length;r++){var a=t[r],o=i.call(this,a);if(0<r){var s=t[r-1],l=s.joints?s.joints.length:0;if((a.joints?a.joints.length:0)===l&&a.material===s.material&&a.lightGroup===s.lightGroup){a.__program=s.__program;continue}}var u=this._programMgr.getProgram(a,o,e);this.validateProgram(u),a.__program=u}},renderPass:function(t,e,n){this.trigger(\"beforerenderpass\",this,t,e,n),(n=n||{}).getMaterial=n.getMaterial||W,n.getUniform=n.getUniform||j,n.isMaterialChanged=n.isMaterialChanged||X,n.beforeRender=n.beforeRender||q,n.afterRender=n.afterRender||q;var i=n.ifRender||Z;this.updatePrograms(t,this._sceneRendering,n),n.sortCompare&&t.sort(n.sortCompare);var r=this.viewport,a=r.devicePixelRatio,o=[r.x*a,r.y*a,r.width*a,r.height*a],s=this.devicePixelRatio,l=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*s,this._height*s],u=[o[2],o[3]],h=Date.now();e?(U.a.copy(Y.VIEW,e.viewMatrix.array),U.a.copy(Y.PROJECTION,e.projectionMatrix.array),U.a.copy(Y.VIEWINVERSE,e.worldTransform.array)):(U.a.identity(Y.VIEW),U.a.identity(Y.PROJECTION),U.a.identity(Y.VIEWINVERSE)),U.a.multiply(Y.VIEWPROJECTION,Y.PROJECTION,Y.VIEW),U.a.invert(Y.PROJECTIONINVERSE,Y.PROJECTION),U.a.invert(Y.VIEWPROJECTIONINVERSE,Y.VIEWPROJECTION);for(var c,d,f,p,g,m,v,y,_,x,b,w=this.gl,T=this._sceneRendering,S=this.getGLExtension(\"OES_vertex_array_object\"),M=0;M<t.length;M++){var A,I=t[M],C=null!=I.worldTransform;if(i(I)){C&&(A=I.isSkinnedMesh&&I.isSkinnedMesh()?Y.IDENTITY:I.worldTransform.array);var D=I.geometry,E=n.getMaterial.call(this,I),L=I.__program,P=E.shader,N=D.__uid__+\"-\"+L.__uid__,O=N!==R,R=N;O&&S&&S.bindVertexArrayOES(null),C&&(U.a.copy(Y.WORLD,A),U.a.multiply(Y.WORLDVIEWPROJECTION,Y.VIEWPROJECTION,A),U.a.multiplyAffine(Y.WORLDVIEW,Y.VIEW,A),(P.matrixSemantics.WORLDINVERSE||P.matrixSemantics.WORLDINVERSETRANSPOSE)&&U.a.invert(Y.WORLDINVERSE,A),(P.matrixSemantics.WORLDVIEWINVERSE||P.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&U.a.invert(Y.WORLDVIEWINVERSE,Y.WORLDVIEW),(P.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||P.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&U.a.invert(Y.WORLDVIEWPROJECTIONINVERSE,Y.WORLDVIEWPROJECTION)),I.beforeRender&&I.beforeRender(this),n.beforeRender.call(this,I,E,c);var k=L!==d;k?(L.bind(this),L.setUniformOfSemantic(w,\"VIEWPORT\",o),L.setUniformOfSemantic(w,\"WINDOW_SIZE\",l),e&&(L.setUniformOfSemantic(w,\"NEAR\",e.near),L.setUniformOfSemantic(w,\"FAR\",e.far)),L.setUniformOfSemantic(w,\"DEVICEPIXELRATIO\",a),L.setUniformOfSemantic(w,\"TIME\",h),L.setUniformOfSemantic(w,\"VIEWPORT_SIZE\",u),T&&T.setLightUniforms(L,I.lightGroup,this)):L=d,(k||n.isMaterialChanged(I,f,E,c))&&(E.depthTest!==p&&(E.depthTest?w.enable(w.DEPTH_TEST):w.disable(w.DEPTH_TEST),p=E.depthTest),E.depthMask!==g&&(w.depthMask(E.depthMask),g=E.depthMask),E.transparent!==_&&(E.transparent?w.enable(w.BLEND):w.disable(w.BLEND),_=E.transparent),E.transparent&&(E.blend?E.blend(w):(w.blendEquationSeparate(w.FUNC_ADD,w.FUNC_ADD),w.blendFuncSeparate(w.SRC_ALPHA,w.ONE_MINUS_SRC_ALPHA,w.ONE,w.ONE_MINUS_SRC_ALPHA))),b=this._bindMaterial(I,E,L,f||null,c||null,d||null,n.getUniform),c=E);var z=P.matrixSemanticKeys;if(C)for(var B=0;B<z.length;B++){var F,V=z[B],G=P.matrixSemantics[V],H=Y[V];G.isTranspose&&(F=Y[G.semanticNoTranspose],U.a.transpose(H,F)),L.setUniform(w,G.type,G.symbol,H)}I.cullFace!==v&&(v=I.cullFace,w.cullFace(v)),I.frontFace!==y&&(y=I.frontFace,w.frontFace(y)),I.culling!==m&&((m=I.culling)?w.enable(w.CULL_FACE):w.disable(w.CULL_FACE)),this._updateSkeleton(I,L,b),O&&(x=this._bindVAO(S,P,D,L)),this._renderObject(I,x),n.afterRender(this,I),I.afterRender&&I.afterRender(this),d=L,f=I}}S&&S.bindVertexArrayOES(null),this.trigger(\"afterrenderpass\",this,t,e,n)},getMaxJointNumber:function(){return this._glinfo.getMaxJointNumber()},_updateSkeleton:function(t,e,n){var i,r,a=this.gl,o=t.skeleton;o&&(o.update(),t.joints.length>this._glinfo.getMaxJointNumber()?(i=o.getSubSkinMatricesTexture(t.__uid__,t.joints),e.useTextureSlot(this,i,n),e.setUniform(a,\"1i\",\"skinMatricesTexture\",n),e.setUniform(a,\"1f\",\"skinMatricesTextureSize\",i.width)):(r=o.getSubSkinMatrices(t.__uid__,t.joints),e.setUniformOfSemantic(a,\"SKIN_MATRIX\",r)))},_renderObject:function(t,e){var n,i=this.gl,r=t.geometry,a=t.mode;null==a&&(a=4),e.indicesBuffer?(n=this.getGLExtension(\"OES_element_index_uint\")&&r.indices instanceof Uint32Array?i.UNSIGNED_INT:i.UNSIGNED_SHORT,i.drawElements(a,e.indicesBuffer.count,n,0)):i.drawArrays(a,0,r.vertexCount)},_bindMaterial:function(t,e,n,i,r,a,o){for(var s=this.gl,l=a===n,u=n.currentTextureSlot(),h=e.getEnabledUniforms(),c=e.getTextureUniforms(),d=this._placeholderTexture,f=0;f<c.length;f++){var p=o(t,e,v=c[f]);if(\"t\"===(m=e.uniforms[v].type)&&p)p.__slot=-1;else if(\"tv\"===m)for(var g=0;g<p.length;g++)p[g]&&(p[g].__slot=-1)}d.__slot=-1;for(f=0;f<h.length;f++){var m,v=h[f],y=e.uniforms[v],p=o(t,e,v),_=\"t\"===(m=y.type);if(_&&(p&&p.isRenderable()||(p=d)),r&&l){var x=o(i,r,v);if(_&&(x&&x.isRenderable()||(x=d)),x===p){if(_)n.takeCurrentTextureSlot(this,null);else if(\"tv\"===m&&p)for(g=0;g<p.length;g++)n.takeCurrentTextureSlot(this,null);continue}}if(null!=p)if(_)p.__slot<0?(w=n.currentTextureSlot(),n.setUniform(s,\"1i\",v,w)&&(n.takeCurrentTextureSlot(this,p),p.__slot=w)):n.setUniform(s,\"1i\",v,p.__slot);else if(Array.isArray(p)){if(0===p.length)continue;if(\"tv\"===m){if(!n.hasUniform(v))continue;for(var b=[],g=0;g<p.length;g++){var w,T=p[g];T.__slot<0?(w=n.currentTextureSlot(),b.push(w),n.takeCurrentTextureSlot(this,T),T.__slot=w):b.push(T.__slot)}n.setUniform(s,\"1iv\",v,b)}else n.setUniform(s,y.type,v,p)}else n.setUniform(s,y.type,v,p)}var S=n.currentTextureSlot();return n.resetTextureSlot(u),S},_bindVAO:function(t,e,n,i){var r=!n.dynamic,a=this.gl,o=this.__uid__+\"-\"+i.__uid__,s=n.__vaoCache[o];if(!s){var l=n.getBufferChunks(this);if(!l||!l.length)return;for(var u=l[0],h=u.attributeBuffers,c=u.indicesBuffer,d=[],f=[],p=0;p<h.length;p++){var g,m,v=(b=h[p]).name,y=b.semantic;(m=y?(g=e.attributeSemantics[y])&&g.symbol:v)&&i.attributes[m]&&(d.push(b),f.push(m))}s=new I(d,f,c),r&&(n.__vaoCache[o]=s)}var _=!0;t&&r&&(null==s.vao?s.vao=t.createVertexArrayOES():_=!1,t.bindVertexArrayOES(s.vao));d=s.availableAttributes,c=s.indicesBuffer;if(_){for(var x=i.enableAttributes(this,s.availableAttributeSymbols,t&&r&&s),p=0;p<d.length;p++){var b,w,T,S,M=x[p];-1!==M&&(w=(b=d[p]).buffer,T=b.size,S=A[b.type]||a.FLOAT,a.bindBuffer(a.ARRAY_BUFFER,w),a.vertexAttribPointer(M,T,S,!1,0,0))}n.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,c.buffer)}return s},renderPreZ:function(t,e,n){var i=this.gl,r=this._prezMaterial||new s.a({shader:new h.a(h.a.source(\"clay.prez.vertex\"),h.a.source(\"clay.prez.fragment\"))});this._prezMaterial=r,i.colorMask(!1,!1,!1,!1),i.depthMask(!0),this.renderPass(t,n,{ifRender:function(t){return!t.ignorePreZ},isMaterialChanged:function(t,e){var n=t.material,i=e.material;return n.get(\"diffuseMap\")!==i.get(\"diffuseMap\")||(n.get(\"alphaCutoff\")||0)!==(i.get(\"alphaCutoff\")||0)},getUniform:function(t,e,n){return\"alphaMap\"===n?t.material.get(\"diffuseMap\"):\"alphaCutoff\"!==n?e.get(n):t.material.isDefined(\"fragment\",\"ALPHA_TEST\")&&t.material.get(\"diffuseMap\")&&t.material.get(\"alphaCutoff\")||0},getMaterial:function(){return r},sort:this.opaqueSortCompare}),i.colorMask(!0,!0,!0,!0),i.depthMask(!0)},disposeScene:function(t){this.disposeNode(t,!0,!0),t.dispose()},disposeNode:function(t,l,u){t.getParent()&&t.getParent().remove(t);var h={};t.traverse(function(t){var e=t.material;if(t.geometry&&l&&t.geometry.dispose(this),u&&e&&!h[e.__uid__]){for(var n=e.getTextureUniforms(),i=0;i<n.length;i++){var r=n[i],a=e.uniforms[r].value,o=e.uniforms[r].type;if(a)if(\"t\"===o)a.dispose&&a.dispose(this);else if(\"tv\"===o)for(var s=0;s<a.length;s++)a[s]&&a[s].dispose&&a[s].dispose(this)}h[e.__uid__]=!0}t.dispose&&t.dispose(this)},this)},disposeGeometry:function(t){t.dispose(this)},disposeTexture:function(t){t.dispose(this)},disposeFrameBuffer:function(t){t.dispose(this)},dispose:function(){},screenToNDC:function(t,e,n){n=n||new l.a,e=this._height-e;var i=this.viewport,r=n.array;return r[0]=(t-i.x)/i.width,r[0]=2*r[0]-1,r[1]=(e-i.y)/i.height,r[1]=2*r[1]-1,n}});p.opaqueSortCompare=p.prototype.opaqueSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.renderOrder-e.renderOrder},p.transparentSortCompare=p.prototype.transparentSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__depth===e.__depth?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.__depth-e.__depth:t.renderOrder-e.renderOrder};var Y={IDENTITY:y(),WORLD:y(),VIEW:y(),PROJECTION:y(),WORLDVIEW:y(),VIEWPROJECTION:y(),WORLDVIEWPROJECTION:y(),WORLDINVERSE:y(),VIEWINVERSE:y(),PROJECTIONINVERSE:y(),WORLDVIEWINVERSE:y(),VIEWPROJECTIONINVERSE:y(),WORLDVIEWPROJECTIONINVERSE:y(),WORLDTRANSPOSE:y(),VIEWTRANSPOSE:y(),PROJECTIONTRANSPOSE:y(),WORLDVIEWTRANSPOSE:y(),VIEWPROJECTIONTRANSPOSE:y(),WORLDVIEWPROJECTIONTRANSPOSE:y(),WORLDINVERSETRANSPOSE:y(),VIEWINVERSETRANSPOSE:y(),PROJECTIONINVERSETRANSPOSE:y(),WORLDVIEWINVERSETRANSPOSE:y(),VIEWPROJECTIONINVERSETRANSPOSE:y(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:y()};p.COLOR_BUFFER_BIT=a.a.COLOR_BUFFER_BIT,p.DEPTH_BUFFER_BIT=a.a.DEPTH_BUFFER_BIT,p.STENCIL_BUFFER_BIT=a.a.STENCIL_BUFFER_BIT,e.a=p},function(t,e,n){\"use strict\";function a(t,e){this.action=t,this.context=e}var i={trigger:function(t){if(this.hasOwnProperty(\"__handlers__\")&&this.__handlers__.hasOwnProperty(t)){var e=this.__handlers__[t],n=e.length,i=-1,r=arguments;switch(r.length){case 1:for(;++i<n;)e[i].action.call(e[i].context);return;case 2:for(;++i<n;)e[i].action.call(e[i].context,r[1]);return;case 3:for(;++i<n;)e[i].action.call(e[i].context,r[1],r[2]);return;case 4:for(;++i<n;)e[i].action.call(e[i].context,r[1],r[2],r[3]);return;case 5:for(;++i<n;)e[i].action.call(e[i].context,r[1],r[2],r[3],r[4]);return;default:for(;++i<n;)e[i].action.apply(e[i].context,Array.prototype.slice.call(r,1));return}}},on:function(t,e,n){if(t&&e){var i=this.__handlers__||(this.__handlers__={});if(i[t]){if(this.has(t,e))return}else i[t]=[];var r=new a(e,n||this);return i[t].push(r),this}},once:function(e,n,t){if(e&&n){var i=this;return this.on(e,function t(){i.off(e,t),n.apply(this,arguments)},t)}},before:function(t,e,n){if(t&&e)return t=\"before\"+t,this.on(t,e,n)},after:function(t,e,n){if(t&&e)return t=\"after\"+t,this.on(t,e,n)},success:function(t,e){return this.once(\"success\",t,e)},error:function(t,e){return this.once(\"error\",t,e)},off:function(t,e){var n=this.__handlers__||(this.__handlers__={});if(e){if(n[t]){for(var i=n[t],r=[],a=0;a<i.length;a++)e&&i[a].action!==e&&r.push(i[a]);n[t]=r}return this}n[t]=[]},has:function(t,e){var n=this.__handlers__;if(!n||!n[t])return!1;for(var i=n[t],r=0;r<i.length;r++)if(i[r].action===e)return!0}};e.a=i},function(t,e,n){\"use strict\";function i(t,e){this.origin=t||new m.a,this.direction=e||new m.a}var d,f,p,g,c,r,m=n(3),v=n(12);i.prototype={constructor:i,intersectPlane:function(t,e){var n=t.normal.array,i=t.distance,r=this.origin.array,a=this.direction.array,o=v.a.dot(n,a);if(0===o)return null;e=e||new m.a;var s=(v.a.dot(n,r)-i)/o;return v.a.scaleAndAdd(e.array,r,a,-s),e._dirty=!0,e},mirrorAgainstPlane:function(t){var e=v.a.dot(t.normal.array,this.direction.array);v.a.scaleAndAdd(this.direction.array,this.direction.array,t.normal.array,2*-e),this.direction._dirty=!0},distanceToPoint:(r=v.a.create(),function(t){v.a.sub(r,t,this.origin.array);var e=v.a.dot(r,this.direction.array);if(e<0)return v.a.distance(this.origin.array,t);var n=v.a.lenSquared(r);return Math.sqrt(n-e*e)}),intersectSphere:(c=v.a.create(),function(t,e,n){var i=this.origin.array,r=this.direction.array;t=t.array,v.a.sub(c,t,i);var a=v.a.dot(c,r),o=v.a.squaredLength(c)-a*a,s=e*e;if(!(s<o)){var l=Math.sqrt(s-o),u=a-l,h=a+l;return n=n||new m.a,u<0?h<0?null:(v.a.scaleAndAdd(n.array,i,r,h),n):(v.a.scaleAndAdd(n.array,i,r,u),n)}}),intersectBoundingBox:function(t,e){var n,i,r,a,o,s,l=this.direction.array,u=this.origin.array,h=t.min.array,c=t.max.array,d=1/l[0],f=1/l[1],p=1/l[2];if(0<=d?(n=(h[0]-u[0])*d,i=(c[0]-u[0])*d):(i=(h[0]-u[0])*d,n=(c[0]-u[0])*d),0<=f?(r=(h[1]-u[1])*f,a=(c[1]-u[1])*f):(a=(h[1]-u[1])*f,r=(c[1]-u[1])*f),a<n||i<r)return null;if((n<r||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),0<=p?(o=(h[2]-u[2])*p,s=(c[2]-u[2])*p):(s=(h[2]-u[2])*p,o=(c[2]-u[2])*p),s<n||i<o)return null;if((n<o||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0)return null;var g=0<=n?n:i;return e=e||new m.a,v.a.scaleAndAdd(e.array,u,l,g),e},intersectTriangle:(d=v.a.create(),f=v.a.create(),p=v.a.create(),g=v.a.create(),function(t,e,n,i,r,a){var o=this.direction.array,s=this.origin.array;t=t.array,e=e.array,n=n.array,v.a.sub(d,e,t),v.a.sub(f,n,t),v.a.cross(g,f,o);var l=v.a.dot(d,g);if(i){if(-1e-5<l)return null}else if(-1e-5<l&&l<1e-5)return null;v.a.sub(p,s,t);var u=v.a.dot(g,p)/l;if(u<0||1<u)return null;v.a.cross(g,d,p);var h=v.a.dot(o,g)/l;if(h<0||1<h||1<u+h)return null;v.a.cross(g,d,f);var c=-v.a.dot(p,g)/l;return c<0?null:(r=r||new m.a,a&&m.a.set(a,1-u-h,u,h),v.a.scaleAndAdd(r.array,s,o,c),r)}),applyTransform:function(t){m.a.add(this.direction,this.direction,this.origin),m.a.transformMat4(this.origin,this.origin,t),m.a.transformMat4(this.direction,this.direction,t),m.a.sub(this.direction,this.direction,this.origin),m.a.normalize(this.direction,this.direction)},copy:function(t){m.a.copy(this.origin,t.origin),m.a.copy(this.direction,t.direction)},clone:function(){var t=new i;return t.copy(this),t}},e.a=i},function(t,e,n){\"use strict\";var r,a,o,s,i=n(20),l=n(12),u=n(33),h=n(34),c={create:function(){var t=new i.a(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}};c.rotationTo=(r=l.a.create(),a=l.a.fromValues(1,0,0),o=l.a.fromValues(0,1,0),function(t,e,n){var i=l.a.dot(e,n);return i<-.999999?(l.a.cross(r,a,e),l.a.length(r)<1e-6&&l.a.cross(r,o,e),l.a.normalize(r,r),c.setAxisAngle(t,r,Math.PI),t):.999999<i?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(l.a.cross(r,e,n),t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=1+i,c.normalize(t,t))}),c.setAxes=(s=h.a.create(),function(t,e,n,i){return s[0]=n[0],s[3]=n[1],s[6]=n[2],s[1]=i[0],s[4]=i[1],s[7]=i[2],s[2]=-e[0],s[5]=-e[1],s[8]=-e[2],c.normalize(t,c.fromMat3(t,s))}),c.clone=u.a.clone,c.fromValues=u.a.fromValues,c.copy=u.a.copy,c.set=u.a.set,c.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},c.setAxisAngle=function(t,e,n){n*=.5;var i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t},c.add=u.a.add,c.multiply=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=n[0],l=n[1],u=n[2],h=n[3];return t[0]=i*h+o*s+r*u-a*l,t[1]=r*h+o*l+a*s-i*u,t[2]=a*h+o*u+i*l-r*s,t[3]=o*h-i*s-r*l-a*u,t},c.mul=c.multiply,c.scale=u.a.scale,c.rotateX=function(t,e,n){n*=.5;var i=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l+o*s,t[1]=r*l+a*s,t[2]=a*l-r*s,t[3]=o*l-i*s,t},c.rotateY=function(t,e,n){n*=.5;var i=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l-a*s,t[1]=r*l+o*s,t[2]=a*l+i*s,t[3]=o*l-r*s,t},c.rotateZ=function(t,e,n){n*=.5;var i=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l+r*s,t[1]=r*l-i*s,t[2]=a*l+o*s,t[3]=o*l-a*s,t},c.calculateW=function(t,e){var n=e[0],i=e[1],r=e[2];return t[0]=n,t[1]=i,t[2]=r,t[3]=Math.sqrt(Math.abs(1-n*n-i*i-r*r)),t},c.dot=u.a.dot,c.lerp=u.a.lerp,c.slerp=function(t,e,n,i){var r,a,o,s,l=e[0],u=e[1],h=e[2],c=e[3],d=n[0],f=n[1],p=n[2],g=n[3],m=l*d+u*f+h*p+c*g;return m<0&&(m=-m,d=-d,f=-f,p=-p,g=-g),s=1e-6<1-m?(r=Math.acos(m),a=Math.sin(r),o=Math.sin((1-i)*r)/a,Math.sin(i*r)/a):(o=1-i,i),t[0]=o*l+s*d,t[1]=o*u+s*f,t[2]=o*h+s*p,t[3]=o*c+s*g,t},c.invert=function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=n*n+i*i+r*r+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-i*s,t[2]=-r*s,t[3]=a*s,t},c.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},c.length=u.a.length,c.len=c.length,c.squaredLength=u.a.squaredLength,c.sqrLen=c.squaredLength,c.normalize=u.a.normalize,c.fromMat3=function(t,e){var n,i,r,a,o=e[0]+e[4]+e[8];return 0<o?(a=Math.sqrt(o+1),t[3]=.5*a,a=.5/a,t[0]=(e[5]-e[7])*a,t[1]=(e[6]-e[2])*a,t[2]=(e[1]-e[3])*a):(n=0,e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2),i=(n+1)%3,r=(n+2)%3,a=Math.sqrt(e[3*n+n]-e[3*i+i]-e[3*r+r]+1),t[n]=.5*a,a=.5/a,t[3]=(e[3*i+r]-e[3*r+i])*a,t[i]=(e[3*i+n]+e[3*n+i])*a,t[r]=(e[3*r+n]+e[3*n+r])*a),t},e.a=c},function(t,e,n){\"use strict\";function i(t,e,n,i){t=t||0,e=e||0,n=n||0,i=void 0===i?1:i,this.array=a.a.fromValues(t,e,n,i),this._dirty=!0}var r,a=n(55),o=n(34);i.prototype={constructor:i,add:function(t){return a.a.add(this.array,this.array,t.array),this._dirty=!0,this},calculateW:function(){return a.a.calculateW(this.array,this.array),this._dirty=!0,this},set:function(t,e,n,i){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=i,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z,this.w)},conjugate:function(){return a.a.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(t){return a.a.copy(this.array,t.array),this._dirty=!0,this},dot:function(t){return a.a.dot(this.array,t.array)},fromMat3:function(t){return a.a.fromMat3(this.array,t.array),this._dirty=!0,this},fromMat4:(r=o.a.create(),function(t){return o.a.fromMat4(r,t.array),o.a.transpose(r,r),a.a.fromMat3(this.array,r),this._dirty=!0,this}),identity:function(){return a.a.identity(this.array),this._dirty=!0,this},invert:function(){return a.a.invert(this.array,this.array),this._dirty=!0,this},len:function(){return a.a.len(this.array)},length:function(){return a.a.length(this.array)},lerp:function(t,e,n){return a.a.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},mul:function(t){return a.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return a.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return a.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return a.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},normalize:function(){return a.a.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(t){return a.a.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return a.a.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return a.a.rotateZ(this.array,this.array,t),this._dirty=!0,this},rotationTo:function(t,e){return a.a.rotationTo(this.array,t.array,e.array),this._dirty=!0,this},setAxes:function(t,e,n){return a.a.setAxes(this.array,t.array,e.array,n.array),this._dirty=!0,this},setAxisAngle:function(t,e){return a.a.setAxisAngle(this.array,t.array,e),this._dirty=!0,this},slerp:function(t,e,n){return a.a.slerp(this.array,t.array,e.array,n),this._dirty=!0,this},sqrLen:function(){return a.a.sqrLen(this.array)},squaredLength:function(){return a.a.squaredLength(this.array)},fromEuler:function(t,e){return i.fromEuler(this,t,e)},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}};var s,l=Object.defineProperty;l&&(l(s=i.prototype,\"x\",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),l(s,\"y\",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),l(s,\"z\",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),l(s,\"w\",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})),i.add=function(t,e,n){return a.a.add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i,r){a.a.set(t.array,e,n,i,r),t._dirty=!0},i.copy=function(t,e){return a.a.copy(t.array,e.array),t._dirty=!0,t},i.calculateW=function(t,e){return a.a.calculateW(t.array,e.array),t._dirty=!0,t},i.conjugate=function(t,e){return a.a.conjugate(t.array,e.array),t._dirty=!0,t},i.identity=function(t){return a.a.identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return a.a.invert(t.array,e.array),t._dirty=!0,t},i.dot=function(t,e){return a.a.dot(t.array,e.array)},i.len=function(t){return a.a.length(t.array)},i.lerp=function(t,e,n,i){return a.a.lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.slerp=function(t,e,n,i){return a.a.slerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return a.a.multiply(t.array,e.array,n.array),t._dirty=!0,t},i.rotateX=function(t,e,n){return a.a.rotateX(t.array,e.array,n),t._dirty=!0,t},i.rotateY=function(t,e,n){return a.a.rotateY(t.array,e.array,n),t._dirty=!0,t},i.rotateZ=function(t,e,n){return a.a.rotateZ(t.array,e.array,n),t._dirty=!0,t},i.setAxisAngle=function(t,e,n){return a.a.setAxisAngle(t.array,e.array,n),t._dirty=!0,t},i.normalize=function(t,e){return a.a.normalize(t.array,e.array),t._dirty=!0,t},i.squaredLength=i.sqrLen=function(t){return a.a.sqrLen(t.array)},i.fromMat3=function(t,e){return a.a.fromMat3(t.array,e.array),t._dirty=!0,t},i.setAxes=function(t,e,n,i){return a.a.setAxes(t.array,e.array,n.array,i.array),t._dirty=!0,t},i.rotationTo=function(t,e,n){return a.a.rotationTo(t.array,e.array,n.array),t._dirty=!0,t},i.fromEuler=function(t,e,n){t._dirty=!0,e=e.array;var i=t.array,r=Math.cos(e[0]/2),a=Math.cos(e[1]/2),o=Math.cos(e[2]/2),s=Math.sin(e[0]/2),l=Math.sin(e[1]/2),u=Math.sin(e[2]/2);switch(n=(n||\"XYZ\").toUpperCase()){case\"XYZ\":i[0]=s*a*o+r*l*u,i[1]=r*l*o-s*a*u,i[2]=r*a*u+s*l*o,i[3]=r*a*o-s*l*u;break;case\"YXZ\":i[0]=s*a*o+r*l*u,i[1]=r*l*o-s*a*u,i[2]=r*a*u-s*l*o,i[3]=r*a*o+s*l*u;break;case\"ZXY\":i[0]=s*a*o-r*l*u,i[1]=r*l*o+s*a*u,i[2]=r*a*u+s*l*o,i[3]=r*a*o-s*l*u;break;case\"ZYX\":i[0]=s*a*o-r*l*u,i[1]=r*l*o+s*a*u,i[2]=r*a*u-s*l*o,i[3]=r*a*o+s*l*u;break;case\"YZX\":i[0]=s*a*o+r*l*u,i[1]=r*l*o+s*a*u,i[2]=r*a*u-s*l*o,i[3]=r*a*o-s*l*u;break;case\"XZY\":i[0]=s*a*o-r*l*u,i[1]=r*l*o-s*a*u,i[2]=r*a*u+s*l*o,i[3]=r*a*o+s*l*u}},e.a=i},function(t,e,n){\"use strict\";function i(){this._contextId=0,this._caches=[],this._context={}}var r=\"__dt__\";(i.prototype={use:function(t,e){var n=this._caches;n[t]||(n[t]={},e&&(n[t]=e())),this._contextId=t,this._context=n[t]},put:function(t,e){this._context[t]=e},get:function(t){return this._context[t]},dirty:function(t){var e=r+(t=t||\"\");this.put(e,!0)},dirtyAll:function(t){for(var e=r+(t=t||\"\"),n=this._caches,i=0;i<n.length;i++)n[i]&&(n[i][e]=!0)},fresh:function(t){var e=r+(t=t||\"\");this.put(e,!1)},freshAll:function(t){for(var e=r+(t=t||\"\"),n=this._caches,i=0;i<n.length;i++)n[i]&&(n[i][e]=!1)},isDirty:function(t){var e=r+(t=t||\"\"),n=this._context;return!n.hasOwnProperty(e)||!0===n[e]},deleteContext:function(t){delete this._caches[t],this._context={}},delete:function(t){delete this._context[t]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(e,n){Object.keys(this._caches).forEach(function(t){e&&e.call(n,t)})},miss:function(t){return!this._context.hasOwnProperty(t)}}).constructor=i,e.a=i},function(t,e,n){\"use strict\";var a,i=n(35),r=n(9),o=n(59),s=n(54),l=n(33),u=n(12),h=i.a.extend(function(){return{projectionMatrix:new r.a,invProjectionMatrix:new r.a,viewMatrix:new r.a,frustum:new o.a}},function(){this.update(!0)},{update:function(t){i.a.prototype.update.call(this,t),r.a.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),r.a.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(t){r.a.copy(this.viewMatrix,t),r.a.invert(this.worldTransform,t),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(t){r.a.copy(this.projectionMatrix,t),r.a.invert(this.invProjectionMatrix,t),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:(a=l.a.create(),function(t,e){var n=void 0!==e?e:new s.a,i=t.array[0],r=t.array[1];return l.a.set(a,i,r,-1,1),l.a.transformMat4(a,a,this.invProjectionMatrix.array),l.a.transformMat4(a,a,this.worldTransform.array),u.a.scale(n.origin.array,a,1/a[3]),l.a.set(a,i,r,1,1),l.a.transformMat4(a,a,this.invProjectionMatrix.array),l.a.transformMat4(a,a,this.worldTransform.array),u.a.scale(a,a,1/a[3]),u.a.sub(n.direction.array,a,n.origin.array),u.a.normalize(n.direction.array,n.direction.array),n.direction._dirty=!0,n.origin._dirty=!0,n})});e.a=h},function(t,e,n){\"use strict\";function i(){this.planes=[];for(var t=0;t<6;t++)this.planes.push(new a.a);for(this.boundingBox=new r.a,this.vertices=[],t=0;t<8;t++)this.vertices[t]=o.a.fromValues(0,0,0)}var h,r=n(18),a=n(74),o=n(12),O=o.a.set,c=o.a.copy,d=o.a.transformMat4,f=Math.min,p=Math.max;i.prototype={setFromProjection:function(t){var e=this.planes,n=t.array,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],h=n[7],c=n[8],d=n[9],f=n[10],p=n[11],g=n[12],m=n[13],v=n[14],y=n[15];O(e[0].normal.array,o-i,h-s,p-c),e[0].distance=-(y-g),e[0].normalize(),O(e[1].normal.array,o+i,h+s,p+c),e[1].distance=-(y+g),e[1].normalize(),O(e[2].normal.array,o+r,h+l,p+d),e[2].distance=-(y+m),e[2].normalize(),O(e[3].normal.array,o-r,h-l,p-d),e[3].distance=-(y-m),e[3].normalize(),O(e[4].normal.array,o-a,h-u,p-f),e[4].distance=-(y-v),e[4].normalize(),O(e[5].normal.array,o+a,h+u,p+f),e[5].distance=-(y+v),e[5].normalize();var _,x,b,w,T,S,M,A,I,C,D,E,L,P=this.boundingBox,N=this.vertices;0===y?(_=l/i,w=-(b=-v/(f+1))/l,T=-(x=-v/(f-1))/l,P.min.set(-w*_,-w,b),P.max.set(w*_,w,x),O(N[0],-w*_,-w,b),O(N[1],-w*_,w,b),O(N[2],w*_,-w,b),O(N[3],w*_,w,b),O(N[4],-T*_,-T,x),O(N[5],-T*_,T,x),O(N[6],T*_,-T,x),O(N[7],T*_,T,x)):(S=(-1-g)/i,M=(1-g)/i,A=(1-m)/l,I=(-1-m)/l,C=(-1-v)/f,D=(1-v)/f,P.min.set(Math.min(S,M),Math.min(I,A),Math.min(D,C)),P.max.set(Math.max(M,S),Math.max(A,I),Math.max(C,D)),E=P.min.array,L=P.max.array,O(N[0],E[0],E[1],E[2]),O(N[1],E[0],L[1],E[2]),O(N[2],L[0],E[1],E[2]),O(N[3],L[0],L[1],E[2]),O(N[4],E[0],E[1],L[2]),O(N[5],E[0],L[1],L[2]),O(N[6],L[0],E[1],L[2]),O(N[7],L[0],L[1],L[2]))},getTransformedBoundingBox:(h=o.a.create(),function(t,e){var n=this.vertices,i=e.array,r=t.min,a=t.max,o=r.array,s=a.array,l=n[0];d(h,l,i),c(o,h),c(s,h);for(var u=1;u<8;u++)l=n[u],d(h,l,i),o[0]=f(h[0],o[0]),o[1]=f(h[1],o[1]),o[2]=f(h[2],o[2]),s[0]=p(h[0],s[0]),s[1]=p(h[1],s[1]),s[2]=p(h[2],s[2]);return r._dirty=!0,a._dirty=!0,t})},e.a=i},function(t,e){function n(){this.head=null,this.tail=null,this._len=0}var i=n.prototype;i.insert=function(t){var e=new l(t);return this.insertEntry(e),e},i.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.len=function(){return this._len},i.clear=function(){this.head=this.tail=null,this._len=0};function r(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null}var l=function(t){this.value=t,this.next,this.prev},a=r.prototype;a.put=function(t,e){var n,i,r,a=this._list,o=this._map,s=null;return null==o[t]&&(n=a.len(),i=this._lastRemovedEntry,n>=this._maxSize&&0<n&&(r=a.head,a.remove(r),delete o[r.key],s=r.value,this._lastRemovedEntry=r),i?i.value=e:i=new l(e),i.key=t,a.insertEntry(i),o[t]=i),s},a.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},a.clear=function(){this._list.clear(),this._map={}},t.exports=r},function(t,e,n){\"use strict\";var u=n(5),a=n(27),i=n(14),o=n(62),s=n(75),l=n(36),h=n(122),c=n(123),d={loadTexture:function(t,e,n,i){var r;if(e=\"function\"==typeof e?(i=n=e,{}):e||{},\"string\"==typeof t){if(t.match(/.hdr$/)||\"hdr\"===e.fileType)return r=new u.a({width:0,height:0,sRGB:!1}),d._fetchTexture(t,function(t){c.a.parseRGBE(t,r,e.exposure),r.dirty(),n&&n(r)},i),r;t.match(/.dds$/)||\"dds\"===e.fileType?(r=new u.a({width:0,height:0}),d._fetchTexture(t,function(t){h.a.parse(t,r),r.dirty(),n&&n(r)},i)):((r=new u.a).load(t),r.success(n),r.error(i))}else\"object\"==typeof t&&void 0!==t.px&&((r=new a.a).load(t),r.success(n),r.error(i));return r},loadPanorama:function(e,t,n,i,r,a){var o=this;i=\"function\"==typeof i?(a=r=i,{}):i||{},d.loadTexture(t,i,function(t){t.flipY=i.flipY||!1,o.panoramaToCubeMap(e,t,n,i),t.dispose(e),r&&r(n)},a)},panoramaToCubeMap:function(t,e,n,i){var r=new o.a,a=new s.a({scene:new l.a});return a.setEnvironmentMap(e),(i=i||{}).encodeRGBM&&a.material.define(\"fragment\",\"RGBM_ENCODE\"),n.sRGB=e.sRGB,r.texture=n,r.render(t,a.scene),r.texture=null,r.dispose(t),n},heightToNormal:function(t,e){var n=document.createElement(\"canvas\"),i=n.width=t.width,r=n.height=t.height,a=n.getContext(\"2d\");a.drawImage(t,0,0,i,r),e=e||!1;for(var o=a.getImageData(0,0,i,r),s=a.createImageData(i,r),l=0;l<o.data.length;l+=4){if(e){var u=o.data[l],h=o.data[l+1],c=o.data[l+2];if(20<Math.abs(u-h)+Math.abs(h-c))return console.warn(\"Given image is not a height map\"),t}var d,f,p=l%(4*i)==0?(d=o.data[l],o.data[l+4]):l%(4*i)==4*(i-1)?(d=o.data[l-4],o.data[l]):(d=o.data[l-4],o.data[l+4]),g=l<4*i?(f=o.data[l],o.data[l+4*i]):i*(r-1)*4<l?(f=o.data[l-4*i],o.data[l]):(f=o.data[l-4*i],o.data[l+4*i]);s.data[l]=d-p+127,s.data[l+1]=f-g+127,s.data[l+2]=255,s.data[l+3]=255}return a.putImageData(s,0,0),n},isHeightImage:function(t,e,n){if(!t||!t.width||!t.height)return!1;var i=document.createElement(\"canvas\"),r=i.getContext(\"2d\"),a=e||32;n=n||20,i.width=i.height=a,r.drawImage(t,0,0,a,a);for(var o=r.getImageData(0,0,a,a),s=0;s<o.data.length;s+=4){var l=o.data[s],u=o.data[s+1],h=o.data[s+2];if(n<Math.abs(l-u)+Math.abs(u-h))return!1}return!0},_fetchTexture:function(t,e,n){i.a.request.get({url:t,responseType:\"arraybuffer\",onload:e,onerror:n})},createChessboard:function(t,e,n,i){t=t||512,e=e||64,n=n||\"black\",i=i||\"white\";var r=Math.ceil(t/e),a=document.createElement(\"canvas\");a.width=t,a.height=t;var o=a.getContext(\"2d\");o.fillStyle=i,o.fillRect(0,0,t,t),o.fillStyle=n;for(var s=0;s<r;s++)for(var l=0;l<r;l++){(l%2?s%2:s%2-1)&&o.fillRect(s*e,l*e,e,e)}return new u.a({image:a,anisotropic:8})},createBlank:function(t){var e=document.createElement(\"canvas\");e.width=1,e.height=1;var n=e.getContext(\"2d\");return n.fillStyle=t,n.fillRect(0,0,1,1),new u.a({image:e})}};e.a=d},function(t,e,n){\"use strict\";var i=n(7),h=n(3),r=n(41),a=n(10),c=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"],o=i.a.extend(function(){var t={position:new h.a,far:1e3,near:.1,texture:null,shadowMapPass:null},e=t._cameras={px:new r.a({fov:90}),nx:new r.a({fov:90}),py:new r.a({fov:90}),ny:new r.a({fov:90}),pz:new r.a({fov:90}),nz:new r.a({fov:90})};return e.px.lookAt(h.a.POSITIVE_X,h.a.NEGATIVE_Y),e.nx.lookAt(h.a.NEGATIVE_X,h.a.NEGATIVE_Y),e.py.lookAt(h.a.POSITIVE_Y,h.a.POSITIVE_Z),e.ny.lookAt(h.a.NEGATIVE_Y,h.a.NEGATIVE_Z),e.pz.lookAt(h.a.POSITIVE_Z,h.a.NEGATIVE_Y),e.nz.lookAt(h.a.NEGATIVE_Z,h.a.NEGATIVE_Y),t._frameBuffer=new a.a,t},{getCamera:function(t){return this._cameras[t]},render:function(t,e,n){var i=t.gl;n||e.update();for(var r=this.texture.width,a=2*Math.atan(r/(r-.5))/Math.PI*180,o=0;o<6;o++){var s,l=c[o],u=this._cameras[l];h.a.copy(u.position,this.position),u.far=this.far,u.near=this.near,u.fov=a,this.shadowMapPass&&(u.update(),(s=e.getBoundingBox()).applyTransform(u.viewMatrix),e.viewBoundingBoxLastFrame.copy(s),this.shadowMapPass.render(t,e,u,!0)),this._frameBuffer.attach(this.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._frameBuffer.bind(t),t.render(e,u,!0),this._frameBuffer.unbind(t)}},dispose:function(t){this._frameBuffer.dispose(t)}});e.a=o},function(t,e,n){\"use strict\";var i=n(1),r=n(165),a=n(166);i.a.Shader.import(a.a),e.a=i.a.Mesh.extend(function(){return{geometry:new r.a({dynamic:!0}),material:new i.a.Material({shader:i.a.createShader(\"ecgl.labels\"),transparent:!0,depthMask:!1}),culling:!1,castShadow:!1,ignorePicking:!0}})},function(t,e,n){\"use strict\";var i=n(0),s=n.n(i),T=n(1),M=n(204),r=n(25),S=n(2),a=n(6),o=n(65),l=n(66),u=n(46),U=a.a.vec3;function h(t){this.rootNode=new T.a.Node,this._triangulationResults={},this._shadersMap=T.a.COMMON_SHADERS.reduce(function(t,e){return t[e]=T.a.createShader(\"ecgl.\"+e),t},{}),this._linesShader=T.a.createShader(\"ecgl.meshLines3D\");var e={};T.a.COMMON_SHADERS.forEach(function(t){e[t]=new T.a.Material({shader:T.a.createShader(\"ecgl.\"+t)})}),this._groundMaterials=e,this._groundMesh=new T.a.Mesh({geometry:new T.a.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new l.a(512,512,t),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=t}T.a.Shader.import(u.a),h.prototype={constructor:h,extrudeY:!0,update:function(t,e,n,i,r){var l=t.getData();null==i&&(i=0),null==r&&(r=l.count()),this._startIndex=i,this._endIndex=r-1,this._triangulation(t,i,r);var a=this._getShader(t.get(\"shading\"));this._prepareMesh(t,a,n,i,r),this.rootNode.updateWorldTransform(),this._updateRegionMesh(t,n,i,r);var u=t.coordinateSystem;\"geo3D\"===u.type&&this._updateGroundPlane(t,u,n);var h=this;this._labelsBuilder.updateData(l,i,r),this._labelsBuilder.getLabelPosition=function(t,e,n){var i=l.getName(t),r=n;if(\"geo3D\"===u.type){var a=u.getRegion(i);return a?(s=a.center,u.dataToPoint([s[0],s[1],r])):[NaN,NaN,NaN]}var o=h._triangulationResults[t-h._startIndex],s=h.extrudeY?[(o.max[0]+o.min[0])/2,o.max[1]+r,(o.max[2]+o.min[2])/2]:[(o.max[0]+o.min[0])/2,(o.max[1]+o.min[1])/2,o.max[2]+r]},this._data=l,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(t),this._lastHoverDataIndex=0},_initMeshes:function(){var t=this;var e,n=(e=new T.a.Mesh({name:\"Polygon\",material:new T.a.Material({shader:t._shadersMap.lambert}),geometry:new T.a.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0}),s.a.util.extend(e.geometry,o.a),e),i=new T.a.Mesh({material:new T.a.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new r.a({useNativeLine:!1})});this.rootNode.add(n),this.rootNode.add(i),n.material.define(\"both\",\"VERTEX_COLOR\"),n.material.define(\"fragment\",\"DOUBLE_SIDED\"),this._polygonMesh=n,this._linesMesh=i,this.rootNode.add(this._groundMesh)},_getShader:function(t){var e=this._shadersMap[t];return e||(console.warn(\"Unkown shading \"+t),e=this._shadersMap.lambert),e.__shading=t,e},_prepareMesh:function(t,e,n,i,r){for(var a=0,o=0,s=0,l=0,u=i;u<r;u++){var h=this._getRegionPolygonInfo(u),c=this._getRegionLinesInfo(u,t,this._linesMesh.geometry);a+=h.vertexCount,o+=h.triangleCount,s+=c.vertexCount,l+=c.triangleCount}var d=this._polygonMesh,f=d.geometry;[\"position\",\"normal\",\"texcoord0\",\"color\"].forEach(function(t){f.attributes[t].init(a)}),f.indices=new(65535<a?Uint32Array:Uint16Array)(3*o),d.material.shader!==e&&d.material.attachShader(e,!0),T.a.setMaterialFromModel(e.__shading,d.material,t,n),0<s&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(s),this._linesMesh.geometry.setTriangleCount(l)),this._dataIndexOfVertex=new Uint32Array(a),this._vertexRangeOfDataIndex=new Uint32Array(2*(r-i))},_updateRegionMesh:function(t,e,n,i){for(var r=t.getData(),a=0,o=0,s=!1,l=this._polygonMesh,u=this._linesMesh,h=n;h<i;h++){var c=t.getRegionModel(h),d=c.getModel(\"itemStyle\"),f=d.get(\"color\"),p=S.a.firstNotNull(d.get(\"opacity\"),1),g=r.getItemVisual(h,\"color\",!0);null!=g&&r.hasValue(h)&&(f=g),r.setItemVisual(h,\"color\",f),r.setItemVisual(h,\"opacity\",p),f=T.a.parseColor(f);var m=T.a.parseColor(d.get(\"borderColor\"));f[3]*=p,m[3]*=p;var v=f[3]<.99;l.material.set(\"color\",[1,1,1,1]),s=s||v;for(var y=S.a.firstNotNull(c.get(\"height\",!0),t.get(\"regionHeight\")),_=this._updatePolygonGeometry(t,l.geometry,h,y,a,o,f),x=a;x<_.vertexOffset;x++)this._dataIndexOfVertex[x]=h;this._vertexRangeOfDataIndex[2*(h-n)]=a,this._vertexRangeOfDataIndex[2*(h-n)+1]=_.vertexOffset,a=_.vertexOffset,o=_.triangleOffset;var b=d.get(\"borderWidth\"),w=0<b;w&&(b*=e.getDevicePixelRatio(),this._updateLinesGeometry(u.geometry,t,h,y,b,t.coordinateSystem.transform)),u.invisible=!w,u.material.set({color:m})}(l=this._polygonMesh).material.transparent=s,l.material.depthMask=!s,l.geometry.updateBoundingBox(),l.frontFace=this.extrudeY?T.a.Mesh.CCW:T.a.Mesh.CW,l.material.get(\"normalMap\")&&l.geometry.generateTangents(),l.seriesIndex=t.seriesIndex,l.on(\"mousemove\",this._onmousemove,this),l.on(\"mouseout\",this._onmouseout,this)},_updateDebugWireframe:function(t){var e,n,i,r=t.getModel(\"debug.wireframe\");r.get(\"show\")&&(e=T.a.parseColor(r.get(\"lineStyle.color\")||\"rgba(0,0,0,0.5)\"),n=S.a.firstNotNull(r.get(\"lineStyle.width\"),1),(i=this._polygonMesh).geometry.generateBarycentric(),i.material.define(\"both\",\"WIREFRAME_TRIANGLE\"),i.material.set(\"wireframeLineColor\",e),i.material.set(\"wireframeLineWidth\",n))},_onmousemove:function(t){var e=this._dataIndexOfVertex[t.triangle[0]];null==e&&(e=-1),e!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(e),this._labelsBuilder.updateLabels([e])),this._lastHoverDataIndex=e,this._polygonMesh.dataIndex=e},_onmouseout:function(t){t.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(t,e,n){var i,r,a=t.getModel(\"groundPlane\",t);this._groundMesh.invisible=!a.get(\"show\",!0),this._groundMesh.invisible||(i=t.get(\"shading\"),(r=this._groundMaterials[i])||(console.warn(\"Unkown shading \"+i),r=this._groundMaterials.lambert),T.a.setMaterialFromModel(i,r,a,n),r.get(\"normalMap\")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=r,this._groundMesh.material.set(\"color\",T.a.parseColor(a.get(\"color\"))),this._groundMesh.scale.set(e.size[0],e.size[2],1))},_triangulation:function(t,e,n){this._triangulationResults=[];for(var i=[1/0,1/0,1/0],r=[-1/0,-1/0,-1/0],a=t.coordinateSystem,o=e;o<n;o++){for(var s=[],l=t.getRegionPolygonCoords(o),u=0;u<l.length;u++){var h=l[u].exterior,c=l[u].interiors,d=[],f=[];if(!(h.length<3)){for(var p=0,g=0;g<h.length;g++){var m=h[g];d[p++]=m[0],d[p++]=m[1]}for(g=0;g<c.length;g++)if(!(c[g].length<3)){for(var v=d.length/2,y=0;y<c[g].length;y++){m=c[g][y];d.push(m[0]),d.push(m[1])}f.push(v)}for(var _=Object(M.a)(d,f),x=new Float64Array(d.length/2*3),b=[],w=[1/0,1/0,1/0],T=[-1/0,-1/0,-1/0],S=0,g=0;g<d.length;)U.set(b,d[g++],0,d[g++]),a&&a.transform&&U.transformMat4(b,b,a.transform),U.min(w,w,b),U.max(T,T,b),x[S++]=b[0],x[S++]=b[1],x[S++]=b[2];U.min(i,i,w),U.max(r,r,T),s.push({points:x,indices:_,min:w,max:T})}}this._triangulationResults.push(s)}this._geoBoundingBox=[i,r]},_getRegionPolygonInfo:function(t){for(var e=this._triangulationResults[t-this._startIndex],n=0,i=0,r=0;r<e.length;r++)n+=e[r].points.length/3,i+=e[r].indices.length/3;return{vertexCount:2*n+4*n,triangleCount:2*i+2*n}},_updatePolygonGeometry:function(t,e,n,i,s,a,l){var r=t.get(\"projectUVOnGround\"),u=e.attributes.position,o=e.attributes.normal,h=e.attributes.texcoord0,c=e.attributes.color,d=this._triangulationResults[n-this._startIndex],f=c.value&&l,p=e.indices,g=this.extrudeY?1:2,m=this.extrudeY?2:1,v=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=U.mul([],this._geoBoundingBox[0],v),_=U.mul([],this._geoBoundingBox[1],v),x=Math.max(_[0]-y[0],_[2]-y[2]);function b(t,e){var n=s;!function(t,e){for(var n=t.points,i=n.length,r=[],a=[],o=0;o<i;o+=3)r[0]=n[o],r[g]=e,r[m]=n[o+2],a[0]=(n[o]*v[0]-y[0])/x,a[1]=(n[o+2]*v[m]-y[2])/x,u.set(s,r),f&&c.set(s,l),h.set(s++,a)}(t,e);for(var i=t.indices.length,r=0;r<i;r++)p[3*a+r]=t.indices[r]+n;a+=t.indices.length/3}for(var w=this.extrudeY?[0,1,0]:[0,0,1],T=U.negate([],w),S=0;S<d.length;S++){var M=s,A=d[S];b(A,0),b(A,i);for(var I=A.points.length/3,C=0;C<I;C++)o.set(M+C,T),o.set(M+C+I,w);for(var D=[0,3,1,1,3,2],E=[[],[],[],[]],L=[],P=[],N=[],O=[],R=0,C=0;C<I;C++){for(var k=(C+1)%I,z=(A.points[3*k]-A.points[3*C])*v[0],B=(A.points[3*k+2]-A.points[3*C+2])*v[m],F=Math.sqrt(z*z+B*B),V=0;V<4;V++){var G=0===V||3===V,H=3*(G?C:k);E[V][0]=A.points[H],E[V][g]=1<V?i:0,E[V][m]=A.points[2+H],u.set(s+V,E[V]),r?(O[0]=(A.points[H]*v[0]-y[0])/x,O[1]=(A.points[2+H]*v[m]-y[m])/x):(O[0]=(G?R:R+F)/x,O[1]=(E[V][g]*v[g]-y[g])/x),h.set(s+V,O)}U.sub(L,E[1],E[0]),U.sub(P,E[3],E[0]),U.cross(N,L,P),U.normalize(N,N);for(V=0;V<4;V++)o.set(s+V,N),f&&c.set(s+V,l);for(V=0;V<6;V++)p[3*a+V]=D[V]+s;s+=4,a+=2,R+=F}}return e.dirty(),{vertexOffset:s,triangleOffset:a}},_getRegionLinesInfo:function(t,e,r){var a=0,o=0;return 0<e.getRegionModel(t).getModel(\"itemStyle\").get(\"borderWidth\")&&e.getRegionPolygonCoords(t).forEach(function(t){var e=t.exterior,n=t.interiors;a+=r.getPolylineVertexCount(e),o+=r.getPolylineTriangleCount(e);for(var i=0;i<n.length;i++)a+=r.getPolylineVertexCount(n[i]),o+=r.getPolylineTriangleCount(n[i])},this),{vertexCount:a,triangleCount:o}},_updateLinesGeometry:function(r,t,e,a,o,s){function l(t){for(var e=new Float64Array(3*t.length),n=0,i=[],r=0;r<t.length;r++)i[0]=t[r][0],i[1]=a+.1,i[2]=t[r][1],s&&U.transformMat4(i,i,s),e[n++]=i[0],e[n++]=i[1],e[n++]=i[2];return e}var u=[1,1,1,1];t.getRegionPolygonCoords(e).forEach(function(t){var e=t.exterior,n=t.interiors;r.addPolyline(l(e),u,o);for(var i=0;i<n.length;i++)r.addPolyline(l(n[i]),u,o)})},highlight:function(t){var e,n,i,r,a,o=this._data;o&&(r=(e=o.getItemModel(t).getModel(\"emphasis.itemStyle\")).get(\"color\"),n=S.a.firstNotNull(e.get(\"opacity\"),o.getItemVisual(t,\"opacity\"),1),null==r&&(i=o.getItemVisual(t,\"color\"),r=s.a.color.lift(i,-.4)),null==n&&(n=o.getItemVisual(t,\"opacity\")),(a=T.a.parseColor(r))[3]*=n,this._setColorOfDataIndex(o,t,a))},downplay:function(t){var e,n,i,r=this._data;r&&(e=r.getItemVisual(t,\"color\"),n=S.a.firstNotNull(r.getItemVisual(t,\"opacity\"),1),(i=T.a.parseColor(e))[3]*=n,this._setColorOfDataIndex(r,t,i))},_setColorOfDataIndex:function(t,e,n){if(!(e<this._startIndex&&e>this._endIndex)){e-=this._startIndex;for(var i=this._vertexRangeOfDataIndex[2*e];i<this._vertexRangeOfDataIndex[2*e+1];i++)this._polygonMesh.geometry.attributes.color.set(i,n);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}},e.a=h},function(t,e,n){\"use strict\";var r=n(97),y=n(6).a.vec3,_=y.create(),x=y.create(),b=y.create();e.a={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&2e4<=this.triangleCount},doSortTriangles:function(t,e){var n=this.indices;if(0===e){var i=this.attributes.position,t=t.array;this._triangleZList&&this._triangleZList.length===this.triangleCount||(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new n.constructor(n.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var r,a=0,o=0;o<n.length;){i.get(n[o++],_),i.get(n[o++],x),i.get(n[o++],b);var s=y.sqrDist(_,t),l=y.sqrDist(x,t),u=y.sqrDist(b,t),h=Math.min(s,l),h=Math.min(h,u);3===o?(r=h,h=0):h-=r,this._triangleZList[a++]=h}}for(var c=this._sortedTriangleIndices,o=0;o<c.length;o++)c[o]=o;if(this.triangleCount<2e4)0===e&&this._simpleSort(!0);else for(o=0;o<3;o++)this._progressiveQuickSort(3*e+o);for(var d=this._indicesTmp,f=this._triangleZListTmp,p=this._triangleZList,o=0;o<this.triangleCount;o++){var g=3*c[o],m=3*o;d[m++]=n[g++],d[m++]=n[g++],d[m]=n[g],f[o]=p[c[o]]}var v=this._indicesTmp;this._indicesTmp=this.indices,this.indices=v;v=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=v,this.dirtyIndices()},_simpleSort:function(t){var n=this._triangleZList,e=this._sortedTriangleIndices;function i(t,e){return n[e]-n[t]}t?Array.prototype.sort.call(e,i):r.a.sort(e,i,0,e.length-1)},_progressiveQuickSort:function(t){var n=this._triangleZList,e=this._sortedTriangleIndices;this._quickSort=this._quickSort||new r.a,this._quickSort.step(e,function(t,e){return n[e]-n[t]},t)}}},function(t,e,n){\"use strict\";var i=n(0),M=n.n(i),r=n(81),a=n(63),A=n(2);function o(t,e,n){this._labelsMesh=new a.a,this._labelTextureSurface=new r.a({width:512,height:512,devicePixelRatio:n.getDevicePixelRatio(),onupdate:function(){n.getZr().refresh()}}),this._api=n,this._labelsMesh.material.set(\"textureAtlas\",this._labelTextureSurface.getTexture())}o.prototype.getLabelPosition=function(t,e,n){return[0,0,0]},o.prototype.getLabelDistance=function(t,e,n){return 0},o.prototype.getMesh=function(){return this._labelsMesh},o.prototype.updateData=function(t,e,n){null==e&&(e=0),null==n&&(n=t.count()),this._labelsVisibilitiesBits&&this._labelsVisibilitiesBits.length===n-e||(this._labelsVisibilitiesBits=new Uint8Array(n-e));for(var i=[\"label\",\"show\"],r=[\"emphasis\",\"label\",\"show\"],a=e;a<n;a++){var o=t.getItemModel(a),s=o.get(i),l=o.get(r);null==l&&(l=s);var u=(s?1:0)|(l?2:0);this._labelsVisibilitiesBits[a-e]=u}this._start=e,this._end=n,this._data=t},o.prototype.updateLabels=function(t){if(this._data){for(var e=0<(t=t||[]).length,n={},i=0;i<t.length;i++)n[t[i]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var r=[\"label\"],a=[\"emphasis\",\"label\"],o=this._data.hostModel,s=this._data,l=o.getModel(r),u=o.getModel(a,l),h={left:\"right\",right:\"left\",top:\"center\",bottom:\"center\"},c={left:\"middle\",right:\"middle\",top:\"bottom\",bottom:\"top\"},d=this._start;d<this._end;d++){var f=!1;if(e&&n[d]&&(f=!0),this._labelsVisibilitiesBits[d-this._start]&(f?2:1)){var p=s.getItemModel(d).getModel(f?a:r,f?u:l),g=p.get(\"distance\")||0,m=p.get(\"position\"),v=p.getModel(\"textStyle\"),y=this._api.getDevicePixelRatio(),_=o.getFormattedLabel(d,f?\"emphasis\":\"normal\");if(null==_||\"\"===_)return;var x=new M.a.graphic.Text;M.a.graphic.setTextStyle(x.style,v,{text:_,textFill:v.get(\"color\")||s.getItemVisual(d,\"color\")||\"#000\",textAlign:\"left\",textVerticalAlign:\"top\",opacity:A.a.firstNotNull(v.get(\"opacity\"),s.getItemVisual(d,\"opacity\"),1)});var b=x.getBoundingRect();b.height*=1.2;var w=this._labelTextureSurface.add(x),T=h[m]||\"center\",S=c[m]||\"bottom\";this._labelsMesh.geometry.addSprite(this.getLabelPosition(d,m,g),[b.width*y,b.height*y],w,T,S,this.getLabelDistance(d,m,g)*y)}}this._labelsMesh.material.set(\"uvScale\",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}},e.a=o},function(t,e,n){\"use strict\";var i=n(0),s=n.n(i),M=n(1),l=n(239),A=n(240),r=n(66),a=n(9),f=n(2);function o(t,e){this.rootNode=new M.a.Node,this.is2D=t,this._labelsBuilder=new r.a(256,256,e),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=e,this._spriteImageCanvas=document.createElement(\"canvas\"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}o.prototype={constructor:o,highlightOnMouseover:!0,update:function(t,e,n,i,r){var a=this._prevMesh;this._prevMesh=this._mesh,this._mesh=a;var o=t.getData();null==i&&(i=0),null==r&&(r=o.count()),this._startDataIndex=i,this._endDataIndex=r-1,this._mesh||(s=this._prevMesh&&this._prevMesh.material,this._mesh=new A.a({renderOrder:10,frustumCulling:!1}),s&&(this._mesh.material=s));var s=this._mesh.material,l=this._mesh.geometry,u=l.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var h=this._getSymbolInfo(t,i,r),c=n.getDevicePixelRatio(),d=t.getModel(\"itemStyle\").getItemStyle(),f=t.get(\"large\"),p=1;2<h.maxSize?(p=this._updateSymbolSprite(t,d,h,c),s.enableTexture(\"sprite\")):s.disableTexture(\"sprite\"),u.position.init(r-i);var g=[];f?(s.undefine(\"VERTEX_SIZE\"),s.undefine(\"VERTEX_COLOR\"),_=o.getVisual(\"color\"),x=o.getVisual(\"opacity\"),M.a.parseColor(_,g),g[3]*=x,s.set({color:g,u_Size:h.maxSize*this._sizeScale})):(s.set({color:[1,1,1,1]}),s.define(\"VERTEX_SIZE\"),s.define(\"VERTEX_COLOR\"),u.size.init(r-i),u.color.init(r-i),this._originalOpacity=new Float32Array(r-i));for(var m=o.getLayout(\"points\"),v=u.position.value,y=0;y<r-i;y++){var _,x,b,w=3*y,T=2*y;this.is2D?(v[w]=m[T],v[1+w]=m[1+T],v[2+w]=-10):(v[w]=m[w],v[1+w]=m[1+w],v[2+w]=m[2+w]),f||(_=o.getItemVisual(y,\"color\"),x=o.getItemVisual(y,\"opacity\"),M.a.parseColor(_,g),g[3]*=x,u.color.set(y,g),g[3]<.99&&0,b=(b=o.getItemVisual(y,\"symbolSize\"))instanceof Array?Math.max(b[0],b[1]):b,isNaN(b)&&(b=0),u.size.value[y]=b*p*this._sizeScale,this._originalOpacity[y]=g[3])}this._mesh.sizeScale=p,l.updateBoundingBox(),l.dirty(),this._updateMaterial(t,d);var S=t.coordinateSystem;S&&S.viewGL&&s[S.viewGL.isLinearSpace()?\"define\":\"undefine\"](\"fragment\",\"SRGB_DECODE\"),f||this._updateLabelBuilder(t,i,r),this._updateHandler(t,e,n),this._updateAnimation(t),this._api=n},getPointsMesh:function(){return this._mesh},updateLabels:function(t){this._labelsBuilder.updateLabels(t)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},_updateSymbolSprite:function(t,e,n,i){n.maxSize=Math.min(2*n.maxSize,200);var r,a,o=[];return 1<n.aspect?(o[0]=n.maxSize,o[1]=n.maxSize/n.aspect):(o[1]=n.maxSize,o[0]=n.maxSize*n.aspect),o[0]=o[0]||1,o[1]=o[1]||1,this._symbolType===n.type&&(r=this._symbolSize,a=o,r&&a&&r[0]===a[0]&&r[1]===a[1])&&this._lineWidth===e.lineWidth||(l.a.createSymbolSprite(n.type,o,{fill:\"#fff\",lineWidth:e.lineWidth,stroke:\"transparent\",shadowColor:\"transparent\",minMargin:Math.min(o[0]/2,10)},this._spriteImageCanvas),l.a.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),20,this._mesh.material.get(\"sprite\").image),this._symbolType=n.type,this._symbolSize=o,this._lineWidth=e.lineWidth),this._spriteImageCanvas.width/n.maxSize*i},_updateMaterial:function(t,e){var n=\"lighter\"===t.get(\"blendMode\")?M.a.additiveBlend:null,i=this._mesh.material;i.blend=n,i.set(\"lineWidth\",e.lineWidth/20);var r=M.a.parseColor(e.stroke);i.set(\"strokeColor\",r),i.transparent=!0,i.depthMask=!1,i.depthTest=!this.is2D,i.sortVertices=!this.is2D},_updateLabelBuilder:function(t,r,e){var n=t.getData(),i=this._mesh.geometry,a=i.attributes.position.value,r=this._startDataIndex,o=this._mesh.sizeScale;this._labelsBuilder.updateData(n,r,e),this._labelsBuilder.getLabelPosition=function(t,e,n){var i=3*(t-r);return[a[i],a[1+i],a[2+i]]},this._labelsBuilder.getLabelDistance=function(t,e,n){return i.attributes.size.get(t-r)/o/2+n},this._labelsBuilder.updateLabels()},_updateAnimation:function(t){M.a.updateVertexAnimation([[\"prevPosition\",\"position\"],[\"prevSize\",\"size\"]],this._prevMesh,this._mesh,t)},_updateHandler:function(n,t,i){var r,a=n.getData(),o=this._mesh,s=this,l=-1,u=n.coordinateSystem&&\"cartesian3D\"===n.coordinateSystem.type;u&&(r=n.coordinateSystem.model),o.seriesIndex=n.seriesIndex,o.off(\"mousemove\"),o.off(\"mouseout\"),o.on(\"mousemove\",function(t){var e=t.vertexIndex+s._startDataIndex;e!==l&&(this.highlightOnMouseover&&(this.downplay(a,l),this.highlight(a,e),this._labelsBuilder.updateLabels([e])),u&&i.dispatchAction({type:\"grid3DShowAxisPointer\",value:[a.get(n.coordDimToDataDim(\"x\")[0],e),a.get(n.coordDimToDataDim(\"y\")[0],e),a.get(n.coordDimToDataDim(\"z\")[0],e)],grid3DIndex:r.componentIndex})),o.dataIndex=e,l=e},this),o.on(\"mouseout\",function(t){var e=t.vertexIndex+s._startDataIndex;this.highlightOnMouseover&&(this.downplay(a,e),this._labelsBuilder.updateLabels()),l=-1,o.dataIndex=-1,u&&i.dispatchAction({type:\"grid3DHideAxisPointer\",grid3DIndex:r.componentIndex})},this)},updateLayout:function(t,e,n){var i=t.getData();if(this._mesh){var r=this._mesh.geometry.attributes.position.value,a=i.getLayout(\"points\");if(this.is2D)for(var o=0;o<a.length/2;o++){var s=3*o,l=2*o;r[s]=a[l],r[1+s]=a[1+l],r[2+s]=-10}else for(o=0;o<a.length;o++)r[o]=a[o];this._mesh.geometry.dirty(),n.getZr().refresh()}},updateView:function(t){var e;this._mesh&&(e=new a.a,a.a.mul(e,t.viewMatrix,this._mesh.worldTransform),a.a.mul(e,t.projectionMatrix,e),this._mesh.updateNDCPosition(e,this.is2D,this._api))},highlight:function(t,e){var n,i,r,a,o;e>this._endDataIndex||e<this._startDataIndex||(a=(n=t.getItemModel(e).getModel(\"emphasis.itemStyle\")).get(\"color\"),i=n.get(\"opacity\"),null==a&&(r=t.getItemVisual(e,\"color\"),a=s.a.color.lift(r,-.4)),null==i&&(i=t.getItemVisual(e,\"opacity\")),(o=M.a.parseColor(a))[3]*=i,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,o),this._mesh.geometry.dirtyAttribute(\"color\"),this._api.getZr().refresh())},downplay:function(t,e){var n,i,r;e>this._endDataIndex||e<this._startDataIndex||(n=t.getItemVisual(e,\"color\"),i=t.getItemVisual(e,\"opacity\"),(r=M.a.parseColor(n))[3]*=i,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,r),this._mesh.geometry.dirtyAttribute(\"color\"),this._api.getZr().refresh())},fadeOutAll:function(t){if(this._originalOpacity){for(var e=this._mesh.geometry,n=0;n<e.vertexCount;n++){var i=this._originalOpacity[n]*t;e.attributes.color.value[4*n+3]=i}e.dirtyAttribute(\"color\"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(t){this._mesh&&this._setPositionTextureToMesh(this._mesh,t),this._positionTexture=t},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(t){if(t!==this._sizeScale){if(this._mesh){var e=this._mesh.material.get(\"u_Size\");this._mesh.material.set(\"u_Size\",e/this._sizeScale*t);var n=this._mesh.geometry.attributes;if(n.size.value)for(var i=0;i<n.size.value.length;i++)n.size.value[i]=n.size.value[i]/this._sizeScale*t}this._sizeScale=t}},_setPositionTextureToMesh:function(t,e){e&&t.material.set(\"positionTexture\",e),t.material[e?\"enableTexture\":\"disableTexture\"](\"positionTexture\")},_getSymbolInfo:function(t,e,n){if(t.get(\"large\"))return i=(c=f.a.firstNotNull(t.get(\"symbolSize\"),1))instanceof Array?(l=Math.max(c[0],c[1]),c[0]/c[1]):(l=c,1),{maxSize:c,type:t.get(\"symbol\"),aspect:i};for(var i,r=t.getData(),a=!1,o=r.getItemVisual(0,\"symbol\")||\"circle\",s=!1,l=0,u=e;u<n;u++){var h,c=r.getItemVisual(u,\"symbolSize\"),d=r.getItemVisual(u,\"symbol\");if(c instanceof Array)h=c[0]/c[1],l=Math.max(Math.max(c[0],c[1]),l);else{if(isNaN(c))return;h=1,l=Math.max(c,l)}null!=i&&.05<Math.abs(h-i)&&(a=!0),d!==o&&(s=!0),o=d,i=h}return a&&console.warn(\"Different symbol width / height ratio will be ignored.\"),s&&console.warn(\"Different symbol type will be ignored.\"),{maxSize:l,type:o,aspect:i}}},e.a=o},function(t,e){var n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){\"use strict\";function i(t){this._list=new r.a,this._map={},this._maxSize=t||10}var r=n(114);i.prototype.setMaxSize=function(t){this._maxSize=t},i.prototype.put=function(t,e){var n,i,r;this._map.hasOwnProperty(t)||((n=this._list.length())>=this._maxSize&&0<n&&(i=this._list.head,this._list.remove(i),delete this._map[i.key]),(r=this._list.insert(e)).key=t,this._map[t]=r)},i.prototype.get=function(t){var e=this._map[t];if(this._map.hasOwnProperty(t))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value},i.prototype.remove=function(t){var e=this._map[t];void 0!==e&&(delete this._map[t],this._list.remove(e))},i.prototype.clear=function(){this._list.clear(),this._map={}},e.a=i},function(t,e,n){\"use strict\";var l,i=n(20),r={create:function(){var t=new i.a(2);return t[0]=0,t[1]=0,t},clone:function(t){var e=new i.a(2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var n=new i.a(2);return n[0]=t,n[1]=e,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},subtract:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}};r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},r.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},r.distance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},r.normalize=function(t,e){var n=e[0],i=e[1],r=n*n+i*i;return 0<r&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t},r.lerp=function(t,e,n,i){var r=e[0],a=e[1];return t[0]=r+i*(n[0]-r),t[1]=a+i*(n[1]-a),t},r.random=function(t,e){e=e||1;var n=2*GLMAT_RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},r.transformMat2=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t},r.transformMat2d=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},r.transformMat3=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t},r.transformMat4=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t},r.forEach=(l=r.create(),function(t,e,n,i,r,a){var o,s;for(e=e||2,n=n||0,s=i?Math.min(i*e+n,t.length):t.length,o=n;o<s;o+=e)l[0]=t[o],l[1]=t[o+1],r(l,l,a),t[o]=l[0],t[o+1]=l[1];return t}),e.a=r},function(t,e,n){\"use strict\";e.a=\"@export clay.prez.vertex\\nuniform mat4 WVP : WORLDVIEWPROJECTION;\\nattribute vec3 pos : POSITION;\\nattribute vec2 uv : TEXCOORD_0;\\n@import clay.chunk.skinning_header\\nvarying vec2 v_Texcoord;\\nvoid main()\\n{\\n vec3 P = pos;\\n#ifdef SKINNING\\n @import clay.chunk.skin_matrix\\n P = (skinMatrixWS * vec4(pos, 1.0)).xyz;\\n#endif\\n gl_Position = WVP * vec4(P, 1.0);\\n v_Texcoord = uv;\\n}\\n@end\\n@export clay.prez.fragment\\nuniform sampler2D alphaMap;\\nuniform float alphaCutoff: 0.0;\\nvarying vec2 v_Texcoord;\\nvoid main()\\n{\\n if (alphaCutoff > 0.0) {\\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\\n discard;\\n }\\n }\\n gl_FragColor = vec4(0.0,0.0,0.0,1.0);\\n}\\n@end\"},function(t,e,n){\"use strict\";var i,r=n(35),a=n(11),o=r.a.extend({material:null,geometry:null,mode:a.a.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:a.a.BACK,frontFace:a.a.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&0<this.geometry.vertexCount},beforeRender:function(t){},afterRender:function(t,e){},getBoundingBox:function(t,e){return e=r.a.prototype.getBoundingBox.call(this,t,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:(i=[\"castShadow\",\"receiveShadow\",\"mode\",\"culling\",\"cullFace\",\"frontFace\",\"frustumCulling\",\"renderOrder\",\"lineWidth\",\"ignorePicking\",\"ignorePreZ\",\"ignoreGBuffer\"],function(){var t=r.a.prototype.clone.call(this);t.geometry=this.geometry,t.material=this.material;for(var e=0;e<i.length;e++){var n=i[e];t[n]!==this[n]&&(t[n]=this[n])}return t})});o.POINTS=a.a.POINTS,o.LINES=a.a.LINES,o.LINE_LOOP=a.a.LINE_LOOP,o.LINE_STRIP=a.a.LINE_STRIP,o.TRIANGLES=a.a.TRIANGLES,o.TRIANGLE_STRIP=a.a.TRIANGLE_STRIP,o.TRIANGLE_FAN=a.a.TRIANGLE_FAN,o.BACK=a.a.BACK,o.FRONT=a.a.FRONT,o.FRONT_AND_BACK=a.a.FRONT_AND_BACK,o.CW=a.a.CW,o.CCW=a.a.CCW,e.a=o},function(t,e,n){\"use strict\";var i={isPowerOfTwo:function(t){return 0==(t&t-1)},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}};e.a=i},function(t,e,n){\"use strict\";function i(t,e){this.normal=t||new c.a(0,1,0),this.distance=e||0}var r,a,o,h,c=n(3),s=n(21),d=n(12),l=n(33);i.prototype={constructor:i,distanceToPoint:function(t){return d.a.dot(t.array,this.normal.array)-this.distance},projectPoint:function(t,e){e=e||new c.a;var n=this.distanceToPoint(t);return d.a.scaleAndAdd(e.array,t.array,this.normal.array,-n),e._dirty=!0,e},normalize:function(){var t=1/d.a.len(this.normal.array);d.a.scale(this.normal.array,t),this.distance*=t},intersectFrustum:function(t){for(var e=t.vertices,n=this.normal.array,i=d.a.dot(e[0].array,n)>this.distance,r=1;r<8;r++)if(d.a.dot(e[r].array,n)>this.distance!=i)return!0},intersectLine:(h=d.a.create(),function(t,e,n){var i=this.distanceToPoint(t),r=this.distanceToPoint(e);if(0<i&&0<r||i<0&&r<0)return null;var a=this.normal.array,o=this.distance,s=t.array;d.a.sub(h,e.array,t.array),d.a.normalize(h,h);var l=d.a.dot(a,h);if(0===l)return null;n=n||new c.a;var u=(d.a.dot(a,s)-o)/l;return d.a.scaleAndAdd(n.array,s,h,-u),n._dirty=!0,n}),applyTransform:(r=s.a.create(),a=l.a.create(),(o=l.a.create())[3]=1,function(t){t=t.array,d.a.scale(o,this.normal.array,this.distance),l.a.transformMat4(o,o,t),this.distance=d.a.dot(o,this.normal.array),s.a.invert(r,t),s.a.transpose(r,r),a[3]=0,d.a.copy(a,this.normal.array),l.a.transformMat4(a,a,r),d.a.copy(this.normal.array,a)}),copy:function(t){d.a.copy(this.normal.array,t.normal.array),this.normal._dirty=!0,this.distance=t.distance},clone:function(){var t=new i;return t.copy(this),t}},e.a=i},function(t,e,n){\"use strict\";var i=n(42);e.a=i.a},function(t,e,n){\"use strict\";var i=n(15),r=n(43),a=n(9),o=n(3),m=n(18),v=n(14),s=new a.a,l=i.a.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var t={px:y(\"px\",this.depthSegments,this.heightSegments),nx:y(\"nx\",this.depthSegments,this.heightSegments),py:y(\"py\",this.widthSegments,this.depthSegments),ny:y(\"ny\",this.widthSegments,this.depthSegments),pz:y(\"pz\",this.widthSegments,this.heightSegments),nz:y(\"nz\",this.widthSegments,this.heightSegments)},e=[\"position\",\"texcoord0\",\"normal\"],n=0,i=0;for(var r in t)n+=t[r].vertexCount,i+=t[r].indices.length;for(var a=0;a<e.length;a++)this.attributes[e[a]].init(n);this.indices=new v.a.Uint16Array(i);var o=0,s=0;for(var r in t){for(var l=t[r],a=0;a<e.length;a++)for(var u=e[a],h=l.attributes[u].value,c=l.attributes[u].size,d=\"normal\"===u,f=0;f<h.length;f++){var p=h[f];this.inside&&d&&(p=-p),this.attributes[u].value[f+c*s]=p}for(var g=l.indices.length,f=0;f<l.indices.length;f++)this.indices[f+o]=s+l.indices[this.inside?g-f-1:f];o+=l.indices.length,s+=l.vertexCount}this.boundingBox=new m.a,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function y(t,e,n){s.identity();var i=new r.a({widthSegments:e,heightSegments:n});switch(t){case\"px\":a.a.translate(s,s,o.a.POSITIVE_X),a.a.rotateY(s,s,Math.PI/2);break;case\"nx\":a.a.translate(s,s,o.a.NEGATIVE_X),a.a.rotateY(s,s,-Math.PI/2);break;case\"py\":a.a.translate(s,s,o.a.POSITIVE_Y),a.a.rotateX(s,s,-Math.PI/2);break;case\"ny\":a.a.translate(s,s,o.a.NEGATIVE_Y),a.a.rotateX(s,s,Math.PI/2);break;case\"pz\":a.a.translate(s,s,o.a.POSITIVE_Z);break;case\"nz\":a.a.translate(s,s,o.a.NEGATIVE_Z),a.a.rotateY(s,s,Math.PI)}return i.applyTransform(s),i}e.a=l},function(t,e,n){\"use strict\";var M=n(5),A=n(27),I=n(4),C=n(10),a=n(16),D=n(19),E=n(8),L=n(42),P=n(36),N=n(62),O=n(14),R=n(61),o=n(127),k=n(128),z={},B=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"];z.prefilterEnvironmentMap=function(t,e,n,i,r){r&&i||(i=z.generateNormalDistribution(),r=z.integrateBRDF(t,i));var a=(n=n||{}).width||64,o=n.height||64,s=n.type||e.type,l=new A.a({width:a,height:o,type:s,flipY:!1,mipmaps:[]});l.isPowerOfTwo()||console.warn(\"Width and height must be power of two to enable mipmap.\");var u=Math.min(a,o),h=Math.log(u)/Math.log(2)+1,c=new D.a({shader:new E.a({vertex:E.a.source(\"clay.skybox.vertex\"),fragment:k.a})});c.set(\"normalDistribution\",i),n.encodeRGBM&&c.define(\"fragment\",\"RGBM_ENCODE\"),n.decodeRGBM&&c.define(\"fragment\",\"RGBM_DECODE\");var d,f,p=new P.a;\"texture2D\"===e.textureType&&(f=new A.a({width:a,height:o,type:s===I.a.FLOAT?I.a.HALF_FLOAT:s}),R.a.panoramaToCubeMap(t,e,f,{encodeRGBM:n.decodeRGBM}),e=f),(d=new L.a({scene:p,material:c})).material.set(\"environmentMap\",e);var g=new N.a({texture:l});n.encodeRGBM&&(s=l.type=I.a.UNSIGNED_BYTE);for(var m=new M.a({width:a,height:o,type:s}),v=new C.a({depthBuffer:!1}),y=O.a[s===I.a.UNSIGNED_BYTE?\"Uint8Array\":\"Float32Array\"],_=0;_<h;_++){l.mipmaps[_]={pixels:{}},d.material.set(\"roughness\",_/(h-1));for(var x=m.width,b=2*Math.atan(x/(x-.5))/Math.PI*180,w=0;w<B.length;w++){var T=new y(m.width*m.height*4);v.attach(m),v.bind(t);var S=g.getCamera(B[w]);S.fov=b,t.render(p,S),t.gl.readPixels(0,0,m.width,m.height,I.a.RGBA,s,T),v.unbind(t),l.mipmaps[_].pixels[B[w]]=T}m.width/=2,m.height/=2,m.dirty()}return v.dispose(t),m.dispose(t),d.dispose(t),i.dispose(t),{environmentMap:l,brdfLookup:r,normalDistribution:i,maxMipmapLevel:h}},z.integrateBRDF=function(t,e){e=e||z.generateNormalDistribution();var n=new C.a({depthBuffer:!1}),i=new a.a({fragment:o.a}),r=new M.a({width:512,height:256,type:I.a.HALF_FLOAT,wrapS:I.a.CLAMP_TO_EDGE,wrapT:I.a.CLAMP_TO_EDGE,minFilter:I.a.NEAREST,magFilter:I.a.NEAREST,useMipmap:!1});return i.setUniform(\"normalDistribution\",e),i.setUniform(\"viewportSize\",[512,256]),i.attachOutput(r),i.render(t,n),n.dispose(t),r},z.generateNormalDistribution=function(t,e){for(var t=t||256,e=e||1024,n=new M.a({width:t,height:e,type:I.a.FLOAT,minFilter:I.a.NEAREST,magFilter:I.a.NEAREST,wrapS:I.a.CLAMP_TO_EDGE,wrapT:I.a.CLAMP_TO_EDGE,useMipmap:!1}),i=new Float32Array(e*t*4),r=[],a=0;a<t;a++){for(var o=a/t,s=o*o,l=0;l<e;l++){var u=(l<<16|l>>>16)>>>0;u=(((16711935&(u=((252645135&(u=((858993459&(u=((1431655765&u)<<1|(2863311530&u)>>>1)>>>0))<<2|(3435973836&u)>>>2)>>>0))<<4|(4042322160&u)>>>4)>>>0))<<8|(4278255360&u)>>>8)>>>0)/4294967296;var h=Math.sqrt((1-u)/(1+(s*s-1)*u));r[l]=h}for(l=0;l<e;l++){var c=4*(l*t+a),h=r[l],d=Math.sqrt(1-h*h),f=l/e,p=2*Math.PI*f;i[c]=d*Math.cos(p),i[1+c]=h,i[2+c]=d*Math.sin(p),i[3+c]=1}}return n.pixels=i,n},e.a=z},function(t,e,n){\"use strict\";var i=n(20),r={create:function(){var t=new i.a(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},clone:function(t){var e=new i.a(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},transpose:function(t,e){var n;return t===e?(n=e[1],t[1]=e[2],t[2]=n):(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3]),t},invert:function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=n*a-r*i;return o?(o=1/o,t[0]=a*o,t[1]=-i*o,t[2]=-r*o,t[3]=n*o,t):null},adjoint:function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=n[0],l=n[1],u=n[2],h=n[3];return t[0]=i*s+a*l,t[1]=r*s+o*l,t[2]=i*u+a*h,t[3]=r*u+o*h,t}};r.mul=r.multiply,r.rotate=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l+a*s,t[1]=r*l+o*s,t[2]=i*-s+a*l,t[3]=r*-s+o*l,t},r.scale=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=n[0],l=n[1];return t[0]=i*s,t[1]=r*s,t[2]=a*l,t[3]=o*l,t},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},r.LDU=function(t,e,n,i){return t[2]=i[2]/i[0],n[0]=i[0],n[1]=i[1],n[3]=i[3]-t[2]*n[1],[t,e,n]},e.a=r},function(t,e,n){\"use strict\";var i=n(20),r={create:function(){var t=new i.a(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},clone:function(t){var e=new i.a(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},invert:function(t,e){var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],l=n*a-i*r;return l?(l=1/l,t[0]=a*l,t[1]=-i*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-a*o)*l,t[5]=(i*o-n*s)*l,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=n[0],h=n[1],c=n[2],d=n[3],f=n[4],p=n[5];return t[0]=i*u+a*h,t[1]=r*u+o*h,t[2]=i*c+a*d,t[3]=r*c+o*d,t[4]=i*f+a*p+s,t[5]=r*f+o*p+l,t}};r.mul=r.multiply,r.rotate=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=Math.sin(n),h=Math.cos(n);return t[0]=i*h+a*u,t[1]=r*h+o*u,t[2]=i*-u+a*h,t[3]=r*-u+o*h,t[4]=s,t[5]=l,t},r.scale=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=n[0],h=n[1];return t[0]=i*u,t[1]=r*u,t[2]=a*h,t[3]=o*h,t[4]=s,t[5]=l,t},r.translate=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=n[0],h=n[1];return t[0]=i,t[1]=r,t[2]=a,t[3]=o,t[4]=i*u+a*h+s,t[5]=r*u+o*h+l,t},r.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.a=r},function(t,e){var n=\"undefined\"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=n},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(5);function s(t,e,n,i,r,a,o){this._zr=t,this._x=0,this._y=0,this._rowHeight=0,this.width=i,this.height=r,this.offsetX=e,this.offsetY=n,this.dpr=o,this.gap=a}function o(t){(t=t||{}).width=t.width||512,t.height=t.height||512,t.devicePixelRatio=t.devicePixelRatio||1,t.gap=null==t.gap?2:t.gap;var e=document.createElement(\"canvas\");e.width=t.width*t.devicePixelRatio,e.height=t.height*t.devicePixelRatio,this._canvas=e,this._texture=new a.a({image:e,flipY:!1});var n=this;this._zr=r.a.zrender.init(e);var i=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){i.call(this),n._texture.dirty(),n.onupdate&&n.onupdate()},this._dpr=t.devicePixelRatio,this._coords={},this.onupdate=t.onupdate,this._gap=t.gap,this._textureAtlasNodes=[new s(this._zr,0,0,t.width,t.height,this._gap,this._dpr)],this._nodeWidth=t.width,this._nodeHeight=t.height,this._currentNodeIdx=0}s.prototype={constructor:s,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(t,e,n){var i=t.getBoundingRect();null==e&&(e=i.width),null==n&&(n=i.height),e*=this.dpr,n*=this.dpr,this._fitElement(t,e,n);var r=this._x,a=this._y,o=this.width*this.dpr,s=this.height*this.dpr,l=this.gap;if(o<r+e+l&&(r=this._x=0,a+=this._rowHeight+l,this._y=a,this._rowHeight=0),this._x+=e+l,this._rowHeight=Math.max(this._rowHeight,n),s<a+n+l)return null;t.position[0]+=this.offsetX*this.dpr+r,t.position[1]+=this.offsetY*this.dpr+a,this._zr.add(t);var u=[this.offsetX/this.width,this.offsetY/this.height];return[[r/o+u[0],a/s+u[1]],[(r+e)/o+u[0],(a+n)/s+u[1]]]},_fitElement:function(t,e,n){var i=t.getBoundingRect(),r=e/i.width,a=n/i.height;t.position=[-i.x*r,-i.y*a],t.scale=[r,a],t.update()}},o.prototype={clear:function(){for(var t=0;t<this._textureAtlasNodes.length;t++)this._textureAtlasNodes[t].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var t=4096/this._dpr,e=this._textureAtlasNodes.length,n=e*this._nodeWidth%t,i=Math.floor(e*this._nodeWidth/t)*this._nodeHeight;if(!(t<=i)){var r=(n+this._nodeWidth)*this._dpr,a=(i+this._nodeHeight)*this._dpr;try{this._zr.resize({width:r,height:a})}catch(t){this._canvas.width=r,this._canvas.height=a}var o=new s(this._zr,n,i,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(o),o}console.error(\"Too much labels. Some will be ignored.\")},add:function(t,e,n){if(this._coords[t.id])return console.warn(\"Element already been add\"),this._coords[t.id];var i=this._getCurrentNode().add(t,e,n);if(!i){var r=this._expand();if(!r)return;i=r.add(t,e,n)}return this._coords[t.id]=i},getCoordsScale:function(){var t=this._dpr;return[this._nodeWidth/this._canvas.width*t,this._nodeHeight/this._canvas.height*t]},getCoords:function(t){return this._coords[t]}},e.a=o},function(t,e,n){var i,r,a,o,s=n(83),l=n(84),u=s.applyTransform,h=Math.min,c=Math.max;function d(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}d.prototype={constructor:d,union:function(t){var e=h(t.x,this.x),n=h(t.y,this.y);this.width=c(t.x+t.width,this.x+this.width)-e,this.height=c(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(i=[],r=[],a=[],o=[],function(t){var e,n;t&&(i[0]=a[0]=this.x,i[1]=o[1]=this.y,r[0]=o[0]=this.x+this.width,r[1]=a[1]=this.y+this.height,u(i,i,t),u(r,r,t),u(a,a,t),u(o,o,t),this.x=h(i[0],r[0],a[0],o[0]),this.y=h(i[1],r[1],a[1],o[1]),e=c(i[0],r[0],a[0],o[0]),n=c(i[1],r[1],a[1],o[1]),this.width=e-this.x,this.height=n-this.y)}),calculateTransform:function(t){var e=t.width/this.width,n=t.height/this.height,i=l.create();return l.translate(i,i,[-this.x,-this.y]),l.scale(i,i,[e,n]),l.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof d||(t=d.create(t));var e=this.x,n=this.x+this.width,i=this.y,r=this.y+this.height,a=t.x,o=t.x+t.width,s=t.y,l=t.y+t.height;return!(n<a||o<e||r<s||l<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new d(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},d.create=function(t){return new d(t.x,t.y,t.width,t.height)},t.exports=d},function(t,e){var i=\"undefined\"==typeof Float32Array?Array:Float32Array;function r(t){return Math.sqrt(a(t))}var n=r;function a(t){return t[0]*t[0]+t[1]*t[1]}var o=a;function s(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var l=s;function u(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var h=u;e.create=function(t,e){var n=new i(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.scaleAndAdd=function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},e.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},e.len=r,e.length=n,e.lenSquare=a,e.lengthSquare=o,e.mul=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},e.div=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.normalize=function(t,e){var n=r(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t},e.distance=s,e.dist=l,e.distanceSquare=u,e.distSquare=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t},e.applyTransform=function(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e){var n=\"undefined\"==typeof Float32Array?Array:Float32Array;function i(){var t=new n(6);return r(t),t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=i,e.identity=r,e.copy=a,e.mul=function(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t},e.translate=function(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t},e.rotate=function(t,e,n){var i=e[0],r=e[2],a=e[4],o=e[1],s=e[3],l=e[5],u=Math.sin(n),h=Math.cos(n);return t[0]=i*h+o*u,t[1]=-i*u+o*h,t[2]=r*h+s*u,t[3]=-r*u+h*s,t[4]=h*a+u*l,t[5]=h*l-u*a,t},e.scale=function(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t},e.invert=function(t,e){var n=e[0],i=e[2],r=e[4],a=e[1],o=e[3],s=e[5],l=n*o-a*i;return l?(l=1/l,t[0]=o*l,t[1]=-a*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-o*r)*l,t[5]=(a*r-n*s)*l,t):null},e.clone=function(t){var e=i();return a(e,t),e}},function(t,e,n){var p=n(13);var i=/^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/;function o(t){return Math.floor(Math.log(t)/Math.LN10)}e.linearMap=function(t,e,n,i){var r=e[1]-e[0],a=n[1]-n[0];if(0==r)return 0==a?n[0]:(n[0]+n[1])/2;if(i)if(0<r){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*a+n[0]},e.parsePercent=function(t,e){switch(t){case\"center\":case\"middle\":t=\"50%\";break;case\"left\":case\"top\":t=\"0%\";break;case\"right\":case\"bottom\":t=\"100%\"}return\"string\"==typeof t?t.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},e.round=function(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t},e.asc=function(t){return t.sort(function(t,e){return t-e}),t},e.getPrecision=function(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n},e.getPrecisionSafe=function(t){var e=t.toString(),n=e.indexOf(\"e\");if(0<n){var i=+e.slice(n+1);return i<0?-i:0}var r=e.indexOf(\".\");return r<0?0:e.length-1-r},e.getPixelPrecision=function(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),a=Math.round(n(Math.abs(e[1]-e[0]))/i),o=Math.min(Math.max(-r+a,0),20);return isFinite(o)?o:20},e.getPercentWithPrecision=function(t,e,n){if(!t[e])return 0;var i=p.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var r=Math.pow(10,n),a=p.map(t,function(t){return(isNaN(t)?0:t)/i*r*100}),o=100*r,s=p.map(a,function(t){return Math.floor(t)}),l=p.reduce(s,function(t,e){return t+e},0),u=p.map(a,function(t,e){return t-s[e]});l<o;){for(var h=Number.NEGATIVE_INFINITY,c=null,d=0,f=u.length;d<f;++d)u[d]>h&&(h=u[d],c=d);++s[c],u[c]=0,++l}return s[e]/r},e.MAX_SAFE_INTEGER=9007199254740991,e.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},e.isRadianAroundZero=function(t){return-1e-4<t&&t<1e-4},e.parseDate=function(t){if(t instanceof Date)return t;if(\"string\"!=typeof t)return null==t?new Date(NaN):new Date(Math.round(t));var e=i.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return\"Z\"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)},e.quantity=function(t){return Math.pow(10,o(t))},e.nice=function(t,e){var n=o(t),i=Math.pow(10,n),r=t/i,a=e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10;return t=a*i,-20<=n?+t.toFixed(n<0?-n:0):t},e.reformIntervals=function(t){t.sort(function(t,e){return function t(e,n,i){return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(e.close[i]-n.close[i]==(i?-1:1)||!i&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,a=t[i].close,o=0;o<2;o++)r[o]<=e&&(r[o]=e,a[o]=o?1:1-n),e=r[o],n=a[o];r[0]===r[1]&&a[0]*a[1]!=1?t.splice(i,1):i++}return t},e.isNumeric=function(t){return 0<=t-parseFloat(t)}},function(t,e,n){\"use strict\";function i(){this._pool={},this._allocatedTextures=[]}var r=n(5),a=n(11),o=n(23);i.prototype={constructor:i,get:function(t){var e=u(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var n=this._pool[e];if(n.length)return n.pop();var i=new r.a(t);return this._allocatedTextures.push(i),i},put:function(t){var e=u(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]),this._pool[e].push(t)},clear:function(t){for(var e=0;e<this._allocatedTextures.length;e++)this._allocatedTextures[e].dispose(t);this._pool={},this._allocatedTextures=[]}};var s={width:512,height:512,type:a.a.UNSIGNED_BYTE,format:a.a.RGBA,wrapS:a.a.CLAMP_TO_EDGE,wrapT:a.a.CLAMP_TO_EDGE,minFilter:a.a.LINEAR_MIPMAP_LINEAR,magFilter:a.a.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},l=Object.keys(s);function u(t){o.a.defaultsWithPropList(t,s,l),function(t){var e=function(t,e){return 0==(t&t-1)&&0==(e&e-1)}(t.width,t.height);t.format===a.a.DEPTH_COMPONENT&&(t.useMipmap=!1);e&&t.useMipmap||(t.minFilter==a.a.NEAREST_MIPMAP_NEAREST||t.minFilter==a.a.NEAREST_MIPMAP_LINEAR?t.minFilter=a.a.NEAREST:t.minFilter!=a.a.LINEAR_MIPMAP_LINEAR&&t.minFilter!=a.a.LINEAR_MIPMAP_NEAREST||(t.minFilter=a.a.LINEAR));e||(t.wrapS=a.a.CLAMP_TO_EDGE,t.wrapT=a.a.CLAMP_TO_EDGE)}(t);for(var e=\"\",n=0;n<l.length;n++){e+=t[l[n]].toString()}return e}e.a=i},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.kernel.gaussian_9\\nfloat gaussianKernel[9];\\ngaussianKernel[0] = 0.07;\\ngaussianKernel[1] = 0.09;\\ngaussianKernel[2] = 0.12;\\ngaussianKernel[3] = 0.14;\\ngaussianKernel[4] = 0.16;\\ngaussianKernel[5] = 0.14;\\ngaussianKernel[6] = 0.12;\\ngaussianKernel[7] = 0.09;\\ngaussianKernel[8] = 0.07;\\n@end\\n@export clay.compositor.kernel.gaussian_13\\nfloat gaussianKernel[13];\\ngaussianKernel[0] = 0.02;\\ngaussianKernel[1] = 0.03;\\ngaussianKernel[2] = 0.06;\\ngaussianKernel[3] = 0.08;\\ngaussianKernel[4] = 0.11;\\ngaussianKernel[5] = 0.13;\\ngaussianKernel[6] = 0.14;\\ngaussianKernel[7] = 0.13;\\ngaussianKernel[8] = 0.11;\\ngaussianKernel[9] = 0.08;\\ngaussianKernel[10] = 0.06;\\ngaussianKernel[11] = 0.03;\\ngaussianKernel[12] = 0.02;\\n@end\\n@export clay.compositor.gaussian_blur\\n#define SHADER_NAME gaussian_blur\\nuniform sampler2D texture;varying vec2 v_Texcoord;\\nuniform float blurSize : 2.0;\\nuniform vec2 textureSize : [512.0, 512.0];\\nuniform float blurDir : 0.0;\\n@import clay.util.rgbm\\n@import clay.util.clamp_sample\\nvoid main (void)\\n{\\n @import clay.compositor.kernel.gaussian_9\\n vec2 off = blurSize / textureSize;\\n off *= vec2(1.0 - blurDir, blurDir);\\n vec4 sum = vec4(0.0);\\n float weightAll = 0.0;\\n for (int i = 0; i < 9; i++) {\\n float w = gaussianKernel[i];\\n vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));\\n sum += texel * w;\\n weightAll += w;\\n }\\n gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));\\n}\\n@end\\n\"},function(t,e,n){\"use strict\";e.a=\"\\n@export clay.compositor.lut\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform sampler2D lookup;\\nvoid main()\\n{\\n vec4 tex = texture2D(texture, v_Texcoord);\\n float blueColor = tex.b * 63.0;\\n vec2 quad1;\\n quad1.y = floor(floor(blueColor) / 8.0);\\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\\n vec2 quad2;\\n quad2.y = floor(ceil(blueColor) / 8.0);\\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\\n vec2 texPos1;\\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\\n vec2 texPos2;\\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);\\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);\\n vec4 newColor1 = texture2D(lookup, texPos1);\\n vec4 newColor2 = texture2D(lookup, texPos2);\\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\\n gl_FragColor = vec4(newColor.rgb, tex.w);\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.output\\n#define OUTPUT_ALPHA\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\\n gl_FragColor.rgb = tex.rgb;\\n#ifdef OUTPUT_ALPHA\\n gl_FragColor.a = tex.a;\\n#else\\n gl_FragColor.a = 1.0;\\n#endif\\n gl_FragColor = encodeHDR(gl_FragColor);\\n#ifdef PREMULTIPLY_ALPHA\\n gl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.bright\\nuniform sampler2D texture;\\nuniform float threshold : 1;\\nuniform float scale : 1.0;\\nuniform vec2 textureSize: [512, 512];\\nvarying vec2 v_Texcoord;\\nconst vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);\\n@import clay.util.rgbm\\nvec4 median(vec4 a, vec4 b, vec4 c)\\n{\\n return a + b + c - min(min(a, b), c) - max(max(a, b), c);\\n}\\nvoid main()\\n{\\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\\n#ifdef ANTI_FLICKER\\n vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);\\n vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));\\n vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));\\n vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));\\n vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));\\n texel = median(median(texel, s1, s2), s3, s4);\\n#endif\\n float lum = dot(texel.rgb , lumWeight);\\n vec4 color;\\n if (lum > threshold && texel.a > 0.0)\\n {\\n color = vec4(texel.rgb * scale, texel.a * scale);\\n }\\n else\\n {\\n color = vec4(0.0);\\n }\\n gl_FragColor = encodeHDR(color);\\n}\\n@end\\n\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.downsample\\nuniform sampler2D texture;\\nuniform vec2 textureSize : [512, 512];\\nvarying vec2 v_Texcoord;\\n@import clay.util.rgbm\\nfloat brightness(vec3 c)\\n{\\n return max(max(c.r, c.g), c.b);\\n}\\n@import clay.util.clamp_sample\\nvoid main()\\n{\\n vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;\\n#ifdef ANTI_FLICKER\\n vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;\\n vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;\\n vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;\\n vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;\\n float s1w = 1.0 / (brightness(s1) + 1.0);\\n float s2w = 1.0 / (brightness(s2) + 1.0);\\n float s3w = 1.0 / (brightness(s3) + 1.0);\\n float s4w = 1.0 / (brightness(s4) + 1.0);\\n float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);\\n vec4 color = vec4(\\n (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,\\n 1.0\\n );\\n#else\\n vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\\n color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\\n color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\\n color *= 0.25;\\n#endif\\n gl_FragColor = encodeHDR(color);\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"\\n@export clay.compositor.upsample\\n#define HIGH_QUALITY\\nuniform sampler2D texture;\\nuniform vec2 textureSize : [512, 512];\\nuniform float sampleScale: 0.5;\\nvarying vec2 v_Texcoord;\\n@import clay.util.rgbm\\n@import clay.util.clamp_sample\\nvoid main()\\n{\\n#ifdef HIGH_QUALITY\\n vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;\\n vec4 s;\\n s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));\\n s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));\\n gl_FragColor = encodeHDR(s / 16.0);\\n#else\\n vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;\\n vec4 s;\\n s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));\\n s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));\\n gl_FragColor = encodeHDR(s / 4.0);\\n#endif\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.hdr.composite\\n#define TONEMAPPING\\nuniform sampler2D texture;\\n#ifdef BLOOM_ENABLED\\nuniform sampler2D bloom;\\n#endif\\n#ifdef LENSFLARE_ENABLED\\nuniform sampler2D lensflare;\\nuniform sampler2D lensdirt;\\n#endif\\n#ifdef LUM_ENABLED\\nuniform sampler2D lum;\\n#endif\\n#ifdef LUT_ENABLED\\nuniform sampler2D lut;\\n#endif\\n#ifdef COLOR_CORRECTION\\nuniform float brightness : 0.0;\\nuniform float contrast : 1.0;\\nuniform float saturation : 1.0;\\n#endif\\n#ifdef VIGNETTE\\nuniform float vignetteDarkness: 1.0;\\nuniform float vignetteOffset: 1.0;\\n#endif\\nuniform float exposure : 1.0;\\nuniform float bloomIntensity : 0.25;\\nuniform float lensflareIntensity : 1;\\nvarying vec2 v_Texcoord;\\n@import clay.util.srgb\\nvec3 ACESToneMapping(vec3 color)\\n{\\n const float A = 2.51;\\n const float B = 0.03;\\n const float C = 2.43;\\n const float D = 0.59;\\n const float E = 0.14;\\n return (color * (A * color + B)) / (color * (C * color + D) + E);\\n}\\nfloat eyeAdaption(float fLum)\\n{\\n return mix(0.2, fLum, 0.5);\\n}\\n#ifdef LUT_ENABLED\\nvec3 lutTransform(vec3 color) {\\n float blueColor = color.b * 63.0;\\n vec2 quad1;\\n quad1.y = floor(floor(blueColor) / 8.0);\\n quad1.x = floor(blueColor) - (quad1.y * 8.0);\\n vec2 quad2;\\n quad2.y = floor(ceil(blueColor) / 8.0);\\n quad2.x = ceil(blueColor) - (quad2.y * 8.0);\\n vec2 texPos1;\\n texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\\n texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\\n vec2 texPos2;\\n texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);\\n texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);\\n vec4 newColor1 = texture2D(lut, texPos1);\\n vec4 newColor2 = texture2D(lut, texPos2);\\n vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\\n return newColor.rgb;\\n}\\n#endif\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 texel = vec4(0.0);\\n vec4 originalTexel = vec4(0.0);\\n#ifdef TEXTURE_ENABLED\\n texel = decodeHDR(texture2D(texture, v_Texcoord));\\n originalTexel = texel;\\n#endif\\n#ifdef BLOOM_ENABLED\\n vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));\\n texel.rgb += bloomTexel.rgb * bloomIntensity;\\n texel.a += bloomTexel.a * bloomIntensity;\\n#endif\\n#ifdef LENSFLARE_ENABLED\\n texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;\\n#endif\\n texel.a = min(texel.a, 1.0);\\n#ifdef LUM_ENABLED\\n float fLum = texture2D(lum, vec2(0.5, 0.5)).r;\\n float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));\\n float exposureBias = adaptedLumDest * exposure;\\n#else\\n float exposureBias = exposure;\\n#endif\\n#ifdef TONEMAPPING\\n texel.rgb *= exposureBias;\\n texel.rgb = ACESToneMapping(texel.rgb);\\n#endif\\n texel = linearTosRGB(texel);\\n#ifdef LUT_ENABLED\\n texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));\\n#endif\\n#ifdef COLOR_CORRECTION\\n texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);\\n texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\\n float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));\\n texel.rgb = mix(vec3(lum), texel.rgb, saturation);\\n#endif\\n#ifdef VIGNETTE\\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);\\n texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));\\n#endif\\n gl_FragColor = encodeHDR(texel);\\n#ifdef DEBUG\\n #if DEBUG == 1\\n gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));\\n #elif DEBUG == 2\\n gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);\\n #elif DEBUG == 3\\n gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));\\n #endif\\n#endif\\n if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {\\n gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));\\n }\\n#ifdef PREMULTIPLY_ALPHA\\n gl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.blend\\n#define SHADER_NAME blend\\n#ifdef TEXTURE1_ENABLED\\nuniform sampler2D texture1;\\nuniform float weight1 : 1.0;\\n#endif\\n#ifdef TEXTURE2_ENABLED\\nuniform sampler2D texture2;\\nuniform float weight2 : 1.0;\\n#endif\\n#ifdef TEXTURE3_ENABLED\\nuniform sampler2D texture3;\\nuniform float weight3 : 1.0;\\n#endif\\n#ifdef TEXTURE4_ENABLED\\nuniform sampler2D texture4;\\nuniform float weight4 : 1.0;\\n#endif\\n#ifdef TEXTURE5_ENABLED\\nuniform sampler2D texture5;\\nuniform float weight5 : 1.0;\\n#endif\\n#ifdef TEXTURE6_ENABLED\\nuniform sampler2D texture6;\\nuniform float weight6 : 1.0;\\n#endif\\nvarying vec2 v_Texcoord;\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 tex = vec4(0.0);\\n#ifdef TEXTURE1_ENABLED\\n tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;\\n#endif\\n#ifdef TEXTURE2_ENABLED\\n tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;\\n#endif\\n#ifdef TEXTURE3_ENABLED\\n tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;\\n#endif\\n#ifdef TEXTURE4_ENABLED\\n tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;\\n#endif\\n#ifdef TEXTURE5_ENABLED\\n tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;\\n#endif\\n#ifdef TEXTURE6_ENABLED\\n tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;\\n#endif\\n gl_FragColor = encodeHDR(tex);\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.fxaa\\nuniform sampler2D texture;\\nuniform vec4 viewport : VIEWPORT;\\nvarying vec2 v_Texcoord;\\n#define FXAA_REDUCE_MIN (1.0/128.0)\\n#define FXAA_REDUCE_MUL (1.0/8.0)\\n#define FXAA_SPAN_MAX 8.0\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec2 resolution = 1.0 / viewport.zw;\\n vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;\\n vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;\\n vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;\\n vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;\\n vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );\\n vec3 rgbM = rgbaM.xyz;\\n float opacity = rgbaM.w;\\n vec3 luma = vec3( 0.299, 0.587, 0.114 );\\n float lumaNW = dot( rgbNW, luma );\\n float lumaNE = dot( rgbNE, luma );\\n float lumaSW = dot( rgbSW, luma );\\n float lumaSE = dot( rgbSE, luma );\\n float lumaM = dot( rgbM, luma );\\n float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );\\n float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );\\n vec2 dir;\\n dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );\\n float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );\\n dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n dir * rcpDirMin)) * resolution;\\n vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;\\n rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;\\n rgbA *= 0.5;\\n vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;\\n rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;\\n rgbB *= 0.25;\\n rgbB += rgbA * 0.5;\\n float lumaB = dot( rgbB, luma );\\n if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )\\n {\\n gl_FragColor = vec4( rgbA, opacity );\\n }\\n else {\\n gl_FragColor = vec4( rgbB, opacity );\\n }\\n}\\n@end\"},function(t,e,n){\"use strict\";var i=n(0),l=n.n(i);e.a={getFilledRegions:function(t,e){var n,i=(t||[]).slice();if(\"string\"==typeof e?n=(e=l.a.getMap(e))&&e.geoJson:e&&e.features&&(n=e),!n)return console.error(\"Map \"+e+\" not exists. You can download map file on http://echarts.baidu.com/download-map.html\"),n.features||console.error(\"Invalid GeoJSON for map3D\"),[];for(var r={},a=n.features,o=0;o<i.length;o++)r[i[o].name]=i[o];for(o=0;o<a.length;o++){var s=a[o].properties.name;r[s]||i.push({name:s})}return i},defaultOption:{show:!0,zlevel:-10,map:\"\",left:0,top:0,width:\"100%\",height:\"100%\",boxWidth:100,boxHeight:10,boxDepth:\"auto\",regionHeight:3,environment:\"auto\",groundPlane:{show:!1,color:\"#aaa\"},shading:\"lambert\",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:\"#000\",backgroundColor:\"rgba(255,255,255,0.7)\",padding:3,borderRadius:4}},itemStyle:{color:\"#fff\",borderWidth:0,borderColor:\"#333\"},emphasis:{itemStyle:{color:\"#639fc0\"},label:{show:!0}}}}},function(t,e,n){\"use strict\";function l(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function c(t,e,n,i,r){var a=n,o=t[e];l(t,e,i);for(var s=n;s<i;s++)r(t[s],o)<0&&(l(t,s,a),a++);return l(t,i,a),a}function d(t,e,n,i){var r;n<i&&(d(t,e,n,(r=c(t,Math.floor((n+i)/2),n,i,e))-1),d(t,e,r+1,i))}function i(){this._parts=[]}i.prototype.step=function(t,e,n){var i,r=t.length;if(0===n&&(this._parts=[],this._sorted=!1,i=Math.floor(r/2),this._parts.push({pivot:i,left:0,right:r-1}),this._currentSortPartIdx=0),!this._sorted){var a=this._parts;if(0===a.length)return this._sorted=!0;if(a.length<512){for(var o=0;o<a.length;o++)a[o].pivot=c(t,a[o].pivot,a[o].left,a[o].right,e);for(var s=[],o=0;o<a.length;o++){var l=a[o].left,u=a[o].pivot-1;l<u&&s.push({pivot:Math.floor((u+l)/2),left:l,right:u}),(l=a[o].pivot+1)<(u=a[o].right)&&s.push({pivot:Math.floor((u+l)/2),left:l,right:u})}a=this._parts=s}else for(o=0;o<Math.floor(a.length/10);o++){var h=a.length-1-this._currentSortPartIdx;if(d(t,e,a[h].left,a[h].right),this._currentSortPartIdx++,this._currentSortPartIdx===a.length)return this._sorted=!0}return!1}},i.sort=d,e.a=i},function(t,e,n){\"use strict\";var i=n(99),r=n(0),o=n.n(r),a=n(47),u=n.n(a),s=n(22),l=n(2);function h(t,e){var n=t.getBoxLayoutParams(),i=u.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});i.y=e.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,e.getDevicePixelRatio());var r=this.getGeoBoundingRect(),a=r.width/r.height*(t.get(\"aspectScale\")||.75),o=t.get(\"boxWidth\"),s=t.get(\"boxDepth\"),l=t.get(\"boxHeight\");null==l&&(l=5),isNaN(o)&&isNaN(s)&&(o=100),isNaN(s)?s=o/a:isNaN(o)&&(o=s/a),this.setSize(o,l,s),this.regionHeight=t.get(\"regionHeight\"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(l-this.regionHeight,0))}function c(t,e){var n,a=[1/0,-1/0];t.eachSeries(function(t){var e,n,i,r;t.coordinateSystem===this&&\"series.map3D\"!==t.type&&(e=t.getData(),(i=(n=t.coordDimToDataDim(\"alt\"))&&n[0])&&(r=e.getDataExtent(i,!0),a[0]=Math.min(a[0],r[0]),a[1]=Math.max(a[1],r[1])))},this),a&&isFinite(a[1]-a[0])&&(n=o.a.helper.createScale(a,{type:\"value\",min:\"dataMin\",max:\"dataMax\"}),this.altitudeAxis=new o.a.Axis(\"altitude\",n),this.resize(this.model,e))}var d=function(t){console.error(\"Map \"+t+\" not exists. You can download map file on http://echarts.baidu.com/download-map.html\")},f=0,p={dimensions:i.a.prototype.dimensions,create:function(n,i){var r=[];if(!o.a.getMap)throw new Error(\"geo3D component depends on geo component\");function a(t){var e=p.createGeo3D(t);t.__viewGL=t.__viewGL||new s.a,e.viewGL=t.__viewGL,(t.coordinateSystem=e).model=t,r.push(e),e.resize=h,e.resize(t,i),e.update=c}return n.eachComponent(\"geo3D\",function(t,e){a(t)}),n.eachSeriesByType(\"map3D\",function(t,e){var n=t.get(\"coordinateSystem\");null==n&&(n=\"geo3D\"),\"geo3D\"===n&&a(t)}),n.eachSeries(function(t){if(\"geo3D\"===t.get(\"coordinateSystem\")){if(\"series.map3D\"===t.type)return;var e=t.getReferringComponents(\"geo3D\")[0];if(!(e=e||n.getComponent(\"geo3D\")))throw new Error('geo \"'+l.a.firstNotNull(t.get(\"geo3DIndex\"),t.get(\"geo3DId\"),0)+'\" not found');t.coordinateSystem=e.coordinateSystem}}),r},createGeo3D:function(t){var e,n=t.get(\"map\");if(\"string\"==typeof n?(e=n,n=o.a.getMap(n)):n&&n.features&&(n={geoJson:n}),1,n||d(n),!n.geoJson.features)throw new Error(\"Invalid GeoJSON for map3D\");return null==e&&(e=\"GEO_ANONYMOUS_\"+f++),new i.a(e+f++,e,n&&n.geoJson,n&&n.specialAreas,t.get(\"nameMap\"))}};o.a.registerCoordinateSystem(\"geo3D\",p),e.a=p},function(t,e,n){\"use strict\";var i=n(0),u=n.n(i),r=n(6),a=n(205),o=n.n(a),s=n(206),l=n.n(s),h=r.a.vec3,c=r.a.mat4,d=[o.a,l.a];function f(t,e,n,i,r){this.name=t,this.map=e,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(n,i,r),this.transform=c.identity(new Float64Array(16)),this.invTransform=c.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}f.prototype={constructor:f,type:\"geo3D\",dimensions:[\"lng\",\"lat\",\"alt\"],containPoint:function(){},loadGeoJson:function(t,e,n){var i=u.a.parseGeoJSON||u.a.parseGeoJson;try{this.regions=t?i(t):[]}catch(t){throw\"Invalid geoJson format\\n\"+t}e=e||{},n=n||{};for(var r=this.regions,a={},o=0;o<r.length;o++){var s=n[s=r[o].name]||s;a[r[o].name=s]=r[o],this.addGeoCoord(s,r[o].center);var l=e[s];l&&r[o].transformTo(l.left,l.top,l.width,l.height)}this._regionsMap=a,this._geoRect=null,d.forEach(function(t){t(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var t=this.regions,e=0;e<t.length;e++){var n,i=t[e].getBoundingRect();(n=n||i.clone()).union(i)}return this._geoRect=n||new u.a.graphic.BoundingRect(0,0,0,0)},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},setSize:function(t,e,n){this.size=[t,e,n];var i=this.getGeoBoundingRect(),r=t/i.width,a=-n/i.height,o=-t/2-i.x*r,s=n/2-i.y*a,l=this.extrudeY?[o,0,s]:[o,s,0],u=this.extrudeY?[r,1,a]:[r,a,1],h=this.transform;c.identity(h),c.translate(h,h,l),c.scale(h,h,u),c.invert(this.invTransform,h)},dataToPoint:function(t,e){e=e||[];var n=this.extrudeY?1:2,i=this.extrudeY?2:1,r=t[2];return isNaN(r)&&(r=0),e[0]=t[0],e[i]=t[1],this.altitudeAxis?e[n]=this.altitudeAxis.dataToCoord(r):e[n]=0,e[n]+=this.regionHeight,h.transformMat4(e,e,this.transform),e},pointToData:function(t,e){}},e.a=f},function(t,e,n){\"use strict\";var d=n(6).a.mat4,f=.6435011087932844,s=Math.PI;function i(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight=\"auto\",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}i.prototype={constructor:i,dimensions:[\"lng\",\"lat\",\"alt\"],containPoint:function(){},setCameraOption:function(t){this.bearing=t.bearing,this.pitch=t.pitch,this.center=t.center,this.zoom=t.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,512)),null==this._initialZoom&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){var t,e,n,i,r,a,o,s,l,u,h,c;this.height&&(t=.5/Math.tan(f/2)*this.height*.1,e=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,n=f/2,i=Math.PI/2+e,r=Math.sin(n)*t/Math.sin(Math.PI-i-n),a=1.1*(Math.cos(Math.PI/2-e)*r+t),50<this.pitch&&(a=1e3),o=[],d.perspective(o,f,this.width/this.height,1,a),this.viewGL.camera.projectionMatrix.setArray(o),this.viewGL.camera.decomposeProjectionMatrix(),o=d.identity([]),s=this.dataToPoint(this.center),d.scale(o,o,[1,-1,1]),d.translate(o,o,[0,0,-t]),d.rotateX(o,o,e),d.rotateZ(o,o,-this.bearing/180*Math.PI),d.translate(o,o,[-s[0]*this.getScale()*.1,-s[1]*this.getScale()*.1,0]),this.viewGL.camera.viewMatrix.array=o,l=[],d.invert(l,o),this.viewGL.camera.worldTransform.array=l,this.viewGL.camera.decomposeWorldTransform(),u=512*this.getScale(),c=this.altitudeExtent&&!isNaN(this.boxHeight)?(h=this.altitudeExtent[1]-this.altitudeExtent[0],this.boxHeight/h*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)):u/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*.1,this.viewGL.rootNode.scale.set(.1*this.getScale(),.1*this.getScale(),c))},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(t,e){return this.projectOnTileWithScale(t,512*this.getScale(),e)},projectOnTileWithScale:function(t,e,n){var i=t[0],r=t[1]*s/180,a=e*(i*s/180+s)/(2*s),o=e*(s-Math.log(Math.tan(s/4+.5*r)))/(2*s);return(n=n||[])[0]=a,n[1]=o,n},unprojectFromTile:function(t,e){return this.unprojectOnTileWithScale(t,512*this.getScale(),e)},unprojectOnTileWithScale:function(t,e,n){var i=t[0],r=t[1],a=i/e*(2*s)-s,o=2*(Math.atan(Math.exp(s-r/e*(2*s)))-s/4);return(n=n||[])[0]=180*a/s,n[1]=180*o/s,n},dataToPoint:function(t,e){return(e=this.projectOnTileWithScale(t,512,e))[0]-=this._origin[0],e[1]-=this._origin[1],e[2]=isNaN(t[2])?0:t[2],isNaN(t[2])||(e[2]=t[2],this.altitudeExtent&&(e[2]-=this.altitudeExtent[0])),e}},e.a=i},function(t,e,n){\"use strict\";var u=n(2),h=n(1),c=n(22);e.a=function(a,o,t){function s(t,e){var n=e.getWidth(),i=e.getHeight(),r=e.getDevicePixelRatio();this.viewGL.setViewport(0,0,n,i,r),this.width=n,this.height=i,this.altitudeScale=t.get(\"altitudeScale\"),this.boxHeight=t.get(\"boxHeight\")}function l(t,e){var r;\"auto\"!==this.model.get(\"boxHeight\")&&(r=[1/0,-1/0],t.eachSeries(function(t){var e,n,i;t.coordinateSystem===this&&(e=t.getData(),(n=t.coordDimToDataDim(\"alt\")[0])&&(i=e.getDataExtent(n,!0),r[0]=Math.min(r[0],i[0]),r[1]=Math.max(r[1],i[1])))},this),r&&isFinite(r[1]-r[0])&&(this.altitudeExtent=r))}return{dimensions:o.prototype.dimensions,create:function(n,i){var r=[];return n.eachComponent(a,function(t){var e=t.__viewGL;e||(e=t.__viewGL=new c.a).setRootNode(new h.a.Node);var n=new o;n.viewGL=t.__viewGL,n.resize=s,n.resize(t,i),r.push(n),(t.coordinateSystem=n).model=t,n.update=l}),n.eachSeries(function(t){if(t.get(\"coordinateSystem\")===a){var e=t.getReferringComponents(a)[0];if(!(e=e||n.getComponent(a)))throw new Error(a+' \"'+u.a.firstNotNull(t.get(a+\"Index\"),t.get(a+\"Id\"),0)+'\" not found');t.coordinateSystem=e.coordinateSystem}}),t&&t(r,n,i),r}}}},function(t,e,n){\"use strict\";e.a=\"\\n@export ecgl.displayShadow.vertex\\n\\n@import ecgl.common.transformUniforms\\n\\n@import ecgl.common.uv.header\\n\\n@import ecgl.common.attributes\\n\\nvarying vec3 v_WorldPosition;\\n\\nvarying vec3 v_Normal;\\n\\nvoid main()\\n{\\n @import ecgl.common.uv.main\\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\\n\\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\\n gl_Position = worldViewProjection * vec4(position, 1.0);\\n}\\n\\n@end\\n\\n\\n@export ecgl.displayShadow.fragment\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform float roughness: 0.2;\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n@import clay.header.directional_light\\n#endif\\n\\n@import ecgl.common.ssaoMap.header\\n\\n@import clay.plugin.compute_shadow_map\\n\\nvoid main()\\n{\\n float shadow = 1.0;\\n\\n @import ecgl.common.ssaoMap.main\\n\\n#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\\n if(shadowEnabled)\\n {\\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\\n }\\n for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {\\n shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);\\n }\\n#endif\\n\\n shadow *= 0.5 + ao * 0.5;\\n shadow = clamp(shadow, 0.0, 1.0);\\n\\n gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);\\n}\\n\\n@end\"},function(t,e,n){\"use strict\";var i=n(84),r=n.n(i),a=n(83),o=n.n(a);function s(t){this.viewGL=t}s.prototype.reset=function(t,e){this._updateCamera(e.getWidth(),e.getHeight(),e.getDevicePixelRatio()),this._viewTransform=r.a.create(),this.updateTransform(t,e)},s.prototype.updateTransform=function(t,e){var n=t.coordinateSystem;n.getRoamTransform&&(r.a.invert(this._viewTransform,n.getRoamTransform()),this._setCameraTransform(this._viewTransform),e.getZr().refresh())},s.prototype.dataToPoint=function(t,e,n){n=t.dataToPoint(e,null,n);var i=this._viewTransform;i&&o.a.applyTransform(n,n,i)},s.prototype.removeTransformInPoint=function(t){return this._viewTransform&&o.a.applyTransform(t,t,this._viewTransform),t},s.prototype.getZoom=function(){if(this._viewTransform){var t=this._viewTransform;return 1/Math.max(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]))}return 1},s.prototype._setCameraTransform=function(t){var e=this.viewGL.camera;e.position.set(t[4],t[5],0),e.scale.set(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]),1)},s.prototype._updateCamera=function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var i=this.viewGL.camera;i.left=i.top=0,i.bottom=e,i.right=t,i.near=0,i.far=100},e.a=s},function(t,n,e){(function(t){var e;\"undefined\"!=typeof window?e=window.__DEV__:void 0!==t&&(e=t.__DEV__),void 0===e&&(e=!0),n.__DEV__=e}).call(n,e(68))},function(t,e,n){\"use strict\";var x,b,w,T,S,M,A,i=n(15),r=n(0),a=n.n(r),o=n(38),I=n(6).a.vec2,s=[[0,0],[1,1]],l=i.a.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new i.a.Attribute(\"position\",\"float\",2,\"POSITION\"),normal:new i.a.Attribute(\"normal\",\"float\",2),offset:new i.a.Attribute(\"offset\",\"float\",1),color:new i.a.Attribute(\"color\",\"float\",4,\"COLOR\")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.offset.init(t),e.normal.init(t)),65535<t?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(this.indices=0===t?null:new(65535<this.vertexCount?Uint32Array:Uint16Array)(3*t))},_getCubicCurveApproxStep:function(t,e,n,i){return 1/(I.dist(t,e)+I.dist(n,e)+I.dist(i,n)+1)*this.segmentScale},getCubicCurveVertexCount:function(t,e,n,i){var r=this._getCubicCurveApproxStep(t,e,n,i),a=Math.ceil(1/r);return this.useNativeLine?2*a:2*a+2},getCubicCurveTriangleCount:function(t,e,n,i){var r=this._getCubicCurveApproxStep(t,e,n,i),a=Math.ceil(1/r);return this.useNativeLine?0:2*a},getLineVertexCount:function(){return this.getPolylineVertexCount(s)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(s)},getPolylineVertexCount:function(t){var e;return e=\"number\"==typeof t?t:\"number\"!=typeof t[0]?t.length:t.length/2,this.useNativeLine?2*(e-1):2*(e-1)+2},getPolylineTriangleCount:function(t){var e;return e=\"number\"==typeof t?t:\"number\"!=typeof t[0]?t.length:t.length/2,this.useNativeLine?0:2*(e-1)},addCubicCurve:function(t,e,n,i,r,a){null==a&&(a=1);for(var o=t[0],s=t[1],l=e[0],u=e[1],h=n[0],c=n[1],d=i[0],f=i[1],p=this._getCubicCurveApproxStep(t,e,n,i),g=p*p,m=g*p,v=3*p,y=3*g,_=6*g,x=6*m,b=o-2*l+h,w=s-2*u+c,T=3*(l-h)-o+d,S=3*(u-c)-s+f,M=o,A=s,I=(l-o)*v+b*y+T*m,C=(u-s)*v+w*y+S*m,D=b*_+T*x,E=w*_+S*x,L=T*x,P=S*x,N=0,O=0,R=Math.ceil(1/p),k=new Float32Array(3*(R+1)),k=[],z=0,O=0;O<R+1;O++)k[z++]=M,k[z++]=A,M+=I,A+=C,I+=D,C+=E,D+=L,E+=P,1<(N+=p)&&(M=0<I?Math.min(M,d):Math.max(M,d),A=0<C?Math.min(A,f):Math.max(A,f));this.addPolyline(k,r,a)},addLine:function(t,e,n,i){this.addPolyline([t,e],n,i)},addPolyline:(x=I.create(),b=I.create(),w=I.create(),T=I.create(),S=[],M=[],A=[],function(t,e,n,i,r){if(t.length){var a=\"number\"!=typeof t[0];if(null==r&&(r=a?t.length:t.length/2),!(r<2)){null==i&&(i=0),null==n&&(n=1),this._itemVertexOffsets.push(this._vertexOffset);for(var o,s,l,u,h,c,d=a?\"number\"!=typeof e[0]:e.length/4===r,f=this.attributes.position,p=this.attributes.color,g=this.attributes.offset,m=this.attributes.normal,v=this.indices,y=this._vertexOffset,_=0;_<r;_++)a?(S=t[_+i],s=d?e[_+i]:e):((S=S||[])[0]=t[l=2*_+i],S[1]=t[l+1],d?((s=s||[])[0]=e[o=4*_+i],s[1]=e[o+1],s[2]=e[o+2],s[3]=e[o+3]):s=e),this.useNativeLine?1<_&&(f.copy(y,y-1),p.copy(y,y-1),y++):(h=_<r-1?(a?I.copy(M,t[_+1]):((M=M||[])[0]=t[l=2*(_+1)+i],M[1]=t[l+1]),0<_?(I.sub(x,S,A),I.sub(b,M,S),I.normalize(x,x),I.normalize(b,b),I.add(T,x,b),I.normalize(T,T),u=n/2*Math.min(1/I.dot(x,T),2),w[0]=-T[1],w[1]=T[0],u):(I.sub(x,M,S),I.normalize(x,x),w[0]=-x[1],w[1]=x[0],n/2)):(I.sub(x,S,A),I.normalize(x,x),w[0]=-x[1],w[1]=x[0],n/2),m.set(y,w),m.set(y+1,w),g.set(y,h),g.set(y+1,-h),I.copy(A,S),f.set(y,S),f.set(y+1,S),p.set(y,s),p.set(y+1,s),y+=2),this.useNativeLine?(p.set(y,s),f.set(y,S),y++):0<_&&(c=3*this._faceOffset,(v=this.indices)[c]=y-4,v[1+c]=y-3,v[2+c]=y-2,v[3+c]=y-3,v[4+c]=y-1,v[5+c]=y-2,this._faceOffset+=2);this._vertexOffset=y}}}),setItemColor:function(t,e){for(var n=this._itemVertexOffsets[t],i=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,r=n;r<i;r++)this.attributes.color.set(r,e);this.dirty(\"color\")}});a.a.util.defaults(l.prototype,o.a),e.a=l},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});n(107),n(154),n(201),n(207),n(213),n(219),n(225),n(232),n(236),n(243),n(249),n(252),n(256),n(259),n(262),n(275),n(281)},function(t,e,n){\"use strict\";var i=n(0),c=n.n(i),r=n(108),d=n(109),a=n(153),o=n(1),s={echarts:\"4.1.0\",claygl:\"1.2.1\"};function l(t,e){+t.replace(\".\",\"\")<+s[e].replace(\".\",\"\")&&function(t){throw new Error(t+\" version is too old, needs \"+s[t]+\" or higher\")}(e),console.log(\"Loaded \"+e+\", version \"+t)}function u(t){this._layers={},this._zr=t}l(r.a,\"claygl\"),l(c.a.version,\"echarts\"),u.prototype.update=function(o,s){var a=this,l=s.getZr();if(l.getWidth()&&l.getHeight()){for(var t in this._layers)this._layers[t].removeViewsAll();o.eachComponent(function(t,e){if(\"series\"!==t){var n=s.getViewOfComponentModel(e),i=e.coordinateSystem;if(n.__ecgl__){if(i){if(!i.viewGL)return void console.error(\"Can't find viewGL in coordinateSystem of component \"+e.id);r=i.viewGL}else{if(!e.viewGL)return void console.error(\"Can't find viewGL of component \"+e.id);r=i.viewGL}var r=i.viewGL,a=u(e);a.addView(r),n.afterRender&&n.afterRender(e,o,s,a),h(n.groupGL,e.get(\"silent\"))}}}),o.eachSeries(function(t){var e=s.getViewOfSeriesModel(t),n=t.coordinateSystem;if(e.__ecgl__){if(n&&!n.viewGL&&!e.viewGL)return void console.error(\"Can't find viewGL of series \"+e.id);var i=n&&n.viewGL||e.viewGL,r=u(t);r.addView(i),e.afterRender&&e.afterRender(t,o,s,r),h(e.groupGL,t.get(\"silent\"))}})}else console.warn(\"Dom has no width or height\");function u(t){var e,n=(t.coordinateSystem&&t.coordinateSystem.model,t.get(\"zlevel\")),i=a._layers,r=i[n];return r||(r=i[n]=new d.a(\"gl-\"+n,l),l.painter.isSingleCanvas()&&(r.virtual=!0,e=new c.a.graphic.Image({z:1e4,style:{image:r.renderer.canvas},silent:!0}),r.__hostImage=e,l.add(e)),l.painter.insertLayer(n,r)),r.__hostImage&&r.__hostImage.setStyle({width:r.renderer.getWidth(),height:r.renderer.getHeight()}),r}function h(t,e){t&&t.traverse(function(t){t.isRenderable&&t.isRenderable()&&(t.ignorePicking=null!=t.$ignorePicking?t.$ignorePicking:e)})}};var h=c.a.init;c.a.init=function(){var t=h.apply(this,arguments);return t.getZr().painter.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=document.createElement(\"canvas\"),n=t.pixelRatio||this.dpr;e.width=this.getWidth()*n,e.height=this.getHeight()*n;var s=e.getContext(\"2d\");s.dpr=n,s.clearRect(0,0,e.width,e.height),t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,e.width,e.height));var i,r=this.storage.getDisplayList(!0),a={},l=this;function o(t,e){var n,i=l._zlevelList;null==t&&(t=-1/0);for(var r=0;r<i.length;r++){var a=i[r],o=l._layers[a];if(!o.__builtin__&&t<a&&a<e){n=o;break}}n&&n.renderToCanvas&&(s.save(),n.renderToCanvas(s),s.restore())}for(var u={ctx:s},h=0;h<r.length;h++){var c=r[h];c.zlevel!==i&&(o(i,c.zlevel),i=c.zlevel),this._doPaintEl(c,u,!0,a)}return o(i,1/0),e},t},c.a.registerPostUpdate(function(t,e){var n=e.getZr();(n.__egl=n.__egl||new u(n)).update(t,e)}),c.a.registerPreprocessor(a.a),c.a.graphicGL=o.a},function(t,e,n){\"use strict\";e.a=\"1.2.1\"},function(t,e,n){\"use strict\";function i(t,e){this.id=t,this.zr=e;try{this.renderer=new o.a({clearBit:0,devicePixelRatio:e.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(e.painter.getWidth(),e.painter.getHeight())}catch(t){return this.renderer=null,this.dom=document.createElement(\"div\"),this.dom.style.cssText=\"position:absolute; left: 0; top: 0; right: 0; bottom: 0;\",this.dom.className=\"ecgl-nowebgl\",this.dom.innerHTML=\"Sorry, your browser does not support WebGL\",void console.error(t)}this.onglobalout=this.onglobalout.bind(this),e.on(\"globalout\",this.onglobalout),this.dom=this.renderer.canvas;var n=this.dom.style;n.position=\"absolute\",n.left=\"0\",n.top=\"0\",this.views=[],this._picking=new s.a({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new a.a.graphic.Rect({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null}var r=n(0),a=n.n(r),o=n(52),s=n(117),d=n(4),l=n(1),u=n(53),h=n(80),c=n.n(h);function f(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}i.prototype.addView=function(t){var e,n;t.layer!==this&&(0<=(e=this._viewsToDispose.indexOf(t))&&this._viewsToDispose.splice(e,1),this.views.push(t),n=(t.layer=this).zr,t.scene.traverse(function(t){t.__zr=n,t.addAnimatorsToZr&&t.addAnimatorsToZr(n)}))},i.prototype.removeView=function(t){var e;t.layer!==this||0<=(e=this.views.indexOf(t))&&(this.views.splice(e,1),t.scene.traverse(f,this),t.layer=null,this._viewsToDispose.push(t))},i.prototype.removeViewsAll=function(){this.views.forEach(function(t){t.scene.traverse(f,this),t.layer=null,this._viewsToDispose.push(t)},this),this.views.length=0},i.prototype.resize=function(t,e){this.renderer.resize(t,e)},i.prototype.clear=function(){var t=this.renderer.gl,e=this._backgroundColor||[0,0,0,0];t.clearColor(e[0],e[1],e[2],e[3]),t.depthMask(!0),t.colorMask(!0,!0,!0,!0),t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT)},i.prototype.clearDepth=function(){var t=this.renderer.gl;t.clear(t.DEPTH_BUFFER_BIT)},i.prototype.clearColor=function(){var t=this.renderer.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},i.prototype.needsRefresh=function(){this.zr.refresh()},i.prototype.refresh=function(t){this._backgroundColor=t?l.a.parseColor(t):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var e=0;e<this.views.length;e++)this.views[e].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(e=0;e<this._viewsToDispose.length;e++)this._viewsToDispose[e].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()},i.prototype.renderToCanvas=function(t){this._startAccumulating(!0),t.drawImage(this.dom,0,0,t.canvas.width,t.canvas.height)},i.prototype._doRender=function(t){this.clear(),this.renderer.saveViewport();for(var e=0;e<this.views.length;e++)this.views[e].render(this.renderer,t);this.renderer.restoreViewport()},i.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var p=1;function g(t){for(var e=0;e<t.length;e++)t[e].__used__=0}function m(t,e){for(var n=0;n<e.length;n++)e[n].__used__||e[n].dispose(t)}function v(t,e){t.__used__=t.__used__||0,t.__used__++,1===t.__used__&&e.push(t)}i.prototype._startAccumulating=function(i){var r=this;this._stopAccumulating();for(var a=!1,t=0;t<this.views.length;t++)a=this.views[t].needsAccumulate()||a;function o(t){if(r._accumulatingId&&t===r._accumulatingId){for(var e=!0,n=0;n<r.views.length;n++)e=r.views[n].isAccumulateFinished()&&a;e||(r._doRender(!0),i?o(t):c()(function(){o(t)}))}}a&&(this._accumulatingId=p++,i?o(r._accumulatingId):this._accumulatingTimeout=setTimeout(function(){o(r._accumulatingId)},50))},i.prototype._trackAndClean=function(){var t=[],e=[];this._textureList&&(g(this._textureList),g(this._geometriesList));for(var n=0;n<this.views.length;n++)!function(t,l,u){var h,c;t.traverse(function(t){if(t.isRenderable()){var e=t.geometry,n=t.material;if(n!==h)for(var i=n.getTextureUniforms(),r=0;r<i.length;r++){var a=i[r],o=n.uniforms[a].value;if(o)if(o instanceof d.a)v(o,l);else if(o instanceof Array)for(var s=0;s<o.length;s++)o[s]instanceof d.a&&v(o[s],l)}e!==c&&v(e,u),h=n,c=e}});for(var e=0;e<t.lights.length;e++)t.lights[e].cubemap&&v(t.lights[e].cubemap,l)}(this.views[n].scene,t,e);this._textureList&&(m(this.renderer,this._textureList),m(this.renderer,this._geometriesList)),this._textureList=t,this._geometriesList=e},i.prototype.dispose=function(){this._stopAccumulating(),this.renderer.disposeScene(this.scene),this.zr.off(\"globalout\",this.onglobalout)},i.prototype.onmousedown=function(t){var e;t.target&&t.target.__isGLToZRProxy||(t=t.event,(e=this.pickObject(t.offsetX,t.offsetY))&&(this._dispatchEvent(\"mousedown\",t,e),this._dispatchDataEvent(\"mousedown\",t,e)),this._downX=t.offsetX,this._downY=t.offsetY)},i.prototype.onmousemove=function(t){var e,n,i;t.target&&t.target.__isGLToZRProxy||(t=t.event,n=(e=this.pickObject(t.offsetX,t.offsetY))&&e.target,i=this._hovered,this._hovered=e,i&&n!==i.target&&(i.relatedTarget=n,this._dispatchEvent(\"mouseout\",t,i),this.zr.setCursorStyle(\"default\")),this._dispatchEvent(\"mousemove\",t,e),e&&(this.zr.setCursorStyle(\"pointer\"),i&&n===i.target||this._dispatchEvent(\"mouseover\",t,e)),this._dispatchDataEvent(\"mousemove\",t,e))},i.prototype.onmouseup=function(t){var e;t.target&&t.target.__isGLToZRProxy||(t=t.event,(e=this.pickObject(t.offsetX,t.offsetY))&&(this._dispatchEvent(\"mouseup\",t,e),this._dispatchDataEvent(\"mouseup\",t,e)),this._upX=t.offsetX,this._upY=t.offsetY)},i.prototype.onclick=i.prototype.dblclick=function(t){var e,n,i,r;t.target&&t.target.__isGLToZRProxy||(e=this._upX-this._downX,n=this._upY-this._downY,20<Math.sqrt(e*e+n*n)||(t=t.event,(i=this.pickObject(t.offsetX,t.offsetY))&&(this._dispatchEvent(t.type,t,i),this._dispatchDataEvent(t.type,t,i)),(r=this._clickToSetFocusPoint(t))&&r.view.setDOFFocusOnPoint(r.distance)&&this.zr.refresh()))},i.prototype._clickToSetFocusPoint=function(t){for(var e=this.renderer,n=e.viewport,i=this.views.length-1;0<=i;i--){var r=this.views[i];if(r.hasDOF()&&r.containPoint(t.offsetX,t.offsetY)){this._picking.scene=r.scene,this._picking.camera=r.camera,e.viewport=r.viewport;var a=this._picking.pick(t.offsetX,t.offsetY,!0);if(a)return a.view=r,a}}e.viewport=n},i.prototype.onglobalout=function(t){var e=this._hovered;e&&this._dispatchEvent(\"mouseout\",t,{target:e.target})},i.prototype.pickObject=function(t,e){for(var n=[],i=this.renderer,r=i.viewport,a=0;a<this.views.length;a++){var o=this.views[a];o.containPoint(t,e)&&(this._picking.scene=o.scene,this._picking.camera=o.camera,i.viewport=o.viewport,this._picking.pickAll(t,e,n))}return i.viewport=r,n.sort(function(t,e){return t.distance-e.distance}),n[0]},i.prototype._dispatchEvent=function(t,e,n){var i=(n=n||{}).target;for(n.cancelBubble=!1,n.event=e,n.type=t,n.offsetX=e.offsetX,n.offsetY=e.offsetY;i&&(i.trigger(t,n),i=i.getParent(),!n.cancelBubble););this._dispatchToView(t,n)},i.prototype._dispatchDataEvent=function(t,e,n){var i=n&&n.target,r=i&&i.dataIndex,a=i&&i.seriesIndex,o=i&&i.eventData,s=!1,l=this._zrEventProxy;l.position=[e.offsetX,e.offsetY],l.update();var u={target:l};\"mousemove\"===t&&(null!=r?r!==this._lastDataIndex&&(0<=parseInt(this._lastDataIndex,10)&&(l.dataIndex=this._lastDataIndex,l.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(u,\"mouseout\",e)),s=!0):null!=o&&o!==this._lastEventData&&(null!=this._lastEventData&&(l.eventData=this._lastEventData,this.zr.handler.dispatchToElement(u,\"mouseout\",e)),s=!0),this._lastEventData=o,this._lastDataIndex=r,this._lastSeriesIndex=a),l.eventData=o,l.dataIndex=r,l.seriesIndex=a,(null!=o||0<=parseInt(r,10)&&0<=parseInt(a,10))&&(this.zr.handler.dispatchToElement(u,t,e),s&&this.zr.handler.dispatchToElement(u,\"mouseover\",e))},i.prototype._dispatchToView=function(t,e){for(var n=0;n<this.views.length;n++)this.views[n].containPoint(e.offsetX,e.offsetY)&&this.views[n].trigger(t,e)},a.a.util.extend(i.prototype,u.a),e.a=i},function(t,e,n){\"use strict\";function i(i,t,e){\"object\"==typeof t&&(e=t,t=null);var r,a=this;if(!(i instanceof Function))for(var n in r=[],i)i.hasOwnProperty(n)&&r.push(n);var o=function(t){if(a.apply(this,arguments),i instanceof Function?l(this,i.call(this,t)):function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];t[r]=e[r]}}(this,i,r),this.constructor===o)for(var e=o.__initializers__,n=0;n<e.length;n++)e[n].apply(this,arguments)};(o.__super__=a).__initializers__?o.__initializers__=a.__initializers__.slice():o.__initializers__=[],t&&o.__initializers__.push(t);function s(){}return s.prototype=a.prototype,o.prototype=new s,l((o.prototype.constructor=o).prototype,e),o.extend=a.extend,o.derive=a.extend,o}function l(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}e.a={extend:i,derive:i}},function(t,e,n){\"use strict\";var o=[\"OES_texture_float\",\"OES_texture_half_float\",\"OES_texture_float_linear\",\"OES_texture_half_float_linear\",\"OES_standard_derivatives\",\"OES_vertex_array_object\",\"OES_element_index_uint\",\"WEBGL_compressed_texture_s3tc\",\"WEBGL_depth_texture\",\"EXT_texture_filter_anisotropic\",\"EXT_shader_texture_lod\",\"WEBGL_draw_buffers\",\"EXT_frag_depth\",\"EXT_sRGB\"],s=[\"MAX_TEXTURE_SIZE\",\"MAX_CUBE_MAP_TEXTURE_SIZE\"];e.a=function(n){for(var i={},e={},t=0;t<o.length;t++){a(o[t])}for(t=0;t<s.length;t++){var r=s[t];e[r]=n.getParameter(n[r])}function a(t){var e=n.getExtension(t);e=(e=e||n.getExtension(\"MOZ_\"+t))||n.getExtension(\"WEBKIT_\"+t),i[t]=e}this.getExtension=function(t){return t in i||a(t),i[t]},this.getParameter=function(t){return e[t]},this.getMaxJointNumber=function(){return 15}}},function(t,e,n){\"use strict\";e.a={get:function(n){var e=new XMLHttpRequest;e.open(\"get\",n.url),e.responseType=n.responseType||\"text\",n.onprogress&&(e.onprogress=function(t){var e;t.lengthComputable?(e=t.loaded/t.total,n.onprogress(e,t.loaded,t.total)):n.onprogress(null)}),e.onload=function(t){400<=e.status?n.onerror&&n.onerror():n.onload&&n.onload(e.response)},n.onerror&&(e.onerror=n.onerror),e.send(null)}}},function(t,e,n){\"use strict\";var i=n(69),h={},c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function d(t){return(t=Math.round(t))<0?0:255<t?255:t}function f(t){return t<0?0:1<t?1:t}function p(t){return t.length&&\"%\"===t.charAt(t.length-1)?d(parseFloat(t)/100*255):d(parseInt(t,10))}function g(t){return t.length&&\"%\"===t.charAt(t.length-1)?f(parseFloat(t)/100):f(parseFloat(t))}function s(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function m(t,e,n){return t+(e-t)*n}function v(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var _=new i.a(20),r=null;function x(t,e){r&&y(r,e),r=_.put(t,r||e.slice())}function b(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=g(t[1]),r=g(t[2]),a=r<=.5?r*(i+1):r+i-r*i,o=2*r-a;return v(e=e||[],d(255*s(o,a,n+1/3)),d(255*s(o,a,n)),d(255*s(o,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}h.parse=function(t,e){if(t){e=e||[];var n=_.get(t);if(n)return y(e,n);var i,r=(t+=\"\").replace(/ /g,\"\").toLowerCase();if(r in c)return y(e,c[r]),x(t,e),e;if(\"#\"===r.charAt(0))return 4===r.length?0<=(i=parseInt(r.substr(1),16))&&i<=4095?(v(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),x(t,e),e):void v(e,0,0,0,1):7===r.length?0<=(i=parseInt(r.substr(1),16))&&i<=16777215?(v(e,(16711680&i)>>16,(65280&i)>>8,255&i,1),x(t,e),e):void v(e,0,0,0,1):void 0;var a=r.indexOf(\"(\"),o=r.indexOf(\")\");if(-1!==a&&o+1===r.length){var s=r.substr(0,a),l=r.substr(a+1,o-(a+1)).split(\",\"),u=1;switch(s){case\"rgba\":if(4!==l.length)return void v(e,0,0,0,1);u=g(l.pop());case\"rgb\":return 3!==l.length?void v(e,0,0,0,1):(v(e,p(l[0]),p(l[1]),p(l[2]),u),x(t,e),e);case\"hsla\":return 4!==l.length?void v(e,0,0,0,1):(l[3]=g(l[3]),b(l,e),x(t,e),e);case\"hsl\":return 3!==l.length?void v(e,0,0,0,1):(b(l,e),x(t,e),e);default:return}}v(e,0,0,0,1)}},h.parseToFloat=function(t,e){if(e=h.parse(t,e))return e[0]/=255,e[1]/=255,e[2]/=255,e},h.lift=function(t,e){var n=h.parse(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0;return h.stringify(n,4===n.length?\"rgba\":\"rgb\")}},h.toHex=function(t){var e=h.parse(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},h.fastLerp=function(t,e,n){if(e&&e.length&&0<=t&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),a=Math.ceil(i),o=e[r],s=e[a],l=i-r;return n[0]=d(m(o[0],s[0],l)),n[1]=d(m(o[1],s[1],l)),n[2]=d(m(o[2],s[2],l)),n[3]=f(m(o[3],s[3],l)),n}},h.fastMapToColor=h.fastLerp,h.lerp=function(t,e,n){if(e&&e.length&&0<=t&&t<=1){var i=t*(e.length-1),r=Math.floor(i),a=Math.ceil(i),o=h.parse(e[r]),s=h.parse(e[a]),l=i-r,u=h.stringify([d(m(o[0],s[0],l)),d(m(o[1],s[1],l)),d(m(o[2],s[2],l)),f(m(o[3],s[3],l))],\"rgba\");return n?{color:u,leftIndex:r,rightIndex:a,value:i}:u}},h.mapToColor=h.lerp,h.modifyHSL=function(t,e,n,i){if(t=h.parse(t))return t=function(t){if(t){var e,n,i,r,a,o=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.min(o,s,l),h=Math.max(o,s,l),c=h-u,d=(h+u)/2;0==c?n=e=0:(n=d<.5?c/(h+u):c/(2-h-u),i=((h-o)/6+c/2)/c,r=((h-s)/6+c/2)/c,a=((h-l)/6+c/2)/c,o===h?e=a-r:s===h?e=1/3+i-a:l===h&&(e=2/3+r-i),e<0&&(e+=1),1<e&&--e);var f=[360*e,n,d];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=(r=e,(r=Math.round(r))<0?0:360<r?360:r)),null!=n&&(t[1]=g(n)),null!=i&&(t[2]=g(i)),h.stringify(b(t),\"rgba\");var r},h.modifyAlpha=function(t,e){if((t=h.parse(t))&&null!=e)return t[3]=f(e),h.stringify(t,\"rgba\")},h.stringify=function(t,e){if(t&&t.length){var n=t[0]+\",\"+t[1]+\",\"+t[2];return\"rgba\"!==e&&\"hsva\"!==e&&\"hsla\"!==e||(n+=\",\"+t[3]),e+\"(\"+n+\")\"}},e.a=h},function(t,e,n){\"use strict\";function o(){this.head=null,this.tail=null,this._length=0}o.prototype.insert=function(t){var e=new o.Entry(t);return this.insertEntry(e),e},o.prototype.insertAt=function(t,e){if(!(t<0)){for(var n,i,r=this.head,a=0;r&&a!=t;)r=r.next,a++;r?(n=new o.Entry(e),(i=r.prev)?(i.next=n).prev=i:this.head=n,(n.next=r).prev=n):this.insert(e)}},o.prototype.insertBeforeEntry=function(t,e){var n=new o.Entry(t),i=e.prev;i?(i.next=n).prev=i:this.head=n,(n.next=e).prev=n,this._length++},o.prototype.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,this.tail=t):this.head=this.tail=t,this._length++},o.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._length--},o.prototype.removeAt=function(t){if(!(t<0)){for(var e=this.head,n=0;e&&n!=t;)e=e.next,n++;return e?(this.remove(e),e.value):void 0}},o.prototype.getHead=function(){if(this.head)return this.head.value},o.prototype.getTail=function(){if(this.tail)return this.tail.value},o.prototype.getAt=function(t){if(!(t<0)){for(var e=this.head,n=0;e&&n!=t;)e=e.next,n++;return e.value}},o.prototype.indexOf=function(t){for(var e=this.head,n=0;e;){if(e.value===t)return n;e=e.next,n++}},o.prototype.length=function(){return this._length},o.prototype.isEmpty=function(){return 0===this._length},o.prototype.forEach=function(t,e){for(var n=this.head,i=0,r=void 0!==e;n;)r?t.call(e,n.value,i):t(n.value,i),n=n.next,i++},o.prototype.clear=function(){this.tail=this.head=null,this._length=0},o.Entry=function(t){this.value=t,this.next=null,this.prev=null},e.a=o},function(t,e,n){\"use strict\";var w=n(116),i=/for\\s*?\\(int\\s*?_idx_\\s*\\=\\s*([\\w-]+)\\;\\s*_idx_\\s*<\\s*([\\w-]+);\\s*_idx_\\s*\\+\\+\\s*\\)\\s*\\{\\{([\\s\\S]+?)(?=\\}\\})\\}\\}/g;function T(t,o,e){var s={};for(var n in e)s[n+\"_COUNT\"]=e[n];return t.replace(i,function(t,e,n,i){var r=\"\";isNaN(e)&&(e=e in o?o[e]:s[e]),isNaN(n)&&(n=n in o?o[n]:s[n]);for(var a=parseInt(e);a<parseInt(n);a++)r+=\"{\"+i.replace(/float\\s*\\(\\s*_idx_\\s*\\)/g,a.toFixed(1)).replace(/_idx_/g,a)+\"}\";return r})}function S(t,e,n){var i=[];if(e)for(var r in e){var a=e[r];0<a&&i.push(\"#define \"+r.toUpperCase()+\"_COUNT \"+a)}if(n)for(var o=0;o<n.length;o++){var s=n[o];i.push(\"#define \"+s.toUpperCase()+\"_ENABLED\")}for(var s in t){var l=t[s];null===l?i.push(\"#define \"+s):i.push(\"#define \"+s+\" \"+l.toString())}return i.join(\"\\n\")}function r(t){this._renderer=t,this._cache={}}r.prototype.getProgram=function(t,e,n){var i=this._cache,r=t.isSkinnedMesh&&t.isSkinnedMesh(),a=\"s\"+e.shader.shaderID+\"m\"+e.getProgramKey();n&&(a+=\"se\"+n.getProgramKey(t.lightGroup)),r&&(a+=\",\"+t.joints.length);var o=i[a];if(o)return o;var s,l=n?n.getLightsNumbers(t.lightGroup):{},u=this._renderer,h=u.gl,c=e.getEnabledTextures(),d=\"\";r&&(s={SKINNING:null,JOINT_COUNT:t.joints.length},t.joints.length>u.getMaxJointNumber()&&(s.USE_SKIN_MATRICES_TEXTURE=null),d=\"\\n\"+S(s)+\"\\n\");var f=d+S(e.vertexDefines,l,c),p=d+S(e.fragmentDefines,l,c),g=f+\"\\n\"+e.shader.vertex,m=[\"OES_standard_derivatives\",\"EXT_shader_texture_lod\"].filter(function(t){return null!=u.getGLExtension(t)});0<=m.indexOf(\"EXT_shader_texture_lod\")&&(p+=\"\\n#define SUPPORT_TEXTURE_LOD\"),0<=m.indexOf(\"OES_standard_derivatives\")&&(p+=\"\\n#define SUPPORT_STANDARD_DERIVATIVES\");var v,y=function(t){for(var e=[],n=0;n<t.length;n++)e.push(\"#extension GL_\"+t[n]+\" : enable\");return e.join(\"\\n\")}(m)+\"\\n\"+([\"precision\",v=e.precision,\"float\"].join(\" \")+\";\\n\"+[\"precision\",v,\"int\"].join(\" \")+\";\\n\"+[\"precision\",v,\"sampler2D\"].join(\" \")+\";\\n\")+\"\\n\"+p+\"\\n\"+e.shader.fragment,_=T(g,e.vertexDefines,l),x=T(y,e.fragmentDefines,l);(o=new w.a).uniformSemantics=e.shader.uniformSemantics,o.attributes=e.shader.attributes;var b=o.buildProgram(h,e.shader,_,x);return o.__error=b,i[a]=o},e.a=r},function(t,e,n){\"use strict\";var h=n(14),i=n(7),c={};function d(t,e,n){if(!t.getShaderParameter(e,t.COMPILE_STATUS))return[t.getShaderInfoLog(e),function(t){for(var e=t.split(\"\\n\"),n=0,i=e.length;n<i;n++)e[n]=n+1+\": \"+e[n];return e.join(\"\\n\")}(n)].join(\"\\n\")}var f=new h.a.Float32Array(16),r=i.a.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(t){this._textureSlot=0,t.gl.useProgram(this._program)},hasUniform:function(t){var e=this._locations[t];return null!=e},useTextureSlot:function(t,e,n){e&&(t.gl.activeTexture(t.gl.TEXTURE0+n),e.isRenderable()?e.bind(t):e.unbind(t))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(t){this._textureSlot=t||0},takeCurrentTextureSlot:function(t,e){var n=this._textureSlot;return this.useTextureSlot(t,e,n),this._textureSlot++,n},setUniform:function(t,e,n,i){var r=this._locations[n];if(null==r)return!1;switch(e){case\"m4\":if(!(i instanceof Float32Array)){for(var a=0;a<i.length;a++)f[a]=i[a];i=f}t.uniformMatrix4fv(r,!1,i);break;case\"2i\":t.uniform2i(r,i[0],i[1]);break;case\"2f\":t.uniform2f(r,i[0],i[1]);break;case\"3i\":t.uniform3i(r,i[0],i[1],i[2]);break;case\"3f\":t.uniform3f(r,i[0],i[1],i[2]);break;case\"4i\":t.uniform4i(r,i[0],i[1],i[2],i[3]);break;case\"4f\":t.uniform4f(r,i[0],i[1],i[2],i[3]);break;case\"1i\":t.uniform1i(r,i);break;case\"1f\":t.uniform1f(r,i);break;case\"1fv\":t.uniform1fv(r,i);break;case\"1iv\":t.uniform1iv(r,i);break;case\"2iv\":t.uniform2iv(r,i);break;case\"2fv\":t.uniform2fv(r,i);break;case\"3iv\":t.uniform3iv(r,i);break;case\"3fv\":t.uniform3fv(r,i);break;case\"4iv\":t.uniform4iv(r,i);break;case\"4fv\":t.uniform4fv(r,i);break;case\"m2\":case\"m2v\":t.uniformMatrix2fv(r,!1,i);break;case\"m3\":case\"m3v\":t.uniformMatrix3fv(r,!1,i);break;case\"m4v\":if(Array.isArray(i)&&Array.isArray(i[0])){for(var o=new h.a.Float32Array(16*i.length),s=0,a=0;a<i.length;a++)for(var l=i[a],u=0;u<16;u++)o[s++]=l[u];t.uniformMatrix4fv(r,!1,o)}else t.uniformMatrix4fv(r,!1,i)}return!0},setUniformOfSemantic:function(t,e,n){var i=this.uniformSemantics[e];return!!i&&this.setUniform(t,i.type,i.symbol,n)},enableAttributes:function(t,e,n){var i=t.gl,r=this._program,a=this._locations,o=n?n.__enabledAttributeList:c[t.__uid__];o=o||(n?n.__enabledAttributeList=[]:c[t.__uid__]=[]);for(var s=[],l=0;l<e.length;l++){var u=e[l];if(this.attributes[u]){var h=a[u];if(null==h){if(-1===(h=i.getAttribLocation(r,u))){s[l]=-1;continue}a[u]=h}o[s[l]=h]?o[h]=2:o[h]=1}else s[l]=-1}for(l=0;l<o.length;l++)switch(o[l]){case 1:i.enableVertexAttribArray(l),o[l]=3;break;case 2:o[l]=3;break;case 3:i.disableVertexAttribArray(l),o[l]=0}return s},buildProgram:function(t,e,n,i){var r=t.createShader(t.VERTEX_SHADER),a=t.createProgram();t.shaderSource(r,n),t.compileShader(r);var o=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(o,i),t.compileShader(o);var s,l=d(t,r,n);if(l)return l;if(l=d(t,o,i))return l;if(t.attachShader(a,r),t.attachShader(a,o),e.attributeSemantics.POSITION?t.bindAttribLocation(a,0,e.attributeSemantics.POSITION.symbol):(s=Object.keys(this.attributes),t.bindAttribLocation(a,0,s[0])),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))return\"Could not link program\\n\"+t.getProgramInfoLog(a);for(var u=0;u<e.uniforms.length;u++){var h=e.uniforms[u];this._locations[h]=t.getUniformLocation(a,h)}t.deleteShader(r),t.deleteShader(o),this._program=a,this.vertexCode=n,this.fragmentCode=i}});e.a=r},function(t,e,n){\"use strict\";var A,I,C,D,E,i=n(7),r=n(54),a=n(26),L=n(3),P=n(9),o=n(72),N=n(11),O=n(12),R=i.a.extend({scene:null,camera:null,renderer:null},function(){this._ray=new r.a,this._ndc=new a.a},{pick:function(t,e,n){return this.pickAll(t,e,[],n)[0]||null},pickAll:function(t,e,n,i){return this.renderer.screenToNDC(t,e,this._ndc),this.camera.castRay(this._ndc,this._ray),n=n||[],this._intersectNode(this.scene,n,i||!1),n.sort(this._intersectionCompareFunc),n},_intersectNode:function(t,e,n){t instanceof o.a&&t.isRenderable()&&(t.ignorePicking&&!n||!(t.mode===N.a.TRIANGLES&&t.geometry.isUseIndices()||t.geometry.pickByRay||t.geometry.pick)||this._intersectRenderable(t,e));for(var i=0;i<t._children.length;i++)this._intersectNode(t._children[i],e,n)},_intersectRenderable:(A=new L.a,I=new L.a,C=new L.a,D=new r.a,E=new P.a,function(t,e){var n=t.isSkinnedMesh();D.copy(this._ray),P.a.invert(E,t.worldTransform),n||D.applyTransform(E);var i=t.geometry,r=n?t.skeleton.boundingBox:i.boundingBox;if(!r||D.intersectBoundingBox(r))if(i.pick)i.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,t,e);else if(i.pickByRay)i.pickByRay(D,t,e);else{var a,o,s=t.cullFace===N.a.BACK&&t.frontFace===N.a.CCW||t.cullFace===N.a.FRONT&&t.frontFace===N.a.CW,l=i.indices,u=i.attributes.position,h=i.attributes.weight,c=i.attributes.joint,d=[];if(u&&u.value&&l){if(n){o=t.skeleton.getSubSkinMatrices(t.__uid__,t.joints);for(var f=0;f<t.joints.length;f++){d[f]=d[f]||[];for(var p=0;p<16;p++)d[f][p]=o[16*f+p]}var g=[],m=[],v=[],y=[],_=[],x=i.attributes.skinnedPosition;for(x&&x.value||(i.createAttribute(\"skinnedPosition\",\"f\",3),(x=i.attributes.skinnedPosition).init(i.vertexCount)),f=0;f<i.vertexCount;f++){for(u.get(f,g),h.get(f,m),c.get(f,v),m[3]=1-m[0]-m[1]-m[2],O.a.set(y,0,0,0),p=0;p<4;p++)0<=v[p]&&1e-4<m[p]&&(O.a.transformMat4(_,g,d[v[p]]),O.a.scaleAndAdd(y,y,_,m[p]));x.set(f,y)}}for(f=0;f<l.length;f+=3){var b,w=l[f],T=l[f+1],S=l[f+2],M=n?i.attributes.skinnedPosition:u;M.get(w,A.array),M.get(T,I.array),M.get(S,C.array),(a=s?D.intersectTriangle(A,I,C,t.culling):D.intersectTriangle(A,C,I,t.culling))&&(b=new L.a,n?L.a.copy(b,a):L.a.transformMat4(b,a,t.worldTransform),e.push(new R.Intersection(a,b,t,[w,T,S],f/3,L.a.dist(b,this._ray.origin))))}}}}),_intersectionCompareFunc:function(t,e){return t.distance-e.distance}});R.Intersection=function(t,e,n,i,r,a){this.point=t,this.pointWorld=e,this.target=n,this.triangle=i,this.triangleIndex=r,this.distance=a},e.a=R},function(t,e,n){\"use strict\";var i=n(7),v=n(11),r=n(57),o=n(14);function s(t){return{byte:o.a.Int8Array,ubyte:o.a.Uint8Array,short:o.a.Int16Array,ushort:o.a.Uint16Array}[t]||o.a.Float32Array}function y(t){return\"attr_\"+t}function a(t,e,n,i){switch(this.name=t,this.type=e,this.size=n,this.semantic=i||\"\",this.value=null,n){case 1:this.get=function(t){return this.value[t]},this.set=function(t,e){this.value[t]=e},this.copy=function(t,e){this.value[t]=this.value[t]};break;case 2:this.get=function(t,e){var n=this.value;return e[0]=n[2*t],e[1]=n[2*t+1],e},this.set=function(t,e){var n=this.value;n[2*t]=e[0],n[2*t+1]=e[1]},this.copy=function(t,e){var n=this.value;e*=2,n[t*=2]=n[e],n[t+1]=n[e+1]};break;case 3:this.get=function(t,e){var n=3*t,i=this.value;return e[0]=i[n],e[1]=i[1+n],e[2]=i[2+n],e},this.set=function(t,e){var n=3*t,i=this.value;i[n]=e[0],i[1+n]=e[1],i[2+n]=e[2]},this.copy=function(t,e){var n=this.value;e*=3,n[t*=3]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2]};break;case 4:this.get=function(t,e){var n=this.value,i=4*t;return e[0]=n[i],e[1]=n[1+i],e[2]=n[2+i],e[3]=n[3+i],e},this.set=function(t,e){var n=this.value,i=4*t;n[i]=e[0],n[1+i]=e[1],n[2+i]=e[2],n[3+i]=e[3]},this.copy=function(t,e){var n=this.value;e*=4,n[t*=4]=n[e],n[t+1]=n[e+1],n[t+2]=n[e+2],n[t+3]=n[e+3]}}}function _(t,e,n,i,r){this.name=t,this.type=e,this.buffer=n,this.size=i,this.semantic=r,this.symbol=\"\",this.needsRemove=!1}function x(t){this.buffer=t,this.count=0}a.prototype.init=function(t){var e;this.value&&this.value.length==t*this.size||(e=s(this.type),this.value=new e(t*this.size))},a.prototype.fromArray=function(t){var e=s(this.type);if(t[0]&&t[0].length)for(var n=0,i=this.size,r=new e(t.length*i),a=0;a<t.length;a++)for(var o=0;o<i;o++)r[n++]=t[a][o];else r=new e(t);this.value=r},a.prototype.clone=function(t){var e=new a(this.name,this.type,this.size,this.semantic);return t&&console.warn(\"todo\"),e};var l=i.a.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new r.a,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:\"\",pick:null,pickByRay:null,dirty:function(){for(var t=this.getEnabledAttributes(),e=0;e<t.length;e++)this.dirtyAttribute(t[e]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty(\"any\")},dirtyIndices:function(){this._cache.dirtyAll(\"indices\")},dirtyAttribute:function(t){this._cache.dirtyAll(y(t)),this._cache.dirtyAll(\"attributes\")},getTriangleIndices:function(t,e){if(t<this.triangleCount&&0<=t){e=e||[];var n=this.indices;return e[0]=n[3*t],e[1]=n[3*t+1],e[2]=n[3*t+2],e}},setTriangleIndices:function(t,e){var n=this.indices;n[3*t]=e[0],n[3*t+1]=e[1],n[3*t+2]=e[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(t){var e=65535<this.vertexCount?o.a.Uint32Array:o.a.Uint16Array;if(t[0]&&t[0].length)for(var n=0,i=new e(3*t.length),r=0;r<t.length;r++)for(var a=0;a<3;a++)i[n++]=t[r][a];else i=new e(t);this.indices=i},createAttribute:function(t,e,n,i){var r=new a(t,e,n,i);return this.attributes[t]&&this.removeAttribute(t),this.attributes[t]=r,this._attributeList.push(t),r},removeAttribute:function(t){var e=this._attributeList,n=e.indexOf(t);return 0<=n&&(e.splice(n,1),delete this.attributes[t],!0)},getAttribute:function(t){return this.attributes[t]},getEnabledAttributes:function(){var t=this._enabledAttributes,e=this._attributeList;if(t)return t;for(var n=[],i=this.vertexCount,r=0;r<e.length;r++){var a=e[r],o=this.attributes[a];o.value&&o.value.length===i*o.size&&n.push(a)}return this._enabledAttributes=n},getBufferChunks:function(t){var e=this._cache;e.use(t.__uid__);var n=e.isDirty(\"attributes\"),i=e.isDirty(\"indices\");if(n||i){this._updateBuffer(t.gl,n,i);for(var r=this.getEnabledAttributes(),a=0;a<r.length;a++)e.fresh(y(r[a]));e.fresh(\"attributes\"),e.fresh(\"indices\")}return e.fresh(\"any\"),e.get(\"chunks\")},_updateBuffer:function(t,e,n){var i=this._cache,r=i.get(\"chunks\"),a=!1;r||((r=[])[0]={attributeBuffers:[],indicesBuffer:null},i.put(\"chunks\",r),a=!0);var o=r[0],s=o.attributeBuffers,l=o.indicesBuffer;if(e||a){var u=this.getEnabledAttributes(),h={};if(!a)for(var c=0;c<s.length;c++)h[s[c].name]=s[c];for(var d=0;d<u.length;d++){var f,p,g=u[d],m=this.attributes[g];a||(f=h[g]),p=f?f.buffer:t.createBuffer(),i.isDirty(y(g))&&(t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,m.value,this.dynamic?v.a.DYNAMIC_DRAW:v.a.STATIC_DRAW)),s[d]=new _(g,m.type,p,m.size,m.semantic)}for(c=d;c<s.length;c++)t.deleteBuffer(s[c].buffer);s.length=d}this.isUseIndices()&&(n||a)&&(l||(l=new x(t.createBuffer()),o.indicesBuffer=l),l.count=this.indices.length,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?v.a.DYNAMIC_DRAW:v.a.STATIC_DRAW))},dispose:function(t){var e=this._cache;e.use(t.__uid__);var n=e.get(\"chunks\");if(n)for(var i=0;i<n.length;i++){for(var r=n[i],a=0;a<r.attributeBuffers.length;a++){var o=r.attributeBuffers[a];t.gl.deleteBuffer(o.buffer)}r.indicesBuffer&&t.gl.deleteBuffer(r.indicesBuffer.buffer)}if(this.__vaoCache){var s=t.getGLExtension(\"OES_vertex_array_object\");for(var l in this.__vaoCache){var u=this.__vaoCache[l].vao;u&&s.deleteVertexArrayOES(u)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});Object.defineProperty&&(Object.defineProperty(l.prototype,\"vertexCount\",{enumerable:!1,get:function(){var t=this.attributes[this.mainAttribute];return(t=t||this.attributes[this._attributeList[0]])&&t.value?t.value.length/t.size:0}}),Object.defineProperty(l.prototype,\"triangleCount\",{enumerable:!1,get:function(){var t=this.indices;return t?t.length/3:0}})),l.STATIC_DRAW=v.a.STATIC_DRAW,l.DYNAMIC_DRAW=v.a.DYNAMIC_DRAW,l.STREAM_DRAW=v.a.STREAM_DRAW,l.AttributeBuffer=_,l.IndicesBuffer=x,l.Attribute=a,e.a=l},function(t,e,n){\"use strict\";var i=n(120),r=\"uniform vec3 \",a=\"uniform float \",o=\"@export clay.header.\",s=\"@end\",l=\":unconfigurable;\";e.a=[o+\"directional_light\",r+\"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]\"+l,r+\"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]\"+l,s,o+\"ambient_light\",r+\"ambientLightColor[AMBIENT_LIGHT_COUNT]\"+l,s,o+\"ambient_sh_light\",r+\"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]\"+l,r+\"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]\"+l,i.a,s,o+\"ambient_cubemap_light\",r+\"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]\"+l,\"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]\"+l,\"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]\"+l,s,o+\"point_light\",r+\"pointLightPosition[POINT_LIGHT_COUNT]\"+l,a+\"pointLightRange[POINT_LIGHT_COUNT]\"+l,r+\"pointLightColor[POINT_LIGHT_COUNT]\"+l,s,o+\"spot_light\",r+\"spotLightPosition[SPOT_LIGHT_COUNT]\"+l,r+\"spotLightDirection[SPOT_LIGHT_COUNT]\"+l,a+\"spotLightRange[SPOT_LIGHT_COUNT]\"+l,a+\"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]\"+l,a+\"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]\"+l,a+\"spotLightFalloffFactor[SPOT_LIGHT_COUNT]\"+l,r+\"spotLightColor[SPOT_LIGHT_COUNT]\"+l,s].join(\"\\n\")},function(t,e,n){\"use strict\";e.a=\"vec3 calcAmbientSHLight(int idx, vec3 N) {\\n int offset = 9 * idx;\\n return ambientSHLightCoefficients[0]\\n + ambientSHLightCoefficients[1] * N.x\\n + ambientSHLightCoefficients[2] * N.y\\n + ambientSHLightCoefficients[3] * N.z\\n + ambientSHLightCoefficients[4] * N.x * N.z\\n + ambientSHLightCoefficients[5] * N.z * N.y\\n + ambientSHLightCoefficients[6] * N.y * N.x\\n + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)\\n + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);\\n}\"},function(t,e,n){\"use strict\";e.a=\"@export clay.skybox.vertex\\n#define SHADER_NAME skybox\\nuniform mat4 world : WORLD;\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nattribute vec3 position : POSITION;\\nvarying vec3 v_WorldPosition;\\nvoid main()\\n{\\n v_WorldPosition = (world * vec4(position, 1.0)).xyz;\\n gl_Position = worldViewProjection * vec4(position, 1.0);\\n}\\n@end\\n@export clay.skybox.fragment\\n#define PI 3.1415926\\nuniform mat4 viewInverse : VIEWINVERSE;\\n#ifdef EQUIRECTANGULAR\\nuniform sampler2D environmentMap;\\n#else\\nuniform samplerCube environmentMap;\\n#endif\\nuniform float lod: 0.0;\\nvarying vec3 v_WorldPosition;\\n@import clay.util.rgbm\\n@import clay.util.srgb\\n@import clay.util.ACES\\nvoid main()\\n{\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(v_WorldPosition - eyePos);\\n#ifdef EQUIRECTANGULAR\\n float phi = acos(V.y);\\n float theta = atan(-V.x, V.z) + PI * 0.5;\\n vec2 uv = vec2(theta / 2.0 / PI, phi / PI);\\n vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));\\n#else\\n #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)\\n vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));\\n #else\\n vec4 texel = decodeHDR(textureCube(environmentMap, V));\\n #endif\\n#endif\\n#ifdef SRGB_DECODE\\n texel = sRGBToLinear(texel);\\n#endif\\n#ifdef TONEMAPPING\\n texel.rgb = ACESToneMapping(texel.rgb);\\n#endif\\n#ifdef SRGB_ENCODE\\n texel = linearTosRGB(texel);\\n#endif\\n gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));\\n}\\n@end\"},function(t,e,n){\"use strict\";var b=n(4),w=n(5);n(27);function i(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var T=i(\"DXT1\"),S=i(\"DXT3\"),M=i(\"DXT5\"),r={parse:function(t,e){var n=new Int32Array(t,0,31);if(542327876!==n[0])return null;if(4&!n(20))return null;var i,r,a=n(21),o=n[4],s=n[3],l=512&n[28],u=131072&n[2];switch(a){case T:i=8,r=b.a.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case S:i=16,r=b.a.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case M:i=16,r=b.a.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var h=n[1]+4,c=l?6:1,d=1;u&&(d=Math.max(1,n[7]));for(var f=[],p=0;p<c;p++){var g=o,m=s;f[p]=new w.a({width:g,height:m,format:r});for(var v=[],y=0;y<d;y++){var _=Math.max(4,g)/4*Math.max(4,m)/4*i,x=new Uint8Array(t,h,_);h+=_,g*=.5,m*=.5,v[y]=x}f[p].pixels=v[0],u&&(f[p].mipmaps=v)}if(!e)return f[0];e.width=f[0].width,e.height=f[0].height,e.format=f[0].format,e.pixels=f[0].pixels,e.mipmaps=f[0].mipmaps}};e.a=r},function(t,e,n){\"use strict\";var T=n(4),S=n(5),M=String.fromCharCode,A=8,I=32767;function C(t,e,n,i){for(var r,a,o=0,s=0,l=i;0<l;)if(t[s][0]=e[n++],t[s][1]=e[n++],t[s][2]=e[n++],t[s][3]=e[n++],1===t[s][0]&&1===t[s][1]&&1===t[s][2]){for(var u=t[s][3]<<o>>>0;0<u;u--)r=t[s-1],(a=t[s])[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],s++,l--;o+=8}else s++,l--,o=0;return n}var i={parseRGBE:function(t,e,n){null==n&&(n=0);var i=new Uint8Array(t),r=i.length;if(\"#?\"===function(t,e,n){for(var i=\"\",r=e;r<n;r++)i+=M(t[r]);return i}(i,0,2)){for(var a=2;a<r&&(\"\\n\"!==M(i[a])||\"\\n\"!==M(i[a+1]));a++);if(!(r<=a)){a+=2;for(var o=\"\";a<r;a++){var s=M(i[a]);if(\"\\n\"===s)break;o+=s}var l=o.split(\" \"),u=parseInt(l[1]),h=parseInt(l[3]);if(h&&u){for(var c=a+1,d=[],f=0;f<h;f++){d[f]=[];for(var p=0;p<4;p++)d[f][p]=0}for(var g,m,v,y,_,x=new Float32Array(h*u*4),b=0,w=0;w<u;w++){if(!(c=function(t,e,n,i){if(i<A|I<i)return C(t,e,n,i);if(2!=(r=e[n++]))return C(t,e,n-1,i);if(t[0][1]=e[n++],t[0][2]=e[n++],r=e[n++],(t[0][2]<<8>>>0|r)>>>0!==i)return null;for(var r=0;r<4;r++)for(var a=0;a<i;){var o=e[n++];if(128<o){o=(127&o)>>>0;for(var s=e[n++];o--;)t[a++][r]=s}else for(;o--;)t[a++][r]=e[n++]}return n}(d,i,c,h)))return null;for(f=0;f<h;f++)g=d[f],m=x,v=b,y=n,_=void 0,0<g[3]?(_=Math.pow(2,g[3]-128-8+y),m[v+0]=g[0]*_,m[v+1]=g[1]*_,m[v+2]=g[2]*_):(m[v+0]=0,m[v+1]=0,m[v+2]=0),m[v+3]=1,b+=4}return(e=e||new S.a).width=h,e.height=u,e.pixels=x,e.type=T.a.FLOAT,e}}}},parseRGBEFromPNG:function(t){}};e.a=i},function(t,e,n){\"use strict\";var i=n(5),g=n(3),m=n(26),r=[\"mousedown\",\"mouseup\",\"mousemove\",\"mouseover\",\"mouseout\",\"click\",\"dblclick\",\"contextmenu\"];function a(t){return\"_on\"+t}function o(t){var e=this;this._texture=new i.a({anisotropic:32,flipY:!1,surface:this,dispose:function(t){e.dispose(),i.a.prototype.dispose.call(this,t)}}),r.forEach(function(n){this[a(n)]=function(e){e.triangle&&this._meshes.forEach(function(t){this.dispatchEvent(n,t,e.triangle,e.point)},this)}},this),this._meshes=[],t&&this.setECharts(t),this.onupdate=null}var v,y,_,x,b,w,T,S;o.prototype={constructor:o,getTexture:function(){return this._texture},setECharts:function(t){var e,n,i,r=(this._chart=t).getDom();r instanceof HTMLCanvasElement?(e=this,n=t.getZr(),i=n.__oldRefreshImmediately||n.refreshImmediately,n.refreshImmediately=function(){i.call(this),e._texture.dirty(),e.onupdate&&e.onupdate()},n.__oldRefreshImmediately=i):(console.error(\"ECharts must init on canvas if it is used as texture.\"),r=document.createElement(\"canvas\")),this._texture.image=r,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:(v=new g.a,y=new g.a,_=new g.a,x=new m.a,b=new m.a,w=new m.a,T=new m.a,S=new g.a,function(t,e,n,i){var r=e.geometry,a=r.attributes.position,o=r.attributes.texcoord0,s=g.a.dot,l=g.a.cross;a.get(n[0],v.array),a.get(n[1],y.array),a.get(n[2],_.array),o.get(n[0],x.array),o.get(n[1],b.array),o.get(n[2],w.array),l(S,y,_);var u=s(v,S),h=s(i,S)/u;l(S,_,v);var c=s(i,S)/u;l(S,v,y);var d=s(i,S)/u;m.a.scale(T,x,h),m.a.scaleAndAdd(T,T,b,c),m.a.scaleAndAdd(T,T,w,d);var f=T.x*this._chart.getWidth(),p=T.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(t,{zrX:f,zrY:p})}),attachToMesh:function(e){0<=this._meshes.indexOf(e)||(r.forEach(function(t){e.on(t,this[a(t)],this)},this),this._meshes.push(e))},detachFromMesh:function(e){var t=this._meshes.indexOf(e);0<=t&&this._meshes.splice(t,1),r.forEach(function(t){e.off(t,this[a(t)])},this)},dispose:function(){this._meshes.forEach(function(t){this.detachFromMesh(t)},this)}},e.a=o},function(t,e,n){\"use strict\";var i=n(24),r=n(77),a=i.a.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:\"AMBIENT_CUBEMAP_LIGHT\",prefilter:function(t,e){var n,i;t.getGLExtension(\"EXT_shader_texture_lod\")?(this._brdfLookup||(this._normalDistribution=r.a.generateNormalDistribution(),this._brdfLookup=r.a.integrateBRDF(t,this._normalDistribution)),(n=this.cubemap).__prefiltered||(i=r.a.prefilterEnvironmentMap(t,n,{encodeRGBM:!0,width:e,height:e},this._normalDistribution,this._brdfLookup),this.cubemap=i.environmentMap,this.cubemap.__prefiltered=!0,n.dispose(t))):console.warn(\"Device not support textureCubeLodEXT\")},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:\"3f\",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientCubemapLightCubemap:{type:\"t\",value:function(t){return t.cubemap}},ambientCubemapLightBRDFLookup:{type:\"t\",value:function(t){return t._brdfLookup}}}});e.a=a},function(t,e,n){\"use strict\";e.a=\"\\n@export clay.compositor.vertex\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nattribute vec3 position : POSITION;\\nattribute vec2 texcoord : TEXCOORD_0;\\nvarying vec2 v_Texcoord;\\nvoid main()\\n{\\n v_Texcoord = texcoord;\\n gl_Position = worldViewProjection * vec4(position, 1.0);\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"#define SAMPLE_NUMBER 1024\\n#define PI 3.14159265358979\\nuniform sampler2D normalDistribution;\\nuniform vec2 viewportSize : [512, 256];\\nconst vec3 N = vec3(0.0, 0.0, 1.0);\\nconst float fSampleNumber = float(SAMPLE_NUMBER);\\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\\n vec3 tangentX = normalize(cross(N, upVector));\\n vec3 tangentZ = cross(N, tangentX);\\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\\n}\\nfloat G_Smith(float roughness, float NoV, float NoL) {\\n float k = roughness * roughness / 2.0;\\n float G1V = NoV / (NoV * (1.0 - k) + k);\\n float G1L = NoL / (NoL * (1.0 - k) + k);\\n return G1L * G1V;\\n}\\nvoid main() {\\n vec2 uv = gl_FragCoord.xy / viewportSize;\\n float NoV = uv.x;\\n float roughness = uv.y;\\n vec3 V;\\n V.x = sqrt(1.0 - NoV * NoV);\\n V.y = 0.0;\\n V.z = NoV;\\n float A = 0.0;\\n float B = 0.0;\\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\\n vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);\\n vec3 L = reflect(-V, H);\\n float NoL = clamp(L.z, 0.0, 1.0);\\n float NoH = clamp(H.z, 0.0, 1.0);\\n float VoH = clamp(dot(V, H), 0.0, 1.0);\\n if (NoL > 0.0) {\\n float G = G_Smith(roughness, NoV, NoL);\\n float G_Vis = G * VoH / (NoH * NoV);\\n float Fc = pow(1.0 - VoH, 5.0);\\n A += (1.0 - Fc) * G_Vis;\\n B += Fc * G_Vis;\\n }\\n }\\n gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);\\n}\\n\"},function(t,e,n){\"use strict\";e.a=\"#define SHADER_NAME prefilter\\n#define SAMPLE_NUMBER 1024\\n#define PI 3.14159265358979\\nuniform mat4 viewInverse : VIEWINVERSE;\\nuniform samplerCube environmentMap;\\nuniform sampler2D normalDistribution;\\nuniform float roughness : 0.5;\\nvarying vec2 v_Texcoord;\\nvarying vec3 v_WorldPosition;\\n@import clay.util.rgbm\\nvec3 importanceSampleNormal(float i, float roughness, vec3 N) {\\n vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;\\n vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\\n vec3 tangentX = normalize(cross(N, upVector));\\n vec3 tangentZ = cross(N, tangentX);\\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\\n}\\nvoid main() {\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(v_WorldPosition - eyePos);\\n vec3 N = V;\\n vec3 prefilteredColor = vec3(0.0);\\n float totalWeight = 0.0;\\n float fMaxSampleNumber = float(SAMPLE_NUMBER);\\n for (int i = 0; i < SAMPLE_NUMBER; i++) {\\n vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);\\n vec3 L = reflect(-V, H);\\n float NoL = clamp(dot(N, L), 0.0, 1.0);\\n if (NoL > 0.0) {\\n prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;\\n totalWeight += NoL;\\n }\\n }\\n gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));\\n}\\n\"},function(t,e,n){\"use strict\";var i=n(24),r=n(14),a=i.a.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new r.a.Float32Array(27)},{type:\"AMBIENT_SH_LIGHT\",uniformTemplates:{ambientSHLightColor:{type:\"3f\",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}},ambientSHLightCoefficients:{type:\"3f\",value:function(t){for(var e=t._coefficientsTmpArr,n=0;n<t.coefficients.length;n++)e[n]=t.coefficients[n];return e}}}});e.a=a},function(t,e,n){\"use strict\";var p=n(4),g=n(10),m=n(5),T=(n(16),n(14)),v=n(42),y=n(75),_=n(62),x=n(36),S=n(12),i=(n(131),{}),M=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"];var A={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};i.projectEnvironmentMap=function(t,e,n){(n=n||{}).lod=n.lod||0;var i=new x.a,r=64,a=\"texture2D\"===e.textureType?new y.a({scene:i,environmentMap:e}):(r=e.image&&e.image.px?e.image.px.width:e.width,new v.a({scene:i,environmentMap:e})),o=Math.ceil(r/Math.pow(2,n.lod)),s=Math.ceil(r/Math.pow(2,n.lod)),l=new m.a({width:o,height:s}),u=new g.a;a.material.define(\"fragment\",\"RGBM_ENCODE\"),n.decodeRGBM&&a.material.define(\"fragment\",\"RGBM_DECODE\"),a.material.set(\"lod\",n.lod);for(var h=new _.a({texture:l}),c={},d=0;d<M.length;d++){c[M[d]]=new Uint8Array(o*s*4);var f=h.getCamera(M[d]);f.fov=90,u.attach(l),u.bind(t),t.render(i,f),t.gl.readPixels(0,0,o,s,p.a.RGBA,p.a.UNSIGNED_BYTE,c[M[d]]),u.unbind(t)}return a.dispose(t),u.dispose(t),l.dispose(t),function(t,e,n){for(var i,r,a,o,s,l=new T.a.Float32Array(27),u=S.a.create(),h=S.a.create(),c=S.a.create(),d=0;d<9;d++){for(var f=S.a.create(),p=0;p<M.length;p++){for(var g=t[M[p]],m=S.a.create(),v=0,y=0,_=A[M[p]],x=0;x<n;x++)for(var b=0;b<e;b++){u[0]=b/(e-1)*2-1,u[1]=x/(n-1)*2-1,u[2]=-1,S.a.normalize(u,u),c[0]=u[_[0]]*_[3],c[1]=u[_[1]]*_[4],c[2]=u[_[2]]*_[5],h[0]=g[y++]/255,h[1]=g[y++]/255,h[2]=g[y++]/255;var w=g[y++]/255*8.12;h[0]*=w,h[1]*=w,h[2]*=w,S.a.scaleAndAdd(m,m,h,(r=d,0,a=(i=c)[0],o=i[1],s=i[2],(0===r?1:1===r?a:2===r?o:3===r?s:4===r?a*s:5===r?o*s:6===r?a*o:7===r?3*s*s-1:a*a-o*o)*-u[2])),v+=-u[2]}S.a.scaleAndAdd(f,f,m,1/v)}l[3*d]=f[0]/6,l[3*d+1]=f[1]/6,l[3*d+2]=f[2]/6}return l}(c,o,s)},e.a=i},function(t,e,n){\"use strict\";e.a=\"uniform samplerCube environmentMap;\\nvarying vec2 v_Texcoord;\\n#define TEXTURE_SIZE 16\\nmat3 front = mat3(\\n 1.0, 0.0, 0.0,\\n 0.0, 1.0, 0.0,\\n 0.0, 0.0, 1.0\\n);\\nmat3 back = mat3(\\n -1.0, 0.0, 0.0,\\n 0.0, 1.0, 0.0,\\n 0.0, 0.0, -1.0\\n);\\nmat3 left = mat3(\\n 0.0, 0.0, -1.0,\\n 0.0, 1.0, 0.0,\\n 1.0, 0.0, 0.0\\n);\\nmat3 right = mat3(\\n 0.0, 0.0, 1.0,\\n 0.0, 1.0, 0.0,\\n -1.0, 0.0, 0.0\\n);\\nmat3 up = mat3(\\n 1.0, 0.0, 0.0,\\n 0.0, 0.0, 1.0,\\n 0.0, -1.0, 0.0\\n);\\nmat3 down = mat3(\\n 1.0, 0.0, 0.0,\\n 0.0, 0.0, -1.0,\\n 0.0, 1.0, 0.0\\n);\\nfloat harmonics(vec3 normal){\\n int index = int(gl_FragCoord.x);\\n float x = normal.x;\\n float y = normal.y;\\n float z = normal.z;\\n if(index==0){\\n return 1.0;\\n }\\n else if(index==1){\\n return x;\\n }\\n else if(index==2){\\n return y;\\n }\\n else if(index==3){\\n return z;\\n }\\n else if(index==4){\\n return x*z;\\n }\\n else if(index==5){\\n return y*z;\\n }\\n else if(index==6){\\n return x*y;\\n }\\n else if(index==7){\\n return 3.0*z*z - 1.0;\\n }\\n else{\\n return x*x - y*y;\\n }\\n}\\nvec3 sampleSide(mat3 rot)\\n{\\n vec3 result = vec3(0.0);\\n float divider = 0.0;\\n for (int i = 0; i < TEXTURE_SIZE * TEXTURE_SIZE; i++) {\\n float x = mod(float(i), float(TEXTURE_SIZE));\\n float y = float(i / TEXTURE_SIZE);\\n vec2 sidecoord = ((vec2(x, y) + vec2(0.5, 0.5)) / vec2(TEXTURE_SIZE)) * 2.0 - 1.0;\\n vec3 normal = normalize(vec3(sidecoord, -1.0));\\n vec3 fetchNormal = rot * normal;\\n vec3 texel = textureCube(environmentMap, fetchNormal).rgb;\\n result += harmonics(fetchNormal) * texel * -normal.z;\\n divider += -normal.z;\\n }\\n return result / divider;\\n}\\nvoid main()\\n{\\n vec3 result = (\\n sampleSide(front) +\\n sampleSide(back) +\\n sampleSide(left) +\\n sampleSide(right) +\\n sampleSide(up) +\\n sampleSide(down)\\n ) / 6.0;\\n gl_FragColor = vec4(result, 1.0);\\n}\"},function(t,e,n){\"use strict\";var i=n(15),E=n(18),r=i.a.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var t=this.heightSegments,e=this.widthSegments,n=this.attributes.position,i=this.attributes.texcoord0,r=this.attributes.normal,a=(e+1)*(t+1);n.init(a),i.init(a),r.init(a);for(var o,s,l,u,h,c,d,f,p,g,m=65535<a?Uint32Array:Uint16Array,v=this.indices=new m(e*t*6),y=this.radius,_=this.phiStart,x=this.phiLength,b=this.thetaStart,w=this.thetaLength,T=[],S=[],M=0,A=1/(y=this.radius),I=0;I<=t;I++)for(c=0;c<=e;c++)u=c/e,h=I/t,o=-y*Math.cos(_+u*x)*Math.sin(b+h*w),s=y*Math.cos(b+h*w),l=y*Math.sin(_+u*x)*Math.sin(b+h*w),T[0]=o,T[1]=s,T[2]=l,S[0]=u,S[1]=h,n.set(M,T),i.set(M,S),T[0]*=A,T[1]*=A,T[2]*=A,r.set(M,T),M++;var C=e+1,D=0;for(I=0;I<t;I++)for(c=0;c<e;c++)d=(f=I*C+c)+1,g=(I+1)*C+c+1,p=(I+1)*C+c,v[D++]=d,v[D++]=f,v[D++]=g,v[D++]=f,v[D++]=p,v[D++]=g;this.boundingBox=new E.a,this.boundingBox.max.set(y,y,y),this.boundingBox.min.set(-y,-y,-y)}});e.a=r},function(t,e,n){\"use strict\";var i=n(24).a.extend({castShadow:!1},{type:\"AMBIENT_LIGHT\",uniformTemplates:{ambientLightColor:{type:\"3f\",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}}});e.a=i},function(t,e,n){\"use strict\";var i=n(24),r=n(3),a=i.a.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:\"DIRECTIONAL_LIGHT\",uniformTemplates:{directionalLightDirection:{type:\"3f\",value:function(t){return t.__dir=t.__dir||new r.a,t.__dir.copy(t.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:\"3f\",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=i.a.prototype.clone.call(this);return t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}});e.a=a},function(t,e,n){\"use strict\";var i=n(24),r=i.a.extend({range:100,castShadow:!1},{type:\"POINT_LIGHT\",uniformTemplates:{pointLightPosition:{type:\"3f\",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:\"1f\",value:function(t){return t.range}},pointLightColor:{type:\"3f\",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=i.a.prototype.clone.call(this);return t.range=this.range,t}});e.a=r},function(t,e,n){\"use strict\";var i=n(24),r=n(3),a=i.a.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:\"SPOT_LIGHT\",uniformTemplates:{spotLightPosition:{type:\"3f\",value:function(t){return t.getWorldPosition().array}},spotLightRange:{type:\"1f\",value:function(t){return t.range}},spotLightUmbraAngleCosine:{type:\"1f\",value:function(t){return Math.cos(t.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:\"1f\",value:function(t){return Math.cos(t.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:\"1f\",value:function(t){return t.falloffFactor}},spotLightDirection:{type:\"3f\",value:function(t){return t.__dir=t.__dir||new r.a,t.__dir.copy(t.worldTransform.z).negate().array}},spotLightColor:{type:\"3f\",value:function(t){var e=t.color,n=t.intensity;return[e[0]*n,e[1]*n,e[2]*n]}}},clone:function(){var t=i.a.prototype.clone.call(this);return t.range=this.range,t.umbraAngle=this.umbraAngle,t.penumbraAngle=this.penumbraAngle,t.falloffFactor=this.falloffFactor,t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}});e.a=a},function(t,e,n){\"use strict\";function i(t,e,n,i){t=t||0,e=e||0,n=n||0,i=i||0,this.array=a.a.fromValues(t,e,n,i),this._dirty=!0}var a=n(33);i.prototype={constructor:i,add:function(t){return a.a.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,n,i){return this.array[0]=t,this.array[1]=e,this.array[2]=n,this.array[3]=i,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new i(this.x,this.y,this.z,this.w)},copy:function(t){return a.a.copy(this.array,t.array),this._dirty=!0,this},dist:function(t){return a.a.dist(this.array,t.array)},distance:function(t){return a.a.distance(this.array,t.array)},div:function(t){return a.a.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return a.a.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return a.a.dot(this.array,t.array)},len:function(){return a.a.len(this.array)},length:function(){return a.a.length(this.array)},lerp:function(t,e,n){return a.a.lerp(this.array,t.array,e.array,n),this._dirty=!0,this},min:function(t){return a.a.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return a.a.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return a.a.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return a.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return a.a.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return a.a.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return a.a.random(this.array,t),this._dirty=!0,this},scale:function(t){return a.a.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return a.a.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return a.a.sqrDist(this.array,t.array)},squaredDistance:function(t){return a.a.squaredDistance(this.array,t.array)},sqrLen:function(){return a.a.sqrLen(this.array)},squaredLength:function(){return a.a.squaredLength(this.array)},sub:function(t){return a.a.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return a.a.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return a.a.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return a.a.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}};var r,o=Object.defineProperty;o&&(o(r=i.prototype,\"x\",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),o(r,\"y\",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),o(r,\"z\",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),o(r,\"w\",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})),i.add=function(t,e,n){return a.a.add(t.array,e.array,n.array),t._dirty=!0,t},i.set=function(t,e,n,i,r){a.a.set(t.array,e,n,i,r),t._dirty=!0},i.copy=function(t,e){return a.a.copy(t.array,e.array),t._dirty=!0,t},i.distance=i.dist=function(t,e){return a.a.distance(t.array,e.array)},i.divide=i.div=function(t,e,n){return a.a.divide(t.array,e.array,n.array),t._dirty=!0,t},i.dot=function(t,e){return a.a.dot(t.array,e.array)},i.len=function(t){return a.a.length(t.array)},i.lerp=function(t,e,n,i){return a.a.lerp(t.array,e.array,n.array,i),t._dirty=!0,t},i.min=function(t,e,n){return a.a.min(t.array,e.array,n.array),t._dirty=!0,t},i.max=function(t,e,n){return a.a.max(t.array,e.array,n.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return a.a.multiply(t.array,e.array,n.array),t._dirty=!0,t},i.negate=function(t,e){return a.a.negate(t.array,e.array),t._dirty=!0,t},i.normalize=function(t,e){return a.a.normalize(t.array,e.array),t._dirty=!0,t},i.random=function(t,e){return a.a.random(t.array,e),t._dirty=!0,t},i.scale=function(t,e,n){return a.a.scale(t.array,e.array,n),t._dirty=!0,t},i.scaleAndAdd=function(t,e,n,i){return a.a.scaleAndAdd(t.array,e.array,n.array,i),t._dirty=!0,t},i.squaredDistance=i.sqrDist=function(t,e){return a.a.sqrDist(t.array,e.array)},i.squaredLength=i.sqrLen=function(t){return a.a.sqrLen(t.array)},i.subtract=i.sub=function(t,e,n){return a.a.subtract(t.array,e.array,n.array),t._dirty=!0,t},i.transformMat4=function(t,e,n){return a.a.transformMat4(t.array,e.array,n.array),t._dirty=!0,t},i.transformQuat=function(t,e,n){return a.a.transformQuat(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){\"use strict\";function i(){this.array=r.a.create(),this._dirty=!0}var r=n(78);i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return r.a.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return r.a.determinant(this.array)},identity:function(){return r.a.identity(this.array),this._dirty=!0,this},invert:function(){return r.a.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r.a.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r.a.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return r.a.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(t,e){return r.a.adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r.a.determinant(t.array)},i.identity=function(t){return r.a.identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r.a.invert(t.array,e.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return r.a.mul(t.array,e.array,n.array),t._dirty=!0,t},i.rotate=function(t,e,n){return r.a.rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return r.a.transpose(t.array,e.array),t._dirty=!0,t},e.a=i},function(t,e,n){\"use strict\";function i(){this.array=r.a.create(),this._dirty=!0}var r=n(79);i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r.a.determinant(this.array)},identity:function(){return r.a.identity(this.array),this._dirty=!0,this},invert:function(){return r.a.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r.a.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r.a.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r.a.translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r.a.determinant(t.array)},i.identity=function(t){return r.a.identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r.a.invert(t.array,e.array),t._dirty=!0,t},i.multiply=i.mul=function(t,e,n){return r.a.mul(t.array,e.array,n.array),t._dirty=!0,t},i.rotate=function(t,e,n){return r.a.rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n.array),t._dirty=!0,t},i.translate=function(t,e,n){return r.a.translate(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){\"use strict\";function i(){this.array=r.a.create(),this._dirty=!0}var r=n(34);i.prototype={constructor:i,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return r.a.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return(new i).copy(this)},copy:function(t){return r.a.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return r.a.determinant(this.array)},fromMat2d:function(t){return r.a.fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return r.a.fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return r.a.fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return r.a.identity(this.array),this._dirty=!0,this},invert:function(){return r.a.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return r.a.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return r.a.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return r.a.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return r.a.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return r.a.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return r.a.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return r.a.translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return r.a.normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return r.a.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return\"[\"+Array.prototype.join.call(this.array,\",\")+\"]\"},toArray:function(){return Array.prototype.slice.call(this.array)}},i.adjoint=function(t,e){return r.a.adjoint(t.array,e.array),t._dirty=!0,t},i.copy=function(t,e){return r.a.copy(t.array,e.array),t._dirty=!0,t},i.determinant=function(t){return r.a.determinant(t.array)},i.identity=function(t){return r.a.identity(t.array),t._dirty=!0,t},i.invert=function(t,e){return r.a.invert(t.array,e.array),t},i.multiply=i.mul=function(t,e,n){return r.a.mul(t.array,e.array,n.array),t._dirty=!0,t},i.fromMat2d=function(t,e){return r.a.fromMat2d(t.array,e.array),t._dirty=!0,t},i.fromMat4=function(t,e){return r.a.fromMat4(t.array,e.array),t._dirty=!0,t},i.fromQuat=function(t,e){return r.a.fromQuat(t.array,e.array),t._dirty=!0,t},i.normalFromMat4=function(t,e){return r.a.normalFromMat4(t.array,e.array),t._dirty=!0,t},i.rotate=function(t,e,n){return r.a.rotate(t.array,e.array,n),t._dirty=!0,t},i.scale=function(t,e,n){return r.a.scale(t.array,e.array,n.array),t._dirty=!0,t},i.transpose=function(t,e){return r.a.transpose(t.array,e.array),t._dirty=!0,t},i.translate=function(t,e,n){return r.a.translate(t.array,e.array,n.array),t._dirty=!0,t},e.a=i},function(t,e,n){\"use strict\";var i=n(142),h=n.n(i),r={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(t,e){this._animators=this._animators||[];var n;if(t){for(var i=t.split(\".\"),r=this,a=0,o=i.length;a<o;a++)r=r&&r[i[a]];r&&(n=r)}else n=this;if(null==n)throw new Error(\"Target \"+t+\" not exists\");var s=this._animators,l=new h.a(n,e),u=this;return l.during(function(){u.__zr&&u.__zr.refresh()}).done(function(){var t=s.indexOf(l);0<=t&&s.splice(t,1)}),s.push(l),this.__zr&&this.__zr.animation.addAnimator(l),l},stopAnimation:function(t){this._animators=this._animators||[];for(var e=this._animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},addAnimatorsToZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.addAnimator(this._animators[e])},removeAnimatorsFromZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.removeAnimator(this._animators[e])}};e.a=r},function(t,e,n){var R=n(143),k=n(145),z=n(13).isArrayLike,l=Array.prototype.slice;function r(t,e){return t[e]}function a(t,e,n){t[e]=n}function B(t,e,n){return(e-t)*n+t}function F(t,e,n){return.5<n?e:t}function V(t,e,n,i,r){var a=t.length;if(1==r)for(var o=0;o<a;o++)i[o]=B(t[o],e[o],n);else for(var s=a&&t[0].length,o=0;o<a;o++)for(var l=0;l<s;l++)i[o][l]=B(t[o][l],e[o][l],n)}function G(t,e,n){var i=t.length,r=e.length;if(i!==r)if(r<i)t.length=r;else for(var a=i;a<r;a++)t.push(1===n?e[a]:l.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function H(t,e,n,i,r,a,o,s,l){var u=t.length;if(1==l)for(var h=0;h<u;h++)s[h]=U(t[h],e[h],n[h],i[h],r,a,o);else for(var c=t[0].length,h=0;h<u;h++)for(var d=0;d<c;d++)s[h][d]=U(t[h][d],e[h][d],n[h][d],i[h][d],r,a,o)}function U(t,e,n,i,r,a,o){var s=.5*(n-t),l=.5*(i-e);return(2*(e-n)+s+l)*o+(-3*(e-n)-2*s-l)*a+s*r+e}function W(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),\"rgba(\"+t.join(\",\")+\")\"}function u(t,e,n,i,a,r){var o=t._getter,s=t._setter,l=\"spline\"===e,u=i.length;if(u){var h,c,d,f=i[0].value,p=z(f),g=!1,m=!1,v=p?(c=(h=i)[h.length-1].value,z(c&&c[0])?2:1):0;i.sort(function(t,e){return t.time-e.time}),d=i[u-1].time;for(var y=[],_=[],x=i[0].value,b=!0,w=0;w<u;w++){y.push(i[w].time/d);var T,S=i[w].value;p&&function(t,e,n){if(t===e)return 1;var i=t.length;if(i===e.length){if(1===n){for(var r=0;r<i;r++)if(t[r]!==e[r])return}else for(var a=t[0].length,r=0;r<i;r++)for(var o=0;o<a;o++)if(t[r][o]!==e[r][o])return;return 1}}(S,x,v)||!p&&S===x||(b=!1),\"string\"==typeof(x=S)&&((T=k.parse(S))?(S=T,g=!0):m=!0),_.push(S)}if(r||!b){for(var M=_[u-1],w=0;w<u-1;w++)p?G(_[w],M,v):!isNaN(_[w])||isNaN(M)||m||g||(_[w]=M);p&&G(o(t._target,a),M,v);var A,I,C,D,E,L,P=0,N=0;g&&(L=[0,0,0,0]);var O=new R({target:t._target,life:d,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<N){for(n=Math.min(P+1,u-1);0<=n&&!(y[n]<=e);n--);n=Math.min(n,u-2)}else{for(n=P;n<u&&!(y[n]>e);n++);n=Math.min(n-1,u-2)}N=e;var i,r=y[(P=n)+1]-y[n];if(0!=r)if(A=(e-y[n])/r,l)if(C=_[n],I=_[0===n?n:n-1],D=_[u-2<n?u-1:n+1],E=_[u-3<n?u-1:n+2],p)H(I,C,D,E,A,A*A,A*A*A,o(t,a),v);else{if(g)i=H(I,C,D,E,A,A*A,A*A*A,L,1),i=W(L);else{if(m)return.5<A?D:C;i=U(I,C,D,E,A,A*A,A*A*A)}s(t,a,i)}else if(p)V(_[n],_[n+1],A,o(t,a),v);else{if(g)V(_[n],_[n+1],A,L,1),i=W(L);else{if(m)return F(_[n],_[n+1],A);i=B(_[n],_[n+1],A)}s(t,a,i)}},ondestroy:n});return e&&\"spline\"!==e&&(O.easing=e),O}}}function i(t,e,n,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||r,this._setter=i||a,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}i.prototype={when:function(t,e){var n=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==t&&n[i].push({time:0,value:function(t){if(z(t)){var e=t.length;if(z(t[0])){for(var n=[],i=0;i<e;i++)n.push(l.call(t[i]));return n}return l.call(t)}return t}(r)})}n[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){function n(){--s||o._doneCallback()}var i,r,a,o=this,s=0;for(var l in this._tracks){this._tracks.hasOwnProperty(l)&&((r=u(this,t,n,this._tracks[l],l,e))&&(this._clipList.push(r),s++,this.animation&&this.animation.addClip(r),i=r))}return i&&(a=i.onframe,i.onframe=function(t,e){a(t,e);for(var n=0;n<o._onframeList.length;n++)o._onframeList[n](t,e)}),s||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=i},function(t,e,n){var o=n(144);function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||\"Linear\",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var i=this.easing,r=\"string\"==typeof i?o[i]:i,a=\"function\"==typeof r?r(n):n;return this.fire(\"frame\",a),1==n?this.loop?(this.restart(t),\"restart\"):(this._needsRemove=!0,\"destroy\"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t=\"on\"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};t.exports=i},function(t,e){var n={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-n.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5}};t.exports=n},function(t,e,n){var i=n(60),h={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function c(t){return(t=Math.round(t))<0?0:255<t?255:t}function d(t){return t<0?0:1<t?1:t}function f(t){return t.length&&\"%\"===t.charAt(t.length-1)?c(parseFloat(t)/100*255):c(parseInt(t,10))}function p(t){return t.length&&\"%\"===t.charAt(t.length-1)?d(parseFloat(t)/100):d(parseFloat(t))}function s(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function g(t,e,n){return t+(e-t)*n}function m(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function v(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var y=new i(20),r=null;function _(t,e){r&&v(r,e),r=y.put(t,r||e.slice())}function x(t,e){if(t){e=e||[];var n=y.get(t);if(n)return v(e,n);var i,r=(t+=\"\").replace(/ /g,\"\").toLowerCase();if(r in h)return v(e,h[r]),_(t,e),e;if(\"#\"===r.charAt(0))return 4===r.length?0<=(i=parseInt(r.substr(1),16))&&i<=4095?(m(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),_(t,e),e):void m(e,0,0,0,1):7===r.length?0<=(i=parseInt(r.substr(1),16))&&i<=16777215?(m(e,(16711680&i)>>16,(65280&i)>>8,255&i,1),_(t,e),e):void m(e,0,0,0,1):void 0;var a=r.indexOf(\"(\"),o=r.indexOf(\")\");if(-1!==a&&o+1===r.length){var s=r.substr(0,a),l=r.substr(a+1,o-(a+1)).split(\",\"),u=1;switch(s){case\"rgba\":if(4!==l.length)return void m(e,0,0,0,1);u=p(l.pop());case\"rgb\":return 3!==l.length?void m(e,0,0,0,1):(m(e,f(l[0]),f(l[1]),f(l[2]),u),_(t,e),e);case\"hsla\":return 4!==l.length?void m(e,0,0,0,1):(l[3]=p(l[3]),b(l,e),_(t,e),e);case\"hsl\":return 3!==l.length?void m(e,0,0,0,1):(b(l,e),_(t,e),e);default:return}}m(e,0,0,0,1)}}function b(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=p(t[1]),r=p(t[2]),a=r<=.5?r*(i+1):r+i-r*i,o=2*r-a;return m(e=e||[],c(255*s(o,a,n+1/3)),c(255*s(o,a,n)),c(255*s(o,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function a(t,e,n){if(e&&e.length&&0<=t&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),a=Math.ceil(i),o=e[r],s=e[a],l=i-r;return n[0]=c(g(o[0],s[0],l)),n[1]=c(g(o[1],s[1],l)),n[2]=c(g(o[2],s[2],l)),n[3]=d(g(o[3],s[3],l)),n}}var o=a;function l(t,e,n){if(e&&e.length&&0<=t&&t<=1){var i=t*(e.length-1),r=Math.floor(i),a=Math.ceil(i),o=x(e[r]),s=x(e[a]),l=i-r,u=w([c(g(o[0],s[0],l)),c(g(o[1],s[1],l)),c(g(o[2],s[2],l)),d(g(o[3],s[3],l))],\"rgba\");return n?{color:u,leftIndex:r,rightIndex:a,value:i}:u}}var u=l;function w(t,e){if(t&&t.length){var n=t[0]+\",\"+t[1]+\",\"+t[2];return\"rgba\"!==e&&\"hsva\"!==e&&\"hsla\"!==e||(n+=\",\"+t[3]),e+\"(\"+n+\")\"}}e.parse=x,e.lift=function(t,e){var n=x(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,255<n[i]?n[i]=255:t[i]<0&&(n[i]=0);return w(n,4===n.length?\"rgba\":\"rgb\")}},e.toHex=function(t){var e=x(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=a,e.fastMapToColor=o,e.lerp=l,e.mapToColor=u,e.modifyHSL=function(t,e,n,i){if(t=x(t))return t=function(t){if(t){var e,n,i,r,a,o=t[0]/255,s=t[1]/255,l=t[2]/255,u=Math.min(o,s,l),h=Math.max(o,s,l),c=h-u,d=(h+u)/2;0==c?n=e=0:(n=d<.5?c/(h+u):c/(2-h-u),i=((h-o)/6+c/2)/c,r=((h-s)/6+c/2)/c,a=((h-l)/6+c/2)/c,o===h?e=a-r:s===h?e=1/3+i-a:l===h&&(e=2/3+r-i),e<0&&(e+=1),1<e&&--e);var f=[360*e,n,d];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=(r=e,(r=Math.round(r))<0?0:360<r?360:r)),null!=n&&(t[1]=p(n)),null!=i&&(t[2]=p(i)),w(b(t),\"rgba\");var r},e.modifyAlpha=function(t,e){if((t=x(t))&&null!=e)return t[3]=d(e),w(t,\"rgba\")},e.stringify=w},function(t,e,n){\"use strict\";e.a=\"\\n@export clay.util.rand\\nhighp float rand(vec2 uv) {\\n const highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);\\n return fract(sin(sn) * c);\\n}\\n@end\\n@export clay.util.calculate_attenuation\\nuniform float attenuationFactor : 5.0;\\nfloat lightAttenuation(float dist, float range)\\n{\\n float attenuation = 1.0;\\n attenuation = dist*dist/(range*range+1.0);\\n float att_s = attenuationFactor;\\n attenuation = 1.0/(attenuation*att_s+1.0);\\n att_s = 1.0/(att_s+1.0);\\n attenuation = attenuation - att_s;\\n attenuation /= 1.0 - att_s;\\n return clamp(attenuation, 0.0, 1.0);\\n}\\n@end\\n@export clay.util.edge_factor\\n#ifdef SUPPORT_STANDARD_DERIVATIVES\\nfloat edgeFactor(float width)\\n{\\n vec3 d = fwidth(v_Barycentric);\\n vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);\\n return min(min(a3.x, a3.y), a3.z);\\n}\\n#else\\nfloat edgeFactor(float width)\\n{\\n return 1.0;\\n}\\n#endif\\n@end\\n@export clay.util.encode_float\\nvec4 encodeFloat(const in float depth)\\n{\\n const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);\\n const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);\\n vec4 res = fract(depth * bitShifts);\\n res -= res.xxyz * bit_mask;\\n return res;\\n}\\n@end\\n@export clay.util.decode_float\\nfloat decodeFloat(const in vec4 color)\\n{\\n const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);\\n return dot(color, bitShifts);\\n}\\n@end\\n@export clay.util.float\\n@import clay.util.encode_float\\n@import clay.util.decode_float\\n@end\\n@export clay.util.rgbm_decode\\nvec3 RGBMDecode(vec4 rgbm, float range) {\\n return range * rgbm.rgb * rgbm.a;\\n}\\n@end\\n@export clay.util.rgbm_encode\\nvec4 RGBMEncode(vec3 color, float range) {\\n if (dot(color, color) == 0.0) {\\n return vec4(0.0);\\n }\\n vec4 rgbm;\\n color /= range;\\n rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);\\n rgbm.a = ceil(rgbm.a * 255.0) / 255.0;\\n rgbm.rgb = color / rgbm.a;\\n return rgbm;\\n}\\n@end\\n@export clay.util.rgbm\\n@import clay.util.rgbm_decode\\n@import clay.util.rgbm_encode\\nvec4 decodeHDR(vec4 color)\\n{\\n#if defined(RGBM_DECODE) || defined(RGBM)\\n return vec4(RGBMDecode(color, 8.12), 1.0);\\n#else\\n return color;\\n#endif\\n}\\nvec4 encodeHDR(vec4 color)\\n{\\n#if defined(RGBM_ENCODE) || defined(RGBM)\\n return RGBMEncode(color.xyz, 8.12);\\n#else\\n return color;\\n#endif\\n}\\n@end\\n@export clay.util.srgb\\nvec4 sRGBToLinear(in vec4 value) {\\n return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);\\n}\\nvec4 linearTosRGB(in vec4 value) {\\n return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);\\n}\\n@end\\n@export clay.chunk.skinning_header\\n#ifdef SKINNING\\nattribute vec3 weight : WEIGHT;\\nattribute vec4 joint : JOINT;\\n#ifdef USE_SKIN_MATRICES_TEXTURE\\nuniform sampler2D skinMatricesTexture : ignore;\\nuniform float skinMatricesTextureSize: ignore;\\nmat4 getSkinMatrix(sampler2D tex, float idx) {\\n float j = idx * 4.0;\\n float x = mod(j, skinMatricesTextureSize);\\n float y = floor(j / skinMatricesTextureSize) + 0.5;\\n vec2 scale = vec2(skinMatricesTextureSize);\\n return mat4(\\n texture2D(tex, vec2(x + 0.5, y) / scale),\\n texture2D(tex, vec2(x + 1.5, y) / scale),\\n texture2D(tex, vec2(x + 2.5, y) / scale),\\n texture2D(tex, vec2(x + 3.5, y) / scale)\\n );\\n}\\nmat4 getSkinMatrix(float idx) {\\n return getSkinMatrix(skinMatricesTexture, idx);\\n}\\n#else\\nuniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;\\nmat4 getSkinMatrix(float idx) {\\n return skinMatrix[int(idx)];\\n}\\n#endif\\n#endif\\n@end\\n@export clay.chunk.skin_matrix\\nmat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;\\nif (weight.y > 1e-4)\\n{\\n skinMatrixWS += getSkinMatrix(joint.y) * weight.y;\\n}\\nif (weight.z > 1e-4)\\n{\\n skinMatrixWS += getSkinMatrix(joint.z) * weight.z;\\n}\\nfloat weightW = 1.0-weight.x-weight.y-weight.z;\\nif (weightW > 1e-4)\\n{\\n skinMatrixWS += getSkinMatrix(joint.w) * weightW;\\n}\\n@end\\n@export clay.util.parallax_correct\\nvec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {\\n vec3 first = (boxMax - pos) / dir;\\n vec3 second = (boxMin - pos) / dir;\\n vec3 further = max(first, second);\\n float dist = min(further.x, min(further.y, further.z));\\n vec3 fixedPos = pos + dir * dist;\\n vec3 boxCenter = (boxMax + boxMin) * 0.5;\\n return normalize(fixedPos - boxCenter);\\n}\\n@end\\n@export clay.util.clamp_sample\\nvec4 clampSample(const in sampler2D texture, const in vec2 coord)\\n{\\n#ifdef STEREO\\n float eye = step(0.5, coord.x) * 0.5;\\n vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));\\n#else\\n vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));\\n#endif\\n return texture2D(texture, coordClamped);\\n}\\n@end\\n@export clay.util.ACES\\nvec3 ACESToneMapping(vec3 color)\\n{\\n const float A = 2.51;\\n const float B = 0.03;\\n const float C = 2.43;\\n const float D = 0.59;\\n const float E = 0.14;\\n return (color * (A * color + B)) / (color * (C * color + D) + E);\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"\\n@export ecgl.common.transformUniforms\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;\\nuniform mat4 world : WORLD;\\n@end\\n\\n@export ecgl.common.attributes\\nattribute vec3 position : POSITION;\\nattribute vec2 texcoord : TEXCOORD_0;\\nattribute vec3 normal : NORMAL;\\n@end\\n\\n@export ecgl.common.uv.header\\nuniform vec2 uvRepeat : [1.0, 1.0];\\nuniform vec2 uvOffset : [0.0, 0.0];\\nuniform vec2 detailUvRepeat : [1.0, 1.0];\\nuniform vec2 detailUvOffset : [0.0, 0.0];\\n\\nvarying vec2 v_Texcoord;\\nvarying vec2 v_DetailTexcoord;\\n@end\\n\\n@export ecgl.common.uv.main\\nv_Texcoord = texcoord * uvRepeat + uvOffset;\\nv_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;\\n@end\\n\\n@export ecgl.common.uv.fragmentHeader\\nvarying vec2 v_Texcoord;\\nvarying vec2 v_DetailTexcoord;\\n@end\\n\\n\\n@export ecgl.common.albedo.main\\n\\n vec4 albedoTexel = vec4(1.0);\\n#ifdef DIFFUSEMAP_ENABLED\\n albedoTexel = texture2D(diffuseMap, v_Texcoord);\\n #ifdef SRGB_DECODE\\n albedoTexel = sRGBToLinear(albedoTexel);\\n #endif\\n#endif\\n\\n#ifdef DETAILMAP_ENABLED\\n vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);\\n #ifdef SRGB_DECODE\\n detailTexel = sRGBToLinear(detailTexel);\\n #endif\\n albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);\\n albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.wireframe.vertexHeader\\n\\n#ifdef WIREFRAME_QUAD\\nattribute vec4 barycentric;\\nvarying vec4 v_Barycentric;\\n#elif defined(WIREFRAME_TRIANGLE)\\nattribute vec3 barycentric;\\nvarying vec3 v_Barycentric;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.wireframe.vertexMain\\n\\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\\n v_Barycentric = barycentric;\\n#endif\\n\\n@end\\n\\n\\n@export ecgl.common.wireframe.fragmentHeader\\n\\nuniform float wireframeLineWidth : 1;\\nuniform vec4 wireframeLineColor: [0, 0, 0, 0.5];\\n\\n#ifdef WIREFRAME_QUAD\\nvarying vec4 v_Barycentric;\\nfloat edgeFactor () {\\n vec4 d = fwidth(v_Barycentric);\\n vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);\\n return min(min(min(a4.x, a4.y), a4.z), a4.w);\\n}\\n#elif defined(WIREFRAME_TRIANGLE)\\nvarying vec3 v_Barycentric;\\nfloat edgeFactor () {\\n vec3 d = fwidth(v_Barycentric);\\n vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);\\n return min(min(a3.x, a3.y), a3.z);\\n}\\n#endif\\n\\n@end\\n\\n\\n@export ecgl.common.wireframe.fragmentMain\\n\\n#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)\\n if (wireframeLineWidth > 0.) {\\n vec4 lineColor = wireframeLineColor;\\n#ifdef SRGB_DECODE\\n lineColor = sRGBToLinear(lineColor);\\n#endif\\n\\n gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);\\n }\\n#endif\\n@end\\n\\n\\n\\n\\n@export ecgl.common.bumpMap.header\\n\\n#ifdef BUMPMAP_ENABLED\\nuniform sampler2D bumpMap;\\nuniform float bumpScale : 1.0;\\n\\n\\nvec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)\\n{\\n vec2 dSTdx = dFdx(v_Texcoord);\\n vec2 dSTdy = dFdy(v_Texcoord);\\n\\n float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;\\n float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;\\n float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;\\n\\n vec3 vSigmaX = dFdx(surfPos);\\n vec3 vSigmaY = dFdy(surfPos);\\n vec3 vN = surfNormal;\\n\\n vec3 R1 = cross(vSigmaY, vN);\\n vec3 R2 = cross(vN, vSigmaX);\\n\\n float fDet = dot(vSigmaX, R1);\\n\\n vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);\\n return normalize(abs(fDet) * baseNormal - vGrad);\\n\\n}\\n#endif\\n\\n@end\\n\\n@export ecgl.common.normalMap.vertexHeader\\n\\n#ifdef NORMALMAP_ENABLED\\nattribute vec4 tangent : TANGENT;\\nvarying vec3 v_Tangent;\\nvarying vec3 v_Bitangent;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.normalMap.vertexMain\\n\\n#ifdef NORMALMAP_ENABLED\\n if (dot(tangent, tangent) > 0.0) {\\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\\n }\\n#endif\\n\\n@end\\n\\n\\n@export ecgl.common.normalMap.fragmentHeader\\n\\n#ifdef NORMALMAP_ENABLED\\nuniform sampler2D normalMap;\\nvarying vec3 v_Tangent;\\nvarying vec3 v_Bitangent;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.normalMap.fragmentMain\\n#ifdef NORMALMAP_ENABLED\\n if (dot(v_Tangent, v_Tangent) > 0.0) {\\n vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;\\n if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;\\n mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);\\n N = normalize(tbn * N);\\n }\\n }\\n#endif\\n@end\\n\\n\\n\\n@export ecgl.common.vertexAnimation.header\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nattribute vec3 prevNormal;\\nuniform float percent;\\n#endif\\n\\n@end\\n\\n@export ecgl.common.vertexAnimation.main\\n\\n#ifdef VERTEX_ANIMATION\\n vec3 pos = mix(prevPosition, position, percent);\\n vec3 norm = mix(prevNormal, normal, percent);\\n#else\\n vec3 pos = position;\\n vec3 norm = normal;\\n#endif\\n\\n@end\\n\\n\\n@export ecgl.common.ssaoMap.header\\n#ifdef SSAOMAP_ENABLED\\nuniform sampler2D ssaoMap;\\nuniform vec4 viewport : VIEWPORT;\\n#endif\\n@end\\n\\n@export ecgl.common.ssaoMap.main\\n float ao = 1.0;\\n#ifdef SSAOMAP_ENABLED\\n ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;\\n#endif\\n@end\\n\\n\\n\\n\\n@export ecgl.common.diffuseLayer.header\\n\\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\\nuniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];\\nuniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];\\n#endif\\n\\n@end\\n\\n@export ecgl.common.emissiveLayer.header\\n\\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\\nuniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];\\nuniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];\\n#endif\\n\\n@end\\n\\n@export ecgl.common.layers.header\\n@import ecgl.common.diffuseLayer.header\\n@import ecgl.common.emissiveLayer.header\\n@end\\n\\n@export ecgl.common.diffuseLayer.main\\n\\n#if (LAYER_DIFFUSEMAP_COUNT > 0)\\n for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{\\n float intensity = layerDiffuseIntensity[_idx_];\\n vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);\\n #ifdef SRGB_DECODE\\n texel2 = sRGBToLinear(texel2);\\n #endif\\n albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);\\n albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;\\n }}\\n#endif\\n\\n@end\\n\\n@export ecgl.common.emissiveLayer.main\\n\\n#if (LAYER_EMISSIVEMAP_COUNT > 0)\\n for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)\\n {{\\n vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];\\n #ifdef SRGB_DECODE\\n texel2 = sRGBToLinear(texel2);\\n #endif\\n float intensity = layerEmissionIntensity[_idx_];\\n gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;\\n }}\\n#endif\\n\\n@end\\n\"},function(t,e,n){\"use strict\";e.a=\"@export ecgl.color.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\n@import ecgl.common.uv.header\\n\\nattribute vec2 texcoord : TEXCOORD_0;\\nattribute vec3 position: POSITION;\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nuniform float percent : 1.0;\\n#endif\\n\\nvoid main()\\n{\\n#ifdef VERTEX_ANIMATION\\n vec3 pos = mix(prevPosition, position, percent);\\n#else\\n vec3 pos = position;\\n#endif\\n\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n\\n @import ecgl.common.uv.main\\n\\n#ifdef VERTEX_COLOR\\n v_Color = a_Color;\\n#endif\\n\\n @import ecgl.common.wireframe.vertexMain\\n\\n}\\n\\n@end\\n\\n@export ecgl.color.fragment\\n\\n#define LAYER_DIFFUSEMAP_COUNT 0\\n#define LAYER_EMISSIVEMAP_COUNT 0\\n\\nuniform sampler2D diffuseMap;\\nuniform sampler2D detailMap;\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\n@import ecgl.common.layers.header\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color);\\n#else\\n gl_FragColor = color;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\n gl_FragColor *= v_Color;\\n#endif\\n\\n @import ecgl.common.albedo.main\\n\\n @import ecgl.common.diffuseLayer.main\\n\\n gl_FragColor *= albedoTexel;\\n\\n @import ecgl.common.emissiveLayer.main\\n\\n @import ecgl.common.wireframe.fragmentMain\\n\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"/**\\n * http: */\\n\\n@export ecgl.lambert.vertex\\n\\n@import ecgl.common.transformUniforms\\n\\n@import ecgl.common.uv.header\\n\\n\\n@import ecgl.common.attributes\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\n\\n@import ecgl.common.vertexAnimation.header\\n\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nvoid main()\\n{\\n @import ecgl.common.uv.main\\n\\n @import ecgl.common.vertexAnimation.main\\n\\n\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n\\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\\n\\n#ifdef VERTEX_COLOR\\n v_Color = a_Color;\\n#endif\\n\\n @import ecgl.common.wireframe.vertexMain\\n}\\n\\n@end\\n\\n\\n@export ecgl.lambert.fragment\\n\\n#define LAYER_DIFFUSEMAP_COUNT 0\\n#define LAYER_EMISSIVEMAP_COUNT 0\\n\\n#define NORMAL_UP_AXIS 1\\n#define NORMAL_FRONT_AXIS 2\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform sampler2D diffuseMap;\\nuniform sampler2D detailMap;\\n\\n@import ecgl.common.layers.header\\n\\nuniform float emissionIntensity: 1.0;\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nuniform mat4 viewInverse : VIEWINVERSE;\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n@import clay.header.ambient_light\\n#endif\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n@import clay.header.ambient_sh_light\\n#endif\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n@import clay.header.directional_light\\n#endif\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\n\\n@import ecgl.common.ssaoMap.header\\n\\n@import ecgl.common.bumpMap.header\\n\\n@import clay.util.srgb\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.plugin.compute_shadow_map\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color);\\n#else\\n gl_FragColor = color;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\n #ifdef SRGB_DECODE\\n gl_FragColor *= sRGBToLinear(v_Color);\\n #else\\n gl_FragColor *= v_Color;\\n #endif\\n#endif\\n\\n @import ecgl.common.albedo.main\\n\\n @import ecgl.common.diffuseLayer.main\\n\\n gl_FragColor *= albedoTexel;\\n\\n vec3 N = v_Normal;\\n#ifdef DOUBLE_SIDED\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(eyePos - v_WorldPosition);\\n\\n if (dot(N, V) < 0.0) {\\n N = -N;\\n }\\n#endif\\n\\n float ambientFactor = 1.0;\\n\\n#ifdef BUMPMAP_ENABLED\\n N = bumpNormal(v_WorldPosition, v_Normal, N);\\n ambientFactor = dot(v_Normal, N);\\n#endif\\n\\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\\n\\n vec3 diffuseColor = vec3(0.0, 0.0, 0.0);\\n\\n @import ecgl.common.ssaoMap.main\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\\n {\\n diffuseColor += ambientLightColor[i] * ambientFactor * ao;\\n }\\n#endif\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\\n {{\\n diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\\n }}\\n#endif\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\\n if(shadowEnabled)\\n {\\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\\n }\\n#endif\\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\\n {\\n vec3 lightDirection = -directionalLightDirection[i];\\n vec3 lightColor = directionalLightColor[i];\\n\\n float shadowContrib = 1.0;\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n if (shadowEnabled)\\n {\\n shadowContrib = shadowContribsDir[i];\\n }\\n#endif\\n\\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\\n\\n diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);\\n }\\n#endif\\n\\n gl_FragColor.rgb *= diffuseColor;\\n\\n @import ecgl.common.emissiveLayer.main\\n\\n @import ecgl.common.wireframe.fragmentMain\\n}\\n\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export ecgl.realistic.vertex\\n\\n@import ecgl.common.transformUniforms\\n\\n@import ecgl.common.uv.header\\n\\n@import ecgl.common.attributes\\n\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\n#ifdef NORMALMAP_ENABLED\\nattribute vec4 tangent : TANGENT;\\nvarying vec3 v_Tangent;\\nvarying vec3 v_Bitangent;\\n#endif\\n\\n@import ecgl.common.vertexAnimation.header\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nvoid main()\\n{\\n\\n @import ecgl.common.uv.main\\n\\n @import ecgl.common.vertexAnimation.main\\n\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n\\n v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);\\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\\n\\n#ifdef VERTEX_COLOR\\n v_Color = a_Color;\\n#endif\\n\\n#ifdef NORMALMAP_ENABLED\\n v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);\\n v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);\\n#endif\\n\\n @import ecgl.common.wireframe.vertexMain\\n\\n}\\n\\n@end\\n\\n\\n\\n@export ecgl.realistic.fragment\\n\\n#define LAYER_DIFFUSEMAP_COUNT 0\\n#define LAYER_EMISSIVEMAP_COUNT 0\\n#define PI 3.14159265358979\\n#define ROUGHNESS_CHANEL 0\\n#define METALNESS_CHANEL 1\\n\\n#define NORMAL_UP_AXIS 1\\n#define NORMAL_FRONT_AXIS 2\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform sampler2D diffuseMap;\\n\\nuniform sampler2D detailMap;\\nuniform sampler2D metalnessMap;\\nuniform sampler2D roughnessMap;\\n\\n@import ecgl.common.layers.header\\n\\nuniform float emissionIntensity: 1.0;\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nuniform float metalness : 0.0;\\nuniform float roughness : 0.5;\\n\\nuniform mat4 viewInverse : VIEWINVERSE;\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n@import clay.header.ambient_light\\n#endif\\n\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n@import clay.header.ambient_sh_light\\n#endif\\n\\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\\n@import clay.header.ambient_cubemap_light\\n#endif\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n@import clay.header.directional_light\\n#endif\\n\\n@import ecgl.common.normalMap.fragmentHeader\\n\\n@import ecgl.common.ssaoMap.header\\n\\n@import ecgl.common.bumpMap.header\\n\\n@import clay.util.srgb\\n\\n@import clay.util.rgbm\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.plugin.compute_shadow_map\\n\\nvec3 F_Schlick(float ndv, vec3 spec) {\\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\\n}\\n\\nfloat D_Phong(float g, float ndh) {\\n float a = pow(8192.0, g);\\n return (a + 2.0) / 8.0 * pow(ndh, a);\\n}\\n\\nvoid main()\\n{\\n vec4 albedoColor = color;\\n\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(eyePos - v_WorldPosition);\\n#ifdef VERTEX_COLOR\\n #ifdef SRGB_DECODE\\n albedoColor *= sRGBToLinear(v_Color);\\n #else\\n albedoColor *= v_Color;\\n #endif\\n#endif\\n\\n @import ecgl.common.albedo.main\\n\\n @import ecgl.common.diffuseLayer.main\\n\\n albedoColor *= albedoTexel;\\n\\n float m = metalness;\\n\\n#ifdef METALNESSMAP_ENABLED\\n float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];\\n m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);\\n#endif\\n\\n vec3 baseColor = albedoColor.rgb;\\n albedoColor.rgb = baseColor * (1.0 - m);\\n vec3 specFactor = mix(vec3(0.04), baseColor, m);\\n\\n float g = 1.0 - roughness;\\n\\n#ifdef ROUGHNESSMAP_ENABLED\\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\\n#endif\\n\\n vec3 N = v_Normal;\\n\\n#ifdef DOUBLE_SIDED\\n if (dot(N, V) < 0.0) {\\n N = -N;\\n }\\n#endif\\n\\n float ambientFactor = 1.0;\\n\\n#ifdef BUMPMAP_ENABLED\\n N = bumpNormal(v_WorldPosition, v_Normal, N);\\n ambientFactor = dot(v_Normal, N);\\n#endif\\n\\n@import ecgl.common.normalMap.fragmentMain\\n\\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\\n\\n vec3 diffuseTerm = vec3(0.0);\\n vec3 specularTerm = vec3(0.0);\\n\\n float ndv = clamp(dot(N, V), 0.0, 1.0);\\n vec3 fresnelTerm = F_Schlick(ndv, specFactor);\\n\\n @import ecgl.common.ssaoMap.main\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)\\n {{\\n diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;\\n }}\\n#endif\\n\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\\n {{\\n diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;\\n }}\\n#endif\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\\n if(shadowEnabled)\\n {\\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\\n }\\n#endif\\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)\\n {{\\n vec3 L = -directionalLightDirection[_idx_];\\n vec3 lc = directionalLightColor[_idx_];\\n\\n vec3 H = normalize(L + V);\\n float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);\\n float ndh = clamp(dot(N, H), 0.0, 1.0);\\n\\n float shadowContrib = 1.0;\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n if (shadowEnabled)\\n {\\n shadowContrib = shadowContribsDir[_idx_];\\n }\\n#endif\\n\\n vec3 li = lc * ndl * shadowContrib;\\n\\n diffuseTerm += li;\\n specularTerm += li * fresnelTerm * D_Phong(g, ndh);\\n }}\\n#endif\\n\\n\\n#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT\\n vec3 L = reflect(-V, N);\\n L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);\\n float rough2 = clamp(1.0 - g, 0.0, 1.0);\\n float bias2 = rough2 * 5.0;\\n vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;\\n vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;\\n vec3 envTexel2;\\n for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)\\n {{\\n envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);\\n specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;\\n }}\\n#endif\\n\\n gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;\\n gl_FragColor.a = albedoColor.a;\\n\\n#ifdef SRGB_ENCODE\\n gl_FragColor = linearTosRGB(gl_FragColor);\\n#endif\\n\\n @import ecgl.common.emissiveLayer.main\\n\\n @import ecgl.common.wireframe.fragmentMain\\n}\\n\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export ecgl.hatching.vertex\\n\\n@import ecgl.realistic.vertex\\n\\n@end\\n\\n\\n@export ecgl.hatching.fragment\\n\\n#define NORMAL_UP_AXIS 1\\n#define NORMAL_FRONT_AXIS 2\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform vec4 color : [0.0, 0.0, 0.0, 1.0];\\nuniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];\\n\\nuniform mat4 viewInverse : VIEWINVERSE;\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n@import clay.header.ambient_light\\n#endif\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n@import clay.header.ambient_sh_light\\n#endif\\n\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n@import clay.header.directional_light\\n#endif\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\n\\n@import ecgl.common.ssaoMap.header\\n\\n@import ecgl.common.bumpMap.header\\n\\n@import clay.util.srgb\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.plugin.compute_shadow_map\\n\\nuniform sampler2D hatch1;\\nuniform sampler2D hatch2;\\nuniform sampler2D hatch3;\\nuniform sampler2D hatch4;\\nuniform sampler2D hatch5;\\nuniform sampler2D hatch6;\\n\\nfloat shade(in float tone) {\\n vec4 c = vec4(1. ,1., 1., 1.);\\n float step = 1. / 6.;\\n vec2 uv = v_DetailTexcoord;\\n if (tone <= step / 2.0) {\\n c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);\\n }\\n else if (tone <= step) {\\n c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);\\n }\\n if(tone > step && tone <= 2. * step){\\n c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));\\n }\\n if(tone > 2. * step && tone <= 3. * step){\\n c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));\\n }\\n if(tone > 3. * step && tone <= 4. * step){\\n c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));\\n }\\n if(tone > 4. * step && tone <= 5. * step){\\n c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));\\n }\\n if(tone > 5. * step){\\n c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));\\n }\\n\\n return c.r;\\n}\\n\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\n\\nvoid main()\\n{\\n#ifdef SRGB_DECODE\\n vec4 inkColor = sRGBToLinear(color);\\n#else\\n vec4 inkColor = color;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\n #ifdef SRGB_DECODE\\n inkColor *= sRGBToLinear(v_Color);\\n #else\\n inkColor *= v_Color;\\n #endif\\n#endif\\n\\n vec3 N = v_Normal;\\n#ifdef DOUBLE_SIDED\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(eyePos - v_WorldPosition);\\n\\n if (dot(N, V) < 0.0) {\\n N = -N;\\n }\\n#endif\\n\\n float tone = 0.0;\\n\\n float ambientFactor = 1.0;\\n\\n#ifdef BUMPMAP_ENABLED\\n N = bumpNormal(v_WorldPosition, v_Normal, N);\\n ambientFactor = dot(v_Normal, N);\\n#endif\\n\\n vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);\\n\\n @import ecgl.common.ssaoMap.main\\n\\n#ifdef AMBIENT_LIGHT_COUNT\\n for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)\\n {\\n tone += dot(ambientLightColor[i], w) * ambientFactor * ao;\\n }\\n#endif\\n#ifdef AMBIENT_SH_LIGHT_COUNT\\n for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)\\n {{\\n tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;\\n }}\\n#endif\\n#ifdef DIRECTIONAL_LIGHT_COUNT\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];\\n if(shadowEnabled)\\n {\\n computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);\\n }\\n#endif\\n for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)\\n {\\n vec3 lightDirection = -directionalLightDirection[i];\\n float lightTone = dot(directionalLightColor[i], w);\\n\\n float shadowContrib = 1.0;\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n if (shadowEnabled)\\n {\\n shadowContrib = shadowContribsDir[i];\\n }\\n#endif\\n\\n float ndl = dot(N, normalize(lightDirection)) * shadowContrib;\\n\\n tone += lightTone * clamp(ndl, 0.0, 1.0);\\n }\\n#endif\\n\\n gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));\\n }\\n@end\\n\"},function(t,e,n){\"use strict\";e.a=\"@export ecgl.sm.depth.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nattribute vec3 position : POSITION;\\nattribute vec2 texcoord : TEXCOORD_0;\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nuniform float percent : 1.0;\\n#endif\\n\\nvarying vec4 v_ViewPosition;\\nvarying vec2 v_Texcoord;\\n\\nvoid main(){\\n\\n#ifdef VERTEX_ANIMATION\\n vec3 pos = mix(prevPosition, position, percent);\\n#else\\n vec3 pos = position;\\n#endif\\n\\n v_ViewPosition = worldViewProjection * vec4(pos, 1.0);\\n gl_Position = v_ViewPosition;\\n\\n v_Texcoord = texcoord;\\n\\n}\\n@end\\n\\n\\n\\n@export ecgl.sm.depth.fragment\\n\\n@import clay.sm.depth.fragment\\n\\n@end\"},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=[\"bar3D\",\"line3D\",\"map3D\",\"scatter3D\",\"surface\",\"lines3D\",\"scatterGL\",\"scatter3D\"];function o(t,e){var n,i;t&&t[e]&&(t[e].normal||t[e].emphasis)&&(n=t[e].normal,i=t[e].emphasis,n&&(t[e]=n),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i))}function s(t){t&&(t instanceof Array||(t=[t]),r.a.util.each(t,function(t){var e;t.axisLabel&&(e=t.axisLabel,r.a.util.extend(e,e.textStyle),e.textStyle=null)}))}e.a=function(n){r.a.util.each(n.series,function(t){var e;0<=r.a.util.indexOf(a,t.type)&&(o(e=t,\"itemStyle\"),o(e,\"lineStyle\"),o(e,\"areaStyle\"),o(e,\"label\"),\"mapbox\"===t.coordinateSystem&&(t.coordinateSystem=\"mapbox3D\",n.mapbox3D=n.mapbox))}),s(n.xAxis3D),s(n.yAxis3D),s(n.zAxis3D),s(n.grid3D),o(n.geo3D)}},function(t,e,n){\"use strict\";n(155),n(159),n(160),n(167);var i=n(0),r=n.n(i);r.a.registerAction({type:\"grid3DChangeCamera\",event:\"grid3dcamerachanged\",update:\"series:updateCamera\"},function(e,t){t.eachComponent({mainType:\"grid3D\",query:e},function(t){t.setView(e)})}),r.a.registerAction({type:\"grid3DShowAxisPointer\",event:\"grid3dshowaxispointer\",update:\"grid3D:showAxisPointer\"},function(t,e){}),r.a.registerAction({type:\"grid3DHideAxisPointer\",event:\"grid3dhideaxispointer\",update:\"grid3D:hideAxisPointer\"},function(t,e){})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(156),o=r.a.extendComponentModel({type:\"cartesian3DAxis\",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:\"grid3D\",index:this.option.gridIndex,id:this.option.gridId})[0]}});function s(t,e){return e.type||(e.data?\"category\":\"value\")}r.a.helper.mixinAxisModelCommonMethods(o),Object(a.a)(\"x\",o,s,{name:\"X\"}),Object(a.a)(\"y\",o,s,{name:\"Y\"}),Object(a.a)(\"z\",o,s,{name:\"Z\"})},function(t,e,n){\"use strict\";var i=n(0),o=n.n(i),s=n(157),r=n(158),l=n.n(r),u=[\"value\",\"category\",\"time\",\"log\"];e.a=function(r,t,a,e){o.a.util.each(u,function(i){t.extend({type:r+\"Axis3D.\"+i,__ordinalMeta:null,mergeDefaultAndTheme:function(t,e){var n=e.getTheme();o.a.util.merge(t,n.get(i+\"Axis3D\")),o.a.util.merge(t,this.getDefaultOption()),t.type=a(r,t)},optionUpdated:function(){\"category\"===this.option.type&&(this.__ordinalMeta=l.a.createByAxisModel(this))},getCategories:function(){if(\"category\"===this.option.type)return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:o.a.util.merge(o.a.util.clone(s.a[i+\"Axis3D\"]),e||{},!0)})}),t.superClass.registerSubTypeDefaulter(r+\"Axis3D\",o.a.util.curry(a,r))}},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a={show:!0,grid3DIndex:0,inverse:!1,name:\"\",nameLocation:\"middle\",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},o=r.a.util.merge({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:\"auto\"},axisLabel:{interval:\"auto\"},axisPointer:{label:{show:!1}}},a),s=r.a.util.merge({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},a),l=r.a.util.defaults({scale:!0,min:\"dataMin\",max:\"dataMax\"},s),u=r.a.util.defaults({logBase:10},s);u.scale=!0,e.a={categoryAxis3D:o,valueAxis3D:s,timeAxis3D:l,logAxis3D:u}},function(t,e,n){var i=n(13),r=i.createHashMap,a=i.isObject,o=i.map;function s(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}s.createByAxisModel=function(t){var e=t.option,n=e.data,i=n&&o(n,h);return new s({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})};var l=s.prototype;function u(t){return t._map||(t._map=r(t.categories))}function h(t){return a(t)&&null!=t.value?t.value:t+\"\"}l.getOrdinal=function(t){return u(this).get(t)},l.parseAndCollect=function(t){var e=this._needCollect;if(\"string\"!=typeof t&&!e)return t;if(e&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var n,i=u(this);return null==(n=i.get(t))&&(e?(n=this.categories.length,this.categories[n]=t,i.set(t,n)):n=NaN),n},t.exports=s},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(44),o=n(28),s=n(29),l=r.a.extendComponentModel({type:\"grid3D\",dependencies:[\"xAxis3D\",\"yAxis3D\",\"zAxis3D\"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:\"100%\",height:\"100%\",environment:\"auto\",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:\"rgba(0, 0, 0, 0.8)\",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:\"#fff\",backgroundColor:\"rgba(0,0,0,0.5)\",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:\"#333\",width:2,type:\"solid\"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:[\"#ccc\"],width:1,type:\"solid\"}},splitArea:{show:!1,areaStyle:{color:[\"rgba(250,250,250,0.3)\",\"rgba(200,200,200,0.3)\"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});r.a.util.merge(l.prototype,a.a),r.a.util.merge(l.prototype,o.a),r.a.util.merge(l.prototype,s.a)},function(t,e,n){\"use strict\";var i=n(0),T=n.n(i),S=n(1),a=n(45),o=n(25),M=n(2),s=n(81),l=n(30),u=n(162),h=n(164),c=n(63),r=n(46),A=M.a.firstNotNull;S.a.Shader.import(r.a),[\"x\",\"y\",\"z\"].forEach(function(t){T.a.extendComponentView({type:t+\"Axis3D\"})});var I={x:0,y:2,z:1};T.a.extendComponentView({type:\"grid3D\",__ecgl__:!0,init:function(t,e){var n=new S.a.Material({shader:S.a.createShader(\"ecgl.color\"),depthMask:!1,transparent:!0}),i=new S.a.Material({shader:S.a.createShader(\"ecgl.meshLines3D\"),depthMask:!1,transparent:!0});n.define(\"fragment\",\"DOUBLE_SIDED\"),n.define(\"both\",\"VERTEX_COLOR\"),this.groupGL=new S.a.Node,this._control=new a.a({zr:e.getZr()}),this._control.init(),this._faces=[[\"y\",\"z\",\"x\",-1,\"left\"],[\"y\",\"z\",\"x\",1,\"right\"],[\"x\",\"y\",\"z\",-1,\"bottom\"],[\"x\",\"y\",\"z\",1,\"top\"],[\"x\",\"z\",\"y\",-1,\"far\"],[\"x\",\"z\",\"y\",1,\"near\"]].map(function(t){var e=new u.a(t,i,n);return this.groupGL.add(e.rootNode),e},this),this._axes=[\"x\",\"y\",\"z\"].map(function(t){var e=new h.a(t,i);return this.groupGL.add(e.rootNode),e},this);var r=e.getDevicePixelRatio();this._axisLabelSurface=new s.a({width:256,height:256,devicePixelRatio:r}),this._axisLabelSurface.onupdate=function(){e.getZr().refresh()},this._axisPointerLineMesh=new S.a.Mesh({geometry:new o.a({useNativeLine:!1}),material:i,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new s.a({width:128,height:128,devicePixelRatio:r}),this._axisPointerLabelsMesh=new c.a({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set(\"textureAtlas\",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new S.a.Node,this._sceneHelper=new l.a,this._sceneHelper.initLight(this._lightRoot)},render:function(e,n,i){this._model=e,this._api=i;var t=e.coordinateSystem;t.viewGL.add(this._lightRoot),e.get(\"show\")?t.viewGL.add(this.groupGL):t.viewGL.remove(this.groupGL);var r=this._control;r.setViewGL(t.viewGL);var a=e.getModel(\"viewControl\");r.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),r.off(\"update\"),e.get(\"show\")&&(this._faces.forEach(function(t){t.update(e,n,i)},this),this._axes.forEach(function(t){t.update(e,this._axisLabelSurface,i)},this)),r.on(\"update\",this._onCameraChange.bind(this,e,i),this),this._sceneHelper.setScene(t.viewGL.scene),this._sceneHelper.updateLight(e),t.viewGL.setPostEffect(e.getModel(\"postEffect\"),i),t.viewGL.setTemporalSuperSampling(e.getModel(\"temporalSuperSampling\")),this._initMouseHandler(e)},afterRender:function(t,e,n,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,t,n),this._sceneHelper.updateSkybox(r,t,n)},showAxisPointer:function(t,e,n,i){this._doShowAxisPointer(),this._updateAxisPointer(i.value)},hideAxisPointer:function(t,e,n,i){this._doHideAxisPointer()},_initMouseHandler:function(t){var e=t.coordinateSystem.viewGL;t.get(\"show\")&&t.get(\"axisPointer.show\")?e.on(\"mousemove\",this._updateAxisPointerOnMousePosition,this):e.off(\"mousemove\",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(t){if(!t.target){for(var e,n,i=this._model.coordinateSystem,r=i.viewGL,a=r.castRay(t.offsetX,t.offsetY,new S.a.Ray),o=0;o<this._faces.length;o++){var s,l,u,h,c,d=this._faces[o];d.rootNode.invisible||(d.plane.normal.dot(r.camera.worldTransform.z)<0&&d.plane.normal.negate(),(s=a.intersectPlane(d.plane))&&(l=i.getAxis(d.faceInfo[0]),u=i.getAxis(d.faceInfo[1]),h=I[d.faceInfo[0]],c=I[d.faceInfo[1]],l.contain(s.array[h])&&u.contain(s.array[c])&&(e=s)))}e?(n=i.pointToData(e.array,[],!0),this._updateAxisPointer(n),this._doShowAxisPointer()):this._doHideAxisPointer()}},_onCameraChange:function(t,e){t.get(\"show\")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var n=this._control;e.dispatchAction({type:\"grid3DChangeCamera\",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,grid3DId:t.id})},_updateFaceVisibility:function(){var t=this._control.getCamera(),e=new S.a.Vector3;t.update();for(var n=0;n<this._faces.length/2;n++){for(var i=[],r=0;r<2;r++){this._faces[2*n+r].rootNode.getWorldPosition(e),e.transformMat4(t.viewMatrix),i[r]=e.z}var a=i[0]>i[1]?0:1,o=this._faces[2*n+a],s=this._faces[2*n+1-a];o.rootNode.invisible=!0,s.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var t=this._model.coordinateSystem,e=t.getAxis(\"x\"),n=t.getAxis(\"y\"),i=t.getAxis(\"z\"),r=i.getExtentMax(),a=i.getExtentMin(),o=e.getExtentMin(),s=e.getExtentMax(),l=n.getExtentMax(),u=n.getExtentMin(),h=this._axes[0].rootNode,c=this._axes[1].rootNode,d=this._axes[2].rootNode,f=this._faces,p=f[4].rootNode.invisible?u:l,g=f[2].rootNode.invisible?r:a,m=f[0].rootNode.invisible?o:s,v=f[2].rootNode.invisible?r:a,y=f[0].rootNode.invisible?s:o,_=f[4].rootNode.invisible?u:l;h.rotation.identity(),c.rotation.identity(),d.rotation.identity(),f[4].rootNode.invisible&&(this._axes[0].flipped=!0,h.rotation.rotateX(Math.PI)),f[0].rootNode.invisible&&(this._axes[1].flipped=!0,c.rotation.rotateZ(Math.PI)),f[4].rootNode.invisible&&(this._axes[2].flipped=!0,d.rotation.rotateY(Math.PI)),h.position.set(0,g,p),c.position.set(m,v,0),d.position.set(y,0,_),h.update(),c.update(),d.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var u=this._control.getCamera(),h=[new S.a.Vector4,new S.a.Vector4],c=new S.a.Vector4;this.groupGL.getWorldPosition(c),c.w=1,c.transformMat4(u.viewMatrix).transformMat4(u.projectionMatrix),c.x/=c.w,c.y/=c.w,this._axes.forEach(function(t){for(var e=t.axisLineCoords,n=(t.labelsMesh.geometry,0);n<h.length;n++)h[n].setArray(e[n]),h[n].w=1,h[n].transformMat4(t.rootNode.worldTransform).transformMat4(u.viewMatrix).transformMat4(u.projectionMatrix),h[n].x/=h[n].w,h[n].y/=h[n].w;var i,r,a=h[1].x-h[0].x,o=h[1].y-h[0].y,s=(h[1].x+h[0].x)/2,l=(h[1].y+h[0].y)/2;Math.abs(o/a)<.5?(i=\"center\",r=l>c.y?\"bottom\":\"top\"):(r=\"middle\",i=s>c.x?\"left\":\"right\"),t.setSpriteAlign(i,r,this._api)},this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(t){var e=this._model.coordinateSystem,n=e.dataToPoint(t),i=this._axisPointerLineMesh.geometry,a=this._model.getModel(\"axisPointer\"),r=this._api.getDevicePixelRatio();function o(t){return M.a.firstNotNull(t.model.get(\"axisPointer.show\"),a.get(\"show\"))}function s(t){var e=t.model.getModel(\"axisPointer\",a).getModel(\"lineStyle\"),n=S.a.parseColor(e.get(\"color\")),i=A(e.get(\"width\"),1),r=A(e.get(\"opacity\"),1);return n[3]*=r,{color:n,lineWidth:i}}i.convertToDynamicArray(!0);for(var l=0;l<this._faces.length;l++){var u=this._faces[l];if(!u.rootNode.invisible){for(var h=u.faceInfo,c=h[3]<0?e.getAxis(h[2]).getExtentMin():e.getAxis(h[2]).getExtentMax(),d=I[h[2]],f=0;f<2;f++){var p,g,m,v,y,_=h[f],x=h[1-f],b=e.getAxis(_),w=e.getAxis(x);o(b)&&(v=I[x],(p=[0,0,0])[m=I[_]]=(g=[0,0,0])[m]=n[m],p[d]=g[d]=c,p[v]=w.getExtentMin(),g[v]=w.getExtentMax(),y=s(b),i.addLine(p,g,y.color,y.lineWidth*r))}o(e.getAxis(h[2]))&&(p=n.slice(),(g=n.slice())[d]=c,y=s(e.getAxis(h[2])),i.addLine(p,g,y.color,y.lineWidth*r))}}i.convertToTypedArray(),this._updateAxisPointerLabelsMesh(t),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(v){var t=this._model,y=this._axisPointerLabelsMesh,_=this._axisPointerLabelsSurface,x=t.coordinateSystem,b=t.getModel(\"axisPointer\");y.geometry.convertToDynamicArray(!0),_.clear();var w={x:\"y\",y:\"x\",z:\"y\"};this._axes.forEach(function(t,e){var n,i,r,a,o,s,l,u,h,c,d,f=x.getAxis(t.dim),p=f.model.getModel(\"axisPointer\",b),g=p.getModel(\"label\"),m=p.get(\"lineStyle.color\");g.get(\"show\")&&p.get(\"show\")&&(n=v[e],i=g.get(\"formatter\"),a=f.scale.getLabel(n),null!=i?a=i(a,v):\"interval\"!==f.scale.type&&\"log\"!==f.scale.type||(r=T.a.number.getPrecisionSafe(f.scale.getTicks()[0]),a=n.toFixed(r+2)),s=(o=g.getModel(\"textStyle\")).get(\"color\"),l=new T.a.graphic.Text,T.a.graphic.setTextStyle(l.style,o,{text:a,textFill:s||m,textAlign:\"left\",textVerticalAlign:\"top\"}),u=_.add(l),h=l.getBoundingRect(),c=this._api.getDevicePixelRatio(),(d=t.rootNode.position.toArray())[I[w[t.dim]]]+=(t.flipped?-1:1)*g.get(\"margin\"),d[I[t.dim]]=f.dataToCoord(v[e]),y.geometry.addSprite(d,[h.width*c,h.height*c],u,t.textAlign,t.textVerticalAlign))},this),_.getZr().refreshImmediately(),y.material.set(\"uvScale\",_.getCoordsScale()),y.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){\"use strict\";var i=n(70),r=n(12),a=n(33),o=n(78),s=n(79),l=n(34),u=n(21),h=n(55);e.a={vec2:i.a,vec3:r.a,vec4:a.a,mat2:o.a,mat2d:s.a,mat3:l.a,mat4:u.a,quat:h.a}},function(t,e,n){\"use strict\";var i=n(0),x=n.n(i),b=n(1),r=n(2),a=n(25),o=n(163),w=r.a.firstNotNull,p={x:0,y:2,z:1};function s(t,e,n){this.rootNode=new b.a.Node;var i=new b.a.Mesh({geometry:new a.a({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),r=new b.a.Mesh({geometry:new o.a,material:n,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(r),this.rootNode.add(i),this.faceInfo=t,this.plane=new b.a.Plane,this.linesMesh=i,this.quadsMesh=r}s.prototype.update=function(t,e,n){var i=t.coordinateSystem,r=[i.getAxis(this.faceInfo[0]),i.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,o=this.quadsMesh.geometry;a.convertToDynamicArray(!0),o.convertToDynamicArray(!0),this._updateSplitLines(a,r,t,n),this._udpateSplitAreas(o,r,t,n),a.convertToTypedArray(),o.convertToTypedArray();var s,l,u,h,c,d,f=i.getAxis(this.faceInfo[2]);s=this.rootNode,l=this.plane,u=f,h=this.faceInfo[3],c=[0,0,0],d=h<0?u.getExtentMin():u.getExtentMax(),c[p[u.dim]]=d,s.position.setArray(c),s.rotation.identity(),l.distance=-Math.abs(d),l.normal.set(0,0,0),\"x\"===u.dim?(s.rotation.rotateY(h*Math.PI/2),l.normal.x=-h):\"z\"===u.dim?(s.rotation.rotateX(-h*Math.PI/2),l.normal.y=-h):(0<h&&s.rotation.rotateY(Math.PI),l.normal.z=-h)},s.prototype._updateSplitLines=function(m,v,y,t){var _=t.getDevicePixelRatio();v.forEach(function(t,e){var n=t.model,i=v[1-e].getExtent();if(!t.scale.isBlank()){var r=n.getModel(\"splitLine\",y.getModel(\"splitLine\"));if(r.get(\"show\"))for(var a=r.getModel(\"lineStyle\"),o=a.get(\"color\"),s=w(a.get(\"opacity\"),1),l=w(a.get(\"width\"),1),o=x.a.util.isArray(o)?o:[o],u=t.getTicksCoords({tickModel:r}),h=0,c=0;c<u.length;c++){var d=u[c].coord,f=b.a.parseColor(o[h%o.length]);f[3]*=s;var p=[0,0,0],g=[0,0,0];p[e]=g[e]=d,p[1-e]=i[0],g[1-e]=i[1],m.addLine(p,g,f,l*_),h++}}})},s.prototype._udpateSplitAreas=function(v,y,_,t){y.forEach(function(t,e){var n=t.model,i=y[1-e].getExtent();if(!t.scale.isBlank()){var r=n.getModel(\"splitArea\",_.getModel(\"splitArea\"));if(r.get(\"show\"))for(var a=r.getModel(\"areaStyle\"),o=a.get(\"color\"),s=w(a.get(\"opacity\"),1),o=x.a.util.isArray(o)?o:[o],l=t.getTicksCoords({tickModel:r,clamp:!0}),u=0,h=[0,0,0],c=[0,0,0],d=0;d<l.length;d++){var f,p=l[d].coord,g=[0,0,0],m=[0,0,0];g[e]=m[e]=p,g[1-e]=i[0],m[1-e]=i[1],0!==d?((f=b.a.parseColor(o[u%o.length]))[3]*=s,v.addQuad([h,g,m,c],f),h=g,c=m,u++):(h=g,c=m)}}})},e.a=s},function(t,e,n){\"use strict\";var s,l,u,h,i=n(15),r=n(0),a=n.n(r),o=n(38),c=n(6).a.vec3,d=i.a.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new i.a.Attribute(\"position\",\"float\",3,\"POSITION\"),normal:new i.a.Attribute(\"normal\",\"float\",3,\"NORMAL\"),color:new i.a.Attribute(\"color\",\"float\",4,\"COLOR\")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(t){var e=this.attributes,n=this.getQuadVertexCount()*t,i=this.getQuadTriangleCount()*t;this.vertexCount!==n&&(e.position.init(n),e.normal.init(n),e.color.init(n)),this.triangleCount!==i&&(this.indices=new(65535<n?Uint32Array:Uint16Array)(3*i))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:(s=c.create(),l=c.create(),u=c.create(),h=[0,3,1,3,2,1],function(t,e){var n=this.attributes.position,i=this.attributes.normal,r=this.attributes.color;c.sub(s,t[1],t[0]),c.sub(l,t[2],t[1]),c.cross(u,s,l),c.normalize(u,u);for(var a=0;a<4;a++)n.set(this._vertexOffset+a,t[a]),r.set(this._vertexOffset+a,e),i.set(this._vertexOffset+a,u);for(var o=3*this._faceOffset,a=0;a<6;a++)this.indices[o+a]=h[a]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2})});a.a.util.defaults(d.prototype,o.a),e.a=d},function(t,e,n){\"use strict\";var i=n(0),H=n.n(i),U=n(1),a=n(25),r=n(2),o=n(63),W=r.a.firstNotNull,j={x:0,y:2,z:1};function s(t,e){var n=new U.a.Mesh({geometry:new a.a({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,renderOrder:2}),i=new o.a;i.material.depthMask=!1;var r=new U.a.Node;r.add(n),r.add(i),this.rootNode=r,this.dim=t,this.linesMesh=n,this.labelsMesh=i,this.axisLineCoords=null,this.labelElements=[]}var X={x:\"y\",y:\"x\",z:\"y\"};s.prototype.update=function(t,e,n){var i=t.coordinateSystem.getAxis(this.dim),r=this.linesMesh.geometry,a=this.labelsMesh.geometry;r.convertToDynamicArray(!0),a.convertToDynamicArray(!0);var o,s,l,u=i.model,h=i.getExtent(),c=n.getDevicePixelRatio(),d=u.getModel(\"axisLine\",t.getModel(\"axisLine\")),f=u.getModel(\"axisTick\",t.getModel(\"axisTick\")),p=u.getModel(\"axisLabel\",t.getModel(\"axisLabel\")),g=d.get(\"lineStyle.color\");if(d.get(\"show\")&&(o=d.getModel(\"lineStyle\"),S=[0,0,0],(T=[0,0,0])[M=j[i.dim]]=h[0],S[M]=h[1],this.axisLineCoords=[T,S],s=U.a.parseColor(g),y=W(o.get(\"width\"),1),l=W(o.get(\"opacity\"),1),s[3]*=l,r.addLine(T,S,s,y*c)),f.get(\"show\")){var m=f.getModel(\"lineStyle\"),v=U.a.parseColor(W(m.get(\"color\"),g)),y=W(m.get(\"width\"),1);v[3]*=W(m.get(\"opacity\"),1);for(var _=i.getTicksCoords(),x=f.get(\"length\"),b=0;b<_.length;b++){var w=_[b].coord,T=[0,0,0],S=[0,0,0],M=j[i.dim],A=j[X[i.dim]];T[M]=S[M]=w,S[A]=x,r.addLine(T,S,v,y*c)}}this.labelElements=[];var I,C,D,c=n.getDevicePixelRatio();if(p.get(\"show\"))for(var _=i.getTicksCoords(),E=u.get(\"data\"),L=p.get(\"margin\"),P=i.getViewLabels(),b=0;b<P.length;b++){var N=P[b].tickValue,O=P[b].formattedLabel,R=P[b].rawLabel,w=i.dataToCoord(N),k=[0,0,0],M=j[i.dim],A=j[X[i.dim]];k[M]=k[M]=w,k[A]=L;var z=p;E&&E[N]&&E[N].textStyle&&(z=new H.a.Model(E[N].textStyle,p,u.ecModel));var B=W(z.get(\"color\"),g),F=new H.a.graphic.Text;H.a.graphic.setTextStyle(F.style,z,{text:O,textFill:\"function\"==typeof B?B(\"category\"===i.type?R:\"value\"===i.type?N+\"\":N,b):B,textVerticalAlign:\"top\",textAlign:\"left\"});var V=e.add(F),G=F.getBoundingRect();a.addSprite(k,[G.width*c,G.height*c],V),this.labelElements.push(F)}u.get(\"name\")&&(I=u.getModel(\"nameTextStyle\"),k=[0,0,0],M=j[i.dim],A=j[X[i.dim]],C=W(I.get(\"color\"),g),D=I.get(\"borderColor\"),y=I.get(\"borderWidth\"),k[M]=k[M]=(h[0]+h[1])/2,k[A]=u.get(\"nameGap\"),F=new H.a.graphic.Text,H.a.graphic.setTextStyle(F.style,I,{text:u.get(\"name\"),textFill:C,textStroke:D,lineWidth:y}),V=e.add(F),G=F.getBoundingRect(),a.addSprite(k,[G.width*c,G.height*c],V),F.__idx=this.labelElements.length,this.nameLabelElement=F),this.labelsMesh.material.set(\"textureAtlas\",e.getTexture()),this.labelsMesh.material.set(\"uvScale\",e.getCoordsScale()),r.convertToTypedArray(),a.convertToTypedArray()},s.prototype.setSpriteAlign=function(t,e,n){for(var i=n.getDevicePixelRatio(),r=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var o=this.labelElements[a].getBoundingRect();r.setSpriteAlign(a,[o.width*i,o.height*i],t,e)}var s=this.nameLabelElement;s&&(o=s.getBoundingRect(),r.setSpriteAlign(s.__idx,[o.width*i,o.height*i],t,e),r.dirty()),this.textAlign=t,this.textVerticalAlign=e},e.a=s},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(15),o=n(38),l=[0,1,2,0,2,3],s=a.a.extend(function(){return{attributes:{position:new a.a.Attribute(\"position\",\"float\",3,\"POSITION\"),texcoord:new a.a.Attribute(\"texcoord\",\"float\",2,\"TEXCOORD_0\"),offset:new a.a.Attribute(\"offset\",\"float\",2),color:new a.a.Attribute(\"color\",\"float\",4,\"COLOR\")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(t){var e=4*(this._spriteCount=t),n=2*t;this.vertexCount!==e&&(this.attributes.position.init(e),this.attributes.offset.init(e),this.attributes.color.init(e)),this.triangleCount!==n&&(this.indices=new(65535<e?Uint32Array:Uint16Array)(3*n))},setSpriteAlign:function(t,e,n,i,r){var a,o,s,l;switch(null==n&&(n=\"left\"),null==i&&(i=\"top\"),r=r||0,n){case\"left\":a=r,s=e[0]+r;break;case\"center\":case\"middle\":a=-e[0]/2,s=e[0]/2;break;case\"right\":a=-e[0]-r,s=-r}switch(i){case\"bottom\":o=r,l=e[1]+r;break;case\"middle\":o=-e[1]/2,l=e[1]/2;break;case\"top\":o=-e[1]-r,l=-r}var u=4*t,h=this.attributes.offset;h.set(u,[a,l]),h.set(1+u,[s,l]),h.set(2+u,[s,o]),h.set(3+u,[a,o])},addSprite:function(t,e,n,i,r,a){var o=this._vertexOffset;this.setSprite(this._vertexOffset/4,t,e,n,i,r,a);for(var s=0;s<l.length;s++)this.indices[3*this._faceOffset+s]=l[s]+o;return this._faceOffset+=2,this._vertexOffset+=4,o/4},setSprite:function(t,e,n,i,r,a,o){for(var s=4*t,l=this.attributes,u=0;u<4;u++)l.position.set(s+u,e);var h=l.texcoord;h.set(s,[i[0][0],i[0][1]]),h.set(1+s,[i[1][0],i[0][1]]),h.set(2+s,[i[1][0],i[1][1]]),h.set(3+s,[i[0][0],i[1][1]]),this.setSpriteAlign(t,n,r,a,o)}});r.a.util.defaults(s.prototype,o.a),e.a=s},function(t,e,n){\"use strict\";e.a=\"@export ecgl.labels.vertex\\n\\nattribute vec3 position: POSITION;\\nattribute vec2 texcoord: TEXCOORD_0;\\nattribute vec2 offset;\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform vec4 viewport : VIEWPORT;\\n\\nvarying vec2 v_Texcoord;\\n\\nvoid main()\\n{\\n vec4 proj = worldViewProjection * vec4(position, 1.0);\\n\\n vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;\\n\\n screen += offset;\\n\\n proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);\\n gl_Position = proj;\\n#ifdef VERTEX_COLOR\\n v_Color = a_Color;\\n#endif\\n v_Texcoord = texcoord;\\n}\\n@end\\n\\n\\n@export ecgl.labels.fragment\\n\\nuniform vec3 color : [1.0, 1.0, 1.0];\\nuniform float alpha : 1.0;\\nuniform sampler2D textureAtlas;\\nuniform vec2 uvScale: [1.0, 1.0];\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\nvarying float v_Miter;\\n\\nvarying vec2 v_Texcoord;\\n\\nvoid main()\\n{\\n gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);\\n#ifdef VERTEX_COLOR\\n gl_FragColor *= v_Color;\\n#endif\\n}\\n\\n@end\"},function(t,e,n){\"use strict\";var i=n(168),u=n(170),r=n(0),h=n.n(r),a=n(47),s=n.n(a),l=n(22),c=n(2);function d(e,t){var n=e.getBoxLayoutParams(),i=s.a.getLayoutRect(n,{width:t.getWidth(),height:t.getHeight()});i.y=t.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,t.getDevicePixelRatio());var r=e.get(\"boxWidth\"),a=e.get(\"boxHeight\"),o=e.get(\"boxDepth\");[\"x\",\"y\",\"z\"].forEach(function(t){if(!this.getAxis(t))throw new Error(\"Grid\"+e.id+\" don't have \"+t+\"Axis\")},this),this.getAxis(\"x\").setExtent(-r/2,r/2),this.getAxis(\"y\").setExtent(o/2,-o/2),this.getAxis(\"z\").setExtent(-a/2,a/2),this.size=[r,a,o]}function f(t,e){var l={};t.eachSeries(function(t){var r;t.coordinateSystem===this&&(r=t.getData(),[\"x\",\"y\",\"z\"].forEach(function(i){r.mapDimension(i,!0).forEach(function(t){var e,n;e=i,n=r.getDataExtent(t,!0),l[e]=l[e]||[1/0,-1/0],l[e][0]=Math.min(n[0],l[e][0]),l[e][1]=Math.max(n[1],l[e][1])})}))},this),[\"xAxis3D\",\"yAxis3D\",\"zAxis3D\"].forEach(function(s){t.eachComponent(s,function(t){var e,n,i,r=s.charAt(0),a=t.getReferringComponents(\"grid3D\")[0],o=a.coordinateSystem;o===this&&((n=o.getAxis(r))?console.warn(\"Can't have two %s in one grid3D\",s):(e=h.a.helper.createScale(l[r]||[1/0,-1/0],t),(n=new u.a(r,e)).type=t.get(\"type\"),i=\"category\"===n.type,n.onBand=i&&t.get(\"boundaryGap\"),n.inverse=t.get(\"inverse\"),(t.axis=n).model=t,n.getLabelModel=function(){return t.getModel(\"axisLabel\",a.getModel(\"axisLabel\"))},n.getTickModel=function(){return t.getModel(\"axisTick\",a.getModel(\"axisTick\"))},o.addAxis(n)))},this)},this),this.resize(this.model,e)}var o={dimensions:i.a.prototype.dimensions,create:function(o,t){var n=[];o.eachComponent(\"grid3D\",function(t){t.__viewGL=t.__viewGL||new l.a;var e=new i.a;e.model=t,e.viewGL=t.__viewGL,t.coordinateSystem=e,n.push(e),e.resize=d,e.update=f});var s=[\"xAxis3D\",\"yAxis3D\",\"zAxis3D\"];return o.eachSeries(function(t){var e,n,i,r,a;\"cartesian3D\"===t.get(\"coordinateSystem\")&&(null==(n=t.getReferringComponents(\"grid3D\")[0])&&(i=t,r=o,e=s.map(function(t){var e=i.getReferringComponents(t)[0];if(null==e&&(e=r.getComponent(t)),!e)throw new Error(t+' \"'+c.a.firstNotNull(i.get(t+\"Index\"),i.get(t+\"Id\"),0)+'\" not found');return e}),n=e[0].getCoordSysModel(),e.forEach(function(t){var e=t.getCoordSysModel();if(1,!e)throw new Error('grid3D \"'+c.a.firstNotNull(t.get(\"gridIndex\"),t.get(\"gridId\"),0)+'\" not found');if(e!==n)throw new Error(\"xAxis3D, yAxis3D, zAxis3D must use the same grid\")})),a=n.coordinateSystem,t.coordinateSystem=a)}),n}};h.a.registerCoordinateSystem(\"grid3D\",o)},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(169),o=n.n(a);function s(t){o.a.call(this,t),this.size=[0,0,0]}s.prototype={constructor:s,type:\"cartesian3D\",dimensions:[\"x\",\"y\",\"z\"],model:null,containPoint:function(t){return this.getAxis(\"x\").contain(t[0])&&this.getAxis(\"y\").contain(t[2])&&this.getAxis(\"z\").contain(t[1])},containData:function(t){return this.getAxis(\"x\").containData(t[0])&&this.getAxis(\"y\").containData(t[1])&&this.getAxis(\"z\").containData(t[2])},dataToPoint:function(t,e,n){return(e=e||[])[0]=this.getAxis(\"x\").dataToCoord(t[0],n),e[2]=this.getAxis(\"y\").dataToCoord(t[1],n),e[1]=this.getAxis(\"z\").dataToCoord(t[2],n),e},pointToData:function(t,e,n){return(e=e||[])[0]=this.getAxis(\"x\").coordToData(t[0],n),e[1]=this.getAxis(\"y\").coordToData(t[2],n),e[2]=this.getAxis(\"z\").coordToData(t[1],n),e}},r.a.util.inherits(s,o.a),e.a=s},function(t,e,n){var i=n(13);function r(t){return this._axes[t]}function a(t){this._axes={},this._dimList=[],this.name=t||\"\"}a.prototype={constructor:a,type:\"cartesian\",getAxis:function(t){return this._axes[t]},getAxes:function(){return i.map(this._dimList,r,this)},getAxesByScale:function(e){return e=e.toLowerCase(),i.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,\"dataToCoord\")},coordToData:function(t){return this._dataCoordConvert(t,\"coordToData\")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var a=n[r],o=this._axes[a];i[a]=o[e](t[a])}return i}};t.exports=a},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i);function a(t,e,n){r.a.Axis.call(this,t,e,n)}a.prototype={constructor:a,getExtentMin:function(){var t=this._extent;return Math.min(t[0],t[1])},getExtentMax:function(){var t=this._extent;return Math.max(t[0],t[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}},r.a.util.inherits(a,r.a.Axis),e.a=a},function(t,e,n){var h=n(13),i=n(172),d=n(85);var r=h.normalizeCssArray,a=/([&<>\"'])/g,o={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"};function c(t){return null==t?\"\":(t+\"\").replace(a,function(t,e){return o[e]})}function f(t,e){return\"{\"+t+(null==e?\"\":e)+\"}\"}var p=[\"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"g\"];function g(t,e){return\"0000\".substr(0,e-(t+=\"\").length)+t}var s=i.truncateText,l=i.getBoundingRect;e.addCommas=function(t){return isNaN(t)?\"-\":(t=(t+\"\").split(\".\"))[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g,\"$1,\")+(1<t.length?\".\"+t[1]:\"\")},e.toCamelCase=function(t,e){return t=(t||\"\").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t},e.normalizeCssArray=r,e.encodeHTML=c,e.formatTpl=function(t,e,n){h.isArray(e)||(e=[e]);var i=e.length;if(!i)return\"\";for(var r=e[0].$vars||[],a=0;a<r.length;a++){var o=p[a];t=t.replace(f(o),f(o,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];t=t.replace(f(p[l],s),n?c(u):u)}return t},e.formatTplSimple=function(n,t,i){return h.each(t,function(t,e){n=n.replace(\"{\"+e+\"}\",i?c(t):t)}),n},e.getTooltipMarker=function(t,e){var n=(t=h.isString(t)?{color:t,extraCssText:e}:t||{}).color,i=t.type,e=t.extraCssText;return n?\"subItem\"===i?'<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+c(n)+\";\"+(e||\"\")+'\"></span>':'<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+c(n)+\";\"+(e||\"\")+'\"></span>':\"\"},e.formatTime=function(t,e,n){\"week\"!==t&&\"month\"!==t&&\"quarter\"!==t&&\"half-year\"!==t&&\"year\"!==t||(t=\"MM-dd\\nyyyy\");var i=d.parseDate(e),r=n?\"UTC\":\"\",a=i[\"get\"+r+\"FullYear\"](),o=i[\"get\"+r+\"Month\"]()+1,s=i[\"get\"+r+\"Date\"](),l=i[\"get\"+r+\"Hours\"](),u=i[\"get\"+r+\"Minutes\"](),h=i[\"get\"+r+\"Seconds\"](),c=i[\"get\"+r+\"Milliseconds\"]();return t=t.replace(\"MM\",g(o,2)).replace(\"M\",o).replace(\"yyyy\",a).replace(\"yy\",a%100).replace(\"dd\",g(s,2)).replace(\"d\",s).replace(\"hh\",g(l,2)).replace(\"h\",l).replace(\"mm\",g(u,2)).replace(\"m\",u).replace(\"ss\",g(h,2)).replace(\"s\",h).replace(\"SSS\",g(c,3))},e.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},e.truncateText=s,e.getTextRect=l},function(t,e,n){var p=n(82),L=n(173),i=n(13),r=i.getContext,u=i.extend,P=i.retrieve2,N=i.retrieve3,a=i.trim,s={},l=0,h=5e3,O=/\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g,c=\"12px sans-serif\",o={};function R(t,e){var n=t+\":\"+(e=e||c);if(s[n])return s[n];for(var i=(t+\"\").split(\"\\n\"),r=0,a=0,o=i.length;a<o;a++)r=Math.max(d(i[a],e).width,r);return h<l&&(l=0,s={}),l++,s[n]=r}function g(t,e,n){return\"right\"===n?t-=e:\"center\"===n&&(t-=e/2),t}function m(t,e,n){return\"middle\"===n?t-=e/2:\"bottom\"===n&&(t-=e),t}function k(t,e,n,i,r){if(!e)return\"\";var a=(t+\"\").split(\"\\n\");r=f(e,n,i,r);for(var o=0,s=a.length;o<s;o++)a[o]=v(a[o],r);return a.join(\"\\n\")}function f(t,e,n,i){(i=u({},i)).font=e;n=P(n,\"...\");i.maxIterations=P(i.maxIterations,2);var r=i.minChar=P(i.minChar,0);i.cnCharWidth=R(\"国\",e);var a=i.ascCharWidth=R(\"a\",e);i.placeholder=P(i.placeholder,\"\");for(var o=t=Math.max(0,t-1),s=0;s<r&&a<=o;s++)o-=a;var l=R(n);return o<l&&(n=\"\",l=0),o=t-l,i.ellipsis=n,i.ellipsisWidth=l,i.contentWidth=o,i.containerWidth=t,i}function v(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return\"\";if((s=R(t,i))<=n)return t;for(var a=0;;a++){if(s<=r||a>=e.maxIterations){t+=e.ellipsis;break}var o=0===a?function(t,e,n,i){for(var r=0,a=0,o=t.length;a<o&&r<e;a++){var s=t.charCodeAt(a);r+=0<=s&&s<=127?n:i}return a}(t,r,e.ascCharWidth,e.cnCharWidth):0<s?Math.floor(t.length*r/s):0,s=R(t=t.substr(0,o),i)}return\"\"===t&&(t=e.placeholder),t}function z(t){return R(\"国\",t)}function d(t,e){return o.measureText(t,e)}function y(t,e,n,i){null!=t&&(t+=\"\");var r=z(e),a=t?t.split(\"\\n\"):[],o=a.length*r,s=o;if(n&&(s+=n[0]+n[2]),t&&i){var l=i.outerHeight,u=i.outerWidth;if(null!=l&&l<s)t=\"\",a=[];else if(null!=u)for(var h=f(u-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),c=0,d=a.length;c<d;c++)a[c]=v(a[c],h)}return{lines:a,height:o,outerHeight:s,lineHeight:r}}function _(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=\"\"),!t)return n;for(var i,r=O.lastIndex=0;null!=(i=O.exec(t));){var a=i.index;r<a&&B(n,t.substring(r,a)),B(n,i[2],i[1]),r=O.lastIndex}r<t.length&&B(n,t.substring(r,t.length));var o=n.lines,s=0,l=0,u=[],h=e.textPadding,c=e.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;h&&(null!=d&&(d-=h[1]+h[3]),null!=f&&(f-=h[0]+h[2]));for(var p=0;p<o.length;p++){for(var g=o[p],m=0,v=0,y=0;y<g.tokens.length;y++){var _=(D=g.tokens[y]).styleName&&e.rich[D.styleName]||{},x=D.textPadding=_.textPadding,b=D.font=_.font||e.font,w=D.textHeight=P(_.textHeight,z(b));if(x&&(w+=x[0]+x[2]),D.height=w,D.lineHeight=N(_.textLineHeight,e.textLineHeight,w),D.textAlign=_&&_.textAlign||e.textAlign,D.textVerticalAlign=_&&_.textVerticalAlign||\"middle\",null!=f&&s+D.lineHeight>f)return{lines:[],width:0,height:0};D.textWidth=R(D.text,b);var T,S,M,A,I=_.textWidth,C=null==I||\"auto\"===I;\"string\"==typeof I&&\"%\"===I.charAt(I.length-1)?(D.percentWidth=I,u.push(D),I=0):(C&&(I=D.textWidth,(S=(T=_.textBackgroundColor)&&T.image)&&(S=L.findExistImage(S),L.isImageReady(S)&&(I=Math.max(I,S.width*w/S.height)))),I+=M=x?x[1]+x[3]:0,null!=(A=null!=d?d-v:null)&&A<I&&(!C||A<M?(D.text=\"\",D.textWidth=I=0):(D.text=k(D.text,A-M,b,c.ellipsis,{minChar:c.minChar}),D.textWidth=R(D.text,b),I=D.textWidth+M))),v+=D.width=I,_&&(m=Math.max(m,D.lineHeight))}g.width=v,s+=g.lineHeight=m,l=Math.max(l,v)}n.outerWidth=n.width=P(e.textWidth,l),n.outerHeight=n.height=P(e.textHeight,s),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(p=0;p<u.length;p++){var D,E=(D=u[p]).percentWidth;D.width=parseInt(E,10)/100*l}return n}function B(t,e,n){for(var i=\"\"===e,r=e.split(\"\\n\"),a=t.lines,o=0;o<r.length;o++){var s,l,u=r[o],h={styleName:n,text:u,isLineHolder:!u&&!i};o?a.push({tokens:[h]}):1===(l=(s=(a[a.length-1]||(a[0]={tokens:[]})).tokens).length)&&s[0].isLineHolder?s[0]=h:!u&&l&&!i||s.push(h)}}o.measureText=function(t,e){var n=r();return n.font=e||c,n.measureText(t)},e.DEFAULT_FONT=c,e.$override=function(t,e){o[t]=e},e.getWidth=R,e.getBoundingRect=function(t,e,n,i,r,a,o){return a?(l=i,u=_(t,{rich:a,truncate:o,font:e,textAlign:s=n,textPadding:r}),h=u.outerWidth,c=u.outerHeight,d=g(0,h,s),f=m(0,c,l),new p(d,f,h,c)):function(t,e,n,i,r,a){var o=y(t,e,r,a),s=R(t,e);r&&(s+=r[1]+r[3]);var l=o.outerHeight,u=g(0,s,n),h=m(0,l,i),c=new p(u,h,s,l);return c.lineHeight=o.lineHeight,c}(t,e,n,i,r,o);var s,l,u,h,c,d,f},e.adjustTextX=g,e.adjustTextY=m,e.adjustTextPositionOnRect=function(t,e,n){var i=e.x,r=e.y,a=e.height,o=e.width,s=a/2,l=\"left\",u=\"top\";switch(t){case\"left\":i-=n,r+=s,l=\"right\",u=\"middle\";break;case\"right\":i+=n+o,r+=s,u=\"middle\";break;case\"top\":i+=o/2,r-=n,l=\"center\",u=\"bottom\";break;case\"bottom\":i+=o/2,r+=a+n,l=\"center\";break;case\"inside\":i+=o/2,r+=s,l=\"center\",u=\"middle\";break;case\"insideLeft\":i+=n,r+=s,u=\"middle\";break;case\"insideRight\":i+=o-n,r+=s,l=\"right\",u=\"middle\";break;case\"insideTop\":i+=o/2,r+=n,l=\"center\";break;case\"insideBottom\":i+=o/2,r+=a-n,l=\"center\",u=\"bottom\";break;case\"insideTopLeft\":i+=n,r+=n;break;case\"insideTopRight\":i+=o-n,r+=n,l=\"right\";break;case\"insideBottomLeft\":i+=n,r+=a-n,u=\"bottom\";break;case\"insideBottomRight\":i+=o-n,r+=a-n,l=\"right\",u=\"bottom\"}return{x:i,y:r,textAlign:l,textVerticalAlign:u}},e.truncateText=k,e.getLineHeight=z,e.measureText=d,e.parsePlainText=y,e.parseRichText=_,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+\"px\",t.fontFamily||\"sans-serif\"].join(\" \");return e&&a(e)||t.textFont||t.font}},function(t,e,n){var s=new(n(60))(50);function l(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function u(t){return t&&t.width&&t.height}e.findExistImage=function(t){if(\"string\"!=typeof t)return t;var e=s.get(t);return e&&e.image},e.createOrUpdateImage=function(t,e,n,i,r){if(t){if(\"string\"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!n)return e;var a=s.get(t),o={hostEl:n,cb:i,cbPayload:r};return a?u(e=a.image)||a.pending.push(o):((e=e||new Image).onload=l,s.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return e},e.isImageReady=u},function(t,e,n){\"use strict\";var i=n(7),a=n(11),y=n(3),_=n(18),r=n(59),P=n(9),N=n(52),o=n(8),s=n(19),l=n(10),u=n(4),h=n(5),c=n(27),O=n(41),d=n(37),f=n(16),p=n(86),R=n(21),g=n(175),x=[\"px\",\"nx\",\"py\",\"ny\",\"pz\",\"nz\"];function k(t,e,n){return\"alphaMap\"===n?t.material.get(\"diffuseMap\"):\"alphaCutoff\"!==n?e.get(n):t.material.isDefined(\"fragment\",\"ALPHA_TEST\")&&t.material.get(\"diffuseMap\")&&t.material.get(\"alphaCutoff\")||0}function z(t,e){var n=t.material,i=e.material;return n.get(\"diffuseMap\")!==i.get(\"diffuseMap\")||(n.get(\"alphaCutoff\")||0)!==(i.get(\"alphaCutoff\")||0)}o.a.import(g.a);var m,v,b,B,F,V,G,H,U,W,j=i.a.extend(function(){return{softShadow:j.PCF,shadowBlur:1,lightFrustumBias:\"auto\",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:\"highp\",_lastRenderNotCastShadow:!1,_frameBuffer:new l.a,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new p.a}},function(){this._gaussianPassH=new f.a({fragment:o.a.source(\"clay.compositor.gaussian_blur\")}),this._gaussianPassV=new f.a({fragment:o.a.source(\"clay.compositor.gaussian_blur\")}),this._gaussianPassH.setUniform(\"blurSize\",this.shadowBlur),this._gaussianPassH.setUniform(\"blurDir\",0),this._gaussianPassV.setUniform(\"blurSize\",this.shadowBlur),this._gaussianPassV.setUniform(\"blurDir\",1),this._outputDepthPass=new f.a({fragment:o.a.source(\"clay.sm.debug_depth\")})},{render:function(t,e,n,i){n=n||e.getMainCamera(),this.trigger(\"beforerender\",this,t,e,n),this._renderShadowPass(t,e,n,i),this.trigger(\"afterrender\",this,t,e,n)},renderDebug:function(t,e){t.saveClear();var n=t.viewport,i=0,r=e||n.width/4,a=r;for(var o in this.softShadow===j.VSM?this._outputDepthPass.material.define(\"fragment\",\"USE_VSM\"):this._outputDepthPass.material.undefine(\"fragment\",\"USE_VSM\"),this._textures){var s=this._textures[o];t.setViewport(i,0,r*s.width/s.height,a),this._outputDepthPass.setUniform(\"depthMap\",s),this._outputDepthPass.render(t),i+=r*s.width/s.height}t.setViewport(n),t.restoreClear()},_updateReceivers:function(t,e){var n;e.receiveShadow?(this._receivers.push(e),e.material.set(\"shadowEnabled\",1),e.material.set(\"pcfKernel\",this.kernelPCF)):e.material.set(\"shadowEnabled\",0),this.softShadow===j.VSM?(e.material.define(\"fragment\",\"USE_VSM\"),e.material.undefine(\"fragment\",\"PCF_KERNEL_SIZE\")):(e.material.undefine(\"fragment\",\"USE_VSM\"),(n=this.kernelPCF)&&n.length?e.material.define(\"fragment\",\"PCF_KERNEL_SIZE\",n.length/2):e.material.undefine(\"fragment\",\"PCF_KERNEL_SIZE\"))},_update:function(e,t){var n=this;t.traverse(function(t){t.isRenderable()&&n._updateReceivers(e,t)});for(var i=0;i<t.lights.length;i++){var r=t.lights[i];r.castShadow&&!r.invisible&&this._lightsCastShadow.push(r)}},_renderShadowPass:function(t,e,n,i){for(var r in this._shadowMapNumber)this._shadowMapNumber[r]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=t.gl;if(i||e.update(),n&&n.update(),e.updateLights(),this._update(t,e),this._lightsCastShadow.length||!this._lastRenderNotCastShadow){this._lastRenderNotCastShadow=0===this._lightsCastShadow,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var o,s=[],l=[],u=[],h=[],c=[],d=[],f=0;f<this._lightsCastShadow.length;f++){var p=this._lightsCastShadow[f];if(\"DIRECTIONAL_LIGHT\"===p.type){if(o){console.warn(\"Only one direectional light supported with shadow cascade\");continue}if(4<p.shadowCascade){console.warn(\"Support at most 4 cascade\");continue}1<p.shadowCascade&&(o=p),this.renderDirectionalLightShadow(t,e,n,p,c,h,u)}else\"SPOT_LIGHT\"===p.type?this.renderSpotLightShadow(t,e,p,l,s):\"POINT_LIGHT\"===p.type&&this.renderPointLightShadow(t,e,p,d);this._shadowMapNumber[p.type]++}for(var g in this._shadowMapNumber)for(var m=this._shadowMapNumber[g],v=g+\"_SHADOWMAP_COUNT\",f=0;f<this._receivers.length;f++){(y=this._receivers[f].material).fragmentDefines[v]!==m&&(0<m?y.define(\"fragment\",v,m):y.isDefined(\"fragment\",v)&&y.undefine(\"fragment\",v))}for(f=0;f<this._receivers.length;f++){var y=this._receivers[f].material;o?y.define(\"fragment\",\"SHADOW_CASCADE\",o.shadowCascade):y.undefine(\"fragment\",\"SHADOW_CASCADE\")}var _,x,b,w,T=e.shadowUniforms;0<u.length&&(_=u.map(S),T.directionalLightShadowMaps={value:u,type:\"tv\"},T.directionalLightMatrices={value:h,type:\"m4v\"},T.directionalLightShadowMapSizes={value:_,type:\"1fv\"},o&&(x=c.slice(),b=c.slice(),x.pop(),b.shift(),x.reverse(),b.reverse(),h.reverse(),T.shadowCascadeClipsNear={value:x,type:\"1fv\"},T.shadowCascadeClipsFar={value:b,type:\"1fv\"})),0<s.length&&(w=s.map(S),(T=e.shadowUniforms).spotLightShadowMaps={value:s,type:\"tv\"},T.spotLightMatrices={value:l,type:\"m4v\"},T.spotLightShadowMapSizes={value:w,type:\"1fv\"}),0<d.length&&(T.pointLightShadowMaps={value:d,type:\"tv\"})}function S(t){return t.height}},renderDirectionalLightShadow:(B=new r.a,F=new P.a,V=new _.a,G=new P.a,H=new P.a,U=new P.a,W=new P.a,function(t,e,n,i,r,a,o){var s,l=this._getDepthMaterial(i),u={getMaterial:function(t){return t.shadowDepthMaterial||l},isMaterialChanged:z,getUniform:k,ifRender:function(t){return t.castShadow},sortCompare:N.a.opaqueSortCompare};e.viewBoundingBoxLastFrame.isFinite()||(s=e.getBoundingBox(),e.viewBoundingBoxLastFrame.copy(s).applyTransform(n.viewMatrix));var h=Math.min(-e.viewBoundingBoxLastFrame.min.z,n.far),c=Math.max(-e.viewBoundingBoxLastFrame.max.z,n.near),d=this._getDirectionalLightCamera(i,e,n),f=U.array;W.copy(d.projectionMatrix),R.a.invert(H.array,d.worldTransform.array),R.a.multiply(H.array,H.array,n.worldTransform.array),R.a.multiply(f,W.array,H.array);for(var p=[],g=n instanceof O.a,m=(n.near+n.far)/(n.near-n.far),v=2*n.near*n.far/(n.near-n.far),y=0;y<=i.shadowCascade;y++){var _=c*Math.pow(h/c,y/i.shadowCascade),x=c+(h-c)*y/i.shadowCascade,b=_*i.cascadeSplitLogFactor+x*(1-i.cascadeSplitLogFactor);p.push(b),r.push(-(-b*m+v)/-b)}var w=this._getTexture(i,i.shadowCascade);o.push(w);var T=t.viewport,S=t.gl;for(this._frameBuffer.attach(w),this._frameBuffer.bind(t),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),y=0;y<i.shadowCascade;y++){var M=p[y],A=p[y+1];g?R.a.perspective(F.array,n.fov/180*Math.PI,n.aspect,M,A):R.a.ortho(F.array,n.left,n.right,n.bottom,n.top,M,A),B.setFromProjection(F),B.getTransformedBoundingBox(V,H),V.applyProjection(W);var I=V.min.array,C=V.max.array;I[0]=Math.max(I[0],-1),I[1]=Math.max(I[1],-1),C[0]=Math.min(C[0],1),C[1]=Math.min(C[1],1),G.ortho(I[0],C[0],I[1],C[1],1,-1),d.projectionMatrix.multiplyLeft(G);var D=i.shadowResolution||512;t.setViewport((i.shadowCascade-y-1)*D,0,D,D,1);var E=e.updateRenderList(d);t.renderPass(E.opaque,d,u),this.softShadow===j.VSM&&this._gaussianFilter(t,w,w.width);var L=new P.a;L.copy(d.viewMatrix).multiplyLeft(d.projectionMatrix),a.push(L.array),d.projectionMatrix.copy(W)}this._frameBuffer.unbind(t),t.setViewport(T)}),renderSpotLightShadow:function(t,e,n,i,r){var a=this._getTexture(n),o=this._getSpotLightCamera(n),s=t.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(t),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);var l=this._getDepthMaterial(n),u={getMaterial:function(t){return t.shadowDepthMaterial||l},isMaterialChanged:z,getUniform:k,ifRender:function(t){return t.castShadow},sortCompare:N.a.opaqueSortCompare},h=e.updateRenderList(o);t.renderPass(h.opaque,o,u),this._frameBuffer.unbind(t),this.softShadow===j.VSM&&this._gaussianFilter(t,a,a.width);var c=new P.a;c.copy(o.worldTransform).invert().multiplyLeft(o.projectionMatrix),r.push(a),i.push(c.array)},renderPointLightShadow:function(t,e,n,i){var r=this._getTexture(n),a=t.gl;i.push(r);var o=this._getDepthMaterial(n),s={getMaterial:function(t){return t.shadowDepthMaterial||o},getUniform:k,sortCompare:N.a.opaqueSortCompare},h={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},c=new _.a,d=n.getWorldPosition().array,f=new _.a,l=n.range;f.min.setArray(d),f.max.setArray(d);var u=new y.a(l,l,l);f.max.add(u),f.min.sub(u);var p={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};e.traverse(function(t){if(t.isRenderable()&&t.castShadow){var e=t.geometry;if(!e.boundingBox){for(var n=0;n<x.length;n++)h[x[n]].push(t);return}if(c.transformFrom(e.boundingBox,t.worldTransform),!c.intersectBoundingBox(f))return;c.updateVertices();for(n=0;n<x.length;n++)p[x[n]]=!1;for(n=0;n<8;n++){var i=c.vertices[n],r=i[0]-d[0],a=i[1]-d[1],o=i[2]-d[2],s=Math.abs(r),l=Math.abs(a),u=Math.abs(o);l<s?u<s?p[0<r?\"px\":\"nx\"]=!0:p[0<o?\"pz\":\"nz\"]=!0:u<l?p[0<a?\"py\":\"ny\"]=!0:p[0<o?\"pz\":\"nz\"]=!0}for(n=0;n<x.length;n++)p[x[n]]&&h[x[n]].push(t)}});for(var g=0;g<6;g++){var m=x[g],v=this._getPointLightCamera(n,m);this._frameBuffer.attach(r,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+g),this._frameBuffer.bind(t),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),t.renderPass(h[m],v,s)}this._frameBuffer.unbind(t)},_getDepthMaterial:function(t){var e,n=this._lightMaterials[t.__uid__],i=\"POINT_LIGHT\"===t.type;return n||(e=i?\"clay.sm.distance.\":\"clay.sm.depth.\",n=new s.a({precision:this.precision,shader:new o.a(o.a.source(e+\"vertex\"),o.a.source(e+\"fragment\"))}),this._lightMaterials[t.__uid__]=n),null!=t.shadowSlopeScale&&n.setUniform(\"slopeScale\",t.shadowSlopeScale),null!=t.shadowBias&&n.setUniform(\"bias\",t.shadowBias),this.softShadow===j.VSM?n.define(\"fragment\",\"USE_VSM\"):n.undefine(\"fragment\",\"USE_VSM\"),i&&(n.set(\"lightPosition\",t.getWorldPosition().array),n.set(\"range\",t.range)),n},_gaussianFilter:function(t,e,n){var i={width:n,height:n,type:u.a.FLOAT},r=this._texturePool.get(i);this._frameBuffer.attach(r),this._frameBuffer.bind(t),this._gaussianPassH.setUniform(\"texture\",e),this._gaussianPassH.setUniform(\"textureWidth\",n),this._gaussianPassH.render(t),this._frameBuffer.attach(e),this._gaussianPassV.setUniform(\"texture\",r),this._gaussianPassV.setUniform(\"textureHeight\",n),this._gaussianPassV.render(t),this._frameBuffer.unbind(t),this._texturePool.put(r)},_getTexture:function(t,e){var n=t.__uid__,i=this._textures[n],r=t.shadowResolution||512;return e=e||1,i||((i=\"POINT_LIGHT\"===t.type?new c.a:new h.a).width=r*e,i.height=r,this.softShadow===j.VSM?(i.type=u.a.FLOAT,i.anisotropic=4):(i.minFilter=a.a.NEAREST,i.magFilter=a.a.NEAREST,i.useMipmap=!1),this._textures[n]=i),i},_getPointLightCamera:function(t,e){this._lightCameras.point||(this._lightCameras.point={px:new O.a,nx:new O.a,py:new O.a,ny:new O.a,pz:new O.a,nz:new O.a});var n=this._lightCameras.point[e];switch(n.far=t.range,n.fov=90,n.position.set(0,0,0),e){case\"px\":n.lookAt(y.a.POSITIVE_X,y.a.NEGATIVE_Y);break;case\"nx\":n.lookAt(y.a.NEGATIVE_X,y.a.NEGATIVE_Y);break;case\"py\":n.lookAt(y.a.POSITIVE_Y,y.a.POSITIVE_Z);break;case\"ny\":n.lookAt(y.a.NEGATIVE_Y,y.a.NEGATIVE_Z);break;case\"pz\":n.lookAt(y.a.POSITIVE_Z,y.a.NEGATIVE_Y);break;case\"nz\":n.lookAt(y.a.NEGATIVE_Z,y.a.NEGATIVE_Y)}return t.getWorldPosition(n.position),n.update(),n},_getDirectionalLightCamera:(m=new P.a,v=new _.a,b=new _.a,function(t,e,n){this._lightCameras.directional||(this._lightCameras.directional=new d.a);var i=this._lightCameras.directional;v.copy(e.viewBoundingBoxLastFrame),v.intersection(n.frustum.boundingBox),i.position.copy(v.min).add(v.max).scale(.5).transformMat4(n.worldTransform),i.rotation.copy(t.rotation),i.scale.copy(t.scale),i.updateWorldTransform(),P.a.invert(m,i.worldTransform),P.a.multiply(m,m,n.worldTransform),b.copy(v).applyTransform(m);var r=b.min.array,a=b.max.array;return i.position.set((r[0]+a[0])/2,(r[1]+a[1])/2,a[2]).transformMat4(i.worldTransform),i.near=0,i.far=-r[2]+a[2],isNaN(this.lightFrustumBias)?i.far*=4:i.far+=this.lightFrustumBias,i.left=r[0],i.right=a[0],i.top=a[1],i.bottom=r[1],i.update(!0),i}),_getSpotLightCamera:function(t){this._lightCameras.spot||(this._lightCameras.spot=new O.a);var e=this._lightCameras.spot;return e.fov=2*t.penumbraAngle,e.far=t.range,e.worldTransform.copy(t.worldTransform),e.updateProjectionMatrix(),R.a.invert(e.viewMatrix.array,e.worldTransform.array),e},dispose:function(t){var e=t.gl||t;for(var n in this._frameBuffer&&this._frameBuffer.dispose(e),this._textures)this._textures[n].dispose(e);this._texturePool.clear(t.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var i=0;i<this._receivers.length;i++){var r,a=this._receivers[i];a.material&&((r=a.material).undefine(\"fragment\",\"POINT_LIGHT_SHADOW_COUNT\"),r.undefine(\"fragment\",\"DIRECTIONAL_LIGHT_SHADOW_COUNT\"),r.undefine(\"fragment\",\"AMBIENT_LIGHT_SHADOW_COUNT\"),r.set(\"shadowEnabled\",0))}this._receivers=[],this._lightsCastShadow=[]}});j.VSM=1,j.PCF=2,e.a=j},function(t,e,n){\"use strict\";e.a=\"@export clay.sm.depth.vertex\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nattribute vec3 position : POSITION;\\nattribute vec2 texcoord : TEXCOORD_0;\\n@import clay.chunk.skinning_header\\nvarying vec4 v_ViewPosition;\\nvarying vec2 v_Texcoord;\\nvoid main(){\\n vec3 skinnedPosition = position;\\n#ifdef SKINNING\\n @import clay.chunk.skin_matrix\\n skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\\n#endif\\n v_ViewPosition = worldViewProjection * vec4(skinnedPosition, 1.0);\\n gl_Position = v_ViewPosition;\\n v_Texcoord = texcoord;\\n}\\n@end\\n@export clay.sm.depth.fragment\\nvarying vec4 v_ViewPosition;\\nvarying vec2 v_Texcoord;\\nuniform float bias : 0.001;\\nuniform float slopeScale : 1.0;\\nuniform sampler2D alphaMap;\\nuniform float alphaCutoff: 0.0;\\n@import clay.util.encode_float\\nvoid main(){\\n float depth = v_ViewPosition.z / v_ViewPosition.w;\\n if (alphaCutoff > 0.0) {\\n if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {\\n discard;\\n }\\n }\\n#ifdef USE_VSM\\n depth = depth * 0.5 + 0.5;\\n float moment1 = depth;\\n float moment2 = depth * depth;\\n float dx = dFdx(depth);\\n float dy = dFdy(depth);\\n moment2 += 0.25*(dx*dx+dy*dy);\\n gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);\\n#else\\n float dx = dFdx(depth);\\n float dy = dFdy(depth);\\n depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;\\n gl_FragColor = encodeFloat(depth * 0.5 + 0.5);\\n#endif\\n}\\n@end\\n@export clay.sm.debug_depth\\nuniform sampler2D depthMap;\\nvarying vec2 v_Texcoord;\\n@import clay.util.decode_float\\nvoid main() {\\n vec4 tex = texture2D(depthMap, v_Texcoord);\\n#ifdef USE_VSM\\n gl_FragColor = vec4(tex.rgb, 1.0);\\n#else\\n float depth = decodeFloat(tex);\\n gl_FragColor = vec4(depth, depth, depth, 1.0);\\n#endif\\n}\\n@end\\n@export clay.sm.distance.vertex\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform mat4 world : WORLD;\\nattribute vec3 position : POSITION;\\n@import clay.chunk.skinning_header\\nvarying vec3 v_WorldPosition;\\nvoid main (){\\n vec3 skinnedPosition = position;\\n#ifdef SKINNING\\n @import clay.chunk.skin_matrix\\n skinnedPosition = (skinMatrixWS * vec4(position, 1.0)).xyz;\\n#endif\\n gl_Position = worldViewProjection * vec4(skinnedPosition , 1.0);\\n v_WorldPosition = (world * vec4(skinnedPosition, 1.0)).xyz;\\n}\\n@end\\n@export clay.sm.distance.fragment\\nuniform vec3 lightPosition;\\nuniform float range : 100;\\nvarying vec3 v_WorldPosition;\\n@import clay.util.encode_float\\nvoid main(){\\n float dist = distance(lightPosition, v_WorldPosition);\\n#ifdef USE_VSM\\n gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);\\n#else\\n dist = dist / range;\\n gl_FragColor = encodeFloat(dist);\\n#endif\\n}\\n@end\\n@export clay.plugin.shadow_map_common\\n@import clay.util.decode_float\\nfloat tapShadowMap(sampler2D map, vec2 uv, float z){\\n vec4 tex = texture2D(map, uv);\\n return step(z, decodeFloat(tex) * 2.0 - 1.0);\\n}\\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {\\n float shadowContrib = tapShadowMap(map, uv, z);\\n vec2 offset = vec2(1.0 / textureSize) * scale;\\n#ifdef PCF_KERNEL_SIZE\\n for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{\\n shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);\\n }}\\n return shadowContrib / float(PCF_KERNEL_SIZE + 1);\\n#else\\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);\\n shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);\\n return shadowContrib / 9.0;\\n#endif\\n}\\nfloat pcf(sampler2D map, vec2 uv, float z, float textureSize) {\\n return pcf(map, uv, z, textureSize, vec2(1.0));\\n}\\nfloat chebyshevUpperBound(vec2 moments, float z){\\n float p = 0.0;\\n z = z * 0.5 + 0.5;\\n if (z <= moments.x) {\\n p = 1.0;\\n }\\n float variance = moments.y - moments.x * moments.x;\\n variance = max(variance, 0.0000001);\\n float mD = moments.x - z;\\n float pMax = variance / (variance + mD * mD);\\n pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);\\n return max(p, pMax);\\n}\\nfloat computeShadowContrib(\\n sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset\\n) {\\n vec4 posInLightSpace = lightVPM * vec4(position, 1.0);\\n posInLightSpace.xyz /= posInLightSpace.w;\\n float z = posInLightSpace.z;\\n if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&\\n all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){\\n vec2 uv = (posInLightSpace.xy+1.0) / 2.0;\\n #ifdef USE_VSM\\n vec2 moments = texture2D(map, uv * scale + offset).xy;\\n return chebyshevUpperBound(moments, z);\\n #else\\n return pcf(map, uv * scale + offset, z, textureSize, scale);\\n #endif\\n }\\n return 1.0;\\n}\\nfloat computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {\\n return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));\\n}\\nfloat computeShadowContribOmni(samplerCube map, vec3 direction, float range)\\n{\\n float dist = length(direction);\\n vec4 shadowTex = textureCube(map, direction);\\n#ifdef USE_VSM\\n vec2 moments = shadowTex.xy;\\n float variance = moments.y - moments.x * moments.x;\\n float mD = moments.x - dist;\\n float p = variance / (variance + mD * mD);\\n if(moments.x + 0.001 < dist){\\n return clamp(p, 0.0, 1.0);\\n }else{\\n return 1.0;\\n }\\n#else\\n return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);\\n#endif\\n}\\n@end\\n@export clay.plugin.compute_shadow_map\\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)\\n#ifdef SPOT_LIGHT_SHADOWMAP_COUNT\\nuniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\nuniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\nuniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\n#endif\\n#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT\\n#if defined(SHADOW_CASCADE)\\nuniform sampler2D directionalLightShadowMaps[1]:unconfigurable;\\nuniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;\\nuniform float directionalLightShadowMapSizes[1]:unconfigurable;\\nuniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;\\nuniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;\\n#else\\nuniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\nuniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\nuniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\n#endif\\n#endif\\n#ifdef POINT_LIGHT_SHADOWMAP_COUNT\\nuniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;\\n#endif\\nuniform bool shadowEnabled : true;\\n#ifdef PCF_KERNEL_SIZE\\nuniform vec2 pcfKernel[PCF_KERNEL_SIZE];\\n#endif\\n@import clay.plugin.shadow_map_common\\n#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)\\nvoid computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {\\n float shadowContrib;\\n for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\\n shadowContrib = computeShadowContrib(\\n spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,\\n spotLightShadowMapSizes[_idx_]\\n );\\n shadowContribs[_idx_] = shadowContrib;\\n }}\\n for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{\\n shadowContribs[_idx_] = 1.0;\\n }}\\n}\\n#endif\\n#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)\\n#ifdef SHADOW_CASCADE\\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\\n float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)\\n / (gl_DepthRange.far - gl_DepthRange.near);\\n float shadowContrib;\\n shadowContribs[0] = 1.0;\\n for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{\\n if (\\n depth >= shadowCascadeClipsNear[_idx_] &&\\n depth <= shadowCascadeClipsFar[_idx_]\\n ) {\\n shadowContrib = computeShadowContrib(\\n directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,\\n directionalLightShadowMapSizes[0],\\n vec2(1.0 / float(SHADOW_CASCADE), 1.0),\\n vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)\\n );\\n shadowContribs[0] = shadowContrib;\\n }\\n }}\\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\\n shadowContribs[_idx_] = 1.0;\\n }}\\n}\\n#else\\nvoid computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){\\n float shadowContrib;\\n for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\\n shadowContrib = computeShadowContrib(\\n directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,\\n directionalLightShadowMapSizes[_idx_]\\n );\\n shadowContribs[_idx_] = shadowContrib;\\n }}\\n for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{\\n shadowContribs[_idx_] = 1.0;\\n }}\\n}\\n#endif\\n#endif\\n#if defined(POINT_LIGHT_SHADOWMAP_COUNT)\\nvoid computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){\\n vec3 lightPosition;\\n vec3 direction;\\n for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{\\n lightPosition = pointLightPosition[_idx_];\\n direction = position - lightPosition;\\n shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);\\n }}\\n for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{\\n shadowContribs[_idx_] = 1.0;\\n }}\\n}\\n#endif\\n#endif\\n@end\"},function(t,e,n){\"use strict\";var i=n(8),r=n(5),a=n(4),o=n(10),s=n(177),l=n(189),u=n(191),c=n(193),h=n(1),d=n(194),f=n(196),p=(n(9),n(197)),g=n(87),m=n(88),v=n(89),y=n(90),_=n(91),x=n(92),b=n(93),w=n(94),T=n(95),S=n(198),M=n(199);i.a.import(g.a),i.a.import(m.a),i.a.import(v.a),i.a.import(y.a),i.a.import(_.a),i.a.import(x.a),i.a.import(b.a),i.a.import(w.a),i.a.import(T.a),i.a.import(S.a),i.a.import(M.a);var A={color:{parameters:{width:function(t){return t.getWidth()},height:function(t){return t.getHeight()}}}},I=[\"composite\",\"FXAA\"];function C(){this._sourceTexture=new r.a({type:a.a.HALF_FLOAT}),this._depthTexture=new r.a({format:a.a.DEPTH_COMPONENT,type:a.a.UNSIGNED_INT}),this._framebuffer=new o.a,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,o.a.DEPTH_ATTACHMENT),this._normalPass=new d.a,this._compositor=Object(s.a)(p.a);var t=this._compositor.getNodeByName(\"source\");t.texture=this._sourceTexture;var e=this._compositor.getNodeByName(\"coc\");this._sourceNode=t,this._cocNode=e,this._compositeNode=this._compositor.getNodeByName(\"composite\"),this._fxaaNode=this._compositor.getNodeByName(\"FXAA\"),this._dofBlurNodes=[\"dof_far_blur\",\"dof_near_blur\",\"dof_coc_blur\"].map(function(t){return this._compositor.getNodeByName(t)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=I.map(function(t){return this._compositor.getNodeByName(t)},this);var n={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new l.a(n),this._ssrPass=new u.a(n),this._edgePass=new f.a(n)}C.prototype.resize=function(t,e,n){var t=t*(n=n||1),e=e*n,i=this._sourceTexture,r=this._depthTexture;i.width=t,i.height=e,r.width=t,r.height=e},C.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR},C.prototype._getPrevNode=function(t){for(var e=I.indexOf(t.name)-1,n=this._finalNodesChain[e];n&&!this._compositor.getNodeByName(n.name);)--e,n=this._finalNodesChain[e];return n},C.prototype._getNextNode=function(t){for(var e=I.indexOf(t.name)+1,n=this._finalNodesChain[e];n&&!this._compositor.getNodeByName(n.name);)e+=1,n=this._finalNodesChain[e];return n},C.prototype._addChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(e.outputs=A,t.inputs.texture=e.name,n?(t.outputs=A,n.inputs.texture=t.name):t.outputs=null,this._compositor.addNode(t))},C.prototype._removeChainNode=function(t){var e=this._getPrevNode(t),n=this._getNextNode(t);e&&(n?(e.outputs=A,n.inputs.texture=e.name):e.outputs=null,this._compositor.removeNode(t))},C.prototype.updateNormal=function(t,e,n,i){this._ifRenderNormalPass()&&this._normalPass.update(t,e,n)},C.prototype.updateSSAO=function(t,e,n,i){this._ssaoPass.update(t,n,i)},C.prototype.enableSSAO=function(){this._enableSSAO=!0},C.prototype.disableSSAO=function(){this._enableSSAO=!1},C.prototype.enableSSR=function(){this._enableSSR=!0},C.prototype.disableSSR=function(){this._enableSSR=!1},C.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()},C.prototype.getSourceFrameBuffer=function(){return this._framebuffer},C.prototype.getSourceTexture=function(){return this._sourceTexture},C.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)},C.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)},C.prototype.enableBloom=function(){this._compositeNode.inputs.bloom=\"bloom_composite\",this._compositor.dirty()},C.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()},C.prototype.enableDOF=function(){this._compositeNode.inputs.texture=\"dof_composite\",this._compositor.dirty()},C.prototype.disableDOF=function(){this._compositeNode.inputs.texture=\"source\",this._compositor.dirty()},C.prototype.enableColorCorrection=function(){this._compositeNode.define(\"COLOR_CORRECTION\"),this._enableColorCorrection=!0},C.prototype.disableColorCorrection=function(){this._compositeNode.undefine(\"COLOR_CORRECTION\"),this._enableColorCorrection=!1},C.prototype.enableEdge=function(){this._enableEdge=!0},C.prototype.disableEdge=function(){this._enableEdge=!1},C.prototype.setBloomIntensity=function(t){this._compositeNode.setParameter(\"bloomIntensity\",t)},C.prototype.setSSAOParameter=function(t,e){switch(t){case\"quality\":var n={low:6,medium:12,high:32,ultra:62}[e]||12;this._ssaoPass.setParameter(\"kernelSize\",n);break;case\"radius\":this._ssaoPass.setParameter(t,e),this._ssaoPass.setParameter(\"bias\",e/200);break;case\"intensity\":this._ssaoPass.setParameter(t,e);break;default:console.warn(\"Unkown SSAO parameter \"+t)}},C.prototype.setDOFParameter=function(t,e){switch(t){case\"focalDistance\":case\"focalRange\":case\"fstop\":this._cocNode.setParameter(t,e);break;case\"blurRadius\":for(var n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].setParameter(\"blurRadius\",e);break;case\"quality\":var i={low:4,medium:8,high:16,ultra:32}[e]||8;this._dofBlurKernelSize=i;for(n=0;n<this._dofBlurNodes.length;n++)this._dofBlurNodes[n].pass.material.define(\"POISSON_KERNEL_SIZE\",i);this._dofBlurKernel=new Float32Array(2*i);break;default:console.warn(\"Unkown DOF parameter \"+t)}},C.prototype.setSSRParameter=function(t,e){if(null!=e)switch(t){case\"quality\":var n={low:10,medium:15,high:30,ultra:80}[e]||20,i={low:32,medium:16,high:8,ultra:4}[e]||16;this._ssrPass.setParameter(\"maxIteration\",n),this._ssrPass.setParameter(\"pixelStride\",i);break;case\"maxRoughness\":this._ssrPass.setParameter(\"minGlossiness\",Math.max(Math.min(1-e,1),0));break;case\"physical\":this.setPhysicallyCorrectSSR(e);break;default:console.warn(\"Unkown SSR parameter \"+t)}},C.prototype.setPhysicallyCorrectSSR=function(t){this._ssrPass.setPhysicallyCorrect(t)},C.prototype.setEdgeColor=function(t){var e=h.a.parseColor(t);this._edgePass.setParameter(\"edgeColor\",e)},C.prototype.setExposure=function(t){this._compositeNode.setParameter(\"exposure\",Math.pow(2,t))},C.prototype.setColorLookupTexture=function(t,e){this._compositeNode.pass.material.setTextureImage(\"lut\",this._enableColorCorrection?t:\"none\",e,{minFilter:h.a.Texture.NEAREST,magFilter:h.a.Texture.NEAREST,flipY:!1})},C.prototype.setColorCorrection=function(t,e){this._compositeNode.setParameter(t,e)},C.prototype.isSSREnabled=function(){return this._enableSSR},C.prototype.composite=function(t,e,n,i,r){var a=this._sourceTexture,o=a;this._enableEdge&&(this._edgePass.update(t,n,a,r),a=o=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(t,n,a,r),o=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=o,this._cocNode.setParameter(\"depth\",this._depthTexture);for(var s=this._dofBlurKernel,l=this._dofBlurKernelSize,u=r%Math.floor(c.a.length/2/l),h=0;h<2*l;h++)s[h]=c.a[h+u*l*2];for(h=0;h<this._dofBlurNodes.length;h++)this._dofBlurNodes[h].setParameter(\"percent\",r/30),this._dofBlurNodes[h].setParameter(\"poissonKernel\",s);this._cocNode.setParameter(\"zNear\",n.near),this._cocNode.setParameter(\"zFar\",n.far),this._compositor.render(t,i)},C.prototype.dispose=function(t){this._sourceTexture.dispose(t),this._depthTexture.dispose(t),this._framebuffer.dispose(t),this._compositor.dispose(t),this._normalPass.dispose(t),this._ssaoPass.dispose(t)},e.a=C},function(t,e,n){\"use strict\";var i=n(178);e.a=i.a},function(t,e,n){\"use strict\";var h=n(23),i=n(179),f=n(181),p=n(182),g=n(183),m=n(8),r=n(4),c=n(5),d=n(27),a=n(184);Object(a.a)(m.a);var v=/^#source\\((.*?)\\)/;function s(t,e){return t}function l(t,e){return e}function y(n){var i={};if(!n)return i;[\"type\",\"minFilter\",\"magFilter\",\"wrapS\",\"wrapT\",\"flipY\",\"useMipmap\"].forEach(function(t){var e=n[t];null!=e&&(\"string\"==typeof e&&(e=r.a[e]),i[t]=e)});var o=n.scale||1;return[\"width\",\"height\"].forEach(function(t){var e,r,a;null!=n[t]&&(\"string\"==typeof(e=n[t])?(e=e.trim(),i[t]=(r=_(e),a=(a=o)||1,function(t){var e=t.getDevicePixelRatio(),n=t.getWidth()*a,i=t.getHeight()*a;return r(n,i,e)})):i[t]=e)}),i.width||(i.width=s),i.height||(i.height=l),null!=n.useMipmap&&(i.useMipmap=n.useMipmap),i}function _(t){var e=/^expr\\((.*)\\)$/.exec(t);if(e)try{var n=new Function(\"width\",\"height\",\"dpr\",\"return \"+e[1]);return n(1,1),n}catch(t){throw new Error(\"Invalid expression.\")}}e.a=function(r,a){var o=new i.a;function e(t,e){for(var n=0;n<r.nodes.length;n++){var i=function(t,e,n){var i,r,a,o,s=t.type||\"filter\";if(\"filter\"===s){var l=t.shader.trim(),u=v.exec(l);if(u?i=m.a.source(u[1].trim()):\"#\"===l.charAt(0)&&(i=e.shaders[l.substr(1)]),!(i=i||l))return}if(t.inputs)for(var h in r={},t.inputs)\"string\"==typeof t.inputs[h]?r[h]=t.inputs[h]:r[h]={node:t.inputs[h].node,pin:t.inputs[h].pin};if(t.outputs)for(var h in a={},t.outputs){var c=t.outputs[h];a[h]={},null!=c.attachment&&(a[h].attachment=c.attachment),null!=c.keepLastFrame&&(a[h].keepLastFrame=c.keepLastFrame),null!=c.outputLastFrame&&(a[h].outputLastFrame=c.outputLastFrame),c.parameters&&(a[h].parameters=y(c.parameters))}o=\"scene\"===s?new f.a({name:t.name,scene:n.scene,camera:n.camera,outputs:a}):\"texture\"===s?new p.a({name:t.name,outputs:a}):new g.a({name:t.name,shader:i,inputs:r,outputs:a});if(o){if(t.parameters)for(var h in t.parameters){\"string\"==typeof(d=t.parameters[h])&&(\"#\"===(d=d.trim()).charAt(0)?d=e.textures[d.substr(1)]:o.on(\"beforerender\",function(a,o){return function(t){var e=t.getDevicePixelRatio(),n=t.getWidth(),i=t.getHeight(),r=o(n,i,e);this.setParameter(a,r)}}(h,_(d)))),o.setParameter(h,d)}if(t.defines&&o.pass)for(var h in t.defines){var d=t.defines[h];o.pass.material.define(\"fragment\",h,d)}}return o}(r.nodes[n],s,a);i&&o.addNode(i)}}a=a||{};var s={textures:{},parameters:{}};for(var t in r.parameters){var n=r.parameters[t];s.parameters[t]=y(n)}return function(t,e,a){if(!t.textures)return a({});var o={},s=0,l=!1,u=e.textureRootPath;h.a.each(t.textures,function(t,e){var n,i=t.path,r=y(t.parameters);if(Array.isArray(i)&&6===i.length)u&&(i=i.map(function(t){return h.a.relative2absolute(t,u)})),n=new d.a(r);else{if(\"string\"!=typeof i)return;u&&(i=h.a.relative2absolute(i,u)),n=new c.a(r)}n.load(i),s++,n.once(\"success\",function(){o[e]=n,0===--s&&(a(o),l=!0)})}),0!==s||l||a(o)}(r,a,function(t){s.textures=t,e()}),o}},function(t,e,n){\"use strict\";var i=n(180),r=n(86),a=n(10),o=i.a.extend(function(){return{_outputs:[],_texturePool:new r.a,_frameBuffer:new a.a({depthBuffer:!1})}},{addNode:function(t){i.a.prototype.addNode.call(this,t),t._compositor=this},render:function(t,e){if(this._dirty){this.update(),this._dirty=!1;for(var n=this._outputs.length=0;n<this.nodes.length;n++)this.nodes[n].outputs||this._outputs.push(this.nodes[n])}for(n=0;n<this.nodes.length;n++)this.nodes[n].beforeFrame();for(n=0;n<this._outputs.length;n++)this._outputs[n].updateReference();for(n=0;n<this._outputs.length;n++)this._outputs[n].render(t,e);for(n=0;n<this.nodes.length;n++)this.nodes[n].afterFrame()},allocateTexture:function(t){return this._texturePool.get(t)},releaseTexture:function(t){this._texturePool.put(t)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(t){this._texturePool.clear(t)}});e.a=o},function(t,e,n){\"use strict\";var i=n(7),a=n(48),r=i.a.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(t){0<=this.nodes.indexOf(t)||(this.nodes.push(t),this._dirty=!0)},removeNode:function(t){\"string\"==typeof t&&(t=this.getNodeByName(t));var e=this.nodes.indexOf(t);0<=e&&(this.nodes.splice(e,1),this._dirty=!0)},getNodeByName:function(t){for(var e=0;e<this.nodes.length;e++)if(this.nodes[e].name===t)return this.nodes[e]},update:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear();for(t=0;t<this.nodes.length;t++){var e,n,i=this.nodes[t];if(i.inputs)for(var r in i.inputs){i.inputs[r]&&(!i.pass||i.pass.material.isUniformEnabled(r)?(e=i.inputs[r],(n=this.findPin(e))?i.link(r,n.node,n.pin):\"string\"==typeof e?console.warn(\"Node \"+e+\" not exist\"):console.warn(\"Pin of \"+e.node+\".\"+e.pin+\" not exist\")):console.warn(\"Pin \"+i.name+\".\"+r+\" not used.\"))}}},findPin:function(t){var e;if((\"string\"==typeof t||t instanceof a.a)&&(t={node:t}),\"string\"==typeof t.node)for(var n=0;n<this.nodes.length;n++){var i=this.nodes[n];i.name===t.node&&(e=i)}else e=t.node;if(e){var r=t.pin;if(r||e.outputs&&(r=Object.keys(e.outputs)[0]),e.outputs[r])return{node:e,pin:r}}}});e.a=r},function(t,e,n){\"use strict\";var i=n(48),c=n(11),r=n(10),a=i.a.extend({name:\"scene\",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new r.a},{render:function(t){this._rendering=!0;var e,n=t.gl;if(this.trigger(\"beforerender\"),this.outputs){var i=this.frameBuffer;for(var r in this.outputs){var a=this.updateParameter(r,t),o=this.outputs[r],s=this._compositor.allocateTexture(a);this._outputTextures[r]=s,\"string\"==typeof(h=o.attachment||n.COLOR_ATTACHMENT0)&&(h=n[h]),i.attach(s,h)}i.bind(t);var l=t.getGLExtension(\"EXT_draw_buffers\");if(l){var u=[];for(var h in this.outputs)(h=parseInt(h))>=n.COLOR_ATTACHMENT0&&h<=n.COLOR_ATTACHMENT0+8&&u.push(h);l.drawBuffersEXT(u)}t.saveClear(),t.clearBit=c.a.DEPTH_BUFFER_BIT|c.a.COLOR_BUFFER_BIT,e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),t.restoreClear(),i.unbind(t)}else e=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);this.trigger(\"afterrender\",e),this._rendering=!1,this._rendered=!0}});e.a=a},function(t,e,n){\"use strict\";var i=n(48).a.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(t,e){return this.texture},beforeFrame:function(){},afterFrame:function(){}});e.a=i},function(t,e,n){\"use strict\";var i=n(16),r=n(48),a=r.a.extend(function(){return{name:\"\",inputs:{},outputs:null,shader:\"\",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var t=new i.a({fragment:this.shader});this.pass=t},{render:function(t,e){this.trigger(\"beforerender\",t),this._rendering=!0;var n=t.gl;for(var i in this.inputLinks){var r,a=(r=this.inputLinks[i]).node.getOutput(t,r.pin);this.pass.setUniform(i,a)}if(this.outputs){this.pass.outputs={};var o={};for(var s in this.outputs){var l=this.updateParameter(s,t);isNaN(l.width)&&this.updateParameter(s,t);var u=this.outputs[s],h=this._compositor.allocateTexture(l);this._outputTextures[s]=h,\"string\"==typeof(c=u.attachment||n.COLOR_ATTACHMENT0)&&(c=n[c]),o[c]=h}for(var c in this._compositor.getFrameBuffer().bind(t),o)this._compositor.getFrameBuffer().attach(o[c],c);this.pass.render(t),this._compositor.getFrameBuffer().updateMipmap(t)}else this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(t),this.pass.render(t,e);for(var i in this.inputLinks){(r=this.inputLinks[i]).node.removeReference(r.pin)}this._rendering=!1,this._rendered=!0,this.trigger(\"afterrender\",t)},updateParameter:function(t,e){var n,i,r=this.outputs[t],a=r.parameters,o=(o=r._parametersCopy)||(r._parametersCopy={});if(a)for(var s in a)\"width\"!==s&&\"height\"!==s&&(o[s]=a[s]);return n=a.width instanceof Function?a.width.call(this,e):a.width,i=a.height instanceof Function?a.height.call(this,e):a.height,n=Math.ceil(n),i=Math.ceil(i),o.width===n&&o.height===i||this._outputTextures[t]&&this._outputTextures[t].dispose(e),o.width=n,o.height=i,o},setParameter:function(t,e){this.pass.setUniform(t,e)},getParameter:function(t){return this.pass.getUniform(t)},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},define:function(t,e){this.pass.material.define(\"fragment\",t,e)},undefine:function(t){this.pass.material.undefine(\"fragment\",t)},removeReference:function(t){this._outputReferences[t]--,0===this._outputReferences[t]&&(this.outputs[t].keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t]))},clear:function(){r.a.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});e.a=a},function(t,e,n){\"use strict\";e.a=function(t){t.import(i.a),t.import(r.a),t.import(a.a),t.import(o.a),t.import(s.a),t.import(l.a),t.import(u.a),t.import(h.a),t.import(c.a),t.import(d.a),t.import(f.a),t.import(p.a),t.import(g.a)};var i=n(185),r=n(87),a=n(186),o=n(88),s=n(187),l=n(89),u=n(90),h=n(91),c=n(92),d=n(93),f=n(188),p=n(94),g=n(95)},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.coloradjust\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float brightness : 0.0;\\nuniform float contrast : 1.0;\\nuniform float exposure : 0.0;\\nuniform float gamma : 1.0;\\nuniform float saturation : 1.0;\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\nvoid main()\\n{\\n vec4 tex = texture2D( texture, v_Texcoord);\\n vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);\\n color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);\\n color = clamp( color * pow(2.0, exposure), 0.0, 1.0);\\n color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);\\n float luminance = dot( color, w );\\n color = mix(vec3(luminance), color, saturation);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.brightness\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float brightness : 0.0;\\nvoid main()\\n{\\n vec4 tex = texture2D( texture, v_Texcoord);\\n vec3 color = tex.rgb + vec3(brightness);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.contrast\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float contrast : 1.0;\\nvoid main()\\n{\\n vec4 tex = texture2D( texture, v_Texcoord);\\n vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.exposure\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float exposure : 0.0;\\nvoid main()\\n{\\n vec4 tex = texture2D(texture, v_Texcoord);\\n vec3 color = tex.rgb * pow(2.0, exposure);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.gamma\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float gamma : 1.0;\\nvoid main()\\n{\\n vec4 tex = texture2D(texture, v_Texcoord);\\n vec3 color = pow(tex.rgb, vec3(gamma));\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\\n@export clay.compositor.saturation\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float saturation : 1.0;\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\nvoid main()\\n{\\n vec4 tex = texture2D(texture, v_Texcoord);\\n vec3 color = tex.rgb;\\n float luminance = dot(color, w);\\n color = mix(vec3(luminance), color, saturation);\\n gl_FragColor = vec4(color, tex.a);\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.hdr.log_lum\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));\\n float luminance = dot(tex.rgb, w);\\n luminance = log(luminance + 0.001);\\n gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));\\n}\\n@end\\n@export clay.compositor.hdr.lum_adaption\\nvarying vec2 v_Texcoord;\\nuniform sampler2D adaptedLum;\\nuniform sampler2D currentLum;\\nuniform float frameTime : 0.02;\\n@import clay.util.rgbm\\nvoid main()\\n{\\n float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;\\n float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);\\n fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));\\n gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));\\n}\\n@end\\n@export clay.compositor.lum\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nconst vec3 w = vec3(0.2125, 0.7154, 0.0721);\\nvoid main()\\n{\\n vec4 tex = texture2D( texture, v_Texcoord );\\n float luminance = dot(tex.rgb, w);\\n gl_FragColor = vec4(vec3(luminance), 1.0);\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.vignette\\n#define OUTPUT_ALPHA\\nvarying vec2 v_Texcoord;\\nuniform sampler2D texture;\\nuniform float darkness: 1;\\nuniform float offset: 1;\\n@import clay.util.rgbm\\nvoid main()\\n{\\n vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));\\n gl_FragColor.rgb = texel.rgb;\\n vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);\\n gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));\\n}\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export clay.compositor.lensflare\\n#define SAMPLE_NUMBER 8\\nuniform sampler2D texture;\\nuniform sampler2D lenscolor;\\nuniform vec2 textureSize : [512, 512];\\nuniform float dispersal : 0.3;\\nuniform float haloWidth : 0.4;\\nuniform float distortion : 1.0;\\nvarying vec2 v_Texcoord;\\n@import clay.util.rgbm\\nvec4 textureDistorted(\\n in vec2 texcoord,\\n in vec2 direction,\\n in vec3 distortion\\n) {\\n return vec4(\\n decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,\\n decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,\\n decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,\\n 1.0\\n );\\n}\\nvoid main()\\n{\\n vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;\\n vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;\\n vec2 haloVec = normalize(ghostVec) * haloWidth;\\n vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);\\n vec4 result = vec4(0.0);\\n for (int i = 0; i < SAMPLE_NUMBER; i++)\\n {\\n vec2 offset = fract(texcoord + ghostVec * float(i));\\n float weight = length(vec2(0.5) - offset) / length(vec2(0.5));\\n weight = pow(1.0 - weight, 10.0);\\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\\n }\\n result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));\\n float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));\\n weight = pow(1.0 - weight, 10.0);\\n vec2 offset = fract(texcoord + haloVec);\\n result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;\\n gl_FragColor = result;\\n}\\n@end\"},function(t,e,n){\"use strict\";var d=n(9),o=n(3),i=n(5),r=n(4),a=n(16),s=n(8),l=n(10),c=n(49),u=n(190);function h(t){for(var e=new Uint8Array(t*t*4),n=0,i=new o.a,r=0;r<t;r++)for(var a=0;a<t;a++)i.set(2*Math.random()-1,2*Math.random()-1,0).normalize(),e[n++]=255*(.5*i.x+.5),e[n++]=255*(.5*i.y+.5),e[n++]=0,e[n++]=255;return e}function f(t){return new i.a({pixels:h(t),wrapS:r.a.REPEAT,wrapT:r.a.REPEAT,width:t,height:t})}function p(t){t=t||{},this._ssaoPass=new a.a({fragment:s.a.source(\"ecgl.ssao.estimate\")}),this._blurPass=new a.a({fragment:s.a.source(\"ecgl.ssao.blur\")}),this._framebuffer=new l.a({depthBuffer:!1}),this._ssaoTexture=new i.a,this._blurTexture=new i.a,this._blurTexture2=new i.a,this._depthTex=t.depthTexture,this._normalTex=t.normalTexture,this.setNoiseSize(4),this.setKernelSize(t.kernelSize||12),null!=t.radius&&this.setParameter(\"radius\",t.radius),null!=t.power&&this.setParameter(\"power\",t.power),this._normalTex||(this._ssaoPass.material.disableTexture(\"normalTex\"),this._blurPass.material.disableTexture(\"normalTex\")),this._depthTex||this._blurPass.material.disableTexture(\"depthTex\"),this._blurPass.material.setUniform(\"normalTex\",this._normalTex),this._blurPass.material.setUniform(\"depthTex\",this._depthTex)}s.a.import(u.a),p.prototype.setDepthTexture=function(t){this._depthTex=t},p.prototype.setNormalTexture=function(t){this._normalTex=t,this._ssaoPass.material[t?\"enableTexture\":\"disableTexture\"](\"normalTex\"),this.setKernelSize(this._kernelSize)},p.prototype.update=function(t,e,n){var i=t.getWidth(),r=t.getHeight(),a=this._ssaoPass,o=this._blurPass;a.setUniform(\"kernel\",this._kernels[n%this._kernels.length]),a.setUniform(\"depthTex\",this._depthTex),null!=this._normalTex&&a.setUniform(\"normalTex\",this._normalTex),a.setUniform(\"depthTexSize\",[this._depthTex.width,this._depthTex.height]);var s=new d.a;d.a.transpose(s,e.worldTransform),a.setUniform(\"projection\",e.projectionMatrix.array),a.setUniform(\"projectionInv\",e.invProjectionMatrix.array),a.setUniform(\"viewInverseTranspose\",s.array);var l=this._ssaoTexture,u=this._blurTexture,h=this._blurTexture2;l.width=i/2,l.height=r/2,u.width=i,u.height=r,h.width=i,h.height=r,this._framebuffer.attach(l),this._framebuffer.bind(t),t.gl.clearColor(1,1,1,1),t.gl.clear(t.gl.COLOR_BUFFER_BIT),a.render(t),o.setUniform(\"textureSize\",[i/2,r/2]),o.setUniform(\"projection\",e.projectionMatrix.array),this._framebuffer.attach(u),o.setUniform(\"direction\",0),o.setUniform(\"ssaoTexture\",l),o.render(t),this._framebuffer.attach(h),o.setUniform(\"textureSize\",[i,r]),o.setUniform(\"direction\",1),o.setUniform(\"ssaoTexture\",u),o.render(t),this._framebuffer.unbind(t);var c=t.clearColor;t.gl.clearColor(c[0],c[1],c[2],c[3])},p.prototype.getTargetTexture=function(){return this._blurTexture2},p.prototype.setParameter=function(t,e){\"noiseTexSize\"===t?this.setNoiseSize(e):\"kernelSize\"===t?this.setKernelSize(e):\"intensity\"===t?this._ssaoPass.material.set(\"intensity\",e):this._ssaoPass.setUniform(t,e)},p.prototype.setKernelSize=function(t){this._kernelSize=t,this._ssaoPass.material.define(\"fragment\",\"KERNEL_SIZE\",t),this._kernels=this._kernels||[];for(var e=0;e<30;e++)this._kernels[e]=function(t,e,n){var i=new Float32Array(3*t);e=e||0;for(var r=0;r<t;r++){var a=Object(c.a)(r+e,2)*(n?1:2)*Math.PI,o=Object(c.a)(r+e,3)*Math.PI,s=Math.random(),l=Math.cos(a)*Math.sin(o)*s,u=Math.cos(o)*s,h=Math.sin(a)*Math.sin(o)*s;i[3*r]=l,i[3*r+1]=u,i[3*r+2]=h}return i}(t,e*t,!!this._normalTex)},p.prototype.setNoiseSize=function(t){var e=this._ssaoPass.getUniform(\"noiseTex\");e?(e.data=h(t),e.width=e.height=t,e.dirty()):(e=f(t),this._ssaoPass.setUniform(\"noiseTex\",f(t))),this._ssaoPass.setUniform(\"noiseTexSize\",[t,t])},p.prototype.dispose=function(t){this._blurTexture.dispose(t),this._ssaoTexture.dispose(t),this._blurTexture2.dispose(t)},e.a=p},function(t,e,n){\"use strict\";e.a=\"@export ecgl.ssao.estimate\\n\\nuniform sampler2D depthTex;\\n\\nuniform sampler2D normalTex;\\n\\nuniform sampler2D noiseTex;\\n\\nuniform vec2 depthTexSize;\\n\\nuniform vec2 noiseTexSize;\\n\\nuniform mat4 projection;\\n\\nuniform mat4 projectionInv;\\n\\nuniform mat4 viewInverseTranspose;\\n\\nuniform vec3 kernel[KERNEL_SIZE];\\n\\nuniform float radius : 1;\\n\\nuniform float power : 1;\\n\\nuniform float bias: 1e-2;\\n\\nuniform float intensity: 1.0;\\n\\nvarying vec2 v_Texcoord;\\n\\nfloat ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {\\n float occlusion = 0.0;\\n\\n for (int i = 0; i < KERNEL_SIZE; i++) {\\n vec3 samplePos = kernel[i];\\n#ifdef NORMALTEX_ENABLED\\n samplePos = kernelBasis * samplePos;\\n#endif\\n samplePos = samplePos * radius + originPos;\\n\\n vec4 texCoord = projection * vec4(samplePos, 1.0);\\n texCoord.xy /= texCoord.w;\\n\\n vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);\\n\\n float sampleDepth = depthTexel.r * 2.0 - 1.0;\\n if (projection[3][3] == 0.0) {\\n sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);\\n }\\n else {\\n sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];\\n }\\n \\n float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));\\n occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);\\n }\\n#ifdef NORMALTEX_ENABLED\\n occlusion = 1.0 - occlusion / float(KERNEL_SIZE);\\n#else\\n occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);\\n#endif\\n return pow(occlusion, power);\\n}\\n\\nvoid main()\\n{\\n\\n vec4 depthTexel = texture2D(depthTex, v_Texcoord);\\n\\n#ifdef NORMALTEX_ENABLED\\n vec4 tex = texture2D(normalTex, v_Texcoord);\\n if (dot(tex.rgb, tex.rgb) == 0.0) {\\n gl_FragColor = vec4(1.0);\\n return;\\n }\\n vec3 N = tex.rgb * 2.0 - 1.0;\\n N = (viewInverseTranspose * vec4(N, 0.0)).xyz;\\n\\n vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;\\n vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;\\n vec3 T = normalize(rvec - N * dot(rvec, N));\\n vec3 BT = normalize(cross(N, T));\\n mat3 kernelBasis = mat3(T, BT, N);\\n#else\\n if (depthTexel.r > 0.99999) {\\n gl_FragColor = vec4(1.0);\\n return;\\n }\\n mat3 kernelBasis;\\n#endif\\n\\n float z = depthTexel.r * 2.0 - 1.0;\\n\\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\\n vec4 p4 = projectionInv * projectedPos;\\n\\n vec3 position = p4.xyz / p4.w;\\n\\n float ao = ssaoEstimator(position, kernelBasis);\\n ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);\\n gl_FragColor = vec4(vec3(ao), 1.0);\\n}\\n\\n@end\\n\\n\\n@export ecgl.ssao.blur\\n#define SHADER_NAME SSAO_BLUR\\n\\nuniform sampler2D ssaoTexture;\\n\\n#ifdef NORMALTEX_ENABLED\\nuniform sampler2D normalTex;\\n#endif\\n\\nvarying vec2 v_Texcoord;\\n\\nuniform vec2 textureSize;\\nuniform float blurSize : 1.0;\\n\\nuniform int direction: 0.0;\\n\\n#ifdef DEPTHTEX_ENABLED\\nuniform sampler2D depthTex;\\nuniform mat4 projection;\\nuniform float depthRange : 0.5;\\n\\nfloat getLinearDepth(vec2 coord)\\n{\\n float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;\\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\\n}\\n#endif\\n\\nvoid main()\\n{\\n float kernel[5];\\n kernel[0] = 0.122581;\\n kernel[1] = 0.233062;\\n kernel[2] = 0.288713;\\n kernel[3] = 0.233062;\\n kernel[4] = 0.122581;\\n\\n vec2 off = vec2(0.0);\\n if (direction == 0) {\\n off[0] = blurSize / textureSize.x;\\n }\\n else {\\n off[1] = blurSize / textureSize.y;\\n }\\n\\n vec2 coord = v_Texcoord;\\n\\n float sum = 0.0;\\n float weightAll = 0.0;\\n\\n#ifdef NORMALTEX_ENABLED\\n vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;\\n#endif\\n#if defined(DEPTHTEX_ENABLED)\\n float centerDepth = getLinearDepth(v_Texcoord);\\n#endif\\n\\n for (int i = 0; i < 5; i++) {\\n vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));\\n\\n float w = kernel[i];\\n#ifdef NORMALTEX_ENABLED\\n vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;\\n w *= clamp(dot(normal, centerNormal), 0.0, 1.0);\\n#endif\\n#ifdef DEPTHTEX_ENABLED\\n float d = getLinearDepth(coord);\\n w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));\\n#endif\\n\\n weightAll += w;\\n sum += texture2D(ssaoTexture, coord).r * w;\\n }\\n\\n gl_FragColor = vec4(vec3(sum / weightAll), 1.0);\\n}\\n\\n@end\\n\"},function(t,e,n){\"use strict\";var y=n(9),i=(n(3),n(5)),r=n(4),a=n(16),o=n(8),s=n(10),l=(n(49),n(77)),u=n(192);function h(t){t=t||{},this._ssrPass=new a.a({fragment:o.a.source(\"ecgl.ssr.main\"),clearColor:[0,0,0,0]}),this._blurPass1=new a.a({fragment:o.a.source(\"ecgl.ssr.blur\"),clearColor:[0,0,0,0]}),this._blurPass2=new a.a({fragment:o.a.source(\"ecgl.ssr.blur\"),clearColor:[0,0,0,0]}),this._blendPass=new a.a({fragment:o.a.source(\"clay.compositor.blend\")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture([\"texture1\",\"texture2\"]),this._ssrPass.setUniform(\"gBufferTexture1\",t.normalTexture),this._ssrPass.setUniform(\"gBufferTexture2\",t.depthTexture),this._blurPass1.setUniform(\"gBufferTexture1\",t.normalTexture),this._blurPass1.setUniform(\"gBufferTexture2\",t.depthTexture),this._blurPass2.setUniform(\"gBufferTexture1\",t.normalTexture),this._blurPass2.setUniform(\"gBufferTexture2\",t.depthTexture),this._blurPass2.material.define(\"fragment\",\"VERTICAL\"),this._blurPass2.material.define(\"fragment\",\"BLEND\"),this._ssrTexture=new i.a({type:r.a.HALF_FLOAT}),this._texture2=new i.a({type:r.a.HALF_FLOAT}),this._texture3=new i.a({type:r.a.HALF_FLOAT}),this._prevTexture=new i.a({type:r.a.HALF_FLOAT}),this._currentTexture=new i.a({type:r.a.HALF_FLOAT}),this._frameBuffer=new s.a({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define(\"fragment\",\"SAMPLE_PER_FRAME\",this._samplePerFrame),this._ssrPass.material.define(\"fragment\",\"TOTAL_SAMPLES\",this._totalSamples),this._downScale=1}o.a.import(u.a),h.prototype.setAmbientCubemap=function(t,e){this._ssrPass.material.set(\"specularCubemap\",t),this._ssrPass.material.set(\"specularIntensity\",e);var n=t&&e;this._ssrPass.material[n?\"enableTexture\":\"disableTexture\"](\"specularCubemap\")},h.prototype.update=function(t,e,n,i){var r=t.getWidth(),a=t.getHeight(),o=this._ssrTexture,s=this._texture2,l=this._texture3;o.width=this._prevTexture.width=this._currentTexture.width=r/this._downScale,o.height=this._prevTexture.height=this._currentTexture.height=a/this._downScale,s.width=l.width=r,s.height=l.height=a;var u=this._frameBuffer,h=this._ssrPass,c=this._blurPass1,d=this._blurPass2,f=this._blendPass,p=new y.a,g=new y.a;y.a.transpose(p,e.worldTransform),y.a.transpose(g,e.viewMatrix),h.setUniform(\"sourceTexture\",n),h.setUniform(\"projection\",e.projectionMatrix.array),h.setUniform(\"projectionInv\",e.invProjectionMatrix.array),h.setUniform(\"toViewSpace\",p.array),h.setUniform(\"toWorldSpace\",g.array),h.setUniform(\"nearZ\",e.near);var m,v=i/this._totalSamples*this._samplePerFrame;h.setUniform(\"jitterOffset\",v),h.setUniform(\"sampleOffset\",i*this._samplePerFrame),c.setUniform(\"textureSize\",[o.width,o.height]),d.setUniform(\"textureSize\",[r,a]),d.setUniform(\"sourceTexture\",n),c.setUniform(\"projection\",e.projectionMatrix.array),d.setUniform(\"projection\",e.projectionMatrix.array),u.attach(o),u.bind(t),h.render(t),this._physicallyCorrect&&(u.attach(this._currentTexture),f.setUniform(\"texture1\",this._prevTexture),f.setUniform(\"texture2\",o),f.material.set({weight1:1<=i?.95:0,weight2:1<=i?.05:1}),f.render(t)),u.attach(s),c.setUniform(\"texture\",this._physicallyCorrect?this._currentTexture:o),c.render(t),u.attach(l),d.setUniform(\"texture\",s),d.render(t),u.unbind(t),this._physicallyCorrect&&(m=this._prevTexture,this._prevTexture=this._currentTexture,this._currentTexture=m)},h.prototype.getTargetTexture=function(){return this._texture3},h.prototype.setParameter=function(t,e){\"maxIteration\"===t?this._ssrPass.material.define(\"fragment\",\"MAX_ITERATION\",e):this._ssrPass.setUniform(t,e)},h.prototype.setPhysicallyCorrect=function(t){t?(this._normalDistribution||(this._normalDistribution=l.a.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define(\"fragment\",\"PHYSICALLY_CORRECT\"),this._ssrPass.material.set(\"normalDistribution\",this._normalDistribution),this._ssrPass.material.set(\"normalDistributionSize\",[64,this._totalSamples])):this._ssrPass.material.undefine(\"fragment\",\"PHYSICALLY_CORRECT\"),this._physicallyCorrect=t},h.prototype.setSSAOTexture=function(t){var e=this._blurPass2;t?(e.material.enableTexture(\"ssaoTex\"),e.material.set(\"ssaoTex\",t)):e.material.disableTexture(\"ssaoTex\")},h.prototype.isFinished=function(t){return!this._physicallyCorrect||t>this._totalSamples/this._samplePerFrame},h.prototype.dispose=function(t){this._ssrTexture.dispose(t),this._texture2.dispose(t),this._texture3.dispose(t),this._prevTexture.dispose(t),this._currentTexture.dispose(t),this._frameBuffer.dispose(t)},e.a=h},function(t,e,n){\"use strict\";e.a=\"@export ecgl.ssr.main\\n\\n#define SHADER_NAME SSR\\n#define MAX_ITERATION 20;\\n#define SAMPLE_PER_FRAME 5;\\n#define TOTAL_SAMPLES 128;\\n\\nuniform sampler2D sourceTexture;\\nuniform sampler2D gBufferTexture1;\\nuniform sampler2D gBufferTexture2;\\nuniform sampler2D gBufferTexture3;\\nuniform samplerCube specularCubemap;\\nuniform float specularIntensity: 1;\\n\\nuniform mat4 projection;\\nuniform mat4 projectionInv;\\nuniform mat4 toViewSpace;\\nuniform mat4 toWorldSpace;\\n\\nuniform float maxRayDistance: 200;\\n\\nuniform float pixelStride: 16;\\nuniform float pixelStrideZCutoff: 50; \\nuniform float screenEdgeFadeStart: 0.9; \\nuniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; \\nuniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;\\n\\nuniform float nearZ;\\nuniform vec2 viewportSize : VIEWPORT_SIZE;\\n\\nuniform float jitterOffset: 0;\\n\\nvarying vec2 v_Texcoord;\\n\\n#ifdef DEPTH_DECODE\\n@import clay.util.decode_float\\n#endif\\n\\n#ifdef PHYSICALLY_CORRECT\\nuniform sampler2D normalDistribution;\\nuniform float sampleOffset: 0;\\nuniform vec2 normalDistributionSize;\\n\\nvec3 transformNormal(vec3 H, vec3 N) {\\n vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);\\n vec3 tangentX = normalize(cross(N, upVector));\\n vec3 tangentZ = cross(N, tangentX);\\n return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);\\n}\\nvec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {\\n float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));\\n vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;\\n return transformNormal(H, N);\\n}\\nfloat G_Smith(float g, float ndv, float ndl) {\\n float roughness = 1.0 - g;\\n float k = roughness * roughness / 2.0;\\n float G1V = ndv / (ndv * (1.0 - k) + k);\\n float G1L = ndl / (ndl * (1.0 - k) + k);\\n return G1L * G1V;\\n}\\nvec3 F_Schlick(float ndv, vec3 spec) {\\n return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);\\n}\\n#endif\\n\\nfloat fetchDepth(sampler2D depthTexture, vec2 uv)\\n{\\n vec4 depthTexel = texture2D(depthTexture, uv);\\n return depthTexel.r * 2.0 - 1.0;\\n}\\n\\nfloat linearDepth(float depth)\\n{\\n if (projection[3][3] == 0.0) {\\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\\n }\\n else {\\n return (depth - projection[3][2]) / projection[2][2];\\n }\\n}\\n\\nbool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)\\n{\\n if (rayZFar > rayZNear)\\n {\\n float t = rayZFar; rayZFar = rayZNear; rayZNear = t;\\n }\\n float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));\\n return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;\\n}\\n\\n\\nbool traceScreenSpaceRay(\\n vec3 rayOrigin, vec3 rayDir, float jitter,\\n out vec2 hitPixel, out vec3 hitPoint, out float iterationCount\\n)\\n{\\n float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)\\n ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;\\n\\n vec3 rayEnd = rayOrigin + rayDir * rayLength;\\n\\n vec4 H0 = projection * vec4(rayOrigin, 1.0);\\n vec4 H1 = projection * vec4(rayEnd, 1.0);\\n\\n float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;\\n\\n vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;\\n\\n vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;\\n vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;\\n\\n P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;\\n vec2 delta = P1 - P0;\\n\\n bool permute = false;\\n if (abs(delta.x) < abs(delta.y)) {\\n permute = true;\\n delta = delta.yx;\\n P0 = P0.yx;\\n P1 = P1.yx;\\n }\\n float stepDir = sign(delta.x);\\n float invdx = stepDir / delta.x;\\n\\n vec3 dQ = (Q1 - Q0) * invdx;\\n float dk = (k1 - k0) * invdx;\\n\\n vec2 dP = vec2(stepDir, delta.y * invdx);\\n\\n float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);\\n float pixStride = 1.0 + strideScaler * pixelStride;\\n\\n dP *= pixStride; dQ *= pixStride; dk *= pixStride;\\n\\n vec4 pqk = vec4(P0, Q0.z, k0);\\n vec4 dPQK = vec4(dP, dQ.z, dk);\\n\\n pqk += dPQK * jitter;\\n float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\\n float rayZNear;\\n\\n bool intersect = false;\\n\\n vec2 texelSize = 1.0 / viewportSize;\\n\\n iterationCount = 0.0;\\n\\n for (int i = 0; i < MAX_ITERATION; i++)\\n {\\n pqk += dPQK;\\n\\n rayZNear = rayZFar;\\n rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);\\n\\n hitPixel = permute ? pqk.yx : pqk.xy;\\n hitPixel *= texelSize;\\n\\n intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);\\n\\n iterationCount += 1.0;\\n\\n dPQK *= 1.2;\\n\\n if (intersect) {\\n break;\\n }\\n }\\n\\n Q0.xy += dQ.xy * iterationCount;\\n Q0.z = pqk.z;\\n hitPoint = Q0 / pqk.w;\\n\\n return intersect;\\n}\\n\\nfloat calculateAlpha(\\n float iterationCount, float reflectivity,\\n vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir\\n)\\n{\\n float alpha = clamp(reflectivity, 0.0, 1.0);\\n alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));\\n vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;\\n float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));\\n alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);\\n\\n float _eyeFadeStart = eyeFadeStart;\\n float _eyeFadeEnd = eyeFadeEnd;\\n if (_eyeFadeStart > _eyeFadeEnd) {\\n float tmp = _eyeFadeEnd;\\n _eyeFadeEnd = _eyeFadeStart;\\n _eyeFadeStart = tmp;\\n }\\n\\n float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);\\n alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);\\n\\n alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);\\n\\n return alpha;\\n}\\n\\n@import clay.util.rand\\n\\n@import clay.util.rgbm\\n\\nvoid main()\\n{\\n vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);\\n\\n if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {\\n discard;\\n }\\n\\n float g = normalAndGloss.a;\\n#if !defined(PHYSICALLY_CORRECT)\\n if (g <= minGlossiness) {\\n discard;\\n }\\n#endif\\n\\n float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);\\n\\n vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);\\n N = normalize((toViewSpace * vec4(N, 0.0)).xyz);\\n\\n vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);\\n vec4 pos = projectionInv * projectedPos;\\n vec3 rayOrigin = pos.xyz / pos.w;\\n vec3 V = -normalize(rayOrigin);\\n\\n float ndv = clamp(dot(N, V), 0.0, 1.0);\\n float iterationCount;\\n float jitter = rand(fract(v_Texcoord + jitterOffset));\\n\\n#ifdef PHYSICALLY_CORRECT\\n vec4 color = vec4(vec3(0.0), 1.0);\\n vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);\\n vec3 albedo = albedoMetalness.rgb;\\n float m = albedoMetalness.a;\\n vec3 diffuseColor = albedo * (1.0 - m);\\n vec3 spec = mix(vec3(0.04), albedo, m);\\n\\n float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);\\n\\n for (int i = 0; i < SAMPLE_PER_FRAME; i++) {\\n vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);\\n vec3 rayDir = normalize(reflect(-V, H));\\n#else\\n vec3 rayDir = normalize(reflect(-V, N));\\n#endif\\n vec2 hitPixel;\\n vec3 hitPoint;\\n\\n bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);\\n\\n float dist = distance(rayOrigin, hitPoint);\\n\\n vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;\\n hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);\\n#ifdef PHYSICALLY_CORRECT\\n float ndl = clamp(dot(N, rayDir), 0.0, 1.0);\\n float vdh = clamp(dot(V, H), 0.0, 1.0);\\n float ndh = clamp(dot(N, H), 0.0, 1.0);\\n vec3 litTexel = vec3(0.0);\\n if (dot(hitNormal, rayDir) < 0.0 && intersect) {\\n litTexel = texture2D(sourceTexture, hitPixel).rgb;\\n litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);\\n\\n }\\n else {\\n #ifdef SPECULARCUBEMAP_ENABLED\\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\\n litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;\\n#endif\\n }\\n color.rgb += ndl * litTexel * (\\n F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)\\n );\\n }\\n color.rgb /= float(SAMPLE_PER_FRAME);\\n#else\\n #if !defined(SPECULARCUBEMAP_ENABLED)\\n if (dot(hitNormal, rayDir) >= 0.0) {\\n discard;\\n }\\n if (!intersect) {\\n discard;\\n }\\n#endif\\n float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);\\n vec4 color = texture2D(sourceTexture, hitPixel);\\n color.rgb *= alpha;\\n\\n#ifdef SPECULARCUBEMAP_ENABLED\\n vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;\\n alpha = alpha * (intersect ? 1.0 : 0.0);\\n float bias = (1.0 -g) * 5.0;\\n color.rgb += (1.0 - alpha)\\n * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb\\n * specularIntensity;\\n#endif\\n\\n#endif\\n\\n gl_FragColor = encodeHDR(color);\\n}\\n@end\\n\\n@export ecgl.ssr.blur\\n\\nuniform sampler2D texture;\\nuniform sampler2D gBufferTexture1;\\nuniform sampler2D gBufferTexture2;\\nuniform mat4 projection;\\nuniform float depthRange : 0.05;\\n\\nvarying vec2 v_Texcoord;\\n\\nuniform vec2 textureSize;\\nuniform float blurSize : 1.0;\\n\\n#ifdef BLEND\\n #ifdef SSAOTEX_ENABLED\\nuniform sampler2D ssaoTex;\\n #endif\\nuniform sampler2D sourceTexture;\\n#endif\\n\\nfloat getLinearDepth(vec2 coord)\\n{\\n float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;\\n return projection[3][2] / (depth * projection[2][3] - projection[2][2]);\\n}\\n\\n@import clay.util.rgbm\\n\\n\\nvoid main()\\n{\\n @import clay.compositor.kernel.gaussian_9\\n\\n vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);\\n float g = centerNTexel.a;\\n float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;\\n#ifdef VERTICAL\\n vec2 off = vec2(0.0, maxBlurSize / textureSize.y);\\n#else\\n vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);\\n#endif\\n\\n vec2 coord = v_Texcoord;\\n\\n vec4 sum = vec4(0.0);\\n float weightAll = 0.0;\\n\\n vec3 cN = centerNTexel.rgb * 2.0 - 1.0;\\n float cD = getLinearDepth(v_Texcoord);\\n for (int i = 0; i < 9; i++) {\\n vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));\\n float w = gaussianKernel[i]\\n * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);\\n float d = getLinearDepth(coord);\\n w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));\\n\\n weightAll += w;\\n sum += decodeHDR(texture2D(texture, coord)) * w;\\n }\\n\\n#ifdef BLEND\\n float aoFactor = 1.0;\\n #ifdef SSAOTEX_ENABLED\\n aoFactor = texture2D(ssaoTex, v_Texcoord).r;\\n #endif\\n gl_FragColor = encodeHDR(\\n sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))\\n );\\n#else\\n gl_FragColor = encodeHDR(sum / weightAll);\\n#endif\\n}\\n\\n@end\"},function(t,e,n){\"use strict\";e.a=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925]},function(t,e,n){\"use strict\";var i=n(5),r=n(4),a=n(8),o=n(10),s=n(19),l=n(16),u=n(61),h=n(195);function M(t,e,n,i,r){var a=t.gl;e.setUniform(a,\"1i\",n,r),a.activeTexture(a.TEXTURE0+r),i.isRenderable()?i.bind(t):i.unbind(t)}function c(t){this._depthTex=new i.a({format:r.a.DEPTH_COMPONENT,type:r.a.UNSIGNED_INT}),this._normalTex=new i.a({type:r.a.HALF_FLOAT}),this._framebuffer=new o.a,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,o.a.DEPTH_ATTACHMENT),this._normalMaterial=new s.a({shader:new a.a(a.a.source(\"ecgl.normal.vertex\"),a.a.source(\"ecgl.normal.fragment\"))}),this._normalMaterial.enableTexture([\"normalMap\",\"bumpMap\",\"roughnessMap\"]),this._defaultNormalMap=u.a.createBlank(\"#000\"),this._defaultBumpMap=u.a.createBlank(\"#000\"),this._defaultRoughessMap=u.a.createBlank(\"#000\"),this._debugPass=new l.a({fragment:a.a.source(\"clay.compositor.output\")}),this._debugPass.setUniform(\"texture\",this._normalTex),this._debugPass.material.undefine(\"fragment\",\"OUTPUT_ALPHA\")}a.a.import(h.a),c.prototype.getDepthTexture=function(){return this._depthTex},c.prototype.getNormalTexture=function(){return this._normalTex},c.prototype.update=function(t,e,n){var i=t.getWidth(),r=t.getHeight(),a=this._depthTex,o=this._normalTex,s=this._normalMaterial;a.width=i,a.height=r,o.width=i,o.height=r;var m,v,y,_,x,b,w,T,S,l=e.getRenderList(n).opaque;this._framebuffer.bind(t),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.gl.disable(t.gl.BLEND),t.renderPass(l,n,{getMaterial:function(){return s},ifRender:function(t){return t.renderNormal},beforeRender:(m=t,v=this._defaultNormalMap,y=this._defaultBumpMap,_=this._defaultRoughessMap,this._normalMaterial,S=m.gl,function(t,e,n){var i,r,a,o,s,l,u,h,c,d,f,p,g;T&&T.material===t.material||(i=t.material,r=t.__program,null==(a=i.get(\"roughness\"))&&(a=1),o=i.get(\"normalMap\")||v,g=i.get(\"roughnessMap\"),p=i.get(\"bumpMap\"),s=i.get(\"uvRepeat\"),l=i.get(\"uvOffset\"),u=i.get(\"detailUvRepeat\"),h=i.get(\"detailUvOffset\"),c=!!p&&i.isTextureEnabled(\"bumpMap\"),d=!!g&&i.isTextureEnabled(\"roughnessMap\"),f=i.isDefined(\"fragment\",\"DOUBLE_SIDED\"),p=p||y,g=g||_,n!==e?(e.set(\"normalMap\",o),e.set(\"bumpMap\",p),e.set(\"roughnessMap\",g),e.set(\"useBumpMap\",c),e.set(\"useRoughnessMap\",d),e.set(\"doubleSide\",f),null!=s&&e.set(\"uvRepeat\",s),null!=l&&e.set(\"uvOffset\",l),null!=u&&e.set(\"detailUvRepeat\",u),null!=h&&e.set(\"detailUvOffset\",h),e.set(\"roughness\",a)):(r.setUniform(S,\"1f\",\"roughness\",a),x!==o&&M(m,r,\"normalMap\",o,0),b!==p&&p&&M(m,r,\"bumpMap\",p,1),w!==g&&g&&M(m,r,\"roughnessMap\",g,2),null!=s&&r.setUniform(S,\"2f\",\"uvRepeat\",s),null!=l&&r.setUniform(S,\"2f\",\"uvOffset\",l),null!=u&&r.setUniform(S,\"2f\",\"detailUvRepeat\",u),null!=h&&r.setUniform(S,\"2f\",\"detailUvOffset\",h),r.setUniform(S,\"1i\",\"useBumpMap\",+c),r.setUniform(S,\"1i\",\"useRoughnessMap\",+d),r.setUniform(S,\"1i\",\"doubleSide\",+f)),x=o,b=p,w=g,T=t)}),sort:t.opaqueSortCompare}),this._framebuffer.unbind(t)},c.prototype.renderDebug=function(t){this._debugPass.render(t)},c.prototype.dispose=function(t){this._depthTex.dispose(t),this._normalTex.dispose(t)},e.a=c},function(t,e,n){\"use strict\";e.a=\"@export ecgl.normal.vertex\\n\\n@import ecgl.common.transformUniforms\\n\\n@import ecgl.common.uv.header\\n\\n@import ecgl.common.attributes\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\n@import ecgl.common.normalMap.vertexHeader\\n\\n@import ecgl.common.vertexAnimation.header\\n\\nvoid main()\\n{\\n\\n @import ecgl.common.vertexAnimation.main\\n\\n @import ecgl.common.uv.main\\n\\n v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);\\n v_WorldPosition = (world * vec4(pos, 1.0)).xyz;\\n\\n @import ecgl.common.normalMap.vertexMain\\n\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n\\n}\\n\\n\\n@end\\n\\n\\n@export ecgl.normal.fragment\\n\\n#define ROUGHNESS_CHANEL 0\\n\\nuniform bool useBumpMap;\\nuniform bool useRoughnessMap;\\nuniform bool doubleSide;\\nuniform float roughness;\\n\\n@import ecgl.common.uv.fragmentHeader\\n\\nvarying vec3 v_Normal;\\nvarying vec3 v_WorldPosition;\\n\\nuniform mat4 viewInverse : VIEWINVERSE;\\n\\n@import ecgl.common.normalMap.fragmentHeader\\n@import ecgl.common.bumpMap.header\\n\\nuniform sampler2D roughnessMap;\\n\\nvoid main()\\n{\\n vec3 N = v_Normal;\\n \\n bool flipNormal = false;\\n if (doubleSide) {\\n vec3 eyePos = viewInverse[3].xyz;\\n vec3 V = normalize(eyePos - v_WorldPosition);\\n\\n if (dot(N, V) < 0.0) {\\n flipNormal = true;\\n }\\n }\\n\\n @import ecgl.common.normalMap.fragmentMain\\n\\n if (useBumpMap) {\\n N = bumpNormal(v_WorldPosition, v_Normal, N);\\n }\\n\\n float g = 1.0 - roughness;\\n\\n if (useRoughnessMap) {\\n float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];\\n g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);\\n }\\n\\n if (flipNormal) {\\n N = -N;\\n }\\n\\n gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;\\n gl_FragColor.a = g;\\n}\\n@end\"},function(t,e,n){\"use strict\";n(9),n(3);var i=n(5),r=n(4),a=n(16),o=n(8),s=n(10);function l(t){t=t||{},this._edgePass=new a.a({fragment:o.a.source(\"ecgl.edge\")}),this._edgePass.setUniform(\"normalTexture\",t.normalTexture),this._edgePass.setUniform(\"depthTexture\",t.depthTexture),this._targetTexture=new i.a({type:r.a.HALF_FLOAT}),this._frameBuffer=new s.a,this._frameBuffer.attach(this._targetTexture)}l.prototype.update=function(t,e,n,i){var r=t.getWidth(),a=t.getHeight(),o=this._targetTexture;o.width=r,o.height=a;var s=this._frameBuffer;s.bind(t),this._edgePass.setUniform(\"projectionInv\",e.invProjectionMatrix.array),this._edgePass.setUniform(\"textureSize\",[r,a]),this._edgePass.setUniform(\"texture\",n),this._edgePass.render(t),s.unbind(t)},l.prototype.getTargetTexture=function(){return this._targetTexture},l.prototype.setParameter=function(t,e){this._edgePass.setUniform(t,e)},l.prototype.dispose=function(t){this._targetTexture.dispose(t),this._frameBuffer.dispose(t)},e.a=l},function(t,e,n){\"use strict\";e.a={type:\"compositor\",nodes:[{name:\"source\",type:\"texture\",outputs:{color:{}}},{name:\"source_half\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"source\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0, height * 1.0] )\"}},{name:\"bright\",shader:\"#source(clay.compositor.bright)\",inputs:{texture:\"source_half\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{threshold:2,scale:4,textureSize:\"expr([width * 1.0 / 2, height / 2])\"}},{name:\"bright_downsample_4\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"bright\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 4)\",height:\"expr(height * 1.0 / 4)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0 / 2, height / 2] )\"}},{name:\"bright_downsample_8\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"bright_downsample_4\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 8)\",height:\"expr(height * 1.0 / 8)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0 / 4, height / 4] )\"}},{name:\"bright_downsample_16\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"bright_downsample_8\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 16)\",height:\"expr(height * 1.0 / 16)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0 / 8, height / 8] )\"}},{name:\"bright_downsample_32\",shader:\"#source(clay.compositor.downsample)\",inputs:{texture:\"bright_downsample_16\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 32)\",height:\"expr(height * 1.0 / 32)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0 / 16, height / 16] )\"}},{name:\"bright_upsample_16_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_downsample_32\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 16)\",height:\"expr(height * 1.0 / 16)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 32, height / 32] )\"}},{name:\"bright_upsample_16_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_16_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 16)\",height:\"expr(height * 1.0 / 16)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0 / 16, height * 1.0 / 16] )\"}},{name:\"bright_upsample_8_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_downsample_16\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 8)\",height:\"expr(height * 1.0 / 8)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 16, height * 1.0 / 16] )\"}},{name:\"bright_upsample_8_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_8_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 8)\",height:\"expr(height * 1.0 / 8)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0 / 8, height * 1.0 / 8] )\"}},{name:\"bright_upsample_8_blend\",shader:\"#source(clay.compositor.blend)\",inputs:{texture1:\"bright_upsample_8_blur_v\",texture2:\"bright_upsample_16_blur_v\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 8)\",height:\"expr(height * 1.0 / 8)\",type:\"HALF_FLOAT\"}}},parameters:{weight1:.3,weight2:.7}},{name:\"bright_upsample_4_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_downsample_8\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 4)\",height:\"expr(height * 1.0 / 4)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 8, height * 1.0 / 8] )\"}},{name:\"bright_upsample_4_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_4_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 4)\",height:\"expr(height * 1.0 / 4)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0 / 4, height * 1.0 / 4] )\"}},{name:\"bright_upsample_4_blend\",shader:\"#source(clay.compositor.blend)\",inputs:{texture1:\"bright_upsample_4_blur_v\",texture2:\"bright_upsample_8_blend\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 4)\",height:\"expr(height * 1.0 / 4)\",type:\"HALF_FLOAT\"}}},parameters:{weight1:.3,weight2:.7}},{name:\"bright_upsample_2_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_downsample_4\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 4, height * 1.0 / 4] )\"}},{name:\"bright_upsample_2_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_2_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0 / 2, height * 1.0 / 2] )\"}},{name:\"bright_upsample_2_blend\",shader:\"#source(clay.compositor.blend)\",inputs:{texture1:\"bright_upsample_2_blur_v\",texture2:\"bright_upsample_4_blend\"},outputs:{color:{parameters:{width:\"expr(width * 1.0 / 2)\",height:\"expr(height * 1.0 / 2)\",type:\"HALF_FLOAT\"}}},parameters:{weight1:.3,weight2:.7}},{name:\"bright_upsample_full_blur_h\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:0,textureSize:\"expr( [width * 1.0 / 2, height * 1.0 / 2] )\"}},{name:\"bright_upsample_full_blur_v\",shader:\"#source(clay.compositor.gaussian_blur)\",inputs:{texture:\"bright_upsample_full_blur_h\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{blurSize:1,blurDir:1,textureSize:\"expr( [width * 1.0, height * 1.0] )\"}},{name:\"bloom_composite\",shader:\"#source(clay.compositor.blend)\",inputs:{texture1:\"bright_upsample_full_blur_v\",texture2:\"bright_upsample_2_blend\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{weight1:.3,weight2:.7}},{name:\"coc\",shader:\"#source(ecgl.dof.coc)\",outputs:{color:{parameters:{minFilter:\"NEAREST\",magFilter:\"NEAREST\",width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\"}}},parameters:{focalDist:50,focalRange:30}},{name:\"dof_far_blur\",shader:\"#source(ecgl.dof.diskBlur)\",inputs:{texture:\"source\",coc:\"coc\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0, height * 1.0] )\"}},{name:\"dof_near_blur\",shader:\"#source(ecgl.dof.diskBlur)\",inputs:{texture:\"source\",coc:\"coc\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}},parameters:{textureSize:\"expr( [width * 1.0, height * 1.0] )\"},defines:{BLUR_NEARFIELD:null}},{name:\"dof_coc_blur\",shader:\"#source(ecgl.dof.diskBlur)\",inputs:{texture:\"coc\"},outputs:{color:{parameters:{minFilter:\"NEAREST\",magFilter:\"NEAREST\",width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\"}}},parameters:{textureSize:\"expr( [width * 1.0, height * 1.0] )\"},defines:{BLUR_COC:null}},{name:\"dof_composite\",shader:\"#source(ecgl.dof.composite)\",inputs:{original:\"source\",blurred:\"dof_far_blur\",nearfield:\"dof_near_blur\",coc:\"coc\",nearcoc:\"dof_coc_blur\"},outputs:{color:{parameters:{width:\"expr(width * 1.0)\",height:\"expr(height * 1.0)\",type:\"HALF_FLOAT\"}}}},{name:\"composite\",shader:\"#source(clay.compositor.hdr.composite)\",inputs:{texture:\"source\",bloom:\"bloom_composite\"},defines:{}},{name:\"FXAA\",shader:\"#source(clay.compositor.fxaa)\",inputs:{texture:\"composite\"}}]}},function(t,e,n){\"use strict\";e.a=\"@export ecgl.dof.coc\\n\\nuniform sampler2D depth;\\n\\nuniform float zNear: 0.1;\\nuniform float zFar: 2000;\\n\\nuniform float focalDistance: 3;\\nuniform float focalRange: 1;\\nuniform float focalLength: 30;\\nuniform float fstop: 2.8;\\n\\nvarying vec2 v_Texcoord;\\n\\n@import clay.util.encode_float\\n\\nvoid main()\\n{\\n float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;\\n\\n float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));\\n\\n float aperture = focalLength / fstop;\\n\\n float coc;\\n\\n float uppper = focalDistance + focalRange;\\n float lower = focalDistance - focalRange;\\n if (dist <= uppper && dist >= lower) {\\n coc = 0.5;\\n }\\n else {\\n float focalAdjusted = dist > uppper ? uppper : lower;\\n\\n coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));\\n coc = clamp(coc, 0.0, 2.0) / 2.00001;\\n\\n if (dist < lower) {\\n coc = -coc;\\n }\\n coc = coc * 0.5 + 0.5;\\n }\\n\\n gl_FragColor = encodeFloat(coc);\\n}\\n@end\\n\\n\\n@export ecgl.dof.composite\\n\\n#define DEBUG 0\\n\\nuniform sampler2D original;\\nuniform sampler2D blurred;\\nuniform sampler2D nearfield;\\nuniform sampler2D coc;\\nuniform sampler2D nearcoc;\\nvarying vec2 v_Texcoord;\\n\\n@import clay.util.rgbm\\n@import clay.util.float\\n\\nvoid main()\\n{\\n vec4 blurredColor = texture2D(blurred, v_Texcoord);\\n vec4 originalColor = texture2D(original, v_Texcoord);\\n\\n float fCoc = decodeFloat(texture2D(coc, v_Texcoord));\\n\\n fCoc = abs(fCoc * 2.0 - 1.0);\\n\\n float weight = smoothstep(0.0, 1.0, fCoc);\\n \\n#ifdef NEARFIELD_ENABLED\\n vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);\\n float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));\\n fNearCoc = abs(fNearCoc * 2.0 - 1.0);\\n\\n gl_FragColor = encodeHDR(\\n mix(\\n nearfieldColor, mix(originalColor, blurredColor, weight),\\n pow(1.0 - fNearCoc, 4.0)\\n )\\n );\\n#else\\n gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));\\n#endif\\n\\n}\\n\\n@end\\n\\n\\n\\n@export ecgl.dof.diskBlur\\n\\n#define POISSON_KERNEL_SIZE 16;\\n\\nuniform sampler2D texture;\\nuniform sampler2D coc;\\nvarying vec2 v_Texcoord;\\n\\nuniform float blurRadius : 10.0;\\nuniform vec2 textureSize : [512.0, 512.0];\\n\\nuniform vec2 poissonKernel[POISSON_KERNEL_SIZE];\\n\\nuniform float percent;\\n\\nfloat nrand(const in vec2 n) {\\n return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);\\n}\\n\\n@import clay.util.rgbm\\n@import clay.util.float\\n\\n\\nvoid main()\\n{\\n vec2 offset = blurRadius / textureSize;\\n\\n float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );\\n float cosa = cos(rnd);\\n float sina = sin(rnd);\\n vec4 basis = vec4(cosa, -sina, sina, cosa);\\n\\n#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)\\n offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);\\n#endif\\n\\n#ifdef BLUR_COC\\n float cocSum = 0.0;\\n#else\\n vec4 color = vec4(0.0);\\n#endif\\n\\n\\n float weightSum = 0.0;\\n\\n for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {\\n vec2 ofs = poissonKernel[i];\\n\\n ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));\\n\\n vec2 uv = v_Texcoord + ofs * offset;\\n vec4 texel = texture2D(texture, uv);\\n\\n float w = 1.0;\\n#ifdef BLUR_COC\\n float fCoc = decodeFloat(texel) * 2.0 - 1.0;\\n cocSum += clamp(fCoc, -1.0, 0.0) * w;\\n#else\\n texel = texel;\\n #if !defined(BLUR_NEARFIELD)\\n float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;\\n w *= abs(fCoc);\\n #endif\\n texel.rgb *= texel.a;\\n color += texel * w;\\n#endif\\n\\n weightSum += w;\\n }\\n\\n#ifdef BLUR_COC\\n gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);\\n#else\\n color /= weightSum;\\n color.rgb /= (color.a + 0.0001);\\n gl_FragColor = color;\\n#endif\\n}\\n\\n@end\"},function(t,e,n){\"use strict\";e.a=\"@export ecgl.edge\\n\\nuniform sampler2D texture;\\n\\nuniform sampler2D normalTexture;\\nuniform sampler2D depthTexture;\\n\\nuniform mat4 projectionInv;\\n\\nuniform vec2 textureSize;\\n\\nuniform vec4 edgeColor: [0,0,0,0.8];\\n\\nvarying vec2 v_Texcoord;\\n\\nvec3 packColor(vec2 coord) {\\n float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;\\n vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);\\n vec4 p4 = projectionInv * p;\\n\\n return vec3(\\n texture2D(normalTexture, coord).rg,\\n -p4.z / p4.w / 5.0\\n );\\n}\\n\\nvoid main() {\\n vec2 cc = v_Texcoord;\\n vec3 center = packColor(cc);\\n\\n float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;\\n float dx = size / textureSize.x;\\n float dy = size / textureSize.y;\\n\\n vec2 coord;\\n vec3 topLeft = packColor(cc+vec2(-dx, -dy));\\n vec3 top = packColor(cc+vec2(0.0, -dy));\\n vec3 topRight = packColor(cc+vec2(dx, -dy));\\n vec3 left = packColor(cc+vec2(-dx, 0.0));\\n vec3 right = packColor(cc+vec2(dx, 0.0));\\n vec3 bottomLeft = packColor(cc+vec2(-dx, dy));\\n vec3 bottom = packColor(cc+vec2(0.0, dy));\\n vec3 bottomRight = packColor(cc+vec2(dx, dy));\\n\\n vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;\\n vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;\\n\\n float edge = sqrt(dot(h, h) + dot(v, v));\\n\\n edge = smoothstep(0.8, 1.0, edge);\\n\\n gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);\\n}\\n@end\"},function(t,e,n){\"use strict\";var r=n(49),a=n(16),o=n(10),s=n(5),l=n(8),u=n(9);function i(t){for(var e=[],n=0;n<30;n++)e.push([Object(r.a)(n,2),Object(r.a)(n,3)]);this._haltonSequence=e,this._frame=0,this._sourceTex=new s.a,this._sourceFb=new o.a,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new s.a,this._outputTex=new s.a;var i=this._blendPass=new a.a({fragment:l.a.source(\"clay.compositor.blend\")});i.material.disableTexturesAll(),i.material.enableTexture([\"texture1\",\"texture2\"]),this._blendFb=new o.a({depthBuffer:!1}),this._outputPass=new a.a({fragment:l.a.source(\"clay.compositor.output\"),blendWithPrevious:!0}),this._outputPass.material.define(\"fragment\",\"OUTPUT_ALPHA\"),this._outputPass.material.blend=function(t){t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)}}i.prototype={constructor:i,jitterProjection:function(t,e){var n=t.viewport,i=n.devicePixelRatio||t.getDevicePixelRatio(),r=n.width*i,a=n.height*i,o=this._haltonSequence[this._frame%this._haltonSequence.length],s=new u.a;s.array[12]=(2*o[0]-1)/r,s.array[13]=(2*o[1]-1)/a,u.a.mul(e.projectionMatrix,s,e.projectionMatrix),u.a.invert(e.invProjectionMatrix,e.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(t,e){this._prevFrameTex.width=t,this._prevFrameTex.height=e,this._outputTex.width=t,this._outputTex.height=e,this._sourceTex.width=t,this._sourceTex.height=e,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(t,e,n){var i=this._blendPass;0===this._frame?(i.setUniform(\"weight1\",0),i.setUniform(\"weight2\",1)):(i.setUniform(\"weight1\",.9),i.setUniform(\"weight2\",.1)),i.setUniform(\"texture1\",this._prevFrameTex),i.setUniform(\"texture2\",e||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(t),i.render(t),this._blendFb.unbind(t),n||(this._outputPass.setUniform(\"texture\",this._outputTex),this._outputPass.render(t));var r=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=r,this._frame++},dispose:function(t){this._sourceFb.dispose(t),this._blendFb.dispose(t),this._prevFrameTex.dispose(t),this._outputTex.dispose(t),this._sourceTex.dispose(t),this._outputPass.dispose(t),this._blendPass.dispose(t)}},e.a=i},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i);n(202),n(203),n(98);r.a.registerAction({type:\"geo3DChangeCamera\",event:\"geo3dcamerachanged\",update:\"series:updateCamera\"},function(e,t){t.eachComponent({mainType:\"geo3D\",query:e},function(t){t.setView(e)})})},function(t,e,n){\"use strict\";var i=n(0),a=n.n(i),r=n(44),o=n(28),s=n(29),l=n(31),u=n(96),h=a.a.extendComponentModel({type:\"geo3D\",layoutMode:\"box\",coordinateSystem:null,optionUpdated:function(){var t=this.option;t.regions=this.getFilledRegions(t.regions,t.map);var e=a.a.helper.completeDimensions([\"value\"],t.data,{encodeDef:this.get(\"encode\"),dimsDef:this.get(\"dimensions\")}),i=new a.a.List(e,this);i.initData(t.regions);var r={};i.each(function(t){var e=i.getName(t),n=i.getItemModel(t);r[e]=n}),this._regionModelMap=r,this._data=i},getData:function(){return this._data},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new a.a.Model(null,this)},getRegionPolygonCoords:function(t){var e=this.getData().getName(t),n=this.coordinateSystem.getRegion(e);return n?n.geometries:[]},getFormattedLabel:function(t,e){var n=this._data.getName(t),i=this.getRegionModel(n),r=i.get(\"normal\"===e?[\"label\",\"formatter\"]:[\"emphasis\",\"label\",\"formatter\"]);null==r&&(r=i.get([\"label\",\"formatter\"]));var a={name:n};if(\"function\"==typeof r)return a.status=e,r(a);if(\"string\"!=typeof r)return n;var o=a.seriesName;return r.replace(\"{a}\",null!=o?o:\"\")},defaultOption:{regions:[]}});a.a.util.merge(h.prototype,u.a),a.a.util.merge(h.prototype,r.a),a.a.util.merge(h.prototype,o.a),a.a.util.merge(h.prototype,s.a),a.a.util.merge(h.prototype,l.a)},function(t,e,n){\"use strict\";var i=n(64),r=n(0),a=n.n(r),o=n(1),s=n(45),l=n(30);a.a.extendComponentView({type:\"geo3D\",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new i.a(e),this.groupGL=new o.a.Node,this._lightRoot=new o.a.Node,this._sceneHelper=new l.a(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new s.a({zr:e.getZr()}),this._control.init()},render:function(t,e,n){this.groupGL.add(this._geo3DBuilder.rootNode);var i,r,a,o=t.coordinateSystem;o&&o.viewGL&&(o.viewGL.add(this._lightRoot),t.get(\"show\")?o.viewGL.add(this.groupGL):o.viewGL.remove(this.groupGL),(i=this._control).setViewGL(o.viewGL),r=t.getModel(\"viewControl\"),i.setFromViewControlModel(r,0),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel(\"postEffect\"),n),o.viewGL.setTemporalSuperSampling(t.getModel(\"temporalSuperSampling\")),this._geo3DBuilder.update(t,e,n,0,t.getData().count()),a=o.viewGL.isLinearSpace()?\"define\":\"undefine\",this._geo3DBuilder.rootNode.traverse(function(t){t.material&&t.material[a](\"fragment\",\"SRGB_DECODE\")}),i.off(\"update\"),i.on(\"update\",function(){n.dispatchAction({type:\"geo3DChangeCamera\",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),center:i.getCenter(),from:this.uid,geo3DId:t.id})}),i.update())},afterRender:function(t,e,n,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,t,n),this._sceneHelper.updateSkybox(r,t,n)},dispose:function(){this._control.dispose()}})},function(t,e,n){\"use strict\";function i(t,e,n){n=n||2;var i,r,a,o,s,l,u,h=e&&e.length,c=h?e[0]*n:t.length,d=g(t,0,c,n,!0),f=[];if(!d)return f;if(h&&(d=function(t,e,n,i){var r,a,o,s,l,u=[];for(r=0,a=e.length;r<a;r++)o=e[r]*i,s=r<a-1?e[r+1]*i:t.length,(l=g(t,o,s,i,!1))===l.next&&(l.steiner=!0),u.push(function(t){var e=t,n=t;for(;e.x<n.x&&(n=e),e=e.next,e!==t;);return n}(l));for(u.sort(y),r=0;r<u.length;r++)!function(t,e){{var n;(e=function(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&o<s){if((o=s)===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n.prev;var l,u=n,h=n.x,c=n.y,d=1/0;i=n.next;for(;i!==u;)r>=i.x&&i.x>=h&&r!==i.x&&_(a<c?r:o,a,h,c,a<c?o:r,a,i.x,i.y)&&((l=Math.abs(a-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&b(i,t)&&(n=i,d=l),i=i.next;return n}(t,e))&&m(n=w(e,t),n.next)}}(u[r],n),n=m(n,n.next);return n}(t,e,d,n)),t.length>80*n){i=a=t[0],r=o=t[1];for(var p=n;p<c;p+=n)(s=t[p])<i&&(i=s),(l=t[p+1])<r&&(r=l),a<s&&(a=s),o<l&&(o=l);u=Math.max(a-i,o-r)}return v(d,f,n,i,r,u),f}function g(t,e,n,i,r){var a,o;if(r===0<T(t,e,n,i))for(a=e;a<n;a+=i)o=s(a,t[a],t[a+1],o);else for(a=n-i;e<=a;a-=i)o=s(a,t[a],t[a+1],o);return o&&h(o,o.next)&&(d(o),o=o.next),o}function m(t,e){if(!t)return t;e=e||t;var n,i=t;do{if(n=!1,i.steiner||!h(i,i.next)&&0!==x(i.prev,i,i.next))i=i.next;else{if(d(i),(i=e=i.prev)===i.next)return null;n=!0}}while(n||i!==e);return e}function v(t,e,n,i,r,a,o){if(t){!o&&a&&function(t,e,n,i){var r=t;for(;null===r.z&&(r.z=p(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next,r!==t;);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,a,o,s,l,u=1;do{for(n=t,a=t=null,o=0;n;){for(o++,i=n,e=s=0;e<u&&(s++,i=i.nextZ);e++);for(l=u;0<s||0<l&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(n=(r=n).nextZ,s--):(i=(r=i).nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,u*=2}while(1<o)}(r)}(t,i,r,a);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?function(t,e,n,i){var r=t.prev,a=t,o=t.next;if(0<=x(r,a,o))return!1;var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,l=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,u=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,h=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,c=p(s,l,e,n,i),d=p(u,h,e,n,i),f=t.nextZ;for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&_(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}f=t.prevZ;for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&_(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.prevZ}return!0}(t,i,r,a):function(t){var e=t.prev,n=t,i=t.next;if(0<=x(e,n,i))return!1;var r=t.next.next;for(;r!==t.prev;){if(_(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&0<=x(r.prev,r,r.next))return!1;r=r.next}return!0}(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),d(t),t=l.next,u=l.next;else if((t=l)===u){o?1===o?v(t=function(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!h(r,a)&&c(r,i,i.next,a)&&b(r,a)&&b(a,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(a.i/n),d(i),d(i.next),i=t=a),i=i.next}while(i!==t);return i}(t,e,n),e,n,i,r,a,2):2===o&&function(t,e,n,i,r,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&c(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;for(;n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next,n!==t;);return i}(t,e)}(o,s)){var l=w(o,s);return o=m(o,o.next),l=m(l,l.next),v(o,e,n,i,r,a),v(l,e,n,i,r,a)}s=s.next}o=o.next}while(o!==t)}(t,e,n,i,r,a):v(m(t),e,n,i,r,a,1);break}}}function y(t,e){return t.x-e.x}function p(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)/r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _(t,e,n,i,r,a,o,s){return 0<=(r-o)*(e-s)-(t-o)*(a-s)&&0<=(t-o)*(i-s)-(n-o)*(e-s)&&0<=(n-o)*(a-s)-(r-o)*(i-s)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function h(t,e){return t.x===e.x&&t.y===e.y}function c(t,e,n,i){return h(t,e)&&h(n,i)||h(t,i)&&h(n,e)||0<x(t,e,n)!=0<x(t,e,i)&&0<x(n,i,t)!=0<x(n,i,e)}function b(t,e){return x(t.prev,t,t.next)<0?0<=x(t,e,t.next)&&0<=x(t,t.prev,e):x(t,e,t.prev)<0||x(t,t.next,e)<0}function w(t,e){var n=new o(t.i,t.x,t.y),i=new o(e.i,e.x,e.y),r=t.next,a=e.prev;return(t.next=e).prev=t,(n.next=r).prev=n,(i.next=n).prev=i,(a.next=i).prev=a,i}function s(t,e,n,i){var r=new o(t,e,n);return i?(r.next=i.next,(r.prev=i).next.prev=r,i.next=r):(r.prev=r).next=r,r}function d(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function o(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}(e.a=i).deviation=function(t,e,n,i){var r=e&&e.length,a=r?e[0]*n:t.length,o=Math.abs(T(t,0,a,n));if(r)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,h=s<l-1?e[s+1]*n:t.length;o-=Math.abs(T(t,u,h,n))}for(var c=0,s=0;s<i.length;s+=3){var d=i[s]*n,f=i[s+1]*n,p=i[s+2]*n;c+=Math.abs((t[d]-t[p])*(t[1+f]-t[1+d])-(t[d]-t[f])*(t[1+p]-t[1+d]))}return 0===o&&0===c?0:Math.abs((c-o)/o)}},function(t,e,n){var i=n(13),r={\"南海诸岛\":[32,80],\"广东\":[0,-10],\"香港\":[10,5],\"澳门\":[-10,10],\"天津\":[5,5]};t.exports=function(t){i.each(t.regions,function(t){var e,n=r[t.name];n&&((e=t.center)[0]+=n[0]/10.5,e[1]+=-n[1]/14)})}},function(t,e,n){var i=n(13),r={Russia:[100,60],\"United States\":[-99,38],\"United States of America\":[-99,38]};t.exports=function(t){i.each(t.regions,function(t){var e,n=r[t.name];n&&((e=t.center)[0]=n[0],e[1]=n[1])})}},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i);n(208),n(209),n(211);r.a.registerAction({type:\"globeChangeCamera\",event:\"globecamerachanged\",update:\"series:updateCamera\"},function(e,t){t.eachComponent({mainType:\"globe\",query:e},function(t){t.setView(e)})}),r.a.registerAction({type:\"globeUpdateDisplacment\",event:\"globedisplacementupdated\",update:\"update\"},function(t,e){})},function(t,e,n){\"use strict\";var i=n(0),o=n.n(i),r=n(44),a=n(28),s=n(29),l=n(31);function u(t,e){t.id=t.id||t.name||e+\"\"}var h=o.a.extendComponentModel({type:\"globe\",layoutMode:\"box\",coordinateSystem:null,init:function(){h.superApply(this,\"init\",arguments),o.a.util.each(this.option.layers,function(t,e){o.a.util.merge(t,this.defaultLayerOption),u(t,e)},this)},mergeOption:function(t){var e=this.option.layers;function n(t){return o.a.util.reduce(t,function(t,e,n){return u(e,n),t[e.id]=e,t},{})}if(this.option.layers=null,h.superApply(this,\"mergeOption\",arguments),e&&e.length){var i=n(t.layers),r=n(e);for(var a in i)r[a]?o.a.util.merge(r[a],i[a],!0):e.push(t.layers[a]);this.option.layers=e}o.a.util.each(this.option.layers,function(t){o.a.util.merge(t,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:\"overlay\"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:\"100%\",height:\"100%\",environment:\"auto\",baseColor:\"#fff\",baseTexture:\"\",heightTexture:\"\",displacementTexture:\"\",displacementScale:0,displacementQuality:\"medium\",globeRadius:100,globeOuterRadius:150,shading:\"lambert\",light:{main:{time:\"\"}},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},getDisplacementTexture:function(){return this.get(\"displacementTexture\")||this.get(\"heightTexture\")},getDisplacemenScale:function(){var t=this.getDisplacementTexture(),e=this.get(\"displacementScale\");return t&&\"none\"!==t||(e=0),e},hasDisplacement:function(){return 0<this.getDisplacemenScale()},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var t=this.getDisplacementTexture(),e=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==t||this._displacementScale!==e,this._displacementTexture=t,this._displacementScale=e},isDisplacementChanged:function(){return this._displacementChanged}});o.a.util.merge(h.prototype,r.a),o.a.util.merge(h.prototype,a.a),o.a.util.merge(h.prototype,s.a),o.a.util.merge(h.prototype,l.a)},function(t,e,n){\"use strict\";var i=n(0),y=n.n(i),_=n(1),r=n(45),a=n(30),s=n(210),x=n(2);y.a.extendComponentView({type:\"globe\",__ecgl__:!0,_displacementScale:0,init:function(t,e){this.groupGL=new _.a.Node,this._sphereGeometry=new _.a.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new _.a.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new _.a.PlaneGeometry,this._earthMesh=new _.a.Mesh({renderNormal:!0}),this._lightRoot=new _.a.Node,this._sceneHelper=new a.a,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._earthMesh),this._control=new r.a({zr:e.getZr()}),this._control.init(),this._layerMeshes={}},render:function(t,e,n){var i=t.coordinateSystem,r=t.get(\"shading\");i.viewGL.add(this._lightRoot),t.get(\"show\")?i.viewGL.add(this.groupGL):i.viewGL.remove(this.groupGL),this._sceneHelper.setScene(i.viewGL.scene),i.viewGL.setPostEffect(t.getModel(\"postEffect\"),n),i.viewGL.setTemporalSuperSampling(t.getModel(\"temporalSuperSampling\"));var a=this._earthMesh;a.geometry=this._sphereGeometry;var o=\"ecgl.\"+r;a.material&&a.material.shader.name===o||(a.material=_.a.createMaterial(o)),_.a.setMaterialFromModel(r,a.material,t,n),[\"roughnessMap\",\"metalnessMap\",\"detailMap\",\"normalMap\"].forEach(function(t){var e=a.material.get(t);e&&(e.flipY=!1)}),a.material.set(\"color\",_.a.parseColor(t.get(\"baseColor\")));var s=.99*i.radius;a.scale.set(s,s,s);var l=a.material.setTextureImage(\"diffuseMap\",t.get(\"baseTexture\"),n,{flipY:!1,anisotropic:8});l&&l.surface&&l.surface.attachToMesh(a);var u=a.material.setTextureImage(\"bumpMap\",t.get(\"heightTexture\"),n,{flipY:!1,anisotropic:8});u&&u.surface&&u.surface.attachToMesh(a),a.material[t.get(\"postEffect.enable\")?\"define\":\"undefine\"](\"fragment\",\"SRGB_DECODE\"),this._updateLight(t,n),this._displaceVertices(t,n),this._updateViewControl(t,n),this._updateLayers(t,n)},afterRender:function(t,e,n,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,t,n),this._sceneHelper.updateSkybox(r,t,n)},_updateLayers:function(t,c){var d=t.coordinateSystem,e=t.get(\"layers\"),f=d.radius,p=[],g=[],m=[],v=[];y.a.util.each(e,function(t){var e,n,i,r,a,o,s,l=new y.a.Model(t),u=l.get(\"type\"),h=_.a.loadTexture(l.get(\"texture\"),c,{flipY:!1,anisotropic:8});h.surface&&h.surface.attachToMesh(this._earthMesh),\"blend\"===u?(e=l.get(\"blendTo\"),n=x.a.firstNotNull(l.get(\"intensity\"),1),\"emission\"===e?(m.push(h),v.push(n)):(p.push(h),g.push(n))):(i=l.get(\"id\"),r=(r=this._layerMeshes[i])||(this._layerMeshes[i]=new _.a.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0})),\"lambert\"===l.get(\"shading\")?(r.material=r.__lambertMaterial||new _.a.Material({autoUpdateTextureStatus:!1,shader:_.a.createShader(\"ecgl.lambert\"),transparent:!0,depthMask:!1}),r.__lambertMaterial=r.material):(r.material=r.__colorMaterial||new _.a.Material({autoUpdateTextureStatus:!1,shader:_.a.createShader(\"ecgl.color\"),transparent:!0,depthMask:!1}),r.__colorMaterial=r.material),r.material.enableTexture(\"diffuseMap\"),a=l.get(\"distance\"),o=f+(null==a?d.radius/100:a),r.scale.set(o,o,o),f=o,s=this._blankTexture||(this._blankTexture=_.a.createBlankTexture(\"rgba(255, 255, 255, 0)\")),r.material.set(\"diffuseMap\",s),_.a.loadTexture(l.get(\"texture\"),c,{flipY:!1,anisotropic:8},function(t){t.surface&&t.surface.attachToMesh(r),r.material.set(\"diffuseMap\",t),c.getZr().refresh()}),l.get(\"show\")?this.groupGL.add(r):this.groupGL.remove(r))},this);var n=this._earthMesh.material;n.define(\"fragment\",\"LAYER_DIFFUSEMAP_COUNT\",p.length),n.define(\"fragment\",\"LAYER_EMISSIVEMAP_COUNT\",m.length),n.set(\"layerDiffuseMap\",p),n.set(\"layerDiffuseIntensity\",g),n.set(\"layerEmissiveMap\",m),n.set(\"layerEmissionIntensity\",v);var i,r,a=t.getModel(\"debug.wireframe\");a.get(\"show\")?(n.define(\"both\",\"WIREFRAME_TRIANGLE\"),i=_.a.parseColor(a.get(\"lineStyle.color\")||\"rgba(0,0,0,0.5)\"),r=x.a.firstNotNull(a.get(\"lineStyle.width\"),1),n.set(\"wireframeLineWidth\",r),n.set(\"wireframeLineColor\",i)):n.undefine(\"both\",\"WIREFRAME_TRIANGLE\")},_updateViewControl:function(t,e){var n=t.coordinateSystem,i=t.getModel(\"viewControl\"),r=(n.viewGL.camera,this);var a=this._control;a.setViewGL(n.viewGL);var o,s,l=i.get(\"targetCoord\");null!=l&&(s=l[0]+90,o=l[1]),a.setFromViewControlModel(i,{baseDistance:n.radius,alpha:o,beta:s}),a.off(\"update\"),a.on(\"update\",function(){e.dispatchAction({type:\"globeChangeCamera\",alpha:a.getAlpha(),beta:a.getBeta(),distance:a.getDistance()-n.radius,center:a.getCenter(),from:r.uid,globeId:t.id})})},_displaceVertices:function(t,e){var n,i,r,a=t.get(\"displacementQuality\"),o=t.get(\"debug.wireframe.show\"),s=t.coordinateSystem;!t.isDisplacementChanged()&&a===this._displacementQuality&&o===this._showDebugWireframe||(this._displacementQuality=a,this._showDebugWireframe=o,n=this._sphereGeometry,r=(i={low:100,medium:200,high:400,ultra:800}[a]||200)/2,n.widthSegments===i&&!o||(n.widthSegments=i,n.heightSegments=r,n.build()),this._doDisplaceVertices(n,s),o&&n.generateBarycentric())},_doDisplaceVertices:function(t,e){var n=t.attributes.position.value,i=t.attributes.texcoord0.value,r=t.__originalPosition;r&&r.length===n.length||((r=new Float32Array(n.length)).set(n),t.__originalPosition=r);for(var a=e.displacementWidth,o=e.displacementHeight,s=e.displacementData,l=0;l<t.vertexCount;l++){var u=3*l,h=2*l,c=r[1+u],d=r[2+u],f=r[3+u],p=i[h++],g=i[h++],m=Math.round(p*(a-1)),v=Math.round(g*(o-1)),y=s?s[v*a+m]:0;n[1+u]=c+c*y,n[2+u]=d+d*y,n[3+u]=f+f*y}t.generateVertexNormals(),t.dirty(),t.updateBoundingBox()},_updateLight:function(t,e){var n=this._earthMesh;this._sceneHelper.updateLight(t);var i=this._sceneHelper.mainLight,r=t.get(\"light.main.time\")||new Date,a=s.a.getPosition(y.a.number.parseDate(r),0,0),o=Math.cos(a.altitude);i.position.y=-o*Math.cos(a.azimuth),i.position.x=Math.sin(a.altitude),i.position.z=o*Math.sin(a.azimuth),i.lookAt(n.getWorldPosition())},dispose:function(t,e){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){\"use strict\";var s=Math.PI,p=Math.sin,g=Math.cos,m=Math.tan,v=Math.asin,y=Math.atan2,_=s/180,i=864e5,r=2440588;function x(t){return t.valueOf()/i-.5+r-2451545}var l=23.4397*_;function b(t){var e,n,i,r,a,o=(e=_*(357.5291+.98560028*t))+_*(1.9148*p(e)+.02*p(2*e)+3e-4*p(3*e))+102.9372*_+s;return{dec:(r=o,v(p(a=0)*g(l)+g(a)*p(l)*p(r))),ra:(i=0,y(p(n=o)*g(l)-m(i)*p(l),g(n)))}}var a={};a.getPosition=function(t,e,n){var i,r,a,o,s,l,u=_*-n,h=_*e,c=x(t),d=b(c),f=_*(280.16+360.9856235*c)-u-d.ra;return{azimuth:(o=f,s=h,l=d.dec,y(p(o),g(o)*p(s)-m(l)*g(s))),altitude:(i=f,r=h,a=d.dec,v(p(r)*p(a)+g(r)*g(a)*g(i)))}},e.a=a},function(t,e,n){\"use strict\";var r=n(212),i=n(0),o=n.n(i),a=n(47),s=n.n(a),l=n(22),u=n(2),h=n(1);function c(t,e){var n=t.getBoxLayoutParams(),i=s.a.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});i.y=e.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,e.getDevicePixelRatio()),this.radius=t.get(\"globeRadius\");var r=t.get(\"globeOuterRadius\");this.altitudeAxis&&this.altitudeAxis.setExtent(0,r-this.radius)}function d(t,e){var n,a=[1/0,-1/0];t.eachSeries(function(t){var e,n,i,r;t.coordinateSystem===this&&(e=t.getData(),(i=(n=t.coordDimToDataDim(\"alt\"))&&n[0])&&(r=e.getDataExtent(i,!0),a[0]=Math.min(a[0],r[0]),a[1]=Math.max(a[1],r[1])))},this),a&&isFinite(a[1]-a[0])&&(n=o.a.helper.createScale(a,{type:\"value\",min:\"dataMin\",max:\"dataMax\"}),this.altitudeAxis=new o.a.Axis(\"altitude\",n),this.resize(this.model,e))}var f={dimensions:r.a.prototype.dimensions,create:function(i,o){var n=[];return i.eachComponent(\"globe\",function(t){t.__viewGL=t.__viewGL||new l.a;var e=new r.a;e.viewGL=t.__viewGL,(t.coordinateSystem=e).model=t,n.push(e),e.resize=c,e.resize(t,o),e.update=d}),i.eachSeries(function(t){if(\"globe\"===t.get(\"coordinateSystem\")){var e=t.getReferringComponents(\"globe\")[0];if(!(e=e||i.getComponent(\"globe\")))throw new Error('globe \"'+u.a.firstNotNull(t.get(\"globe3DIndex\"),t.get(\"globe3DId\"),0)+'\" not found');var n=e.coordinateSystem;t.coordinateSystem=n}}),i.eachComponent(\"globe\",function(n,t){var i,e=n.coordinateSystem,r=n.getDisplacementTexture(),a=n.getDisplacemenScale();n.isDisplacementChanged()&&(n.hasDisplacement()?(i=!0,h.a.loadTexture(r,o,function(t){var e=function(t,e){var n=document.createElement(\"canvas\"),i=n.getContext(\"2d\"),r=t.width,a=t.height;n.width=r,n.height=a,i.drawImage(t,0,0,r,a);for(var o=i.getImageData(0,0,r,a).data,s=new Float32Array(o.length/4),l=0;l<o.length/4;l++){var u=o[4*l];s[l]=u/255*e}return{data:s,width:r,height:a}}(t.image,a);n.setDisplacementData(e.data,e.width,e.height),i||o.dispatchAction({type:\"globeUpdateDisplacment\"})}),i=!1):e.setDisplacementData(null,0,0),e.setDisplacementData(n.displacementData,n.displacementWidth,n.displacementHeight))}),n}};o.a.registerCoordinateSystem(\"globe\",f)},function(t,e,n){\"use strict\";var h=n(6).a.vec3;function i(t){this.radius=t,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}i.prototype={constructor:i,dimensions:[\"lng\",\"lat\",\"alt\"],type:\"globe\",containPoint:function(){},setDisplacementData:function(t,e,n){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=n},_getDisplacementScale:function(t,e){var n=(t+180)/360*(this.displacementWidth-1),i=(90-e)/180*(this.displacementHeight-1),r=Math.round(n)+Math.round(i)*this.displacementWidth;return this.displacementData[r]},dataToPoint:function(t,e){var n=t[0],i=t[1],r=t[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(n,i)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(r)),n=n*Math.PI/180,i=i*Math.PI/180;var o=Math.cos(i)*a;return(e=e||[])[0]=-o*Math.cos(n+Math.PI),e[1]=Math.sin(i)*a,e[2]=o*Math.sin(n+Math.PI),e},pointToData:function(t,e){var n=t[0],i=t[1],r=t[2],a=h.len(t);n/=a,i/=a,r/=a;var o=Math.asin(i),s=Math.atan2(r,-n);s<0&&(s=2*Math.PI+s);var l=180*o/Math.PI,u=180*s/Math.PI-180;return(e=e||[])[0]=u,e[1]=l,e[2]=a-this.radius,this.altitudeAxis&&(e[2]=this.altitudeAxis.coordToData(e[2])),e}},e.a=i},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i);n(214),n(216),n(217);r.a.registerAction({type:\"mapbox3DChangeCamera\",event:\"mapbox3dcamerachanged\",update:\"mapbox3D:updateCamera\"},function(e,t){t.eachComponent({mainType:\"mapbox3D\",query:e},function(t){t.setMapboxCameraOption(e)})})},function(t,e,n){\"use strict\";var i=n(215),r=n(0),a=n.n(r),o=n(101),s=Object(o.a)(\"mapbox3D\",i.a,function(t){t.forEach(function(t){t.setCameraOption(t.model.getMapboxCameraOption())})});a.a.registerCoordinateSystem(\"mapbox3D\",s)},function(t,e,n){\"use strict\";var i=n(100);function r(){i.a.apply(this,arguments)}((r.prototype=new i.a).constructor=r).prototype.type=\"mapbox3D\",e.a=r},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(28),o=n(29),s=[\"zoom\",\"center\",\"pitch\",\"bearing\"],l=r.a.extendComponentModel({type:\"mapbox3D\",layoutMode:\"box\",coordinateSystem:null,defaultOption:{zlevel:-10,style:\"mapbox://styles/mapbox/light-v9\",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:\"auto\"},getMapboxCameraOption:function(){var n=this;return s.reduce(function(t,e){return t[e]=n.get(e),t},{})},setMapboxCameraOption:function(e){null!=e&&s.forEach(function(t){null!=e[t]&&(this.option[t]=e[t])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(t){this._mapbox=t}});r.a.util.merge(l.prototype,a.a),r.a.util.merge(l.prototype,o.a)},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(218),o=n(30),l=n(1),s=n(102);l.a.Shader.import(s.a);r.a.extendComponentView({type:\"mapbox3D\",__ecgl__:!0,init:function(t,e){var n=e.getZr();this._zrLayer=new a.a(\"mapbox3D\",n),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new l.a.Node,this._sceneHelper=new o.a(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var i=this._zrLayer.getMapbox(),r=this._dispatchInteractAction.bind(this,e,i);[\"zoom\",\"rotate\",\"drag\",\"pitch\",\"rotate\",\"move\"].forEach(function(t){i.on(t,r)}),this._groundMesh=new l.a.Mesh({geometry:new l.a.PlaneGeometry,material:new l.a.Material({shader:new l.a.Shader({vertex:l.a.Shader.source(\"ecgl.displayShadow.vertex\"),fragment:l.a.Shader.source(\"ecgl.displayShadow.fragment\")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(t,e,n){var i=this._zrLayer.getMapbox(),r=t.get(\"style\"),a=JSON.stringify(r);a!==this._oldStyleStr&&r&&i.setStyle(r),this._oldStyleStr=a,i.setCenter(t.get(\"center\")),i.setZoom(t.get(\"zoom\")),i.setPitch(t.get(\"pitch\")),i.setBearing(t.get(\"bearing\")),t.setMapbox(i);var o=t.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel(\"postEffect\"),n),o.viewGL.setTemporalSuperSampling(t.getModel(\"temporalSuperSampling\")),this._mapbox3DModel=t},afterRender:function(t,e,n,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,t,n),this._sceneHelper.updateSkybox(r,t,n),t.coordinateSystem.viewGL.scene.traverse(function(t){t.material&&(t.material.define(\"fragment\",\"NORMAL_UP_AXIS\",2),t.material.define(\"fragment\",\"NORMAL_FRONT_AXIS\",1))})},updateCamera:function(t,e,n,i){t.coordinateSystem.setCameraOption(i),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:\"mapbox3DChangeCamera\",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){var t,e,n,i,r,a,o,s;this._mapbox3DModel&&(e=(t=this._mapbox3DModel.coordinateSystem).dataToPoint(t.center),this._groundMesh.position.set(e[0],e[1],-.001),n=new l.a.Plane(new l.a.Vector3(0,0,1),0),i=t.viewGL.camera.castRay(new l.a.Vector2(-1,-1)),r=t.viewGL.camera.castRay(new l.a.Vector2(1,1)),a=i.intersectPlane(n),o=r.intersectPlane(n),s=a.dist(o)/t.viewGL.rootNode.scale.x,this._groundMesh.scale.set(s,s,1))},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}})},function(t,e,n){\"use strict\";function i(t,e){if(this.id=t,this.zr=e,this.dom=document.createElement(\"div\"),this.dom.style.cssText=\"position:absolute;left:0;right:0;top:0;bottom:0;\",!mapboxgl)throw new Error(\"Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/\");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}i.prototype.resize=function(){this._mapbox.resize()},i.prototype.getMapbox=function(){return this._mapbox},i.prototype.clear=function(){},i.prototype.refresh=function(){this._mapbox.resize()};var a=[\"mousedown\",\"mouseup\",\"click\",\"dblclick\",\"mousemove\",\"mousewheel\",\"wheel\",\"touchstart\",\"touchend\",\"touchmove\",\"touchcancel\"];i.prototype._initEvents=function(){var r=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},a.forEach(function(t){this._handlers[t]=function(t){var e={};for(var n in t)e[n]=t[n];e.bubbles=!1;var i=new t.constructor(t.type,e);r.dispatchEvent(i)},this.zr.dom.addEventListener(t,this._handlers[t])},this),this.zr.dom.addEventListener(\"contextmenu\",this._handlers.contextmenu)},i.prototype.dispose=function(){a.forEach(function(t){this.zr.dom.removeEventListener(t,this._handlers[t])},this)},e.a=i},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i);n(220),n(222),n(223);r.a.registerAction({type:\"maptalks3DChangeCamera\",event:\"maptalks3dcamerachanged\",update:\"maptalks3D:updateCamera\"},function(e,t){t.eachComponent({mainType:\"maptalks3D\",query:e},function(t){t.setMaptalksCameraOption(e)})})},function(t,e,n){\"use strict\";var i=n(221),r=n(0),a=n.n(r),o=n(101),s=Object(o.a)(\"maptalks3D\",i.a,function(t){t.forEach(function(t){t.setCameraOption(t.model.getMaptalksCameraOption())})});a.a.registerCoordinateSystem(\"maptalks3D\",s)},function(t,e,n){\"use strict\";var i=n(100);function r(){i.a.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}((r.prototype=new i.a).constructor=r).prototype.type=\"maptalks3D\",e.a=r},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(28),o=n(29),s=[\"zoom\",\"center\",\"pitch\",\"bearing\"],l=r.a.extendComponentModel({type:\"maptalks3D\",layoutMode:\"box\",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:\"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\",attribution:'&copy; <a href=\"http://osm.org\">OpenStreetMap</a> contributors, &copy; <a href=\"https://carto.com/\">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:\"auto\"},getMaptalksCameraOption:function(){var n=this;return s.reduce(function(t,e){return t[e]=n.get(e),t},{})},setMaptalksCameraOption:function(e){null!=e&&s.forEach(function(t){null!=e[t]&&(this.option[t]=e[t])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(t){this._maptalks=t}});r.a.util.merge(l.prototype,a.a),r.a.util.merge(l.prototype,o.a)},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(224),o=n(30),l=n(1),s=n(102);l.a.Shader.import(s.a);r.a.extendComponentView({type:\"maptalks3D\",__ecgl__:!0,init:function(t,e){this._groundMesh=new l.a.Mesh({geometry:new l.a.PlaneGeometry,material:new l.a.Material({shader:new l.a.Shader({vertex:l.a.Shader.source(\"ecgl.displayShadow.vertex\"),fragment:l.a.Shader.source(\"ecgl.displayShadow.fragment\")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(t,e){var n=e.getZr();this._zrLayer=new a.a(\"maptalks3D\",n,t.get(\"center\"),t.get(\"zoom\")),n.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new l.a.Node,this._sceneHelper=new o.a(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var i=this._zrLayer.getMaptalks(),r=this._dispatchInteractAction.bind(this,e,i);[\"zoomend\",\"zooming\",\"zoomstart\",\"dragrotating\",\"pitch\",\"pitchend\",\"movestart\",\"moving\",\"moveend\",\"resize\",\"touchstart\",\"touchmove\",\"touchend\"].forEach(function(t){i.on(t,r)})},render:function(t,e,n){this._zrLayer||this._initMaptalksLayer(t,n);var i=this._zrLayer.getMaptalks(),r=t.get(\"urlTemplate\"),a=i.getBaseLayer();r!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:r,attribution:t.get(\"attribution\")}):(a=new maptalks.TileLayer(\"maptalks-echarts-gl-baselayer\",{urlTemplate:r,subdomains:[\"a\",\"b\",\"c\"],attribution:t.get(\"attribution\")}),i.setBaseLayer(a))),this._oldUrlTemplate=r,i.setCenter(t.get(\"center\")),i.setZoom(t.get(\"zoom\"),{animation:!1}),i.setPitch(t.get(\"pitch\")),i.setBearing(t.get(\"bearing\")),t.setMaptalks(i);var o=t.coordinateSystem;o.viewGL.scene.add(this._lightRoot),o.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel(\"postEffect\"),n),o.viewGL.setTemporalSuperSampling(t.getModel(\"temporalSuperSampling\")),this._maptalks3DModel=t},afterRender:function(t,e,n,i){var r=i.renderer;this._sceneHelper.updateAmbientCubemap(r,t,n),this._sceneHelper.updateSkybox(r,t,n),t.coordinateSystem.viewGL.scene.traverse(function(t){t.material&&(t.material.define(\"fragment\",\"NORMAL_UP_AXIS\",2),t.material.define(\"fragment\",\"NORMAL_FRONT_AXIS\",1))})},updateCamera:function(t,e,n,i){t.coordinateSystem.setCameraOption(i),this._updateGroundMesh(),n.getZr().refresh()},_dispatchInteractAction:function(t,e,n){t.dispatchAction({type:\"maptalks3DChangeCamera\",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){var t,e,n,i,r,a,o,s;this._maptalks3DModel&&(e=(t=this._maptalks3DModel.coordinateSystem).dataToPoint(t.center),this._groundMesh.position.set(e[0],e[1],-.001),n=new l.a.Plane(new l.a.Vector3(0,0,1),0),i=t.viewGL.camera.castRay(new l.a.Vector2(-1,-1)),r=t.viewGL.camera.castRay(new l.a.Vector2(1,1)),a=i.intersectPlane(n),o=r.intersectPlane(n),s=a.dist(o)/t.viewGL.rootNode.scale.x,this._groundMesh.scale.set(s,s,1))},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}})},function(t,e,n){\"use strict\";function i(t,e,n,i){if(this.id=t,this.zr=e,this.dom=document.createElement(\"div\"),this.dom.style.cssText=\"position:absolute;left:0;right:0;top:0;bottom:0;\",!maptalks)throw new Error(\"Maptalks library must be included. See https://maptalks.org\");this._maptalks=new maptalks.Map(this.dom,{center:n,zoom:i,fog:!1}),this._initEvents()}i.prototype.resize=function(){this._maptalks.checkSize()},i.prototype.getMaptalks=function(){return this._maptalks},i.prototype.clear=function(){},i.prototype.refresh=function(){this._maptalks.checkSize()};var r=[\"mousedown\",\"mouseup\",\"click\",\"dblclick\",\"mousemove\",\"mousewheel\",\"DOMMouseScroll\",\"touchstart\",\"touchend\",\"touchmove\",\"touchcancel\"];i.prototype._initEvents=function(){var a=this.dom;this._handlers=this._handlers||{contextmenu:function(t){return t.preventDefault(),!1}},r.forEach(function(r){this._handlers[r]=function(t){var e={};for(var n in t)e[n]=t[n];e.bubbles=!1;var i=new t.constructor(t.type,e);\"mousewheel\"===r||\"DOMMouseScroll\"===r?a.dispatchEvent(i):a.firstElementChild.dispatchEvent(i)},this.zr.dom.addEventListener(r,this._handlers[r])},this),this.zr.dom.addEventListener(\"contextmenu\",this._handlers.contextmenu)},i.prototype.dispose=function(){r.forEach(function(t){this.zr.dom.removeEventListener(t,this._handlers[t])},this),this._maptalks.remove()},e.a=i},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(226),n(229),n(231),n(17));r.a.registerVisual(Object(a.a)(\"bar3D\")),r.a.registerProcessor(function(t,e){t.eachSeriesByType(\"bar3d\",function(t){var e=t.getData();e.filterSelf(function(t){return e.hasValue(t)})})})},function(t,e,n){\"use strict\";var i=n(0),v=n.n(i),r=n(3),a=n(6),o=n(227),y=n(228),m=a.a.vec3,s=v.a.helper.dataStack.isDimensionStacked;function _(t,e){var n=s(t,e[2]);return{dimension:n?t.getCalculationInfo(\"stackResultDimension\"):e[2],isStacked:n}}v.a.registerLayout(function(t,e){t.eachSeriesByType(\"bar3D\",function(t){var e=t.coordinateSystem,n=e&&e.type;if(\"globe\"===n)!function(e,c){var t,n,d=e.getData(),f=e.get(\"minHeight\")||0,p=e.get(\"barSize\"),i=[\"lng\",\"lat\",\"alt\"].map(function(t){return e.coordDimToDataDim(t)[0]});null==p?(t=c.radius*Math.PI,n=Object(y.a)(d,i[0],i[1]),p=[t/Math.sqrt(d.count()/n),t/Math.sqrt(d.count()/n)]):v.a.util.isArray(p)||(p=[p,p]);var g=_(d,i);d.each(i,function(t,e,n,i){var r=d.get(g.dimension,i),a=g.isStacked?r-n:c.altitudeAxis.scale.getExtent()[0],o=Math.max(c.altitudeAxis.dataToCoord(n),f),s=c.dataToPoint([t,e,a]),l=c.dataToPoint([t,e,r]),u=m.sub([],l,s);m.normalize(u,u);var h=[p[0],o,p[1]];d.setItemLayout(i,[s,u,h])}),d.setLayout(\"orient\",r.a.UP.array)}(t,e);else if(\"cartesian3D\"===n)Object(o.a)(t,e);else if(\"geo3D\"===n)!function(e,u){var t,n,h=e.getData(),c=e.get(\"barSize\"),d=e.get(\"minHeight\")||0,i=[\"lng\",\"lat\",\"alt\"].map(function(t){return e.coordDimToDataDim(t)[0]});null==c?(t=Math.min(u.size[0],u.size[2]),n=Object(y.a)(h,i[0],i[1]),c=[t/Math.sqrt(h.count()/n),t/Math.sqrt(h.count()/n)]):v.a.util.isArray(c)||(c=[c,c]);var f=[0,1,0],p=_(h,i);h.each(i,function(t,e,n,i){var r=h.get(p.dimension,i),a=p.isStacked?r-n:u.altitudeAxis.scale.getExtent()[0],o=Math.max(u.altitudeAxis.dataToCoord(n),d),s=u.dataToPoint([t,e,a]),l=[c[0],o,c[1]];h.setItemLayout(i,[s,f,l])}),h.setLayout(\"orient\",[1,0,0])}(t,e);else{if(\"mapbox3D\"!==n&&\"maptalks3D\"!==n)throw e?new Error(\"bar3D doesn't support coordinate system \"+e.type):new Error(\"bar3D doesn't have coordinate system.\");!function(t,h){var e,n,i,r,a,o,c=t.getData(),s=t.coordDimToDataDim(\"lng\")[0],l=t.coordDimToDataDim(\"lat\")[0],u=t.coordDimToDataDim(\"alt\")[0],d=t.get(\"barSize\"),f=t.get(\"minHeight\")||0;null==d?(e=c.getDataExtent(s),n=c.getDataExtent(l),i=h.dataToPoint([e[0],n[0]]),r=h.dataToPoint([e[1],n[1]]),a=Math.min(Math.abs(i[0]-r[0]),Math.abs(i[1]-r[1]))||1,o=Object(y.a)(c,s,l),d=[a/Math.sqrt(c.count()/o),a/Math.sqrt(c.count()/o)]):(v.a.util.isArray(d)||(d=[d,d]),d[0]/=h.getScale()/16,d[1]/=h.getScale()/16);var p=[0,0,1],g=[s,l,u],m=_(c,g);c.each(g,function(t,e,n,i){var r=c.get(m.dimension,i),a=m.isStacked?r-n:0,o=h.dataToPoint([t,e,a]),s=h.dataToPoint([t,e,r]),l=Math.max(s[2]-o[2],f),u=[d[0],l,d[1]];c.setItemLayout(i,[o,p,u])}),c.setLayout(\"orient\",[1,0,0])}(t,e)}})})},function(t,e,n){\"use strict\";var i=n(0),h=n.n(i),y=n(6).a.vec3,_=h.a.helper.dataStack.isDimensionStacked;e.a=function(e,c){var t,n,i,r,a,d=e.getData(),f=e.get(\"barSize\");null==f?(t=c.size,n=c.getAxis(\"x\"),i=c.getAxis(\"y\"),r=\"category\"===n.type?.7*n.getBandWidth():.6*Math.round(t[0]/Math.sqrt(d.count())),a=\"category\"===i.type?.7*i.getBandWidth():.6*Math.round(t[1]/Math.sqrt(d.count())),f=[r,a]):h.a.util.isArray(f)||(f=[f,f]);var o,s,l,p=c.getAxis(\"z\").scale.getExtent(),g=(s=(o=p)[0],l=o[1],!(0<s&&0<l||s<0&&l<0)),u=[\"x\",\"y\",\"z\"].map(function(t){return e.coordDimToDataDim(t)[0]}),m=_(d,u[2]),v=m?d.getCalculationInfo(\"stackResultDimension\"):u[2];d.each(u,function(t,e,n,i){var r=d.get(v,i),a=m?r-n:g?0:p[0],o=c.dataToPoint([t,e,a]),s=c.dataToPoint([t,e,r]),l=y.dist(o,s),u=[0,s[1]<o[1]?-1:1,0];0===Math.abs(l)&&(l=.1);var h=[f[0],l,f[1]];d.setItemLayout(i,[o,u,h])}),d.setLayout(\"orient\",[1,0,0])}},function(t,e,n){\"use strict\";e.a=function(t,e,n){for(var i=t.getDataExtent(e),r=t.getDataExtent(n),a=i[1]-i[0]||i[0],o=r[1]-r[0]||r[0],s=new Uint8Array(2500),l=0;l<t.count();l++){var u=t.get(e,l),h=t.get(n,l),c=Math.floor((u-i[0])/a*49),d=50*Math.floor((h-r[0])/o*49)+c;s[d]=s[d]||1}for(var f=0,l=0;l<s.length;l++)s[l]&&f++;return f/s.length}},function(t,e,n){\"use strict\";var i=n(0),l=n.n(i),y=n(1),u=n(2),h=n(32),o=n(230),r=n(66),c=n(6).a.vec3;l.a.extendChartView({type:\"bar3D\",__ecgl__:!0,init:function(t,e){this.groupGL=new y.a.Node,this._api=e,this._labelsBuilder=new r.a(256,256,e);var s=this;this._labelsBuilder.getLabelPosition=function(t,e,n){if(s._data){var i=s._data.getItemLayout(t),r=i[0],a=i[1],o=i[2][1];return c.scaleAndAdd([],r,a,n+o)}return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(t,e,n){var i=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=i,this._barMesh||(this._barMesh=new y.a.Mesh({geometry:new o.a,shadowDepthMaterial:new y.a.Material({shader:new y.a.Shader(y.a.Shader.source(\"ecgl.sm.depth.vertex\"),y.a.Shader.source(\"ecgl.sm.depth.fragment\"))}),culling:\"cartesian3D\"===t.coordinateSystem.type,renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var r,a=t.coordinateSystem;this._doRender(t,n),a&&a.viewGL&&(a.viewGL.add(this.groupGL),r=a.viewGL.isLinearSpace()?\"define\":\"undefine\",this._barMesh.material[r](\"fragment\",\"SRGB_DECODE\")),this._data=t.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(t)},_updateAnimation:function(t){y.a.updateVertexAnimation([[\"prevPosition\",\"position\"],[\"prevNormal\",\"normal\"]],this._prevBarMesh,this._barMesh,t)},_doRender:function(t,e){var o=t.getData(),n=t.get(\"shading\"),i=\"color\"!==n,s=this,r=this._barMesh,a=\"ecgl.\"+n;r.material&&r.material.shader.name===a||(r.material=y.a.createMaterial(a,[\"VERTEX_COLOR\"])),y.a.setMaterialFromModel(n,r.material,t,e),r.geometry.enableNormal=i,r.geometry.resetOffset();var l=t.get(\"bevelSize\"),u=t.get(\"bevelSmoothness\");r.geometry.bevelSegments=u,r.geometry.bevelSize=l;var h=[],c=new Float32Array(4*o.count()),d=0,f=0,p=!1;o.each(function(t){var e,n;o.hasValue(t)&&(e=o.getItemVisual(t,\"color\"),null==(n=o.getItemVisual(t,\"opacity\"))&&(n=1),y.a.parseColor(e,h),h[3]*=n,c[d++]=h[0],c[d++]=h[1],c[d++]=h[2],c[d++]=h[3],0<h[3]&&(f++,h[3]<.99&&(p=!0)))}),r.geometry.setBarCount(f);var g=o.getLayout(\"orient\"),m=this._barIndexOfData=new Int32Array(o.count()),f=0;o.each(function(t){var e,n,i,r,a;o.hasValue(t)?(n=(e=o.getItemLayout(t))[0],i=e[1],r=e[2],a=4*t,h[0]=c[a++],h[1]=c[a++],h[2]=c[a++],h[3]=c[a++],0<h[3]&&(s._barMesh.geometry.addBar(n,i,g,r,h,t),m[t]=f++)):m[t]=-1}),r.geometry.dirty(),r.geometry.updateBoundingBox();var v=r.material;v.transparent=p,v.depthMask=!p,r.geometry.sortTriangles=p,this._initHandler(t,e)},_initHandler:function(t,n){var i=t.getData(),r=this._barMesh,a=\"cartesian3D\"===t.coordinateSystem.type;r.seriesIndex=t.seriesIndex;var o=-1;r.off(\"mousemove\"),r.off(\"mouseout\"),r.on(\"mousemove\",function(t){var e=r.geometry.getDataIndexOfVertex(t.triangle[0]);e!==o&&(this._downplay(o),this._highlight(e),this._labelsBuilder.updateLabels([e]),a&&n.dispatchAction({type:\"grid3DShowAxisPointer\",value:[i.get(\"x\",e),i.get(\"y\",e),i.get(\"z\",e,!0)]})),o=e,r.dataIndex=e},this),r.on(\"mouseout\",function(t){this._downplay(o),this._labelsBuilder.updateLabels(),o=-1,r.dataIndex=-1,a&&n.dispatchAction({type:\"grid3DHideAxisPointer\"})},this)},_highlight:function(t){var e,n,i,r,a,o,s=this._data;s&&((e=this._barIndexOfData[t])<0||(a=(n=s.getItemModel(t).getModel(\"emphasis.itemStyle\")).get(\"color\"),i=n.get(\"opacity\"),null==a&&(r=s.getItemVisual(t,\"color\"),a=l.a.color.lift(r,-.4)),null==i&&(i=s.getItemVisual(t,\"opacity\")),(o=y.a.parseColor(a))[3]*=i,this._barMesh.geometry.setColor(e,o),this._api.getZr().refresh()))},_downplay:function(t){var e,n,i,r,a=this._data;a&&((e=this._barIndexOfData[t])<0||(n=a.getItemVisual(t,\"color\"),i=a.getItemVisual(t,\"opacity\"),(r=y.a.parseColor(n))[3]*=i,this._barMesh.geometry.setColor(e,r),this._api.getZr().refresh()))},highlight:function(t,e,n,i){this._toggleStatus(\"highlight\",t,e,n,i)},downplay:function(t,e,n,i){this._toggleStatus(\"downplay\",t,e,n,i)},_toggleStatus:function(e,t,n,i,r){var a=t.getData(),o=u.a.queryDataIndex(a,r),s=this;null!=o?l.a.util.each(h.a.normalizeToArray(o),function(t){\"highlight\"===e?this._highlight(t):this._downplay(t)},this):a.each(function(t){\"highlight\"===e?s._highlight(t):s._downplay(t)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){\"use strict\";var I,C,D,E,L,P,N,O,i=n(0),r=n.n(i),a=n(38),o=n(65),s=n(15),l=n(6),R=l.a.vec3,u=l.a.mat3,h=s.a.extend(function(){return{attributes:{position:new s.a.Attribute(\"position\",\"float\",3,\"POSITION\"),normal:new s.a.Attribute(\"normal\",\"float\",3,\"NORMAL\"),color:new s.a.Attribute(\"color\",\"float\",4,\"COLOR\"),prevPosition:new s.a.Attribute(\"prevPosition\",\"float\",3),prevNormal:new s.a.Attribute(\"prevNormal\",\"float\",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(t){var e=this.enableNormal,n=this.getBarVertexCount()*t,i=this.getBarTriangleCount()*t;this.vertexCount!==n&&(this.attributes.position.init(n),e?this.attributes.normal.init(n):this.attributes.normal.value=null,this.attributes.color.init(n)),this.triangleCount!==i&&(this.indices=new(65535<n?Uint32Array:Uint16Array)(3*i),this._dataIndices=new Uint32Array(n))},getBarVertexCount:function(){var t=0<this.bevelSize?this.bevelSegments:0;return 0<t?this._getBevelBarVertexCount(t):this.enableNormal?24:8},getBarTriangleCount:function(){var t=0<this.bevelSize?this.bevelSegments:0;return 0<t?this._getBevelBarTriangleCount(t):12},_getBevelBarVertexCount:function(t){return 4*(t+1)*(t+1)*2},_getBevelBarTriangleCount:function(t){return(1+(4*t+3))*(2*t+1)*2+4},setColor:function(t,e){for(var n=this.getBarVertexCount(),i=n*(t+1),r=n*t;r<i;r++)this.attributes.color.set(r,e);this.dirtyAttribute(\"color\")},getDataIndexOfVertex:function(t){return this._dataIndices?this._dataIndices[t]:null},addBar:function(){for(var t=R.create,g=R.scaleAndAdd,m=t(),v=t(),y=t(),_=t(),x=t(),b=t(),w=t(),T=[],S=[],e=0;e<8;e++)T[e]=t();for(var M=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],A=[0,1,2,0,2,3],I=[],e=0;e<M.length;e++)for(var n=M[e],i=0;i<2;i++){for(var r=[],a=0;a<3;a++)r.push(n[A[3*i+a]]);I.push(r)}return function(t,e,n,i,r,a){var o=this._vertexOffset;if(0<this.bevelSize&&0<this.bevelSegments)this._addBevelBar(t,e,n,i,this.bevelSize,this.bevelSegments,r);else{R.copy(y,e),R.normalize(y,y),R.cross(_,n,y),R.normalize(_,_),R.cross(v,y,_),R.normalize(_,_),R.negate(x,v),R.negate(b,y),R.negate(w,_),g(T[0],t,v,i[0]/2),g(T[0],T[0],_,i[2]/2),g(T[1],t,v,i[0]/2),g(T[1],T[1],w,i[2]/2),g(T[2],t,x,i[0]/2),g(T[2],T[2],w,i[2]/2),g(T[3],t,x,i[0]/2),g(T[3],T[3],_,i[2]/2),g(m,t,y,i[1]),g(T[4],m,v,i[0]/2),g(T[4],T[4],_,i[2]/2),g(T[5],m,v,i[0]/2),g(T[5],T[5],w,i[2]/2),g(T[6],m,x,i[0]/2),g(T[6],T[6],w,i[2]/2),g(T[7],m,x,i[0]/2),g(T[7],T[7],_,i[2]/2);var s=this.attributes;if(this.enableNormal){S[0]=v,S[1]=x,S[2]=y,S[3]=b,S[4]=_,S[5]=w;for(var l=this._vertexOffset,u=0;u<M.length;u++){for(var h=3*this._triangleOffset,c=0;c<6;c++)this.indices[h++]=l+A[c];l+=4,this._triangleOffset+=2}for(u=0;u<M.length;u++)for(var d=S[u],c=0;c<4;c++){var f=M[u][c];s.position.set(this._vertexOffset,T[f]),s.normal.set(this._vertexOffset,d),s.color.set(this._vertexOffset++,r)}}else{for(u=0;u<I.length;u++){for(h=3*this._triangleOffset,c=0;c<3;c++)this.indices[h+c]=I[u][c]+this._vertexOffset;this._triangleOffset++}for(u=0;u<T.length;u++)s.position.set(this._vertexOffset,T[u]),s.color.set(this._vertexOffset++,r)}}for(var p=this._vertexOffset,u=o;u<p;u++)this._dataIndices[u]=a}}(),_addBevelBar:(I=R.create(),C=R.create(),D=R.create(),E=u.create(),L=[],P=[1,-1,-1,1],N=[1,1,-1,-1],O=[2,0],function(t,e,n,i,r,a,o){R.copy(C,e),R.normalize(C,C),R.cross(D,n,C),R.normalize(D,D),R.cross(I,C,D),R.normalize(D,D),E[0]=I[0],E[1]=I[1],E[2]=I[2],E[3]=C[0],E[4]=C[1],E[5]=C[2],E[6]=D[0],E[7]=D[1],E[8]=D[2],r=Math.min(i[0],i[2])/2*r;for(var s=0;s<3;s++)L[s]=Math.max(i[s]-2*r,0);for(var l=(i[0]-L[0])/2,u=(i[1]-L[1])/2,h=(i[2]-L[2])/2,c=[],d=[],f=this._vertexOffset,p=[],s=0;s<2;s++){p[s]=p[s]=[];for(var g=0;g<=a;g++)for(var m=0;m<4;m++){(0===g&&0===s||1===s&&g===a)&&p[s].push(f);for(var v=0;v<=a;v++){var y=v/a*Math.PI/2+Math.PI/2*m,_=g/a*Math.PI/2+Math.PI/2*s;d[0]=l*Math.cos(y)*Math.sin(_),d[1]=u*Math.cos(_),d[2]=h*Math.sin(y)*Math.sin(_),c[0]=d[0]+P[m]*L[0]/2,c[1]=d[1]+u+O[s]*L[1]/2,c[2]=d[2]+N[m]*L[2]/2,Math.abs(l-u)<1e-6&&Math.abs(u-h)<1e-6||(d[0]/=l*l,d[1]/=u*u,d[2]/=h*h),R.normalize(d,d),R.transformMat3(c,c,E),R.transformMat3(d,d,E),R.add(c,c,t),this.attributes.position.set(f,c),this.enableNormal&&this.attributes.normal.set(f,d),this.attributes.color.set(f,o),f++}}}for(var x=4*a+3,b=2*a+1,w=1+x,m=0;m<b;m++)for(s=0;s<=x;s++){var T=m*w+s+this._vertexOffset,S=m*w+(s+1)%w+this._vertexOffset,M=(m+1)*w+(s+1)%w+this._vertexOffset,A=(m+1)*w+s+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[M,T,S]),this.setTriangleIndices(this._triangleOffset++,[M,A,T])}this.setTriangleIndices(this._triangleOffset++,[p[0][0],p[0][2],p[0][1]]),this.setTriangleIndices(this._triangleOffset++,[p[0][0],p[0][3],p[0][2]]),this.setTriangleIndices(this._triangleOffset++,[p[1][0],p[1][1],p[1][2]]),this.setTriangleIndices(this._triangleOffset++,[p[1][0],p[1][2],p[1][3]]),this._vertexOffset=f})});r.a.util.defaults(h.prototype,a.a),r.a.util.defaults(h.prototype,o.a),e.a=h},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(31),o=n(32),s=n(39),l=n(50),u=r.a.extendSeriesModel({type:\"series.bar3D\",dependencies:[\"globe\"],visualColorAccessPath:\"itemStyle.color\",getInitialData:function(t,e){return Object(l.a)(this)},getFormattedLabel:function(t,e,n,i){var r=o.a.getFormattedLabel(this,t,e,n,i);return null==r&&(r=this.getData().get(\"z\",t)),r},formatTooltip:function(t){return Object(s.a)(this,t)},defaultOption:{coordinateSystem:\"cartesian3D\",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:\"xy\",shading:\"color\",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:\"#000\",backgroundColor:\"rgba(255,255,255,0.7)\",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});r.a.util.merge(u.prototype,a.a)},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(233),n(234),n(51)),o=n.n(a),s=n(17);r.a.registerVisual(o()(\"line3D\",\"circle\",null)),r.a.registerVisual(Object(s.a)(\"line3D\")),r.a.registerLayout(function(t,e){t.eachSeriesByType(\"line3D\",function(e){var t=e.getData(),r=e.coordinateSystem;if(r){if(\"cartesian3D\"!==r.type)return void console.error(\"line3D needs cartesian3D coordinateSystem\");var a=new Float32Array(3*t.count()),o=[],s=[],n=r.dimensions.map(function(t){return e.coordDimToDataDim(t)[0]});r&&t.each(n,function(t,e,n,i){o[0]=t,o[1]=e,o[2]=n,r.dataToPoint(o,s),a[3*i]=s[0],a[3*i+1]=s[1],a[3*i+2]=s[2]}),t.setLayout(\"points\",a)}})})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(39),o=n(50);r.a.extendSeriesModel({type:\"series.line3D\",dependencies:[\"grid3D\"],visualColorAccessPath:\"lineStyle.color\",getInitialData:function(t,e){return Object(o.a)(this)},formatTooltip:function(t){return Object(a.a)(this,t)},defaultOption:{coordinateSystem:\"cartesian3D\",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),c=n(1),d=n(2),o=n(25),u=n(9),y=n(3),a=n(235),_=n.n(a),s=n(6),l=n(46),h=s.a.vec3;c.a.Shader.import(l.a);r.a.extendChartView({type:\"line3D\",__ecgl__:!0,init:function(t,e){this.groupGL=new c.a.Node,this._api=e},render:function(t,e,n){var i=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=i,this._line3DMesh||(this._line3DMesh=new c.a.Mesh({geometry:new o.a({useNativeLine:!1,sortTriangles:!0}),material:new c.a.Material({shader:c.a.createShader(\"ecgl.meshLines3D\")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var r,a=t.coordinateSystem;a&&a.viewGL&&(a.viewGL.add(this.groupGL),r=a.viewGL.isLinearSpace()?\"define\":\"undefine\",this._line3DMesh.material[r](\"fragment\",\"SRGB_DECODE\")),this._doRender(t,n),this._data=t.getData(),this._camera=a.viewGL.camera,this.updateCamera(),this._updateAnimation(t)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(t,e){var i=t.getData(),n=this._line3DMesh;n.geometry.resetOffset();var r=i.getLayout(\"points\"),a=[],o=new Float32Array(r.length/3*4),s=0,l=!1;i.each(function(t){var e=i.getItemVisual(t,\"color\"),n=i.getItemVisual(t,\"opacity\");null==n&&(n=1),c.a.parseColor(e,a),a[3]*=n,o[s++]=a[0],o[s++]=a[1],o[s++]=a[2],o[s++]=a[3],a[3]<.99&&(l=!0)}),n.geometry.setVertexCount(n.geometry.getPolylineVertexCount(r)),n.geometry.setTriangleCount(n.geometry.getPolylineTriangleCount(r)),n.geometry.addPolyline(r,o,d.a.firstNotNull(t.get(\"lineStyle.width\"),1)),n.geometry.dirty(),n.geometry.updateBoundingBox();var u=n.material;u.transparent=l,u.depthMask=!l;var h=t.getModel(\"debug.wireframe\");h.get(\"show\")?(n.geometry.createAttribute(\"barycentric\",\"float\",3),n.geometry.generateBarycentric(),n.material.set(\"both\",\"WIREFRAME_TRIANGLE\"),n.material.set(\"wireframeLineColor\",c.a.parseColor(h.get(\"lineStyle.color\")||\"rgba(0,0,0,0.5)\")),n.material.set(\"wireframeLineWidth\",d.a.firstNotNull(h.get(\"lineStyle.width\"),1))):n.material.set(\"both\",\"WIREFRAME_TRIANGLE\"),this._points=r,this._initHandler(t,e)},_updateAnimation:function(t){c.a.updateVertexAnimation([[\"prevPosition\",\"position\"],[\"prevPositionPrev\",\"positionPrev\"],[\"prevPositionNext\",\"positionNext\"]],this._prevLine3DMesh,this._line3DMesh,t)},_initHandler:function(t,i){var r=t.getData(),a=t.coordinateSystem,o=this._line3DMesh,s=-1;o.seriesIndex=t.seriesIndex,o.off(\"mousemove\"),o.off(\"mouseout\"),o.on(\"mousemove\",function(t){var e=a.pointToData(t.point.array),n=r.indicesOfNearest(\"x\",e[0])[0];n!==s&&(i.dispatchAction({type:\"grid3DShowAxisPointer\",value:[r.get(\"x\",n),r.get(\"y\",n),r.get(\"z\",n)]}),o.dataIndex=n),s=n},this),o.on(\"mouseout\",function(t){s=-1,o.dataIndex=-1,i.dispatchAction({type:\"grid3DHideAxisPointer\"})},this)},_updateNDCPosition:function(){var t=new u.a,e=this._camera;u.a.multiply(t,e.projectionMatrix,e.viewMatrix);var n=this._positionNDC,i=this._points,r=i.length/3;n&&n.length/2==r||(n=this._positionNDC=new Float32Array(2*r));for(var a=[],o=0;o<r;o++){var s=3*o,l=2*o;a[0]=i[s],a[1]=i[1+s],a[2]=i[2+s],a[3]=1,h.transformMat4(a,a,t.array),n[l]=a[0]/a[3],n[1+l]=a[1]/a[3]}},_pick:function(t,e,n,i,r,a){var o=this._positionNDC,s=this._data.hostModel.get(\"lineStyle.width\"),l=-1,u=.5*n.viewport.width,h=.5*n.viewport.height;t=(t+1)*u,e=(e+1)*h;for(var c,d,f=1;f<o.length/2;f++){var p=(o[2*(f-1)]+1)*u,g=(o[2*(f-1)+1]+1)*h,m=(o[2*f]+1)*u,v=(o[2*f+1]+1)*h;_.a.containStroke(p,g,m,v,s,t,e)&&(l=(p-t)*(p-t)+(g-e)*(g-e)<(m-t)*(m-t)+(v-e)*(v-e)?f-1:f)}0<=l&&(c=3*l,d=new y.a(this._points[c],this._points[1+c],this._points[2+c]),a.push({dataIndex:l,point:d,pointWorld:d.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(d)}))},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e){e.containStroke=function(t,e,n,i,r,a,o){if(0===r)return!1;var s=r,l=0;if(e+s<o&&i+s<o||o<e-s&&o<i-s||t+s<a&&n+s<a||a<t-s&&a<n-s)return!1;if(t===n)return Math.abs(a-t)<=s/2;var u=(l=(e-i)/(t-n))*a-o+(t*i-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(237),n(238),n(51)),o=n.n(a),s=n(17);r.a.registerVisual(o()(\"scatter3D\",\"circle\",null)),r.a.registerVisual(Object(s.a)(\"scatter3D\")),r.a.registerLayout({seriesType:\"scatter3D\",reset:function(e){var a=e.coordinateSystem;if(a){var t=a.dimensions;if(t.length<3)return void console.error(\"scatter3D needs 3D coordinateSystem\");var o=t.map(function(t){return e.coordDimToDataDim(t)[0]}),s=[],l=[];return{progress:function(t,e){for(var n=new Float32Array(3*(t.end-t.start)),i=t.start;i<t.end;i++){var r=3*(i-t.start);s[0]=e.get(o[0],i),s[1]=e.get(o[1],i),s[2]=e.get(o[2],i),a.dataToPoint(s,l),n[r]=l[0],n[1+r]=l[1],n[2+r]=l[2]}e.setLayout(\"points\",n)}}}}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),s=n(32),a=n(39),o=n(50);r.a.extendSeriesModel({type:\"series.scatter3D\",dependencies:[\"globe\",\"grid3D\",\"geo3D\"],visualColorAccessPath:\"itemStyle.color\",getInitialData:function(t,e){return Object(o.a)(this)},getFormattedLabel:function(t,e,n,i){var r,a,o=s.a.getFormattedLabel(this,t,e,n,i);return null==o&&(a=(r=this.getData()).dimensions[r.dimensions.length-1],o=r.get(a,t)),o},formatTooltip:function(t){return Object(a.a)(this,t)},defaultOption:{coordinateSystem:\"cartesian3D\",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:\"circle\",symbolSize:10,blendMode:\"source-over\",label:{show:!1,position:\"right\",distance:5,textStyle:{fontSize:14,color:\"#000\",backgroundColor:\"rgba(255,255,255,0.7)\",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}})},function(t,e,n){\"use strict\";var i=n(0),l=n.n(i),r=n(1),u=n(2),h=n(32),a=n(67);l.a.extendChartView({type:\"scatter3D\",__ecgl__:!0,init:function(t,e){this.groupGL=new r.a.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(t,e,n){if(this.groupGL.removeAll(),t.getData().count()){var i=t.coordinateSystem;if(!i||!i.viewGL)throw new Error(\"Invalid coordinate system\");i.viewGL.add(this.groupGL),this._camera=i.viewGL.camera;var r=(r=this._pointsBuilderList[0])||(this._pointsBuilderList[0]=new a.a(!1,n));this._pointsBuilderList.length=1,this.groupGL.add(r.rootNode),r.update(t,e,n),r.updateView(i.viewGL.camera)}},incrementalPrepareRender:function(t,e,n){var i=t.coordinateSystem;if(!i||!i.viewGL)throw new Error(\"Invalid coordinate system\");i.viewGL.add(this.groupGL),this._camera=i.viewGL.camera,this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(t,e,n,i){var r;t.end<=t.start||((r=this._pointsBuilderList[this._currentStep])||(r=new a.a(!1,i),this._pointsBuilderList[this._currentStep]=r),this.groupGL.add(r.rootNode),r.update(e,n,i,t.start,t.end),r.updateView(e.coordinateSystem.viewGL.camera),this._currentStep++)},updateCamera:function(){this._pointsBuilderList.forEach(function(t){t.updateView(this._camera)},this)},highlight:function(t,e,n,i){this._toggleStatus(\"highlight\",t,e,n,i)},downplay:function(t,e,n,i){this._toggleStatus(\"downplay\",t,e,n,i)},_toggleStatus:function(t,e,n,i,r){var a=e.getData(),o=u.a.queryDataIndex(a,r),s=\"highlight\"===t;null!=o?l.a.util.each(h.a.normalizeToArray(o),function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];s?n.highlight(a,t):n.downplay(a,t)}},this):a.each(function(t){for(var e=0;e<this._pointsBuilderList.length;e++){var n=this._pointsBuilderList[e];s?n.highlight(a,t):n.downplay(a,t)}})},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){\"use strict\";var i=n(0),h=n.n(i);function o(t,e,n){(e=e||document.createElement(\"canvas\")).width=t,e.height=t;var i=e.getContext(\"2d\");return n&&n(i),e}function r(t,h,c){var d=h.width,f=h.height,e=t.canvas.width,n=t.canvas.height,p=d/e,g=f/n;function m(t){return t<128?1:-1}for(var i=t.createImageData(e,n),r=0;r<n;r++)for(var a=0;a<e;a++){var o=function(t,e){var n=1/0;t=Math.floor(t*p);for(var i=(e=Math.floor(e*g))*d+t,r=m(h.data[4*i]),a=Math.max(e-c,0);a<Math.min(e+c,f);a++)for(var o=Math.max(t-c,0);o<Math.min(t+c,d);o++){var s,i=a*d+o,l=o-t,u=a-e;r===m(h.data[4*i])||(s=l*l+u*u)<n&&(n=s)}return r*Math.sqrt(n)}(a,r)/c*.5+.5,s=4*(r*e+a);i.data[s++]=255*(1-o),i.data[s++]=255*(1-o),i.data[s++]=255*(1-o),i.data[s++]=255}return i}var c={getMarginByStyle:function(t){var e=t.minMargin||0,n=0;t.stroke&&\"none\"!==t.stroke&&(n=null==t.lineWidth?1:t.lineWidth);var i=t.shadowBlur||0,r=t.shadowOffsetX||0,a=t.shadowOffsetY||0,o={};return o.left=Math.max(n/2,-r+i,e),o.right=Math.max(n/2,r+i,e),o.top=Math.max(n/2,-a+i,e),o.bottom=Math.max(n/2,a+i,e),o},createSymbolSprite:function(t,e,n,i){var r=function(t,e,n,i){h.a.util.isArray(e)||(e=[e,e]);var r=c.getMarginByStyle(n,i),a=e[0]+r.left+r.right,o=e[1]+r.top+r.bottom,s=h.a.helper.createSymbol(t,0,0,e[0],e[1]),l=Math.max(a,o);s.position=[r.left,r.top],o<a?s.position[1]+=(l-o)/2:s.position[0]+=(l-a)/2;var u=s.getBoundingRect();return s.position[0]-=u.x,s.position[1]-=u.y,s.setStyle(n),s.update(),s.__size=l,s}(t,e,n),a=c.getMarginByStyle(n);return{image:o(r.__size,i,function(t){r.brush(t)}),margin:a}},createSDFFromCanvas:function(n,t,i,e){return o(t,e,function(t){var e=n.getContext(\"2d\").getImageData(0,0,n.width,n.height);t.putImageData(r(t,e,i),0,0)})},createSimpleSprite:function(i,t){return o(i,t,function(t){var e=i/2;t.beginPath(),t.arc(e,e,60,0,2*Math.PI,!1),t.closePath();var n=t.createRadialGradient(e,e,0,e,e,e);n.addColorStop(0,\"rgba(255, 255, 255, 1)\"),n.addColorStop(.5,\"rgba(255, 255, 255, 0.5)\"),n.addColorStop(1,\"rgba(255, 255, 255, 0)\"),t.fillStyle=n,t.fill()})}};e.a=c},function(t,e,n){\"use strict\";var v=n(1),i=n(241),r=n(0),a=n.n(r),o=n(6),s=n(242),l=o.a.vec4;v.a.Shader.import(s.a);var u=v.a.Mesh.extend(function(){var t=new v.a.Geometry({dynamic:!0,attributes:{color:new v.a.Geometry.Attribute(\"color\",\"float\",4,\"COLOR\"),position:new v.a.Geometry.Attribute(\"position\",\"float\",3,\"POSITION\"),size:new v.a.Geometry.Attribute(\"size\",\"float\",1),prevPosition:new v.a.Geometry.Attribute(\"prevPosition\",\"float\",3),prevSize:new v.a.Geometry.Attribute(\"prevSize\",\"float\",1)}});a.a.util.extend(t,i.a);var e=new v.a.Material({shader:v.a.createShader(\"ecgl.sdfSprite\"),transparent:!0,depthMask:!1});e.enableTexture(\"sprite\"),e.define(\"both\",\"VERTEX_COLOR\"),e.define(\"both\",\"VERTEX_SIZE\");var n=new v.a.Texture2D({image:document.createElement(\"canvas\"),flipY:!1});return e.set(\"sprite\",n),t.pick=this._pick.bind(this),{geometry:t,material:e,mode:v.a.Mesh.POINTS,sizeScale:1}},{_pick:function(t,e,n,i,r,a){var o=this._positionNDC;if(o)for(var s=n.viewport,l=2/s.width,u=2/s.height,h=this.geometry.vertexCount-1;0<=h;h--){var c,d,f=this.geometry.indices?this.geometry.indices[h]:h,p=o[2*f],g=o[2*f+1],m=this.geometry.attributes.size.get(f)/this.sizeScale/2;p-m*l<t&&t<p+m*l&&g-m*u<e&&e<g+m*u&&(c=new v.a.Vector3,d=new v.a.Vector3,this.geometry.attributes.position.get(f,c.array),v.a.Vector3.transformMat4(d,c,this.worldTransform),a.push({vertexIndex:f,point:c,pointWorld:d,target:this,distance:d.distance(i.getWorldPosition())}))}},updateNDCPosition:function(t,e,n){var i=this._positionNDC,r=this.geometry;i&&i.length/2===r.vertexCount||(i=this._positionNDC=new Float32Array(2*r.vertexCount));for(var a=l.create(),o=0;o<r.vertexCount;o++)r.attributes.position.get(o,a),a[3]=1,l.transformMat4(a,a,t.array),l.scale(a,a,1/a[3]),i[2*o]=a[0],i[2*o+1]=a[1]}});e.a=u},function(t,e,n){\"use strict\";var r=n(97),u=n(6).a.vec3;e.a={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&2e4<=this.vertexCount},doSortVertices:function(t,e){var n=this.indices,i=u.create();if(!n){n=this.indices=new(65535<this.vertexCount?Uint32Array:Uint16Array)(this.vertexCount);for(var r=0;r<n.length;r++)n[r]=r}if(0===e){var a,o=this.attributes.position,t=t.array,s=0;this._zList&&this._zList.length===this.vertexCount||(this._zList=new Float32Array(this.vertexCount));for(r=0;r<this.vertexCount;r++){o.get(r,i);var l=u.sqrDist(i,t);isNaN(l)&&(l=1e7,s++),0===r?(a=l,l=0):l-=a,this._zList[r]=l}this._noneCount=s}if(this.vertexCount<2e4)0===e&&this._simpleSort(.05<this._noneCount/this.vertexCount);else for(r=0;r<3;r++)this._progressiveQuickSort(3*e+r);this.dirtyIndices()},_simpleSort:function(t){var n=this._zList,e=this.indices;function i(t,e){return n[e]-n[t]}t?Array.prototype.sort.call(e,i):r.a.sort(e,i,0,e.length-1)},_progressiveQuickSort:function(t){var n=this._zList,e=this.indices;this._quickSort=this._quickSort||new r.a,this._quickSort.step(e,function(t,e){return n[e]-n[t]},t)}}},function(t,e,n){\"use strict\";e.a=\"@export ecgl.sdfSprite.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform float elapsedTime : 0;\\n\\nattribute vec3 position : POSITION;\\n\\n#ifdef VERTEX_SIZE\\nattribute float size;\\n#else\\nuniform float u_Size;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\nattribute vec4 a_FillColor: COLOR;\\nvarying vec4 v_Color;\\n#endif\\n\\n#ifdef VERTEX_ANIMATION\\nattribute vec3 prevPosition;\\nattribute float prevSize;\\nuniform float percent : 1.0;\\n#endif\\n\\n\\n#ifdef POSITIONTEXTURE_ENABLED\\nuniform sampler2D positionTexture;\\n#endif\\n\\nvarying float v_Size;\\n\\nvoid main()\\n{\\n\\n#ifdef POSITIONTEXTURE_ENABLED\\n gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);\\n#else\\n\\n #ifdef VERTEX_ANIMATION\\n vec3 pos = mix(prevPosition, position, percent);\\n #else\\n vec3 pos = position;\\n #endif\\n gl_Position = worldViewProjection * vec4(pos, 1.0);\\n#endif\\n\\n#ifdef VERTEX_SIZE\\n#ifdef VERTEX_ANIMATION\\n v_Size = mix(prevSize, size, percent);\\n#else\\n v_Size = size;\\n#endif\\n#else\\n v_Size = u_Size;\\n#endif\\n\\n#ifdef VERTEX_COLOR\\n v_Color = a_FillColor;\\n #endif\\n\\n gl_PointSize = v_Size;\\n}\\n\\n@end\\n\\n@export ecgl.sdfSprite.fragment\\n\\nuniform vec4 color: [1, 1, 1, 1];\\nuniform vec4 strokeColor: [1, 1, 1, 1];\\nuniform float smoothing: 0.07;\\n\\nuniform float lineWidth: 0.0;\\n\\n#ifdef VERTEX_COLOR\\nvarying vec4 v_Color;\\n#endif\\n\\nvarying float v_Size;\\n\\nuniform sampler2D sprite;\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n gl_FragColor = color;\\n\\n vec4 _strokeColor = strokeColor;\\n\\n#ifdef VERTEX_COLOR\\n gl_FragColor *= v_Color;\\n #endif\\n\\n#ifdef SPRITE_ENABLED\\n float d = texture2D(sprite, gl_PointCoord).r;\\n gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);\\n\\n if (lineWidth > 0.0) {\\n float sLineWidth = lineWidth / 2.0;\\n\\n float outlineMaxValue0 = 0.5 + sLineWidth;\\n float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;\\n float outlineMinValue0 = 0.5 - sLineWidth - smoothing;\\n float outlineMinValue1 = 0.5 - sLineWidth;\\n\\n if (d <= outlineMaxValue1 && d >= outlineMinValue0) {\\n float a = _strokeColor.a;\\n if (d <= outlineMinValue1) {\\n a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);\\n }\\n else {\\n a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);\\n }\\n gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);\\n gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;\\n }\\n }\\n#endif\\n\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(gl_FragColor);\\n#endif\\n}\\n@end\"},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(244),n(245),n(248),n(17));r.a.registerVisual(Object(a.a)(\"lines3D\")),r.a.registerAction({type:\"lines3DPauseEffect\",event:\"lines3deffectpaused\",update:\"series.lines3D:pauseEffect\"},function(){}),r.a.registerAction({type:\"lines3DResumeEffect\",event:\"lines3deffectresumed\",update:\"series.lines3D:resumeEffect\"},function(){}),r.a.registerAction({type:\"lines3DToggleEffect\",event:\"lines3deffectchanged\",update:\"series.lines3D:toggleEffect\"},function(){})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(6),h=a.a.vec3,c=a.a.vec2,d=h.normalize,f=h.cross,p=h.sub,g=h.add,m=h.create,v=m(),y=m(),_=m(),x=m(),b=[],w=[];function s(t,e){c.copy(b,t[0]),c.copy(w,t[1]);var n=[],i=n[0]=m(),r=n[1]=m(),a=n[2]=m(),o=n[3]=m();e.dataToPoint(b,i),e.dataToPoint(w,o),d(v,i),p(y,o,i),d(y,y),f(_,y,v),d(_,_),f(y,v,_),g(r,v,y),d(r,r),d(v,o),p(y,i,o),d(y,y),f(_,y,v),d(_,_),f(y,v,_),g(a,v,y),d(a,a),g(x,i,o),d(x,x);var s=h.dot(i,x),l=h.dot(x,r),u=(Math.max(h.len(i),h.len(o))-s)/l*2;return h.scaleAndAdd(r,i,r,u),h.scaleAndAdd(a,o,a,u),n}function l(t,e){for(var n=new Float32Array(3*t.length),i=0,r=[],a=0;a<t.length;a++)e.dataToPoint(t[a],r),n[i++]=r[0],n[i++]=r[1],n[i++]=r[2];return n}function u(i){var r=[];return i.each(function(t){var e=i.getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow(\"coords\",!0);if(1,!(n instanceof Array&&0<n.length&&n[0]instanceof Array))throw new Error(\"Invalid coords \"+JSON.stringify(n)+\". Lines must have 2d coords array in data item.\");r.push(n)}),{coordsList:r}}function o(t,i,r){var a=t.getData(),o=t.get(\"polyline\"),s=u(a);a.setLayout(\"lineType\",o?\"polyline\":\"cubicBezier\"),a.each(function(t){var e=s.coordsList[t],n=o?l(e,i):function(t,e,n){var i=[],r=i[0]=h.create(),a=i[1]=h.create(),o=i[2]=h.create(),s=i[3]=h.create();e.dataToPoint(t[0],r),e.dataToPoint(t[1],s);var l=h.dist(r,s);return h.lerp(a,r,s,.3),h.lerp(o,r,s,.3),h.scaleAndAdd(a,a,n,Math.min(.1*l,10)),h.scaleAndAdd(o,o,n,Math.min(.1*l,10)),i}(e,i,r);a.setItemLayout(t,n)})}r.a.registerLayout(function(t,e){t.eachSeriesByType(\"lines3D\",function(t){var e=t.coordinateSystem;\"globe\"===e.type?function(t,i){var r=t.getData(),a=t.get(\"polyline\");r.setLayout(\"lineType\",a?\"polyline\":\"cubicBezier\");var o=u(r);r.each(function(t){var e=o.coordsList[t],n=a?l:s;r.setItemLayout(t,n(e,i))})}(t,e):\"geo3D\"===e.type?o(t,e,[0,1,0]):\"mapbox3D\"!==e.type&&\"maptalks3D\"!==e.type||o(t,e,[0,0,1])})})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),g=n(1),a=n(25),o=n(246),s=n(46);g.a.Shader.import(s.a);r.a.extendChartView({type:\"lines3D\",__ecgl__:!0,init:function(t,e){this.groupGL=new g.a.Node,this._meshLinesMaterial=new g.a.Material({shader:g.a.createShader(\"ecgl.meshLines3D\"),transparent:!0,depthMask:!1}),this._linesMesh=new g.a.Mesh({geometry:new a.a,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new o.a},render:function(t,e,n){this.groupGL.add(this._linesMesh);var i,r=t.coordinateSystem,a=t.getData();r&&r.viewGL&&(r.viewGL.add(this.groupGL),this._updateLines(t,e,n),i=r.viewGL.isLinearSpace()?\"define\":\"undefine\",this._linesMesh.material[i](\"fragment\",\"SRGB_DECODE\"),this._trailMesh.material[i](\"fragment\",\"SRGB_DECODE\"));var o=this._trailMesh;o.stopAnimation(),t.get(\"effect.show\")?(this.groupGL.add(o),o.updateData(a,n,this._linesMesh.geometry),o.__time=o.__time||0,this._curveEffectsAnimator=o.animate(\"\",{loop:!0}).when(36e5,{__time:36e5}).during(function(){o.setAnimationTime(o.__time)}).start()):(this.groupGL.remove(o),this._curveEffectsAnimator=null),this._linesMesh.material.blend=this._trailMesh.material.blend=\"lighter\"===t.get(\"blendMode\")?g.a.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var t=this._curveEffectsAnimator;t&&(t.isPaused()?t.resume():t.pause())},_updateLines:function(t,e,n){var a=t.getData(),i=t.coordinateSystem,o=this._linesMesh.geometry,s=t.get(\"polyline\");o.expandLine=!0;var r,l=null!=(r=i).radius?r.radius:null!=r.size?Math.max(r.size[0],r.size[1],r.size[2]):100;o.segmentScale=l/20;var u=\"lineStyle.width\".split(\".\"),h=n.getDevicePixelRatio(),c=0;a.each(function(t){var e=a.getItemModel(t).get(u);null==e&&(e=1),a.setItemVisual(t,\"lineWidth\",e),c=Math.max(e,c)}),o.useNativeLine=!1;var d=0,f=0;a.each(function(t){var e=a.getItemLayout(t);s?(d+=o.getPolylineVertexCount(e),f+=o.getPolylineTriangleCount(e)):(d+=o.getCubicCurveVertexCount(e[0],e[1],e[2],e[3]),f+=o.getCubicCurveTriangleCount(e[0],e[1],e[2],e[3]))}),o.setVertexCount(d),o.setTriangleCount(f),o.resetOffset();var p=[];a.each(function(t){var e=a.getItemLayout(t),n=a.getItemVisual(t,\"color\"),i=a.getItemVisual(t,\"opacity\"),r=a.getItemVisual(t,\"lineWidth\")*h;null==i&&(i=1),(p=g.a.parseColor(n,p))[3]*=i,s?o.addPolyline(e,p,r):o.addCubicCurve(e[0],e[1],e[2],e[3],p,r)}),o.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){\"use strict\";var i=n(0),I=(n.n(i),n(1)),r=n(6),a=n(25),o=n(247),C=r.a.vec3;I.a.Shader.import(o.a),e.a=I.a.Mesh.extend(function(){var t=new I.a.Material({shader:new I.a.Shader(I.a.Shader.source(\"ecgl.trail2.vertex\"),I.a.Shader.source(\"ecgl.trail2.fragment\")),transparent:!0,depthMask:!1}),e=new a.a({dynamic:!0});return e.createAttribute(\"dist\",\"float\",1),e.createAttribute(\"distAll\",\"float\",1),e.createAttribute(\"start\",\"float\",1),{geometry:e,material:t,culling:!1,$ignorePicking:!0}},{updateData:function(h,t,c){var e=h.hostModel,d=this.geometry,n=e.getModel(\"effect\"),f=n.get(\"trailWidth\")*t.getDevicePixelRatio(),i=n.get(\"trailLength\"),r=e.get(\"effect.constantSpeed\"),p=1e3*e.get(\"effect.period\"),g=null!=r;this.getScene()||console.error(\"TrailMesh must been add to scene before updateData\"),g?this.material.set(\"speed\",r/1e3):this.material.set(\"period\",p),this.material[g?\"define\":\"undefine\"](\"vertex\",\"CONSTANT_SPEED\");var m=e.get(\"polyline\");d.trailLength=i,this.material.set(\"trailLength\",i),d.resetOffset(),[\"position\",\"positionPrev\",\"positionNext\"].forEach(function(t){d.attributes[t].value=c.attributes[t].value});[\"dist\",\"distAll\",\"start\",\"offset\",\"color\"].forEach(function(t){d.attributes[t].init(d.vertexCount)}),d.indices=c.indices;var v=[],y=n.get(\"trailColor\"),_=n.get(\"trailOpacity\"),x=null!=y,b=null!=_;this.updateWorldTransform();var w=this.worldTransform.x.len(),T=this.worldTransform.y.len(),S=this.worldTransform.z.len(),M=0,A=0;h.each(function(t){var e=h.getItemLayout(t),n=b?_:h.getItemVisual(t,\"opacity\"),i=h.getItemVisual(t,\"color\");null==n&&(n=1),(v=I.a.parseColor(x?y:i,v))[3]*=n;for(var r=m?c.getPolylineVertexCount(e):c.getCubicCurveVertexCount(e[0],e[1],e[2],e[3]),a=0,o=[],s=[],l=M;l<M+r;l++)d.attributes.position.get(l,o),o[0]*=w,o[1]*=T,o[2]*=S,M<l&&(a+=C.dist(o,s)),d.attributes.dist.set(l,a),C.copy(s,o);A=Math.max(A,a);for(var u=Math.random()*(g?a:p),l=M;l<M+r;l++)d.attributes.distAll.set(l,a),d.attributes.start.set(l,u),d.attributes.offset.set(l,(0<c.attributes.offset.get(l)?1:-1)*f/2),d.attributes.color.set(l,v);M+=r}),this.material.set(\"spotSize\",.1*A*i),this.material.set(\"spotIntensity\",n.get(\"spotIntensity\")),d.dirty()},setAnimationTime:function(t){this.material.set(\"time\",t)}})},function(t,e,n){\"use strict\";e.a=\"@export ecgl.trail2.vertex\\nattribute vec3 position: POSITION;\\nattribute vec3 positionPrev;\\nattribute vec3 positionNext;\\nattribute float offset;\\nattribute float dist;\\nattribute float distAll;\\nattribute float start;\\n\\nattribute vec4 a_Color : COLOR;\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform vec4 viewport : VIEWPORT;\\nuniform float near : NEAR;\\n\\nuniform float speed : 0;\\nuniform float trailLength: 0.3;\\nuniform float time;\\nuniform float period: 1000;\\n\\nuniform float spotSize: 1;\\n\\nvarying vec4 v_Color;\\nvarying float v_Percent;\\nvarying float v_SpotPercent;\\n\\n@import ecgl.common.wireframe.vertexHeader\\n\\n@import ecgl.lines3D.clipNear\\n\\nvoid main()\\n{\\n @import ecgl.lines3D.expandLine\\n\\n gl_Position = currProj;\\n\\n v_Color = a_Color;\\n\\n @import ecgl.common.wireframe.vertexMain\\n\\n#ifdef CONSTANT_SPEED\\n float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;\\n#else\\n float t = mod((time + start) / period, 1. + trailLength) - trailLength;\\n#endif\\n\\n float trailLen = distAll * trailLength;\\n\\n v_Percent = (dist - t * distAll) / trailLen;\\n\\n v_SpotPercent = spotSize / distAll;\\n\\n }\\n@end\\n\\n\\n@export ecgl.trail2.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\nuniform float spotIntensity: 5;\\n\\nvarying vec4 v_Color;\\nvarying float v_Percent;\\nvarying float v_SpotPercent;\\n\\n@import ecgl.common.wireframe.fragmentHeader\\n\\n@import clay.util.srgb\\n\\nvoid main()\\n{\\n if (v_Percent > 1.0 || v_Percent < 0.0) {\\n discard;\\n }\\n\\n float fade = v_Percent;\\n\\n#ifdef SRGB_DECODE\\n gl_FragColor = sRGBToLinear(color * v_Color);\\n#else\\n gl_FragColor = color * v_Color;\\n#endif\\n\\n @import ecgl.common.wireframe.fragmentMain\\n\\n if (v_Percent > (1.0 - v_SpotPercent)) {\\n gl_FragColor.rgb *= spotIntensity;\\n }\\n\\n gl_FragColor.a *= fade;\\n}\\n\\n@end\"},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i);r.a.extendSeriesModel({type:\"series.lines3D\",dependencies:[\"globe\"],visualColorAccessPath:\"lineStyle.color\",getInitialData:function(t,e){var a=new r.a.List([\"value\"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(t,e,n,i){if(t instanceof Array)return NaN;a.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[i]:r:void 0}),a},defaultOption:{coordinateSystem:\"globe\",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:\"source-over\",lineStyle:{width:1,opacity:.5}}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(250),n(251),n(17));r.a.registerVisual(Object(a.a)(\"polygons3D\"))},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(31);function l(t,e){for(var n=[],i=0;i<e.length;i++)n.push(t.dataToPoint(e[i]));return n}var o=r.a.extendSeriesModel({type:\"series.polygons3D\",getRegionModel:function(t){return this.getData().getItemModel(t)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getItemModel(t),i=n.option instanceof Array?n.option:n.getShallow(\"coords\");n.get(\"multiPolygon\")||(i=[i]);for(var r=[],a=0;a<i.length;a++){for(var o=[],s=1;s<i[a].length;s++)o.push(l(e,i[a][s]));r.push({exterior:l(e,i[a][0]),interiors:o})}return r},getInitialData:function(t){var a=new r.a.List([\"value\"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(t,e,n,i){if(t instanceof Array)return NaN;a.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[i]:r:void 0}),a},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:\"#000\",backgroundColor:\"rgba(255,255,255,0.7)\",padding:3,borderRadius:4}},itemStyle:{color:\"#fff\",borderWidth:0,borderColor:\"#333\"},emphasis:{itemStyle:{color:\"#639fc0\"},label:{show:!0}}}});r.a.util.merge(o.prototype,a.a)},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),o=n(64),a=n(1);r.a.extendChartView({type:\"polygons3D\",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll();var i=t.coordinateSystem;i&&i.viewGL&&i.viewGL.add(this.groupGL);var r=this._geo3DBuilderList[0];r||((r=new o.a(n)).extrudeY=\"mapbox3D\"!==i.type&&\"maptalks3D\"!==i.type,this._geo3DBuilderList[0]=r),this._updateShaderDefines(i,r),r.update(t,e,n),this._geo3DBuilderList.length=1,this.groupGL.add(r.rootNode)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll();var i=t.coordinateSystem;i&&i.viewGL&&i.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(t,e,n,i){var r=this._geo3DBuilderList[this._currentStep],a=e.coordinateSystem;r||((r=new o.a(i)).extrudeY=\"mapbox3D\"!==a.type&&\"maptalks3D\"!==a.type,this._geo3DBuilderList[this._currentStep]=r),r.update(e,n,i,t.start,t.end),this.groupGL.add(r.rootNode),this._updateShaderDefines(a,r),this._currentStep++},_updateShaderDefines:function(e,t){var n=e.viewGL.isLinearSpace()?\"define\":\"undefine\";t.rootNode.traverse(function(t){t.material&&(t.material[n](\"fragment\",\"SRGB_DECODE\"),\"mapbox3D\"!==e.type&&\"maptalks3D\"!==e.type||(t.material.define(\"fragment\",\"NORMAL_UP_AXIS\",2),t.material.define(\"fragment\",\"NORMAL_FRONT_AXIS\",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(253),n(254),n(255),n(17));r.a.registerVisual(Object(a.a)(\"surface\"))},function(t,e,n){\"use strict\";var i=n(0),P=n.n(i),r=n(31),a=n(39),N=n(50),o=P.a.extendSeriesModel({type:\"series.surface\",dependencies:[\"globe\",\"grid3D\",\"geo3D\"],visualColorAccessPath:\"itemStyle.color\",formatTooltip:function(t){return Object(a.a)(this,t)},getInitialData:function(t,e){function n(t){return!(isNaN(t.min)||isNaN(t.max)||isNaN(t.step))}function i(t){var e=P.a.number.getPrecisionSafe;return Math.max(e(t.min),e(t.max),e(t.step))+1}if(!(M=t.data))if(t.parametric){var r=t.parametricEquation||{},a=r.u||{},o=r.v||{};[\"u\",\"v\"].forEach(function(t){n(r[t])||console.error(\"Invalid parametricEquation.%s\",t)}),[\"x\",\"y\",\"z\"].forEach(function(t){\"function\"==typeof r[t]||console.error(\"parametricEquation.%s needs to be function\",t)});var s=Math.floor((a.max+a.step-a.min)/a.step),l=Math.floor((o.max+o.step-o.min)/o.step);M=new Float32Array(s*l*5);for(var u=i(a),h=i(o),c=0,d=0;d<l;d++)for(C=0;C<s;C++){var f=C*a.step+a.min,p=d*o.step+o.min,g=P.a.number.round(Math.min(f,a.max),u),m=P.a.number.round(Math.min(p,o.max),h),v=r.x(g,m),y=r.y(g,m),_=r.z(g,m);M[c++]=v,M[c++]=y,M[c++]=_,M[c++]=g,M[c++]=m}}else{var x=t.equation||{},b=x.x||{},w=x.y||{};if([\"x\",\"y\"].forEach(function(t){n(x[t])||console.error(\"Invalid equation.%s\",t)}),\"function\"!=typeof x.z)return void console.error(\"equation.z needs to be function\");for(var T=Math.floor((b.max+b.step-b.min)/b.step),S=Math.floor((w.max+w.step-w.min)/w.step),M=new Float32Array(T*S*3),A=i(b),I=i(w),c=0,d=0;d<S;d++)for(var C=0;C<T;C++){var v=C*b.step+b.min,y=d*w.step+w.min,D=P.a.number.round(Math.min(v,b.max),A),E=P.a.number.round(Math.min(y,w.max),I),_=x.z(D,E);M[c++]=D,M[c++]=E,M[c++]=_}}var L=[\"x\",\"y\",\"z\"];return t.parametric&&L.push(\"u\",\"v\"),Object(N.a)(this,L,M)},defaultOption:{coordinateSystem:\"cartesian3D\",zlevel:-10,grid3DIndex:0,shading:\"lambert\",parametric:!1,wireframe:{show:!0,lineStyle:{color:\"rgba(0,0,0,0.5)\",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},itemStyle:{},animationDurationUpdate:500}});P.a.util.merge(o.prototype,r.a)},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),q=n(1),a=(n(2),n(6)),o=n(65),Y=a.a.vec3;r.a.extendChartView({type:\"surface\",__ecgl__:!0,init:function(t,e){this.groupGL=new q.a.Node},render:function(t,e,n){var i=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=i,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var r,a=t.coordinateSystem,o=t.get(\"shading\"),s=t.getData(),l=\"ecgl.\"+o;this._surfaceMesh.material&&this._surfaceMesh.material.shader.name===l||(this._surfaceMesh.material=q.a.createMaterial(l,[\"VERTEX_COLOR\",\"DOUBLE_SIDED\"])),q.a.setMaterialFromModel(o,this._surfaceMesh.material,t,n),a&&a.viewGL&&(a.viewGL.add(this.groupGL),r=a.viewGL.isLinearSpace()?\"define\":\"undefine\",this._surfaceMesh.material[r](\"fragment\",\"SRGB_DECODE\"));var u=t.get(\"parametric\"),h=this._getDataShape(s,u),c=t.getModel(\"wireframe\"),d=c.get(\"lineStyle.width\"),f=c.get(\"show\")&&0<d;this._updateSurfaceMesh(this._surfaceMesh,t,h,f);var p=this._surfaceMesh.material;f?(p.define(\"WIREFRAME_QUAD\"),p.set(\"wireframeLineWidth\",d),p.set(\"wireframeLineColor\",q.a.parseColor(c.get(\"lineStyle.color\")))):p.undefine(\"WIREFRAME_QUAD\"),this._initHandler(t,n),this._updateAnimation(t)},_updateAnimation:function(t){q.a.updateVertexAnimation([[\"prevPosition\",\"position\"],[\"prevNormal\",\"normal\"]],this._prevSurfaceMesh,this._surfaceMesh,t)},_createSurfaceMesh:function(){var t=new q.a.Mesh({geometry:new q.a.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new q.a.Material({shader:new q.a.Shader(q.a.Shader.source(\"ecgl.sm.depth.vertex\"),q.a.Shader.source(\"ecgl.sm.depth.fragment\"))}),culling:!1,renderOrder:10,renderNormal:!0});return t.geometry.createAttribute(\"barycentric\",\"float\",4),t.geometry.createAttribute(\"prevPosition\",\"float\",3),t.geometry.createAttribute(\"prevNormal\",\"float\",3),r.a.util.extend(t.geometry,o.a),t},_initHandler:function(t,u){var h=t.getData(),c=this._surfaceMesh,d=t.coordinateSystem;c.seriesIndex=t.seriesIndex;var f=-1;c.off(\"mousemove\"),c.off(\"mouseout\"),c.on(\"mousemove\",function(t){var e=function(t,e){for(var n=1/0,i=-1,r=[],a=0;a<t.length;a++){c.geometry.attributes.position.get(t[a],r);var o=Y.dist(e.array,r);o<n&&(n=o,i=t[a])}return i}(t.triangle,t.point);if(0<=e){var n=[];c.geometry.attributes.position.get(e,n);for(var i=d.pointToData(n),r=1/0,a=-1,o=[],s=0;s<h.count();s++){o[0]=h.get(\"x\",s),o[1]=h.get(\"y\",s),o[2]=h.get(\"z\",s);var l=Y.squaredDistance(o,i);l<r&&(a=s,r=l)}a!==f&&u.dispatchAction({type:\"grid3DShowAxisPointer\",value:i}),f=a,c.dataIndex=a}else c.dataIndex=-1},this),c.on(\"mouseout\",function(t){f=-1,c.dataIndex=-1,u.dispatchAction({type:\"grid3DHideAxisPointer\"})},this)},_updateSurfaceMesh:function(t,e,n,i){var r=t.geometry,a=e.getData(),o=a.getLayout(\"points\"),s=0;a.each(function(t){a.hasValue(t)||s++});var l,u=s||i,h=r.attributes.position,c=r.attributes.normal,d=r.attributes.texcoord0,f=r.attributes.barycentric,p=r.attributes.color,g=n.row,m=n.column,v=\"color\"!==e.get(\"shading\");u?(l=(g-1)*(m-1)*4,h.init(l),i&&f.init(l)):h.value=new Float32Array(o),p.init(r.vertexCount),d.init(r.vertexCount);function y(t,e,n){n[1]=t*m+e,n[0]=t*m+e+1,n[3]=(t+1)*m+e+1,n[2]=(t+1)*m+e}var _,x=[0,3,1,1,3,2],b=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],w=r.indices=new(65535<r.vertexCount?Uint32Array:Uint16Array)((g-1)*(m-1)*6),T=!1;if(u){var S=[],M=[],A=0;v?c.init(r.vertexCount):c.value=null;for(var I=[[],[],[]],C=[],D=[],E=Y.create(),L=function(t,e,n){var i=3*e;return n[0]=t[i],n[1]=t[1+i],n[2]=t[2+i],n},P=new Float32Array(o.length),N=new Float32Array(o.length/3*4),O=0;O<a.count();O++)if(a.hasValue(O)){var R=q.a.parseColor(a.getItemVisual(O,\"color\")),k=a.getItemVisual(O,\"opacity\");R[3]*=k,R[3]<.99&&(T=!0);for(var z=0;z<4;z++)N[4*O+z]=R[z]}for(var B=[1e7,1e7,1e7],O=0;O<g-1;O++)for(var F=0;F<m-1;F++){var V=4*(O*(m-1)+F);y(O,F,S);for(var G=!1,z=0;z<4;z++)L(o,S[z],M),_=M,(isNaN(_[0])||isNaN(_[1])||isNaN(_[2]))&&(G=!0);for(z=0;z<4;z++)G?h.set(V+z,B):(L(o,S[z],M),h.set(V+z,M)),i&&f.set(V+z,b[z]);for(z=0;z<6;z++)w[A++]=x[z]+V;if(v&&!G)for(z=0;z<2;z++){for(var H=3*z,U=0;U<3;U++){L(o,X=S[x[H]+U],I[U])}Y.sub(C,I[0],I[1]),Y.sub(D,I[1],I[2]),Y.cross(E,C,D);for(U=0;U<3;U++){var W=3*S[x[H]+U];P[W]=P[W]+E[0],P[1+W]=P[1+W]+E[1],P[2+W]=P[2+W]+E[2]}}}if(v)for(O=0;O<P.length/3;O++)L(P,O,E),Y.normalize(E,E),P[3*O]=E[0],P[3*O+1]=E[1],P[3*O+2]=E[2];for(var R=[],j=[],O=0;O<g-1;O++)for(F=0;F<m-1;F++){V=4*(O*(m-1)+F);y(O,F,S);for(z=0;z<4;z++){for(U=0;U<4;U++)R[U]=N[4*S[z]+U];p.set(V+z,R),v&&(L(P,S[z],E),c.set(V+z,E));var X=S[z];j[0]=X%m/(m-1),j[1]=Math.floor(X/m)/(g-1),d.set(V+z,j)}0}}else{for(j=[],O=0;O<a.count();O++){j[0]=O%m/(m-1),j[1]=Math.floor(O/m)/(g-1);R=q.a.parseColor(a.getItemVisual(O,\"color\")),k=a.getItemVisual(O,\"opacity\");R[3]*=k,R[3]<.99&&(T=!0),p.set(O,R),d.set(O,j)}for(var S=[],Z=0,O=0;O<g-1;O++)for(F=0;F<m-1;F++){y(O,F,S);for(z=0;z<6;z++)w[Z++]=S[x[z]]}v?r.generateVertexNormals():c.value=null}t.material.get(\"normalMap\")&&r.generateTangents(),r.updateBoundingBox(),r.dirty(),t.material.transparent=T,t.material.depthMask=!T},_getDataShape:function(t,e){for(var n=-1/0,i=0,r=0,a=0,o=e?\"u\":\"x\",s=0;s<t.count();s++){var l=t.get(o,s);if(l<n){if(a&&a!==r)throw new Error(\"Invalid data. data should be a row major 2d array.\");a=r,r=0,i++}n=l,r++}return{row:i+1,column:r}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){\"use strict\";var i=n(0);n.n(i).a.registerLayout(function(t,e){t.eachSeriesByType(\"surface\",function(e){var a=e.coordinateSystem;a&&\"cartesian3D\"===a.type||console.error(\"Surface chart only support cartesian3D coordinateSystem\");var t,o=e.getData(),s=new Float32Array(3*o.count()),l=[NaN,NaN,NaN];a&&\"cartesian3D\"===a.type&&(t=a.dimensions.map(function(t){return e.coordDimToDataDim(t)[0]}),o.each(t,function(t,e,n,i){var r=o.hasValue(i)?a.dataToPoint([t,e,n]):l;s[3*i]=r[0],s[3*i+1]=r[1],s[3*i+2]=r[2]})),o.setLayout(\"points\",s)})})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(99),n(257),n(258),n(17));r.a.registerVisual(Object(a.a)(\"map3D\")),r.a.registerAction({type:\"map3DChangeCamera\",event:\"map3dcamerachanged\",update:\"series:updateCamera\"},function(e,t){t.eachComponent({mainType:\"series\",subType:\"map3D\",query:e},function(t){t.setView(e)})})},function(t,e,n){\"use strict\";var i=n(0),a=n.n(i),r=n(44),o=n(28),s=n(29),l=n(31),u=n(96),h=n(32),c=n(39),d=n(98);function f(t,e){for(var n=[],i=0;i<e.length;i++)n.push(t.dataToPoint(e[i]));return n}var p=a.a.extendSeriesModel({type:\"series.map3D\",layoutMode:\"box\",coordinateSystem:null,visualColorAccessPath:\"itemStyle.color\",optionUpdated:function(e){e=e||{};var n,t=this.get(\"coordinateSystem\");null!=t&&\"geo3D\"!==t&&(n=[],[\"left\",\"top\",\"width\",\"height\",\"boxWidth\",\"boxDepth\",\"boxHeight\",\"light\",\"viewControl\",\"postEffect\",\"temporalSuperSampling\",\"environment\",\"groundPlane\"].forEach(function(t){null!=e[t]&&n.push(t)}),n.length&&console.warn(\"Property %s in map3D series will be ignored if coordinate system is %s\",n.join(\", \"),t),this.get(\"groundPlane.show\")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(t){t.data=this.getFilledRegions(t.data,t.map);var e=a.a.helper.completeDimensions([\"value\"],t.data),i=new a.a.List(e,this);i.initData(t.data);var r={};return i.each(function(t){var e=i.getName(t),n=i.getItemModel(t);r[e]=n}),this._regionModelMap=r,i},formatTooltip:function(t){return Object(c.a)(this,t)},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new a.a.Model(null,this)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,n=this.getData().getName(t);if(e.transform)return(i=e.getRegion(n))?i.geometries:[];this._geo||(this._geo=d.a.createGeo3D(this));for(var i=this._geo.getRegion(n),r=[],a=0;a<i.geometries.length;a++){var o=i.geometries[a],s=[],l=f(e,o.exterior);if(s&&s.length)for(var u=0;u<o.interiors.length;u++)s.push(f(e,s[u]));r.push({interiors:s,exterior:l})}return r},getFormattedLabel:function(t,e){var n=h.a.getFormattedLabel(this,t,e);return null==n&&(n=this.getData().getName(t)),n},defaultOption:{coordinateSystem:\"geo3D\",data:null}});a.a.util.merge(p.prototype,u.a),a.a.util.merge(p.prototype,r.a),a.a.util.merge(p.prototype,o.a),a.a.util.merge(p.prototype,s.a),a.a.util.merge(p.prototype,l.a)},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(1),s=n(45),l=n(30),o=n(64);r.a.extendChartView({type:\"map3D\",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new o.a(e),this.groupGL=new a.a.Node},render:function(t,e,n){var i,r,a,o=t.coordinateSystem;o&&o.viewGL&&(this.groupGL.add(this._geo3DBuilder.rootNode),o.viewGL.add(this.groupGL),\"geo3D\"===o.type?(this._sceneHelper||(this._sceneHelper=new l.a,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(o.viewGL.scene),this._sceneHelper.updateLight(t),o.viewGL.setPostEffect(t.getModel(\"postEffect\"),n),o.viewGL.setTemporalSuperSampling(t.getModel(\"temporalSuperSampling\")),(i=this._control)||(i=this._control=new s.a({zr:n.getZr()}),this._control.init()),r=t.getModel(\"viewControl\"),i.setViewGL(o.viewGL),i.setFromViewControlModel(r,0),i.off(\"update\"),i.on(\"update\",function(){n.dispatchAction({type:\"map3DChangeCamera\",alpha:i.getAlpha(),beta:i.getBeta(),distance:i.getDistance(),from:this.uid,map3DId:t.id})}),this._geo3DBuilder.extrudeY=!0):(this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),t.getData().getLayout(\"geo3D\"),this._geo3DBuilder.extrudeY=!1),this._geo3DBuilder.update(t,e,n,0,t.getData().count()),a=o.viewGL.isLinearSpace()?\"define\":\"undefine\",this._geo3DBuilder.rootNode.traverse(function(t){t.material&&t.material[a](\"fragment\",\"SRGB_DECODE\")}))},afterRender:function(t,e,n,i){var r=i.renderer,a=t.coordinateSystem;a&&\"geo3D\"===a.type&&(this._sceneHelper.updateAmbientCubemap(r,t,n),this._sceneHelper.updateSkybox(r,t,n))},dispose:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(260),n(261),n(51)),o=n.n(a),s=n(17);r.a.registerVisual(o()(\"scatterGL\",\"circle\",null)),r.a.registerVisual(Object(s.a)(\"scatterGL\")),r.a.registerLayout({seriesType:\"scatterGL\",reset:function(t){var e,s,l,u=t.coordinateSystem;return u&&(s=u.dimensions,l=[],1===s.length?e=function(t,e){for(var n=new Float32Array(2*(t.end-t.start)),i=t.start;i<t.end;i++){var r=2*(i-t.start),a=e.get(s[0],i),o=u.dataToPoint(a);n[r]=o[0],n[1+r]=o[1]}e.setLayout(\"points\",n)}:2===s.length&&(e=function(t,e){for(var n=new Float32Array(2*(t.end-t.start)),i=t.start;i<t.end;i++){var r=2*(i-t.start),a=e.get(s[0],i),o=e.get(s[1],i);l[0]=a,l[1]=o,l=u.dataToPoint(l),n[r]=l[0],n[1+r]=l[1]}e.setLayout(\"points\",n)})),{progress:e}}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i);r.a.extendSeriesModel({type:\"series.scatterGL\",dependencies:[\"grid\",\"polar\",\"geo\",\"singleAxis\"],visualColorAccessPath:\"itemStyle.color\",getInitialData:function(){return r.a.helper.createList(this)},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:\"circle\",symbolSize:10,zoomScale:0,blendMode:\"source-over\",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(1),o=n(22),s=n(67),l=n(103);n(2);r.a.extendChartView({type:\"scatterGL\",__ecgl__:!0,init:function(t,e){this.groupGL=new a.a.Node,this.viewGL=new o.a(\"orthographic\"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new l.a(this.viewGL)},render:function(t,e,n){var i;this.groupGL.removeAll(),this._glViewHelper.reset(t,n),t.getData().count()&&(i=(i=this._pointsBuilderList[0])||(this._pointsBuilderList[0]=new s.a(!0,n)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),this._removeTransformInPoints(t.getData().getLayout(\"points\")),i.update(t,e,n),this.viewGL.setPostEffect(t.getModel(\"postEffect\"),n))},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel(\"postEffect\"),n)},incrementalRender:function(t,e,n,i){var r;t.end<=t.start||((r=this._pointsBuilderList[this._currentStep])||(r=new s.a(!0,i),this._pointsBuilderList[this._currentStep]=r),this.groupGL.add(r.rootNode),this._removeTransformInPoints(e.getData().getLayout(\"points\")),r.setSizeScale(this._sizeScale),r.update(e,n,i,t.start,t.end),i.getZr().refresh(),this._currentStep++)},updateTransform:function(t,e,n){var i,r;t.coordinateSystem.getRoamTransform&&(this._glViewHelper.updateTransform(t,n),i=this._glViewHelper.getZoom(),r=Math.max((t.get(\"zoomScale\")||0)*(i-1)+1,0),this._sizeScale=r,this._pointsBuilderList.forEach(function(t){t.setSizeScale(r)}))},_removeTransformInPoints:function(t){if(t)for(var e=[],n=0;n<t.length;n+=2)e[0]=t[n],e[1]=t[n+1],this._glViewHelper.removeTransformInPoint(e),t[n]=e[0],t[n+1]=e[1]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(263),n(268),n(51)),o=n.n(a),s=n(17);function l(){}r.a.registerVisual(o()(\"graphGL\",\"circle\",null)),r.a.registerVisual(Object(s.a)(\"graphGL\")),r.a.registerVisual(function(t){var o={};t.eachSeriesByType(\"graphGL\",function(i){var r=i.getCategoriesData(),n=i.getData(),a={};r.each(function(t){var e=r.getName(t);a[e]=t;var n=r.getItemModel(t).get(\"itemStyle.color\")||i.getColorFromPalette(e,o);r.setItemVisual(t,\"color\",n)}),r.count()&&n.each(function(t){var e=n.getItemModel(t).getShallow(\"category\");null!=e&&(\"string\"==typeof e&&(e=a[e]),n.getItemVisual(t,\"color\",!0)||n.setItemVisual(t,\"color\",r.getItemVisual(e,\"color\")))})})}),r.a.registerVisual(function(t){t.eachSeriesByType(\"graphGL\",function(t){var a=t.getGraph(),o=t.getEdgeData(),s=\"lineStyle.color\".split(\".\"),l=\"lineStyle.opacity\".split(\".\");o.setVisual(\"color\",t.get(s)),o.setVisual(\"opacity\",t.get(l)),o.each(function(t){var e=o.getItemModel(t),n=a.getEdgeByIndex(t),i=e.get(s),r=e.get(l);switch(i){case\"source\":i=n.node1.getVisual(\"color\");break;case\"target\":i=n.node2.getVisual(\"color\")}n.setVisual(\"color\",i),n.setVisual(\"opacity\",r)})})}),r.a.registerAction({type:\"graphGLRoam\",event:\"graphglroam\",update:\"series.graphGL:roam\"},function(e,t){t.eachComponent({mainType:\"series\",query:e},function(t){t.setView(e)})}),r.a.registerAction({type:\"graphGLStartLayout\",event:\"graphgllayoutstarted\",update:\"series.graphGL:startLayout\"},l),r.a.registerAction({type:\"graphGLStopLayout\",event:\"graphgllayoutstopped\",update:\"series.graphGL:stopLayout\"},l),r.a.registerAction({type:\"graphGLFocusNodeAdjacency\",event:\"graphGLFocusNodeAdjacency\",update:\"series.graphGL:focusNodeAdjacency\"},l),r.a.registerAction({type:\"graphGLUnfocusNodeAdjacency\",event:\"graphGLUnfocusNodeAdjacency\",update:\"series.graphGL:unfocusNodeAdjacency\"},l)},function(t,e,n){\"use strict\";var i=n(0),u=n.n(i),r=n(264),s=n(32),h=u.a.extendSeriesModel({type:\"series.graphGL\",visualColorAccessPath:\"itemStyle.color\",init:function(t){h.superApply(this,\"init\",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(t){h.superApply(this,\"mergeOption\",arguments),this._updateCategoriesData()},getFormattedLabel:function(t,e,n,i){var r,a,o=s.a.getFormattedLabel(this,t,e,n,i);return null==o&&(a=(r=this.getData()).dimensions[r.dimensions.length-1],o=r.get(a,t)),o},getInitialData:function(t,a){var e=t.edges||t.links||[],n=t.data||t.nodes||[],o=this;if(n&&e)return Object(r.a)(n,e,this,!0,function(t,e){t.wrapMethod(\"getItemModel\",function(t){var e=o._categoriesModels[t.getShallow(\"category\")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var n=o.getModel(\"edgeLabel\"),i=new u.a.Model({label:n.option},n.parentModel,a);function r(t){return(t=this.parsePath(t))&&\"label\"===t[0]?i:this.parentModel}e.wrapMethod(\"getItemModel\",function(t){return t.customizeGetParent(r),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if(\"edge\"!==n)return h.superApply(this,\"formatTooltip\",arguments);var i=this.getData(),r=this.getDataParams(t,n),a=i.graph.getEdgeByIndex(t),o=i.getName(a.node1.dataIndex),s=i.getName(a.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),l=u.a.format.encodeHTML(l.join(\" > \")),r.value&&(l+=\" : \"+u.a.format.encodeHTML(r.value)),l},_updateCategoriesData:function(){var t=(this.option.categories||[]).map(function(t){return null!=t.value?t:u.a.util.extend({value:0},t)}),e=new u.a.List([\"value\"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setView:function(t){null!=t.zoom&&(this.option.zoom=t.zoom),null!=t.offset&&(this.option.offset=t.offset)},setNodePosition:function(t){for(var e=0;e<t.length/2;e++){var n=t[2*e],i=t[2*e+1],r=this.getData().getRawDataItem(e);r.x=n,r.y=i}},isAnimationEnabled:function(){return h.superCall(this,\"isAnimationEnabled\")&&!(\"force\"===this.get(\"layout\")&&this.get(\"force.layoutAnimation\"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:\"forceAtlas2\",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:\"mouseover\",left:\"center\",top:\"center\",symbol:\"circle\",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:\"{b}\",position:\"right\",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:\"#aaa\",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}})},function(t,e,n){\"use strict\";var i=n(0),m=n.n(i),r=n(265),v=n.n(r),a=n(267),y=n.n(a),_=n(2);e.a=function(t,e,n,i,r){for(var a=new v.a(i),o=0;o<t.length;o++)a.addNode(_.a.firstNotNull(t[o].id,t[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<e.length;o++){var h=e[o],c=h.source,d=h.target;a.addEdge(c,d,u)&&(l.push(h),s.push(_.a.firstNotNull(h.id,c+\" > \"+d)),u++)}var f,p=m.a.helper.completeDimensions([\"value\"],t);(f=new m.a.List(p,n)).initData(t);var g=new m.a.List([\"value\"],n);return g.initData(l,s),r&&r(f,g),y()({mainData:f,struct:a,structAttr:\"graph\",datas:{node:f,edge:g},datasAttr:{node:\"data\",edge:\"edgeData\"}}),a.update(),a}},function(t,e,n){n(104).__DEV__;var i=n(13),r=n(266).enableClassCheck;function c(t){return\"_EC_\"+t}function a(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData}var o=a.prototype;function d(t,e){this.id=null==t?\"\":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function s(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}o.type=\"graph\",o.isDirected=function(){return this._directed},o.addNode=function(t,e){t=t||\"\"+e;var n=this._nodesMap;if(!n[c(t)]){var i=new d(t,e);return(i.hostGraph=this).nodes.push(i),n[c(t)]=i}},o.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},o.getNodeById=function(t){return this._nodesMap[c(t)]},o.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if(\"number\"==typeof t&&(t=this.nodes[t]),\"number\"==typeof e&&(e=this.nodes[e]),d.isInstance(t)||(t=i[c(t)]),d.isInstance(e)||(e=i[c(e)]),t&&e){var a=t.id+\"-\"+e.id;if(!r[a]){var o=new s(t,e,n);return(o.hostGraph=this)._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),r[a]=o}}},o.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},o.getEdge=function(t,e){d.isInstance(t)&&(t=t.id),d.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+\"-\"+e]:n[t+\"-\"+e]||n[e+\"-\"+t]},o.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)0<=n[r].dataIndex&&t.call(e,n[r],r)},o.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)0<=n[r].dataIndex&&0<=n[r].node1.dataIndex&&0<=n[r].node2.dataIndex&&t.call(e,n[r],r)},o.breadthFirstTraverse=function(t,e,n,i){if(d.isInstance(e)||(e=this._nodesMap[c(e)]),e){for(var r=\"out\"===n?\"outEdges\":\"in\"===n?\"inEdges\":\"edges\",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,e,null))for(var o=[e];o.length;)for(var s=o.shift(),l=s[r],a=0;a<l.length;a++){var u=l[a],h=u.node1===s?u.node2:u.node1;if(!h.__visited){if(t.call(i,h,s))return;o.push(h),h.__visited=!0}}}},o.update=function(){for(var t=this.data,n=this.edgeData,e=this.nodes,i=this.edges,r=0,a=e.length;r<a;r++)e[r].dataIndex=-1;for(r=0,a=t.count();r<a;r++)e[t.getRawIndex(r)].dataIndex=r;n.filterSelf(function(t){var e=i[n.getRawIndex(t)];return 0<=e.node1.dataIndex&&0<=e.node2.dataIndex});for(r=0,a=i.length;r<a;r++)i[r].dataIndex=-1;for(r=0,a=n.count();r<a;r++)i[n.getRawIndex(r)].dataIndex=r},o.clone=function(){for(var t=new a(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<n.length;i++){var r=n[i];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},d.prototype={constructor:d,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},s.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};function l(n,i){return{getValue:function(t){var e=this[n][i];return e.get(e.getDimension(t||\"value\"),this.dataIndex)},setVisual:function(t,e){0<=this.dataIndex&&this[n][i].setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this[n][i].getItemVisual(this.dataIndex,t,e)},setLayout:function(t,e){0<=this.dataIndex&&this[n][i].setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this[n][i].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][i].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][i].getRawIndex(this.dataIndex)}}}i.mixin(d,l(\"hostGraph\",\"data\")),i.mixin(s,l(\"hostGraph\",\"edgeData\")),a.Node=d,a.Edge=s,r(d),r(s),t.exports=a},function(t,e,n){n(104).__DEV__;var a=n(13),i=\".\",o=\"___EC__COMPONENT__CONTAINER___\";function s(t){var e={main:\"\",sub:\"\"};return t&&(t=t.split(i),e.main=t[0]||\"\",e.sub=t[1]||\"\"),e}var r=0;function l(t,e){var n=a.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function u(t,e,n){return this.superClass.prototype[e].apply(t,n)}e.parseClassType=s,e.enableClassExtend=function(t,e){(t.$constructor=t).extend=function(t){function e(){t.$constructor?t.$constructor.apply(this,arguments):n.apply(this,arguments)}var n=this;return a.extend(e.prototype,t),e.extend=this.extend,e.superCall=l,e.superApply=u,a.inherits(e,this),e.superClass=n,e}},e.enableClassCheck=function(t){var e=[\"__\\0is_clz\",r++,Math.random().toFixed(3)].join(\"_\");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}},e.enableClassManagement=function(n,t){t=t||{};var i,r={};return n.registerClass=function(t,e){var n;return e&&(n=e,a.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType \"'+n+'\" illegal'),(e=s(e)).sub?e.sub!==o&&(function(t){var e=r[t.main];e&&e[o]||((e=r[t.main]={})[o]=!0);return e}(e)[e.sub]=t):r[e.main]=t),t},n.getClass=function(t,e,n){var i=r[t];if(i&&i[o]&&(i=e?i[e]:null),n&&!i)throw new Error(e?\"Component \"+t+\".\"+(e||\"\")+\" not exists. Load it first.\":t+\".type should be specified.\");return i},n.getClassesByMainType=function(t){t=s(t);var n=[],e=r[t.main];return e&&e[o]?a.each(e,function(t,e){e!==o&&n.push(t)}):n.push(e),n},n.hasClass=function(t){return t=s(t),!!r[t.main]},n.getAllClassMainTypes=function(){var n=[];return a.each(r,function(t,e){n.push(e)}),n},n.hasSubTypes=function(t){t=s(t);var e=r[t.main];return e&&e[o]},n.parseClassType=s,!t.registerWhenExtend||(i=n.extend)&&(n.extend=function(t){var e=i.call(this,t);return n.registerClass(e,t.type)}),n},e.setReadOnly=function(t,e){}},function(t,e,n){var r=n(13),a=r.each,o=\"\\0__link_datas\",s=\"\\0__link_mainData\";function l(t,e){var n,i;return(i=this)[s]===i?d((n=r.extend({},this[o]))[this.dataType]=e,n,t):f(e,this.dataType,this[s],t),e}function u(t,e){return t.struct&&t.struct.update(this),e}function h(n,i){return a(i[o],function(t,e){t!==i&&f(t.cloneShallow(),e,i,n)}),i}function c(t){var e=this[s];return null==t||null==e?e:e[o][t]}function d(n,t,i){n[o]={},a(t,function(t,e){f(t,e,n,i)})}function f(t,e,n,i){(n[o][e]=t)[s]=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=c}function i(n){var i=n.mainData,t=n.datas;t||(t={main:i},n.datasAttr={main:\"data\"}),n.datas=n.mainData=null,d(i,t,n),a(t,function(e){a(i.TRANSFERABLE_METHODS,function(t){e.wrapMethod(t,r.curry(l,n))})}),i.wrapMethod(\"cloneShallow\",r.curry(h,n)),a(i.CHANGABLE_METHODS,function(t){i.wrapMethod(t,r.curry(u,n))}),r.assert(t[i.dataType]===i)}t.exports=i},function(t,e,n){\"use strict\";var i=n(0),b=n.n(i),r=n(47),w=n.n(r),g=n(1),a=n(22),o=n(105),T=n(2),S=n(269),M=n(271),s=n(80),m=n.n(s),l=n(6),u=n(273),h=n(67),c=n(274),d=l.a.vec2;g.a.Shader.import(c.a);var f,v=1;b.a.extendChartView({type:\"graphGL\",__ecgl__:!0,init:function(t,e){this.groupGL=new g.a.Node,this.viewGL=new a.a(\"orthographic\"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new h.a(!0,e),this._forceEdgesMesh=new g.a.Mesh({material:new g.a.Material({shader:g.a.createShader(\"ecgl.forceAtlas2.edges\"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new g.a.Geometry({attributes:{node:new g.a.Geometry.Attribute(\"node\",\"float\",2),color:new g.a.Geometry.Attribute(\"color\",\"float\",4,\"COLOR\")},dynamic:!0,mainAttribute:\"node\"}),renderOrder:-1,mode:g.a.Mesh.LINES}),this._edgesMesh=new g.a.Mesh({material:new g.a.Material({shader:g.a.createShader(\"ecgl.meshLines2D\"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new o.a({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new u.a({zr:e.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(t,e,n){this.groupGL.add(this._pointsBuilder.rootNode),this._model=t,this._api=n,this._initLayout(t,e,n),this._pointsBuilder.update(t,e,n),this._forceLayoutInstance instanceof S.a||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(t,n),this._control.off(\"update\"),this._control.on(\"update\",function(){n.dispatchAction({type:\"graphGLRoam\",seriesId:t.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(T.a.firstNotNull(t.get(\"zoom\"),1)),this._control.setOffset(t.get(\"offset\")||[0,0]);var i,r=this._pointsBuilder.getPointsMesh();r.off(\"mousemove\",this._mousemoveHandler),r.off(\"mouseout\",this._mouseOutHandler,this),n.getZr().off(\"click\",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,t.get(\"focusNodeAdjacency\")&&(\"click\"===(i=t.get(\"focusNodeAdjacencyOn\"))?n.getZr().on(\"click\",this._clickHandler):\"mouseover\"===i?(r.on(\"mousemove\",this._mousemoveHandler,this),r.on(\"mouseout\",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1):console.warn(\"Unkown focusNodeAdjacencyOn value s\"+i)),this._lastMouseOverDataIndex=-1},_clickHandler:function(t){var e;this._layouting||(0<=(e=this._pointsBuilder.getPointsMesh().dataIndex)?this._api.dispatchAction({type:\"graphGLFocusNodeAdjacency\",seriesId:this._model.id,dataIndex:e}):this._api.dispatchAction({type:\"graphGLUnfocusNodeAdjacency\",seriesId:this._model.id}))},_mousemoveHandler:function(t){var e;this._layouting||(0<=(e=this._pointsBuilder.getPointsMesh().dataIndex)?e!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:\"graphGLFocusNodeAdjacency\",seriesId:this._model.id,dataIndex:e}):this._mouseOutHandler(t),this._lastMouseOverDataIndex=e)},_mouseOutHandler:function(t){this._layouting||(this._api.dispatchAction({type:\"graphGLUnfocusNodeAdjacency\",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(r,t){var a=this._forceEdgesMesh.geometry,o=t.getEdgeData(),s=0,l=this._forceLayoutInstance,e=2*o.count();a.attributes.node.init(e),a.attributes.color.init(e),o.each(function(t){var e=r[t];a.attributes.node.set(s,l.getNodeUV(e.node1)),a.attributes.node.set(s+1,l.getNodeUV(e.node2));var n=o.getItemVisual(e.dataIndex,\"color\"),i=g.a.parseColor(n);i[3]*=T.a.firstNotNull(o.getItemVisual(e.dataIndex,\"opacity\"),1),a.attributes.color.set(s,i),a.attributes.color.set(s+1,i),s+=2}),a.dirty()},_updateMeshLinesGeometry:function(){var u=this._model.getEdgeData(),h=this._edgesMesh.geometry,u=this._model.getEdgeData(),c=this._model.getData().getLayout(\"points\");h.resetOffset(),h.setVertexCount(u.count()*h.getLineVertexCount()),h.setTriangleCount(u.count()*h.getLineTriangleCount());var d=[],f=[],p=[\"lineStyle\",\"width\"];this._originalEdgeColors=new Float32Array(4*u.count()),this._edgeIndicesMap=new Float32Array(u.count()),u.each(function(t){var e=u.graph.getEdgeByIndex(t),n=2*e.node1.dataIndex,i=2*e.node2.dataIndex;d[0]=c[n],d[1]=c[1+n],f[0]=c[i],f[1]=c[1+i];var r=u.getItemVisual(e.dataIndex,\"color\"),a=g.a.parseColor(r);a[3]*=T.a.firstNotNull(u.getItemVisual(e.dataIndex,\"opacity\"),1);var o=u.getItemModel(e.dataIndex),s=T.a.firstNotNull(o.get(p),1)*this._api.getDevicePixelRatio();h.addLine(d,f,a,s);for(var l=0;l<4;l++)this._originalEdgeColors[4*e.dataIndex+l]=a[l];this._edgeIndicesMap[e.dataIndex]=t},this),h.dirty()},_updateForceNodesGeometry:function(t){for(var e=this._pointsBuilder.getPointsMesh(),n=[],i=0;i<t.count();i++)this._forceLayoutInstance.getNodeUV(i,n),e.geometry.attributes.position.set(i,n);e.geometry.dirty(\"position\")},_initLayout:function(t,e,n){var i=t.get(\"layout\"),r=t.getGraph(),a=t.getBoxLayoutParams(),s=w.a.getLayoutRect(a,{width:n.getWidth(),height:n.getHeight()});\"force\"===i&&(console.warn(\"Currently only forceAtlas2 layout supported.\"),i=\"forceAtlas2\"),this.stopLayout(t,e,n,{beforeLayout:!0});var o,l,u,h,c,d,f,p,g,m,v,y,_=t.getData(),x=t.getData();\"forceAtlas2\"===i?(o=t.getModel(\"forceAtlas2\"),l=this._forceLayoutInstance,u=[],h=[],c=_.getDataExtent(\"value\"),d=x.getDataExtent(\"value\"),f=T.a.firstNotNull(o.get(\"edgeWeight\"),1),p=T.a.firstNotNull(o.get(\"nodeWeight\"),1),\"number\"==typeof f&&(f=[f,f]),\"number\"==typeof p&&(p=[p,p]),y=0,g={},v=new Float32Array(2*_.count()),r.eachNode(function(t){var e,n,i,r=t.dataIndex,a=_.get(\"value\",r);_.hasItemOption&&(n=(e=_.getItemModel(r)).get(\"x\"),i=e.get(\"y\")),null==n&&(n=s.x+Math.random()*s.width,i=s.y+Math.random()*s.height),v[2*y]=n,v[2*y+1]=i,g[t.id]=y++;var o=b.a.number.linearMap(a,c,p);isNaN(o)&&(o=isNaN(p[0])?1:p[0]),u.push({x:n,y:i,mass:o,size:_.getItemVisual(r,\"symbolSize\")})}),_.setLayout(\"points\",v),r.eachEdge(function(t){var e=t.dataIndex,n=_.get(\"value\",e),i=b.a.number.linearMap(n,d,f);isNaN(i)&&(i=isNaN(f[0])?1:f[0]),h.push({node1:g[t.node1.id],node2:g[t.node2.id],weight:i,dataIndex:e})}),l||(m=o.get(\"GPU\"),this._forceLayoutInstance&&((!m||this._forceLayoutInstance instanceof S.a)&&(m||this._forceLayoutInstance instanceof M.a)||(this._forceLayoutInstanceToDispose=this._forceLayoutInstance)),l=this._forceLayoutInstance=m?new S.a:new M.a),l.initData(u,h),l.updateOption(o.option),this._updateForceEdgesGeometry(l.getEdges(),t),this._updatePositionTexture(),n.dispatchAction({type:\"graphGLStartLayout\",from:this.uid})):(v=new Float32Array(2*_.count()),y=0,r.eachNode(function(t){var e,n,i,r=t.dataIndex;_.hasItemOption&&(n=(e=_.getItemModel(r)).get(\"x\"),i=e.get(\"y\")),v[y++]=n,v[y++]=i}),_.setLayout(\"points\",v),this._updateAfterLayout(t,e,n))},_updatePositionTexture:function(){var t=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(t),this._forceEdgesMesh.material.set(\"positionTex\",t)},startLayout:function(e,t,n,i){var r,a,o,s,l,u,h,c,d,f,p;i&&null!=i.from&&i.from!==this.uid||(r=this.viewGL,n=this._api,a=this._forceLayoutInstance,o=this._model.getData(),s=this._model.getModel(\"forceAtlas2\"),a?(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),this._forceLayoutInstance&&(this._updateForceNodesGeometry(e.getData()),this._pointsBuilder.hideLabels(),u=(l=this)._layoutId=v++,h=s.getShallow(\"maxSteps\"),c=s.getShallow(\"steps\"),d=0,f=Math.max(2*c,20),p=function(t){if(t===l._layoutId)return a.isFinished(h)?(n.dispatchAction({type:\"graphGLStopLayout\",from:l.uid}),void n.dispatchAction({type:\"graphGLFinishLayout\",points:o.getLayout(\"points\"),from:l.uid})):void a.update(r.layer.renderer,c,function(){l._updatePositionTexture(),f<=(d+=c)&&(l._syncNodePosition(e),d=0),n.getZr().refresh(),m()(function(){p(t)})})},m()(function(){l._forceLayoutInstanceToDispose&&(l._forceLayoutInstanceToDispose.dispose(r.layer.renderer),l._forceLayoutInstanceToDispose=null),p(u)}),this._layouting=!0)):console.error(\"None layout don't have startLayout action\"))},stopLayout:function(t,e,n,i){i&&null!=i.from&&i.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(i&&i.beforeLayout||(this._syncNodePosition(t),this._updateAfterLayout(t,e,n)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(t){var e=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);t.getData().setLayout(\"points\",e),t.setNodePosition(e)},_updateAfterLayout:function(t,e,n){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(t,e,n),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(t,e,n,i){var r=this._model.getData();this._downplayAll();var a=i.dataIndex,o=r.graph,s=[],l=o.getNodeByIndex(a);s.push(l),l.edges.forEach(function(t){t.dataIndex<0||(t.node1!==l&&s.push(t.node1),t.node2!==l&&s.push(t.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),s.forEach(function(t){this._pointsBuilder.highlight(r,t.dataIndex)},this),this._pointsBuilder.updateLabels(s.map(function(t){return t.dataIndex}));var u=[];l.edges.forEach(function(t){0<=t.dataIndex&&(this._highlightEdge(t.dataIndex),u.push(t))},this),this._focusNodes=s,this._focusEdges=u},unfocusNodeAdjacency:function(t,e,n,i){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(t){var e=this._model.getEdgeData().getItemModel(t),n=g.a.parseColor(e.get(\"emphasis.lineStyle.color\")||e.get(\"lineStyle.color\")),i=T.a.firstNotNull(e.get(\"emphasis.lineStyle.opacity\"),e.get(\"lineStyle.opacity\"),1);n[3]*=i,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],n)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(t){this._pointsBuilder.downplay(this._model.getData(),t.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(t){this._downplayEdge(t.dataIndex)},this)},_downplayEdge:function(t){var e=this._getColor(t,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)},_setEdgeFade:(f=[],function(t,e){this._getColor(t,f),f[3]*=e,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],f)}),_getColor:function(t,e){for(var n=0;n<4;n++)e[n]=this._originalEdgeColors[4*t+n];return e},_fadeOutEdgesAll:function(e){this._model.getData().graph.eachEdge(function(t){this._setEdgeFade(t.dataIndex,e)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(t,e){this.viewGL.setViewport(0,0,e.getWidth(),e.getHeight(),e.getDevicePixelRatio());for(var n=this.viewGL.camera,i=t.getData().getLayout(\"points\"),r=d.create(1/0,1/0),a=d.create(-1/0,-1/0),o=[],s=0;s<i.length;)o[0]=i[s++],o[1]=i[s++],d.min(r,r,o),d.max(a,a,o);var l,u,h=(a[1]+r[1])/2,c=(a[0]+r[0])/2;c>n.left&&c<n.right&&h<n.bottom&&h>n.top||(u=(l=Math.max(a[0]-r[0],10))/e.getWidth()*e.getHeight(),l*=1.4,u*=1.4,r[0]-=.2*l,n.left=r[0],n.top=h-u/2,n.bottom=h+u/2,n.right=l+r[0],n.near=0,n.far=100)},dispose:function(){var t=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(t),this.groupGL.removeAll(),this._layoutId=-1},remove:function(){this.groupGL.removeAll(),this._control.dispose()}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(1),o=n(16),s=n(10),l=n(270);a.a.Shader.import(l.a);var u={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function h(t){var e={type:a.a.Texture.FLOAT,minFilter:a.a.Texture.NEAREST,magFilter:a.a.Texture.NEAREST};this._positionSourceTex=new a.a.Texture2D(e),this._positionSourceTex.flipY=!1,this._positionTex=new a.a.Texture2D(e),this._positionPrevTex=new a.a.Texture2D(e),this._forceTex=new a.a.Texture2D(e),this._forcePrevTex=new a.a.Texture2D(e),this._weightedSumTex=new a.a.Texture2D(e),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new a.a.Texture2D(e),this._globalSpeedPrevTex=new a.a.Texture2D(e),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new o.a({fragment:a.a.Shader.source(\"ecgl.forceAtlas2.updateNodeRepulsion\")}),this._positionPass=new o.a({fragment:a.a.Shader.source(\"ecgl.forceAtlas2.updatePosition\")}),this._globalSpeedPass=new o.a({fragment:a.a.Shader.source(\"ecgl.forceAtlas2.calcGlobalSpeed\")}),this._copyPass=new o.a({fragment:a.a.Shader.source(\"clay.compositor.output\")});function n(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE)}this._edgeForceMesh=new a.a.Mesh({geometry:new a.a.Geometry({attributes:{node1:new a.a.Geometry.Attribute(\"node1\",\"float\",2),node2:new a.a.Geometry.Attribute(\"node2\",\"float\",2),weight:new a.a.Geometry.Attribute(\"weight\",\"float\",1)},dynamic:!0,mainAttribute:\"node1\"}),material:new a.a.Material({transparent:!0,shader:a.a.createShader(\"ecgl.forceAtlas2.updateEdgeAttraction\"),blend:n,depthMask:!1,depthText:!1}),mode:a.a.Mesh.POINTS}),this._weightedSumMesh=new a.a.Mesh({geometry:new a.a.Geometry({attributes:{node:new a.a.Geometry.Attribute(\"node\",\"float\",2)},dynamic:!0,mainAttribute:\"node\"}),material:new a.a.Material({transparent:!0,shader:a.a.createShader(\"ecgl.forceAtlas2.calcWeightedSum\"),blend:n,depthMask:!1,depthText:!1}),mode:a.a.Mesh.POINTS}),this._framebuffer=new s.a({depthBuffer:!1}),this._dummyCamera=new a.a.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}h.prototype.updateOption=function(t){for(var e in u)this[e]=u[e];var n=this._nodes.length;if(this.jitterTolerence=5e4<n?10:5e3<n?1:.1,this.scaling=100<n?2:10,t)for(var e in u)null!=t[e]&&(this[e]=t[e]);if(this.repulsionByDegree)for(var i=this._positionSourceTex.pixels,r=0;r<this._nodes.length;r++)i[4*r+2]=(this._nodes[r].degree||0)+1},h.prototype._updateGravityCenter=function(t){var e=this._nodes,n=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var i=[1/0,1/0],r=[-1/0,-1/0],a=0;a<e.length;a++)i[0]=Math.min(e[a].x,i[0]),i[1]=Math.min(e[a].y,i[1]),r[0]=Math.max(e[a].x,r[0]),r[1]=Math.max(e[a].y,r[1]);this._gravityCenter=[.5*(i[0]+r[0]),.5*(i[1]+r[1])]}for(a=0;a<n.length;a++){var o=n[a].node1,s=n[a].node2;e[o].degree=(e[o].degree||0)+1,e[s].degree=(e[s].degree||0)+1}},h.prototype.initData=function(t,e){this._nodes=t,this._edges=e,this._updateGravityCenter();var n=Math.ceil(Math.sqrt(t.length)),i=n,r=new Float32Array(n*i*4);this._resize(n,i);for(var a=0,o=0;o<t.length;o++){var s=t[o];r[a++]=s.x||0,r[a++]=s.y||0,r[a++]=s.mass||1,r[a++]=s.size||1}this._positionSourceTex.pixels=r;var l=this._edgeForceMesh.geometry,u=e.length;l.attributes.node1.init(2*u),l.attributes.node2.init(2*u),l.attributes.weight.init(2*u);for(var h=[],o=0;o<e.length;o++){var c=l.attributes,d=e[o].weight;null==d&&(d=1),c.node1.set(o,this.getNodeUV(e[o].node1,h)),c.node2.set(o,this.getNodeUV(e[o].node2,h)),c.weight.set(o,d),c.node1.set(o+u,this.getNodeUV(e[o].node2,h)),c.node2.set(o+u,this.getNodeUV(e[o].node1,h)),c.weight.set(o+u,d)}var f=this._weightedSumMesh.geometry;f.attributes.node.init(t.length);for(o=0;o<t.length;o++)f.attributes.node.set(o,this.getNodeUV(o,h));l.dirty(),f.dirty(),this._nodeRepulsionPass.material.define(\"fragment\",\"NODE_COUNT\",t.length),this._nodeRepulsionPass.material.setUniform(\"textureSize\",[n,i]),this._inited=!1,this._frame=0},h.prototype.getNodes=function(){return this._nodes},h.prototype.getEdges=function(){return this._edges},h.prototype.step=function(t){this._inited||(this._initFromSource(t),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(t);var e=this._nodeRepulsionPass;e.setUniform(\"strongGravityMode\",this.strongGravityMode),e.setUniform(\"gravity\",this.gravity),e.setUniform(\"gravityCenter\",this._gravityCenter),e.setUniform(\"scaling\",this.scaling),e.setUniform(\"preventOverlap\",this.preventOverlap),e.setUniform(\"positionTex\",this._positionPrevTex),e.render(t);var n=this._edgeForceMesh;n.material.set(\"linLogMode\",this.linLogMode),n.material.set(\"edgeWeightInfluence\",this.edgeWeightInfluence),n.material.set(\"preventOverlap\",this.preventOverlap),n.material.set(\"positionTex\",this._positionPrevTex),t.gl.enable(t.gl.BLEND),t.renderPass([n],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT),t.gl.enable(t.gl.BLEND);var i=this._weightedSumMesh;i.material.set(\"positionTex\",this._positionPrevTex),i.material.set(\"forceTex\",this._forceTex),i.material.set(\"forcePrevTex\",this._forcePrevTex),t.renderPass([i],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var r=this._globalSpeedPass;r.setUniform(\"globalSpeedPrevTex\",this._globalSpeedPrevTex),r.setUniform(\"weightedSumTex\",this._weightedSumTex),r.setUniform(\"jitterTolerence\",this.jitterTolerence),t.gl.disable(t.gl.BLEND),r.render(t);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform(\"globalSpeedTex\",this._globalSpeedTex),a.setUniform(\"positionTex\",this._positionPrevTex),a.setUniform(\"forceTex\",this._forceTex),a.setUniform(\"forcePrevTex\",this._forcePrevTex),a.render(t),this._framebuffer.unbind(t),this._swapTexture()},h.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1);for(var i=0;i<e;i++)this.step(t);n&&n()},h.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex},h.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,i=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(i-1)||0,e},h.prototype.getNodePosition=function(t,e){var n=this._positionArr,i=this._positionTex.width,r=this._positionTex.height,a=i*r;n&&n.length===4*a||(n=this._positionArr=new Float32Array(4*a)),this._framebuffer.bind(t),this._framebuffer.attach(this._positionPrevTex),t.gl.readPixels(0,0,i,r,t.gl.RGBA,t.gl.FLOAT,n),this._framebuffer.unbind(t),e=e||new Float32Array(2*this._nodes.length);for(var o=0;o<this._nodes.length;o++)e[2*o]=n[4*o],e[2*o+1]=n[4*o+1];return e},h.prototype.getTextureData=function(t,e){var n=this[\"_\"+e+\"Tex\"],i=n.width,r=n.height;this._framebuffer.bind(t),this._framebuffer.attach(n);var a=new Float32Array(i*r*4);return t.gl.readPixels(0,0,i,r,t.gl.RGBA,t.gl.FLOAT,a),this._framebuffer.unbind(t),a},h.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}},h.prototype.isFinished=function(t){return this._frame>t},h.prototype._swapTexture=function(){var t=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=t;t=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=t;t=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=t},h.prototype._initFromSource=function(t){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(t),this._copyPass.setUniform(\"texture\",this._positionSourceTex),this._copyPass.render(t),t.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(t)},h.prototype._resize=function(e,n){[\"_positionSourceTex\",\"_positionTex\",\"_positionPrevTex\",\"_forceTex\",\"_forcePrevTex\"].forEach(function(t){this[t].width=e,this[t].height=n,this[t].dirty()},this)},h.prototype.dispose=function(t){this._framebuffer.dispose(t),this._copyPass.dispose(t),this._nodeRepulsionPass.dispose(t),this._positionPass.dispose(t),this._globalSpeedPass.dispose(t),this._edgeForceMesh.geometry.dispose(t),this._weightedSumMesh.geometry.dispose(t),this._positionSourceTex.dispose(t),this._positionTex.dispose(t),this._positionPrevTex.dispose(t),this._forceTex.dispose(t),this._forcePrevTex.dispose(t),this._weightedSumTex.dispose(t),this._globalSpeedTex.dispose(t),this._globalSpeedPrevTex.dispose(t)},r.a.ForceAtlas2GPU=h,e.a=h},function(t,e,n){\"use strict\";e.a=\"@export ecgl.forceAtlas2.updateNodeRepulsion\\n\\n#define NODE_COUNT 0\\n\\nuniform sampler2D positionTex;\\n\\nuniform vec2 textureSize;\\nuniform float gravity;\\nuniform float scaling;\\nuniform vec2 gravityCenter;\\n\\nuniform bool strongGravityMode;\\nuniform bool preventOverlap;\\n\\nvarying vec2 v_Texcoord;\\n\\nvoid main() {\\n\\n vec4 n0 = texture2D(positionTex, v_Texcoord);\\n\\n vec2 force = vec2(0.0);\\n for (int i = 0; i < NODE_COUNT; i++) {\\n vec2 uv = vec2(\\n mod(float(i), textureSize.x) / (textureSize.x - 1.0),\\n floor(float(i) / textureSize.x) / (textureSize.y - 1.0)\\n );\\n vec4 n1 = texture2D(positionTex, uv);\\n\\n vec2 dir = n0.xy - n1.xy;\\n float d2 = dot(dir, dir);\\n\\n if (d2 > 0.0) {\\n float factor = 0.0;\\n if (preventOverlap) {\\n float d = sqrt(d2);\\n d = d - n0.w - n1.w;\\n if (d > 0.0) {\\n factor = scaling * n0.z * n1.z / (d * d);\\n }\\n else if (d < 0.0) {\\n factor = scaling * 100.0 * n0.z * n1.z;\\n }\\n }\\n else {\\n factor = scaling * n0.z * n1.z / d2;\\n }\\n force += dir * factor;\\n }\\n }\\n\\n vec2 dir = gravityCenter - n0.xy;\\n float d = 1.0;\\n if (!strongGravityMode) {\\n d = length(dir);\\n }\\n\\n force += dir * n0.z * gravity / (d + 1.0);\\n\\n gl_FragColor = vec4(force, 0.0, 1.0);\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.updateEdgeAttraction.vertex\\n\\nattribute vec2 node1;\\nattribute vec2 node2;\\nattribute float weight;\\n\\nuniform sampler2D positionTex;\\nuniform float edgeWeightInfluence;\\nuniform bool preventOverlap;\\nuniform bool linLogMode;\\n\\nuniform vec2 windowSize: WINDOW_SIZE;\\n\\nvarying vec2 v_Force;\\n\\nvoid main() {\\n\\n vec4 n0 = texture2D(positionTex, node1);\\n vec4 n1 = texture2D(positionTex, node2);\\n\\n vec2 dir = n1.xy - n0.xy;\\n float d = length(dir);\\n float w;\\n if (edgeWeightInfluence == 0.0) {\\n w = 1.0;\\n }\\n else if (edgeWeightInfluence == 1.0) {\\n w = weight;\\n }\\n else {\\n w = pow(weight, edgeWeightInfluence);\\n }\\n vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);\\n vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);\\n vec2 pos = node1 * scale * 2.0 - 1.0;\\n gl_Position = vec4(pos + offset, 0.0, 1.0);\\n gl_PointSize = 1.0;\\n\\n float factor;\\n if (preventOverlap) {\\n d = d - n1.w - n0.w;\\n }\\n if (d <= 0.0) {\\n v_Force = vec2(0.0);\\n return;\\n }\\n\\n if (linLogMode) {\\n factor = w * log(d) / d;\\n }\\n else {\\n factor = w;\\n }\\n v_Force = dir * factor;\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.updateEdgeAttraction.fragment\\n\\nvarying vec2 v_Force;\\n\\nvoid main() {\\n gl_FragColor = vec4(v_Force, 0.0, 0.0);\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.calcWeightedSum.vertex\\n\\nattribute vec2 node;\\n\\nvarying vec2 v_NodeUv;\\n\\nvoid main() {\\n\\n v_NodeUv = node;\\n gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\\n gl_PointSize = 1.0;\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.calcWeightedSum.fragment\\n\\nvarying vec2 v_NodeUv;\\n\\nuniform sampler2D positionTex;\\nuniform sampler2D forceTex;\\nuniform sampler2D forcePrevTex;\\n\\nvoid main() {\\n vec2 force = texture2D(forceTex, v_NodeUv).rg;\\n vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;\\n\\n float mass = texture2D(positionTex, v_NodeUv).z;\\n float swing = length(force - forcePrev) * mass;\\n float traction = length(force + forcePrev) * 0.5 * mass;\\n\\n gl_FragColor = vec4(swing, traction, 0.0, 0.0);\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.calcGlobalSpeed\\n\\nuniform sampler2D globalSpeedPrevTex;\\nuniform sampler2D weightedSumTex;\\nuniform float jitterTolerence;\\n\\nvoid main() {\\n vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;\\n float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;\\n float globalSpeed = jitterTolerence * jitterTolerence\\n * weightedSum.y / weightedSum.x;\\n if (prevGlobalSpeed > 0.0) {\\n globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;\\n }\\n gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.updatePosition\\n\\nuniform sampler2D forceTex;\\nuniform sampler2D forcePrevTex;\\nuniform sampler2D positionTex;\\nuniform sampler2D globalSpeedTex;\\n\\nvarying vec2 v_Texcoord;\\n\\nvoid main() {\\n vec2 force = texture2D(forceTex, v_Texcoord).xy;\\n vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;\\n vec4 node = texture2D(positionTex, v_Texcoord);\\n\\n float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;\\n float swing = length(force - forcePrev);\\n float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));\\n\\n float df = length(force);\\n if (df > 0.0) {\\n speed = min(df * speed, 10.0) / df;\\n\\n gl_FragColor = vec4(node.xy + speed * force, node.zw);\\n }\\n else {\\n gl_FragColor = node;\\n }\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.edges.vertex\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nattribute vec2 node;\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n\\nuniform sampler2D positionTex;\\n\\nvoid main()\\n{\\n gl_Position = worldViewProjection * vec4(\\n texture2D(positionTex, node).xy, -10.0, 1.0\\n );\\n v_Color = a_Color;\\n}\\n@end\\n\\n@export ecgl.forceAtlas2.edges.fragment\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\nvarying vec4 v_Color;\\nvoid main() {\\n gl_FragColor = color * v_Color;\\n}\\n@end\"},function(t,e,n){\"use strict\";function i(t){for(var e in c)this[e]=c[e];if(t)for(var e in t)this[e]=t[e];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new r.a({type:a.a.FLOAT,flipY:!1,minFilter:a.a.NEAREST,magFilter:a.a.NEAREST})}var r=n(5),a=n(4),o=n(272),x=(x=o.a.toString()).slice(x.indexOf(\"{\")+1,x.lastIndexOf(\"}\")),c={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};i.prototype.initData=function(t,e){var n=new Blob([x]),i=window.URL.createObjectURL(n);this._worker=new Worker(i),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=t,this._edges=e,this._frame=0;for(var r=t.length,a=e.length,o=new Float32Array(2*r),s=new Float32Array(r),l=new Float32Array(r),u=new Float32Array(2*a),h=new Float32Array(a),c=0;c<t.length;c++){var d=t[c];o[2*c]=d.x,o[2*c+1]=d.y,s[c]=null==d.mass?1:d.mass,l[c]=null==d.size?1:d.size}for(c=0;c<e.length;c++){var f=e[c],p=f.node1,g=f.node2;u[2*c]=p,u[2*c+1]=g,h[c]=null==f.weight?1:f.weight}var m=Math.ceil(Math.sqrt(t.length)),v=m,y=new Float32Array(m*v*4),_=this._positionTex;_.width=m,_.height=v,_.pixels=y,this._worker.postMessage({cmd:\"init\",nodesPosition:o,nodesMass:s,nodesSize:l,edges:u,edgesWeight:h}),this._globalSpeed=1/0},i.prototype.updateOption=function(t){var e={};for(var n in c)e[n]=c[n];var i=this._nodes,r=this._edges,a=i.length;if(e.jitterTolerence=5e4<a?10:5e3<a?1:.1,e.scaling=100<a?2:10,e.barnesHutOptimize=1e3<a,t)for(var n in c)null!=t[n]&&(e[n]=t[n]);if(!e.gravityCenter){for(var o=[1/0,1/0],s=[-1/0,-1/0],l=0;l<i.length;l++)o[0]=Math.min(i[l].x,o[0]),o[1]=Math.min(i[l].y,o[1]),s[0]=Math.max(i[l].x,s[0]),s[1]=Math.max(i[l].y,s[1]);e.gravityCenter=[.5*(o[0]+s[0]),.5*(o[1]+s[1])]}for(l=0;l<r.length;l++){var u=r[l].node1,h=r[l].node2;i[u].degree=(i[u].degree||0)+1,i[h].degree=(i[h].degree||0)+1}this._worker&&this._worker.postMessage({cmd:\"updateConfig\",config:e})},i.prototype.update=function(t,e,n){null==e&&(e=1),e=Math.max(e,1),this._frame+=e,this._onupdate=n,this._worker&&this._worker.postMessage({cmd:\"update\",steps:Math.round(e)})},i.prototype._$onupdate=function(t){var e;this._disposed||(e=new Float32Array(t.data.buffer),this._globalSpeed=t.data.globalSpeed,this._positionArr=e,this._updateTexture(e),this._onupdate&&this._onupdate())},i.prototype.getNodePositionTexture=function(){return this._positionTex},i.prototype.getNodeUV=function(t,e){e=e||[];var n=this._positionTex.width,i=this._positionTex.height;return e[0]=t%n/(n-1),e[1]=Math.floor(t/n)/(i-1),e},i.prototype.getNodes=function(){return this._nodes},i.prototype.getEdges=function(){return this._edges},i.prototype.isFinished=function(t){return this._frame>t},i.prototype.getNodePosition=function(t,e){if(e=e||new Float32Array(2*this._nodes.length),this._positionArr)for(var n=0;n<this._positionArr.length;n++)e[n]=this._positionArr[n];return e},i.prototype._updateTexture=function(t){for(var e=this._positionTex.pixels,n=0,i=0;i<t.length;)e[n++]=t[i++],e[n++]=t[i++],e[n++]=1,e[n++]=1;this._positionTex.dirty()},i.prototype.dispose=function(t){this._disposed=!0,this._worker=null},e.a=i},function(t,e,n){\"use strict\";e.a=function(){var f={create:function(){return new Float32Array(2)},dist:function(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)},len:function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},scaleAndAdd:function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t},scale:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},sub:function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},normalize:function(t,e){var n=e[0],i=e[1],r=n*n+i*i;return 0<r&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,n){return t[0]=e,t[1]=n,t}};function e(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var t=e.prototype;function s(){this.position=new Float32Array(2),this.force=f.create(),this.forcePrev=f.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function u(t,e){this.source=t,this.target=e,this.weight=1}function l(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new e,this.rootRegion.centerOfMass=f.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}t.beforeUpdate=function(){for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},t.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var t=0;t<this.nSubRegions;t++)this.subRegions[t].afterUpdate()},t.addNode=function(t){if(0===this.nSubRegions){if(null==this.node)return void(this.node=t);this._addNodeToSubRegion(this.node),this.node=null}this._addNodeToSubRegion(t),this._updateCenterOfMass(t)},t.findSubRegion=function(t,e){for(var n=0;n<this.nSubRegions;n++){var i=this.subRegions[n];if(i.contain(t,e))return i}},t.contain=function(t,e){return this.bbox[0]<=t&&this.bbox[2]>=t&&this.bbox[1]<=e&&this.bbox[3]>=e},t.setBBox=function(t,e,n,i){this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=i,this.size=(n-t+i-e)/2},t._newSubRegion=function(){var t=this.subRegions[this.nSubRegions];return t||(t=new e,this.subRegions[this.nSubRegions]=t),this.nSubRegions++,t},t._addNodeToSubRegion=function(t){var e,n,i,r,a,o,s=this.findSubRegion(t.position[0],t.position[1]),l=this.bbox;s||(e=(l[0]+l[2])/2,n=(l[1]+l[3])/2,i=(l[2]-l[0])/2,r=(l[3]-l[1])/2,a=t.position[0]>=e?1:0,o=t.position[1]>=n?1:0,(s=this._newSubRegion()).setBBox(a*i+l[0],o*r+l[1],(1+a)*i+l[0],(1+o)*r+l[1])),s.addNode(t)},t._updateCenterOfMass=function(t){null==this.centerOfMass&&(this.centerOfMass=new Float32Array(2));var e=this.centerOfMass[0]*this.mass,n=this.centerOfMass[1]*this.mass;e+=t.position[0]*t.mass,n+=t.position[1]*t.mass,this.mass+=t.mass,this.centerOfMass[0]=e/this.mass,this.centerOfMass[1]=n/this.mass};var a,o,h,n,i,r=l.prototype;r.initNodes=function(t,e,n){for(var i=e.length,r=void(this.nodes.length=0)!==n,a=0;a<i;a++){var o=new s;o.position[0]=t[2*a],o.position[1]=t[2*a+1],o.mass=e[a],r&&(o.size=n[a]),this.nodes.push(o)}this._massArr=e,this._swingingArr=new Float32Array(i),r&&(this._sizeArr=n)},r.initEdges=function(t,e){for(var n=t.length/2,i=this.edges.length=0;i<n;i++){var r=t[2*i],a=t[2*i+1],o=this.nodes[r],s=this.nodes[a];if(!o||!s)return void console.error(\"Node not exists, try initNodes before initEdges\");o.outDegree++,s.inDegree++;var l=new u(o,s);e&&(l.weight=e[i]),this.edges.push(l)}},r.updateSettings=function(){if(this.repulsionByDegree)for(var t=0;t<this.nodes.length;t++){(e=this.nodes[t]).mass=e.inDegree+e.outDegree+1}else for(var e,t=0;t<this.nodes.length;t++){(e=this.nodes[t]).mass=this._massArr[t]}},r.update=function(){var t=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var e=0;e<t;e++)this.rootRegion.addNode(this.nodes[e]);this.rootRegion.afterUpdate()}for(e=0;e<t;e++){var n=this.nodes[e];f.copy(n.forcePrev,n.force),f.set(n.force,0,0)}for(e=0;e<t;e++){var i=this.nodes[e];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,i);else for(var r=e+1;r<t;r++){var a=this.nodes[r];this.applyNodeToNodeRepulsion(i,a,!1)}0<this.gravity&&(this.strongGravityMode?this.applyNodeStrongGravity(i):this.applyNodeGravity(i))}for(e=0;e<this.edges.length;e++)this.applyEdgeAttraction(this.edges[e]);for(var o=0,s=0,l=f.create(),e=0;e<t;e++){n=this.nodes[e];o+=(h=f.dist(n.force,n.forcePrev))*n.mass,f.add(l,n.force,n.forcePrev),s+=.5*f.len(l)*n.mass,this._swingingArr[e]=h}var u=this.jitterTolerence*this.jitterTolerence*s/o;0<this._globalSpeed&&(u=Math.min(u/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=u;for(e=0;e<t;e++){var n=this.nodes[e],h=this._swingingArr[e],c=.1*u/(1+u*Math.sqrt(h)),d=f.len(n.force);0<d&&(c=Math.min(d*c,10)/d,f.scaleAndAdd(n.position,n.position,n.force,c))}},r.applyRegionToNodeRepulsion=(a=f.create(),function(t,e){if(t.node)this.applyNodeToNodeRepulsion(t.node,e,!0);else{f.sub(a,e.position,t.centerOfMass);var n=a[0]*a[0]+a[1]*a[1];if(n>this.barnesHutTheta*t.size*t.size){var i=this.scaling*e.mass*t.mass/n;f.scaleAndAdd(e.force,e.force,a,i)}else for(var r=0;r<t.nSubRegions;r++)this.applyRegionToNodeRepulsion(t.subRegions[r],e)}}),r.applyNodeToNodeRepulsion=(o=f.create(),function(t,e){if(t!=e){f.sub(o,t.position,e.position);var n,i=o[0]*o[0]+o[1]*o[1];if(0!=i){if(this.preventOverlap){var r=Math.sqrt(i);if(0<(r=r-t.size-e.size))n=this.scaling*t.mass*e.mass/(r*r);else{if(!(r<0))return;n=100*this.scaling*t.mass*e.mass}}else n=this.scaling*t.mass*e.mass/i;f.scaleAndAdd(t.force,t.force,o,n),f.scaleAndAdd(e.force,e.force,o,-n)}}}),r.applyEdgeAttraction=(h=f.create(),function(t){var e=t.source,n=t.target;f.sub(h,e.position,n.position);var i,r=f.len(h),a=0===this.edgeWeightInfluence?1:1===this.edgeWeightInfluence?t.weight:Math.pow(t.weight,this.edgeWeightInfluence);this.preventOverlap&&(r=r-e.size-n.size)<=0||(i=this.linLogMode?-a*Math.log(r+1)/(r+1):-a,f.scaleAndAdd(e.force,e.force,h,i),f.scaleAndAdd(n.force,n.force,h,-i))}),r.applyNodeGravity=(n=f.create(),function(t){f.sub(n,this.gravityCenter,t.position);var e=f.len(n);f.scaleAndAdd(t.force,t.force,n,this.gravity*t.mass/(e+1))}),r.applyNodeStrongGravity=(i=f.create(),function(t){f.sub(i,this.gravityCenter,t.position),f.scaleAndAdd(t.force,t.force,i,this.gravity*t.mass)}),r.updateBBox=function(){for(var t=1/0,e=1/0,n=-1/0,i=-1/0,r=0;r<this.nodes.length;r++)var a=this.nodes[r].position,t=Math.min(t,a[0]),e=Math.min(e,a[1]),n=Math.max(n,a[0]),i=Math.max(i,a[1]);this.bbox[0]=t,this.bbox[1]=e,this.bbox[2]=n,this.bbox[3]=i},r.getGlobalSpeed=function(){return this._globalSpeed};var c=null;self.onmessage=function(t){switch(t.data.cmd){case\"init\":(c=new l).initNodes(t.data.nodesPosition,t.data.nodesMass,t.data.nodesSize),c.initEdges(t.data.edges,t.data.edgesWeight);break;case\"updateConfig\":if(c)for(var e in t.data.config)c[e]=t.data.config[e];break;case\"update\":var n=t.data.steps;if(c){for(var i=0;i<n;i++)c.update();for(var r=c.nodes.length,a=new Float32Array(2*r),i=0;i<r;i++){var o=c.nodes[i];a[2*i]=o.position[0],a[2*i+1]=o.position[1]}self.postMessage({buffer:a.buffer,globalSpeed:c.getGlobalSpeed()},[a.buffer])}else{var s=new Float32Array;self.postMessage({buffer:s.buffer,globalSpeed:c.getGlobalSpeed()},[s.buffer])}}}}},function(t,e,n){\"use strict\";var i=n(7),r=(n(2),i.a.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var t=this.zr;t.on(\"mousedown\",this._mouseDownHandler),t.on(\"mousewheel\",this._mouseWheelHandler),t.on(\"globalout\",this._mouseUpHandler),t.animation.on(\"frame\",this._update)},setTarget:function(t){this._target=t},setZoom:function(t){this._zoom=Math.max(Math.min(t,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(t){this._dx=t[0],this._dy=t[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){var t,e;this._target&&this._needsUpdate&&(t=this._target,e=this._zoom,t.position.x=this._dx,t.position.y=this._dy,t.scale.set(e,e,e),this.zr.refresh(),this._needsUpdate=!1,this.trigger(\"update\"))},_mouseDownHandler:function(t){var e,n,i;t.target||(e=t.offsetX,n=t.offsetY,this.viewGL&&!this.viewGL.containPoint(e,n)||(this.zr.on(\"mousemove\",this._mouseMoveHandler),this.zr.on(\"mouseup\",this._mouseUpHandler),i=this._convertPos(e,n),this._x=i.x,this._y=i.y))},_convertPos:function(t,e){var n=this.viewGL.camera,i=this.viewGL.viewport;return{x:(t-i.x)/i.width*(n.right-n.left)+n.left,y:(e-i.y)/i.height*(n.bottom-n.top)+n.top}},_mouseMoveHandler:function(t){var e=this._convertPos(t.offsetX,t.offsetY);this._dx+=e.x-this._x,this._dy+=e.y-this._y,this._x=e.x,this._y=e.y,this._needsUpdate=!0},_mouseUpHandler:function(t){this.zr.off(\"mousemove\",this._mouseMoveHandler),this.zr.off(\"mouseup\",this._mouseUpHandler)},_mouseWheelHandler:function(t){var e,n,i,r,a,o,s,l=(t=t.event).wheelDelta||-t.detail;0!==l&&(e=t.offsetX,n=t.offsetY,this.viewGL&&!this.viewGL.containPoint(e,n)||(r=0<l?1.1:.9,r=(i=Math.max(Math.min(this._zoom*r,this.maxZoom),this.minZoom))/this._zoom,o=((a=this._convertPos(e,n)).x-this._dx)*(r-1),s=(a.y-this._dy)*(r-1),this._dx-=o,this._dy-=s,this._zoom=i,this._needsUpdate=!0))},dispose:function(){var t=this.zr;t.off(\"mousedown\",this._mouseDownHandler),t.off(\"mousemove\",this._mouseMoveHandler),t.off(\"mouseup\",this._mouseUpHandler),t.off(\"mousewheel\",this._mouseWheelHandler),t.off(\"globalout\",this._mouseUpHandler),t.animation.off(\"frame\",this._update)}}));e.a=r},function(t,e,n){\"use strict\";e.a=\"@export ecgl.lines2D.vertex\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nattribute vec2 position: POSITION;\\nattribute vec4 a_Color : COLOR;\\nvarying vec4 v_Color;\\n\\n#ifdef POSITIONTEXTURE_ENABLED\\nuniform sampler2D positionTexture;\\n#endif\\n\\nvoid main()\\n{\\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\\n\\n v_Color = a_Color;\\n}\\n\\n@end\\n\\n@export ecgl.lines2D.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nvarying vec4 v_Color;\\n\\nvoid main()\\n{\\n gl_FragColor = color * v_Color;\\n}\\n@end\\n\\n\\n@export ecgl.meshLines2D.vertex\\n\\nattribute vec2 position: POSITION;\\nattribute vec2 normal;\\nattribute float offset;\\nattribute vec4 a_Color : COLOR;\\n\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\nuniform vec4 viewport : VIEWPORT;\\n\\nvarying vec4 v_Color;\\nvarying float v_Miter;\\n\\nvoid main()\\n{\\n vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);\\n gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);\\n\\n p2.xy /= p2.w;\\n gl_Position.xy /= gl_Position.w;\\n\\n vec2 N = normalize(p2.xy - gl_Position.xy);\\n gl_Position.xy += N * offset / viewport.zw * 2.0;\\n\\n gl_Position.xy *= gl_Position.w;\\n\\n v_Color = a_Color;\\n}\\n@end\\n\\n\\n@export ecgl.meshLines2D.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\n\\nvarying vec4 v_Color;\\nvarying float v_Miter;\\n\\nvoid main()\\n{\\n gl_FragColor = color * v_Color;\\n}\\n\\n@end\"},function(t,e,n){\"use strict\";var i=n(0);n.n(i),n(276),n(280)},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),c=n(1),d=n(2),a=n(22),o=n(277);r.a.extendChartView({type:\"flowGL\",__ecgl__:!0,init:function(t,e){this.viewGL=new a.a(\"orthographic\"),this.groupGL=new c.a.Node,this.viewGL.add(this.groupGL),this._particleSurface=new o.a;var n=new c.a.Mesh({geometry:new c.a.PlaneGeometry,material:new c.a.Material({shader:new c.a.Shader({vertex:c.a.Shader.source(\"ecgl.color.vertex\"),fragment:c.a.Shader.source(\"ecgl.color.fragment\")}),transparent:!0})});n.material.enableTexture(\"diffuseMap\"),this.groupGL.add(n),this._planeMesh=n},render:function(t,e,n){var i=this._particleSurface;i.setParticleType(t.get(\"particleType\")),i.setSupersampling(t.get(\"supersampling\")),this._updateData(t,n),this._updateCamera(n.getWidth(),n.getHeight(),n.getDevicePixelRatio());var r=d.a.firstNotNull(t.get(\"particleDensity\"),128);i.setParticleDensity(r,r);var a=this._planeMesh,o=+new Date,s=this,l=!0;a.__percent=0,a.stopAnimation(),a.animate(\"\",{loop:!0}).when(1e5,{__percent:1}).during(function(){var t=+new Date,e=Math.min(t-o,20);o+=e,s._renderer&&(i.update(s._renderer,n,e/1e3,l),a.material.set(\"diffuseMap\",i.getSurfaceTexture())),l=!1}).start();var u=t.getModel(\"itemStyle\"),h=c.a.parseColor(u.get(\"color\"));h[3]*=d.a.firstNotNull(u.get(\"opacity\"),1),a.material.set(\"color\",h),i.setColorTextureImage(t.get(\"colorTexture\"),n),i.setParticleSize(t.get(\"particleSize\")),i.particleSpeedScaling=t.get(\"particleSpeed\"),i.motionBlurFactor=1-Math.pow(.1,t.get(\"particleTrail\"))},updateTransform:function(t,e,n){this._updateData(t,n)},afterRender:function(t,e,n,i){var r=i.renderer;this._renderer=r},_updateData:function(e,t){var n,o=e.coordinateSystem,i=o.dimensions.map(function(t){return e.coordDimToDataDim(t)[0]}),r=e.getData(),a=r.getDataExtent(i[0]),s=r.getDataExtent(i[1]),l=e.get(\"gridWidth\"),u=e.get(\"gridHeight\");null!=l&&\"auto\"!==l||(n=(a[1]-a[0])/(s[1]-s[0]),l=Math.round(Math.sqrt(n*r.count()))),null!=u&&\"auto\"!==u||(u=Math.ceil(r.count()/l));var h=this._particleSurface.vectorFieldTexture,c=h.pixels;if(c&&c.length===u*l*4)for(var d=0;d<c.length;d++)c[d]=0;else c=h.pixels=new Float32Array(l*u*4);var f=0,p=1/0,g=new Float32Array(2*r.count()),m=0,v=[[1/0,1/0],[-1/0,-1/0]];r.each([i[0],i[1],\"vx\",\"vy\"],function(t,e,n,i){var r=o.dataToPoint([t,e]);g[m++]=r[0],g[m++]=r[1],v[0][0]=Math.min(r[0],v[0][0]),v[0][1]=Math.min(r[1],v[0][1]),v[1][0]=Math.max(r[0],v[1][0]),v[1][1]=Math.max(r[1],v[1][1]);var a=Math.sqrt(n*n+i*i);f=Math.max(f,a),p=Math.min(p,a)}),r.each([\"vx\",\"vy\"],function(t,e,n){var i=Math.round((g[2*n]-v[0][0])/(v[1][0]-v[0][0])*(l-1)),r=4*((u-1-Math.round((g[2*n+1]-v[0][1])/(v[1][1]-v[0][1])*(u-1)))*l+i);c[r]=t/f*.5+.5,c[1+r]=e/f*.5+.5,c[3+r]=1}),h.width=l,h.height=u,\"bmap\"===e.get(\"coordinateSystem\")&&this._fillEmptyPixels(h),h.dirty(),this._updatePlanePosition(v[0],v[1],e,t),this._updateGradientTexture(r.getVisual(\"visualMeta\"),[p,f])},_fillEmptyPixels:function(t){var r=t.pixels,a=t.width,o=t.height;function e(t,e,n){t=Math.max(Math.min(t,a-1),0);var i=4*((e=Math.max(Math.min(e,o-1),0))*(a-1)+t);return 0!==r[3+i]&&(n[0]=r[i],n[1]=r[1+i],1)}function n(t,e,n){n[0]=t[0]+e[0],n[1]=t[1]+e[1]}for(var i=[],s=[],l=[],u=[],h=[],c=0,d=0;d<o;d++)for(var f=0;f<a;f++){var p=4*(d*(a-1)+f);0===r[3+p]&&(c=i[0]=i[1]=0,e(f-1,d,s)&&(c++,n(s,i,i)),e(f+1,d,l)&&(c++,n(l,i,i)),e(f,d-1,u)&&(c++,n(u,i,i)),e(f,d+1,h)&&(c++,n(h,i,i)),i[0]/=c,i[1]/=c,r[p]=i[0],r[1+p]=i[1]),r[3+p]=1}},_updateGradientTexture:function(t,n){var e,i,r,a;t&&t.length?(this._gradientTexture=this._gradientTexture||new c.a.Texture2D({image:document.createElement(\"canvas\")}),(i=(e=this._gradientTexture).image).width=200,i.height=1,r=i.getContext(\"2d\"),a=r.createLinearGradient(0,.5,i.width,.5),t[0].stops.forEach(function(t){var e=n[1]===n[0]?0:(e=t.value/n[1],Math.min(Math.max(e,0),1));a.addColorStop(e,t.color)}),r.fillStyle=a,r.fillRect(0,0,i.width,i.height),e.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)):this._particleSurface.setGradientTexture(null)},_updatePlanePosition:function(t,e,n,i){var r=this._limitInViewportAndFullFill(t,e,n,i);t=r.leftTop,e=r.rightBottom,this._particleSurface.setRegion(r.region),this._planeMesh.position.set((t[0]+e[0])/2,i.getHeight()-(t[1]+e[1])/2,0);var a=e[0]-t[0],o=e[1]-t[1];this._planeMesh.scale.set(a/2,o/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(o,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(t,e,n,i){var r,a=[Math.max(t[0],0),Math.max(t[1],0)],o=[Math.min(e[0],i.getWidth()),Math.min(e[1],i.getHeight())];\"bmap\"===n.get(\"coordinateSystem\")&&(r=n.getData().getDataExtent(n.coordDimToDataDim(\"lng\")[0]),359<=Math.floor(r[1]-r[0])&&(0<a[0]&&(a[0]=0),o[0]<i.getWidth()&&(o[0]=i.getWidth())));var s=e[0]-t[0],l=e[1]-t[1],u=o[0]-a[0],h=o[1]-a[1];return{leftTop:a,rightBottom:o,region:[(a[0]-t[0])/s,1-h/l-(a[1]-t[1])/l,u/s,h/l]}},_updateCamera:function(t,e,n){this.viewGL.setViewport(0,0,t,e,n);var i=this.viewGL.camera;i.left=i.bottom=0,i.top=e,i.right=t,i.near=0,i.far=100,i.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}})},function(t,e,n){\"use strict\";var r=n(16),a=n(15),o=n(40),s=n(19),l=n(8),u=n(5),h=n(4),c=n(37),d=n(43),f=n(10),p=n(278),i=n(279);l.a.import(i.a);function g(){this.motionBlurFactor=.99,this.vectorFieldTexture=new u.a({type:h.a.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType=\"point\",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()}g.prototype={constructor:g,init:function(){var t={type:h.a.FLOAT,minFilter:h.a.NEAREST,magFilter:h.a.NEAREST,useMipmap:!1};this._spawnTexture=new u.a(t),this._particleTexture0=new u.a(t),this._particleTexture1=new u.a(t),this._frameBuffer=new f.a({depthBuffer:!1}),this._particlePass=new r.a({fragment:l.a.source(\"ecgl.vfParticle.particle.fragment\")}),this._particlePass.setUniform(\"velocityTexture\",this.vectorFieldTexture),this._particlePass.setUniform(\"spawnTexture\",this._spawnTexture),this._downsamplePass=new r.a({fragment:l.a.source(\"clay.compositor.downsample\")});var e=new o.a({renderOrder:10,material:new s.a({shader:new l.a(l.a.source(\"ecgl.vfParticle.renderPoints.vertex\"),l.a.source(\"ecgl.vfParticle.renderPoints.fragment\"))}),mode:o.a.POINTS,geometry:new a.a({dynamic:!0,mainAttribute:\"texcoord0\"})}),n=new o.a({renderOrder:10,material:new s.a({shader:new l.a(l.a.source(\"ecgl.vfParticle.renderLines.vertex\"),l.a.source(\"ecgl.vfParticle.renderLines.fragment\"))}),geometry:new p.a,culling:!1}),i=new o.a({material:new s.a({shader:new l.a(l.a.source(\"ecgl.color.vertex\"),l.a.source(\"ecgl.color.fragment\"))}),geometry:new d.a});i.material.enableTexture(\"diffuseMap\"),this._particlePointsMesh=e,this._particleLinesMesh=n,this._lastFrameFullQuadMesh=i,this._camera=new c.a,this._thisFrameTexture=new u.a,this._lastFrameTexture=new u.a},setParticleDensity:function(t,e){for(var n=new Float32Array(4*(t*e)),i=0,r=this.particleLife,a=0;a<t;a++)for(var o=0;o<e;o++,i++){n[4*i]=Math.random(),n[4*i+1]=Math.random(),n[4*i+2]=Math.random();var s=(r[1]-r[0])*Math.random()+r[0];n[4*i+3]=s}\"line\"===this._particleType?this._setLineGeometry(t,e):this._setPointsGeometry(t,e),this._spawnTexture.width=t,this._spawnTexture.height=e,this._spawnTexture.pixels=n,this._particleTexture0.width=this._particleTexture1.width=t,this._particleTexture0.height=this._particleTexture1.height=e,this._particlePass.setUniform(\"textureSize\",[t,e])},_setPointsGeometry:function(t,e){var n=t*e,i=this._particlePointsMesh.geometry,r=i.attributes;r.texcoord0.init(n);for(var a=0,o=0;o<t;o++)for(var s=0;s<e;s++,a++)r.texcoord0.value[2*a]=o/t,r.texcoord0.value[2*a+1]=s/e;i.dirty()},_setLineGeometry:function(t,e){var n=t*e,i=this._getParticleMesh().geometry;i.setLineCount(n),i.resetOffset();for(var r=0;r<t;r++)for(var a=0;a<e;a++)i.addLine([r/t,a/e]);i.dirty()},_getParticleMesh:function(){return\"line\"===this._particleType?this._particleLinesMesh:this._particlePointsMesh},update:function(t,e,n,i){var r=this._getParticleMesh(),a=this._frameBuffer,o=this._particlePass;i&&this._updateDownsampleTextures(t,e),r.material.set(\"size\",this._particleSize*this._supersampling),r.material.set(\"color\",this.particleColor),o.setUniform(\"speedScaling\",this.particleSpeedScaling),a.attach(this._particleTexture1),o.setUniform(\"firstFrameTime\",i?(this.particleLife[1]+this.particleLife[0])/2:0),o.setUniform(\"particleTexture\",this._particleTexture0),o.setUniform(\"deltaTime\",n),o.setUniform(\"elapsedTime\",this._elapsedTime),o.render(t,a),r.material.set(\"particleTexture\",this._particleTexture1),r.material.set(\"prevParticleTexture\",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT);var s=this._lastFrameFullQuadMesh;s.material.set(\"diffuseMap\",this._lastFrameTexture),s.material.set(\"color\",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),t.renderPass([s,r],this._camera),a.unbind(t),this._downsample(t),this._swapTexture(),this._elapsedTime+=n},_downsample:function(t){var e=this._downsampleTextures;if(0!==e.length)for(var n=0,i=this._thisFrameTexture,r=e[n];r;)this._frameBuffer.attach(r),this._downsamplePass.setUniform(\"texture\",i),this._downsamplePass.setUniform(\"textureSize\",[i.width,i.height]),this._downsamplePass.render(t,this._frameBuffer),i=r,r=e[++n]},getSurfaceTexture:function(){var t=this._downsampleTextures;return 0<t.length?t[t.length-1]:this._lastFrameTexture},setRegion:function(t){this._particlePass.setUniform(\"region\",t)},resize:function(t,e){this._lastFrameTexture.width=t*this._supersampling,this._lastFrameTexture.height=e*this._supersampling,this._thisFrameTexture.width=t*this._supersampling,this._thisFrameTexture.height=e*this._supersampling,this._width=t,this._height=e},setParticleSize:function(t){var e=this._getParticleMesh();if(t<=2)return e.material.disableTexture(\"spriteTexture\"),void(e.material.transparent=!1);this._spriteTexture||(this._spriteTexture=new u.a),this._spriteTexture.image&&this._spriteTexture.image.width===t||(this._spriteTexture.image=function(t){var e=document.createElement(\"canvas\");e.width=e.height=t;var n=e.getContext(\"2d\");return n.fillStyle=\"#fff\",n.arc(t/2,t/2,t/2,0,2*Math.PI),n.fill(),e}(t),this._spriteTexture.dirty()),e.material.transparent=!0,e.material.enableTexture(\"spriteTexture\"),e.material.set(\"spriteTexture\",this._spriteTexture),this._particleSize=t},setGradientTexture:function(t){var e=this._getParticleMesh().material;e[t?\"enableTexture\":\"disableTexture\"](\"gradientTexture\"),e.setUniform(\"gradientTexture\",t)},setColorTextureImage:function(t,e){this._getParticleMesh().material.setTextureImage(\"colorTexture\",t,e,{flipY:!0})},setParticleType:function(t){this._particleType=t},clearFrame:function(t){var e=this._frameBuffer;e.attach(this._lastFrameTexture),e.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),e.unbind(t)},setSupersampling:function(t){this._supersampling=t,this.resize(this._width,this._height)},_updateDownsampleTextures:function(t,e){for(var n=this._downsampleTextures,i=Math.max(Math.floor(Math.log(this._supersampling/e.getDevicePixelRatio())/Math.log(2)),0),r=2,a=this._width*this._supersampling,o=this._height*this._supersampling,s=0;s<i;s++)n[s]=n[s]||new u.a,n[s].width=a/r,n[s].height=o/r,r*=2;for(;s<n.length;s++)n[s].dispose(t);n.length=i},_swapTexture:function(){var t=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=t;t=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=t},dispose:function(e){e.disposeFrameBuffer(this._frameBuffer),e.disposeTexture(this.vectorFieldTexture),e.disposeTexture(this._spawnTexture),e.disposeTexture(this._particleTexture0),e.disposeTexture(this._particleTexture1),e.disposeTexture(this._thisFrameTexture),e.disposeTexture(this._lastFrameTexture),e.disposeGeometry(this._particleLinesMesh.geometry),e.disposeGeometry(this._particlePointsMesh.geometry),e.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&e.disposeTexture(this._spriteTexture),this._particlePass.dispose(e),this._downsamplePass.dispose(e),this._downsampleTextures.forEach(function(t){t.dispose(e)})}},e.a=g},function(t,e,n){\"use strict\";var i=n(15),r=n(0),a=(n.n(r),i.a.extend(function(){return{dynamic:!0,attributes:{position:new i.a.Attribute(\"position\",\"float\",3,\"POSITION\")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(t){var e=this.attributes,n=4*t,i=2*t;this.vertexCount!==n&&e.position.init(n),this.triangleCount!==i&&(this.indices=0==i?null:new(65535<this.vertexCount?Uint32Array:Uint16Array)(3*i))},addLine:function(t){var e=this._vertexOffset;this.attributes.position.set(e,[t[0],t[1],1]),this.attributes.position.set(e+1,[t[0],t[1],-1]),this.attributes.position.set(e+2,[t[0],t[1],2]),this.attributes.position.set(e+3,[t[0],t[1],-2]),this.setTriangleIndices(this._faceOffset++,[e,e+1,e+2]),this.setTriangleIndices(this._faceOffset++,[e+1,e+2,e+3]),this._vertexOffset+=4}}));e.a=a},function(t,e,n){\"use strict\";e.a=\"@export ecgl.vfParticle.particle.fragment\\n\\nuniform sampler2D particleTexture;\\nuniform sampler2D spawnTexture;\\nuniform sampler2D velocityTexture;\\n\\nuniform float deltaTime;\\nuniform float elapsedTime;\\n\\nuniform float speedScaling : 1.0;\\n\\nuniform vec2 textureSize;\\nuniform vec4 region : [0, 0, 1, 1];\\nuniform float firstFrameTime;\\n\\nvarying vec2 v_Texcoord;\\n\\n\\nvoid main()\\n{\\n vec4 p = texture2D(particleTexture, v_Texcoord);\\n bool spawn = false;\\n if (p.w <= 0.0) {\\n p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));\\n p.w -= firstFrameTime;\\n spawn = true;\\n }\\n vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;\\n v = (v - 0.5) * 2.0;\\n p.z = length(v);\\n p.xy += v * deltaTime / 10.0 * speedScaling;\\n p.w -= deltaTime;\\n\\n if (spawn || p.xy != fract(p.xy)) {\\n p.z = 0.0;\\n }\\n p.xy = fract(p.xy);\\n\\n gl_FragColor = p;\\n}\\n@end\\n\\n@export ecgl.vfParticle.renderPoints.vertex\\n\\n#define PI 3.1415926\\n\\nattribute vec2 texcoord : TEXCOORD_0;\\n\\nuniform sampler2D particleTexture;\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nuniform float size : 1.0;\\n\\nvarying float v_Mag;\\nvarying vec2 v_Uv;\\n\\nvoid main()\\n{\\n vec4 p = texture2D(particleTexture, texcoord);\\n\\n if (p.w > 0.0 && p.z > 1e-5) {\\n gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);\\n }\\n else {\\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\\n }\\n\\n v_Mag = p.z;\\n v_Uv = p.xy;\\n\\n gl_PointSize = size;\\n}\\n\\n@end\\n\\n@export ecgl.vfParticle.renderPoints.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\nuniform sampler2D gradientTexture;\\nuniform sampler2D colorTexture;\\nuniform sampler2D spriteTexture;\\n\\nvarying float v_Mag;\\nvarying vec2 v_Uv;\\n\\nvoid main()\\n{\\n gl_FragColor = color;\\n#ifdef SPRITETEXTURE_ENABLED\\n gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);\\n if (color.a == 0.0) {\\n discard;\\n }\\n#endif\\n#ifdef GRADIENTTEXTURE_ENABLED\\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\\n#endif\\n#ifdef COLORTEXTURE_ENABLED\\n gl_FragColor *= texture2D(colorTexture, v_Uv);\\n#endif\\n}\\n\\n@end\\n\\n@export ecgl.vfParticle.renderLines.vertex\\n\\n#define PI 3.1415926\\n\\nattribute vec3 position : POSITION;\\n\\nuniform sampler2D particleTexture;\\nuniform sampler2D prevParticleTexture;\\n\\nuniform float size : 1.0;\\nuniform vec4 vp: VIEWPORT;\\nuniform mat4 worldViewProjection : WORLDVIEWPROJECTION;\\n\\nvarying float v_Mag;\\nvarying vec2 v_Uv;\\n\\n@import clay.util.rand\\n\\nvoid main()\\n{\\n vec4 p = texture2D(particleTexture, position.xy);\\n vec4 p2 = texture2D(prevParticleTexture, position.xy);\\n\\n p.xy = p.xy * 2.0 - 1.0;\\n p2.xy = p2.xy * 2.0 - 1.0;\\n\\n if (p.w > 0.0 && p.z > 1e-5) {\\n vec2 dir = normalize(p.xy - p2.xy);\\n vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;\\n if (abs(position.z) == 2.0) {\\n gl_Position = vec4(p.xy + norm, 0.0, 1.0);\\n v_Uv = p.xy;\\n v_Mag = p.z;\\n }\\n else {\\n gl_Position = vec4(p2.xy + norm, 0.0, 1.0);\\n v_Mag = p2.z;\\n v_Uv = p2.xy;\\n }\\n gl_Position = worldViewProjection * gl_Position;\\n }\\n else {\\n gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);\\n }\\n}\\n\\n@end\\n\\n@export ecgl.vfParticle.renderLines.fragment\\n\\nuniform vec4 color : [1.0, 1.0, 1.0, 1.0];\\nuniform sampler2D gradientTexture;\\nuniform sampler2D colorTexture;\\n\\nvarying float v_Mag;\\nvarying vec2 v_Uv;\\n\\nvoid main()\\n{\\n gl_FragColor = color;\\n #ifdef GRADIENTTEXTURE_ENABLED\\n gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));\\n#endif\\n#ifdef COLORTEXTURE_ENABLED\\n gl_FragColor *= texture2D(colorTexture, v_Uv);\\n#endif\\n}\\n\\n@end\\n\"},function(t,e,n){\"use strict\";var i=n(0),a=n.n(i);a.a.extendSeriesModel({type:\"series.flowGL\",dependencies:[\"geo\",\"grid\",\"bmap\"],visualColorAccessPath:\"itemStyle.color\",getInitialData:function(t,e){var n=a.a.getCoordinateSystemDimensions(this.get(\"coordinateSystem\"))||[\"x\",\"y\"];if(1,2<n.length)throw new Error(\"flowGL can only be used on 2d coordinate systems.\");n.push(\"vx\",\"vy\");var i=a.a.helper.completeDimensions(n,this.getSource(),{encodeDef:this.get(\"encode\"),dimsDef:this.get(\"dimensions\")}),r=new a.a.List(i,this);return r.initData(this.getSource()),r},defaultOption:{coordinateSystem:\"cartesian2d\",zlevel:10,supersampling:1,particleType:\"point\",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:\"auto\",gridHeight:\"auto\",itemStyle:{color:\"#fff\",opacity:.8}}})},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=(n(282),n(283),n(17));r.a.registerVisual(Object(a.a)(\"linesGL\"))},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),a=n(13),o=(n.n(a),r.a.extendSeriesModel({type:\"series.linesGL\",dependencies:[\"grid\",\"geo\"],visualColorAccessPath:\"lineStyle.color\",streamEnabled:!0,init:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),o.superApply(this,\"init\",arguments)},mergeOption:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),o.superApply(this,\"mergeOption\",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(a.concatArray)(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(a.concatArray)(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow(\"coords\");if(1,!(n instanceof Array&&0<n.length&&n[0]instanceof Array))throw new Error(\"Invalid coords \"+JSON.stringify(n)+\". Lines must have 2d coords array in data item.\");return n},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}for(var a=this._getCoordsFromItemModel(t),r=0;r<a.length;r++)e[r]=e[r]||[],e[r][0]=a[r][0],e[r][1]=a[r][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),\"number\"!=typeof t[0])return{flatCoordsOffset:null,flatCoords:null,count:t.length};for(var n=t.length,i=new Uint32Array(n),r=new Float64Array(n),a=0,o=0,s=0,l=0;l<n;){s++;var u=t[l++];i[o++]=a+e,i[o++]=u;for(var h=0;h<u;h++){var c=t[l++],d=t[l++];if(r[a++]=c,r[a++]=d,n<l)throw new Error(\"Invalid data format.\")}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:r,count:s}},getInitialData:function(t,e){var a=new r.a.List([\"value\"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(t,e,n,i){if(t instanceof Array)return NaN;a.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[i]:r:void 0}),a},defaultOption:{coordinateSystem:\"geo\",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:\"source-over\",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}}))},function(t,e,n){\"use strict\";var i=n(0),r=n.n(i),I=n(1),a=n(22),o=n(105),s=n(103),C=n(2);r.a.extendChartView({type:\"linesGL\",__ecgl__:!0,init:function(t,e){this.groupGL=new I.a.Node,this.viewGL=new a.a(\"orthographic\"),this.viewGL.add(this.groupGL),this._glViewHelper=new s.a(this.viewGL),this._nativeLinesShader=I.a.createShader(\"ecgl.lines3D\"),this._meshLinesShader=I.a.createShader(\"ecgl.meshLines3D\"),this._linesMeshes=[],this._currentStep=0},render:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n);var i=(i=this._linesMeshes[0])||(this._linesMeshes[0]=this._createLinesMesh(t));this._linesMeshes.length=1,this.groupGL.add(i),this._updateLinesMesh(t,i,0,t.getData().count()),this.viewGL.setPostEffect(t.getModel(\"postEffect\"),n)},incrementalPrepareRender:function(t,e,n){this.groupGL.removeAll(),this._glViewHelper.reset(t,n),this._currentStep=0,this.viewGL.setPostEffect(t.getModel(\"postEffect\"),n)},incrementalRender:function(t,e,n,i){var r=this._linesMeshes[this._currentStep];r||(r=this._createLinesMesh(e),this._linesMeshes[this._currentStep]=r),this._updateLinesMesh(e,r,t.start,t.end),this.groupGL.add(r),i.getZr().refresh(),this._currentStep++},updateTransform:function(t,e,n){t.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(t,n)},_createLinesMesh:function(t){return new I.a.Mesh({$ignorePicking:!0,material:new I.a.Material({shader:I.a.createShader(\"ecgl.lines3D\"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new o.a({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:I.a.Mesh.LINES,culling:!1})},_updateLinesMesh:function(t,e,n,i){var r=t.getData();e.material.blend=\"lighter\"===t.get(\"blendMode\")?I.a.additiveBlend:null;var a=t.get(\"lineStyle.curveness\")||0,o=t.get(\"polyline\"),s=e.geometry,l=t.coordinateSystem,u=C.a.firstNotNull(t.get(\"lineStyle.width\"),1);1<u?(e.material.shader!==this._meshLinesShader&&e.material.attachShader(this._meshLinesShader),e.mode=I.a.Mesh.TRIANGLES):(e.material.shader!==this._nativeLinesShader&&e.material.attachShader(this._nativeLinesShader),e.mode=I.a.Mesh.LINES),n=n||0,i=i||r.count(),s.resetOffset();var h=0,c=0,d=[],f=[],p=[],g=[],m=[],v=.3,y=.7;function _(){f[0]=d[0]*y+g[0]*v-(d[1]-g[1])*a,f[1]=d[1]*y+g[1]*v-(g[0]-d[0])*a,p[0]=d[0]*v+g[0]*y-(d[1]-g[1])*a,p[1]=d[1]*v+g[1]*y-(g[0]-d[0])*a}if(o||0!==a)for(var x=n;x<i;x++){o?(M=t.getLineCoordsCount(x),h+=s.getPolylineVertexCount(M),c+=s.getPolylineTriangleCount(M)):(t.getLineCoords(x,m),this._glViewHelper.dataToPoint(l,m[0],d),this._glViewHelper.dataToPoint(l,m[1],g),_(),h+=s.getCubicCurveVertexCount(d,f,p,g),c+=s.getCubicCurveTriangleCount(d,f,p,g))}else{var b=i-n;h+=b*s.getLineVertexCount(),c+=b*s.getLineVertexCount()}s.setVertexCount(h),s.setTriangleCount(c);for(var w=n,T=[],x=n;x<i;x++){I.a.parseColor(r.getItemVisual(w,\"color\"),T);var S=C.a.firstNotNull(r.getItemVisual(w,\"opacity\"),1);T[3]*=S;for(var M=t.getLineCoords(x,m),A=0;A<M;A++)this._glViewHelper.dataToPoint(l,m[A],m[A]);o?s.addPolyline(m,T,u,0,M):0!==a?(d=m[0],g=m[1],_(),s.addCubicCurve(d,f,p,g,T,u)):s.addPolyline(m,T,u,0,2),w++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}})}],i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=106);function i(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r,a},t.exports=i(n(86))}],r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=206).default;function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i});","cssContent":""}